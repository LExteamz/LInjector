/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.24.0(afaa4944045c8ccfac90521f349bce7684b89fba)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var te=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/nls!vs/editor/editor.main","vs/nls","vs/base/common/event","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/css!vs/editor/editor.main","vs/base/common/errors","vs/platform/theme/common/themeService","vs/editor/browser/editorExtensions","vs/editor/common/core/position","vs/base/common/async","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/editor/common/modes","vs/base/common/arrays","vs/base/common/types","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/base/common/uri","vs/base/common/cancellation","vs/editor/common/editorContextKeys","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/base/browser/fastDomNode","vs/editor/common/model/textModel","vs/platform/registry/common/platform","vs/platform/notification/common/notification","vs/platform/actions/common/actions","vs/platform/keybinding/common/keybinding","vs/base/browser/browser","vs/editor/common/services/modelService","vs/editor/common/config/editorOptions","vs/editor/common/controller/cursorCommon","vs/base/browser/ui/aria/aria","vs/base/common/keyCodes","vs/editor/common/modes/languageConfigurationRegistry","vs/base/common/objects","vs/platform/configuration/common/configuration","vs/base/common/network","vs/base/common/resources","vs/editor/browser/view/viewPart","vs/editor/common/view/editorColorRegistry","vs/base/common/actions","vs/editor/common/model","vs/base/common/map","vs/base/browser/ui/widget","vs/base/browser/mouseEvent","vs/base/browser/event","vs/base/browser/keyboardEvent","vs/base/common/iterator","vs/platform/progress/common/progress","vs/editor/common/services/modeService","vs/platform/opener/common/opener","vs/editor/common/standaloneStrings","vs/editor/common/core/editOperation","vs/base/browser/touch","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/viewModel/viewModel","vs/platform/accessibility/common/accessibility","vs/editor/common/services/resolverService","vs/platform/contextview/browser/contextView","vs/editor/browser/core/editorState","vs/platform/log/common/log","vs/base/common/filters","vs/editor/browser/config/configuration","vs/editor/common/modes/nullMode","vs/platform/instantiation/common/extensions","vs/base/common/path","vs/platform/theme/common/iconRegistry","vs/platform/storage/common/storage","vs/base/common/linkedList","vs/base/common/htmlContent","vs/platform/quickinput/common/quickInput","vs/editor/common/services/editorWorkerService","vs/platform/markers/common/markers","vs/base/common/stopwatch","vs/base/common/severity","vs/platform/telemetry/common/telemetry","vs/base/browser/ui/actionbar/actionbar","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/clipboard/common/clipboardService","vs/platform/configuration/common/configurationRegistry","vs/editor/browser/view/dynamicViewOverlay","vs/base/common/functional","vs/platform/quickinput/common/quickAccess","vs/editor/common/core/stringBuilder","vs/editor/common/core/characterClassifier","vs/platform/theme/common/theme","vs/base/common/hash","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/commands/replaceCommand","vs/base/browser/ui/list/listWidget","vs/platform/theme/common/styler","vs/base/common/numbers","vs/base/common/buffer","vs/platform/label/common/label","vs/base/common/decorators","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/core/lineTokens","vs/editor/contrib/gotoSymbol/referencesModel","vs/base/browser/ui/iconLabel/iconLabels","vs/editor/common/controller/wordCharacterClassifier","vs/editor/standalone/common/standaloneThemeService","vs/editor/common/modes/languageConfiguration","vs/editor/contrib/suggest/suggest","vs/editor/contrib/peekView/peekView","vs/base/browser/ui/sash/sash","vs/editor/common/view/renderingContext","vs/base/browser/ui/actionbar/actionViewItems","vs/base/common/iconLabels","vs/editor/common/viewModel/viewEventHandler","vs/base/browser/ui/tree/tree","vs/editor/common/model/tokensStore","vs/platform/layout/browser/layoutService","vs/editor/browser/core/markdownRenderer","vs/editor/common/modes/modesRegistry","vs/editor/contrib/codeAction/types","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/model/wordHelper","vs/editor/browser/services/bulkEditService","vs/editor/common/core/token","vs/editor/common/config/editorZoom","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/contrib/find/findModel","vs/editor/common/modes/languageFeatureRegistry","vs/base/browser/ui/mouseCursor/mouseCursor","vs/editor/browser/widget/codeEditorWidget","vs/editor/contrib/snippet/snippetParser","vs/platform/instantiation/common/serviceCollection","vs/base/browser/ui/codicons/codiconStyles","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/codeAction/codeAction","vs/editor/common/controller/cursorWordOperations","vs/editor/contrib/message/messageController","vs/base/common/uint","vs/base/common/scrollable","vs/editor/common/services/textResourceConfigurationService","vs/platform/list/browser/listService","vs/base/common/range","vs/base/common/idGenerator","vs/platform/undoRedo/common/undoRedo","vs/base/browser/dnd","vs/editor/common/modes/supports/richEditBrackets","vs/base/browser/canIUse","vs/editor/common/standalone/standaloneEnums","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/base/common/extpath","vs/editor/contrib/snippet/snippetController2","vs/editor/browser/controller/coreCommands","vs/editor/common/view/viewEvents","vs/editor/common/viewLayout/lineDecorations","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/editor/common/config/commonEditorConfig","vs/base/common/diff/diff","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/tree/indexTreeModel","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/base/browser/ui/tree/objectTreeModel","vs/editor/common/services/markersDecorationService","vs/editor/browser/controller/textAreaInput","vs/editor/common/viewModel/viewModelEventDispatcher","vs/base/common/labels","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/contrib/folding/foldingRanges","vs/base/browser/ui/list/listView","vs/editor/browser/view/viewLayer","vs/editor/standalone/browser/simpleServices","vs/platform/actions/browser/menuEntryActionViewItem","vs/base/common/lazy","vs/editor/common/commands/shiftCommand","vs/platform/dialogs/common/dialogs","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/platform/workspace/common/workspace","vs/editor/browser/controller/mouseTarget","vs/editor/browser/editorDom","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/editor/common/model/textModelSearch","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/checkbox/checkbox","vs/editor/common/config/fontInfo","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/editor/common/modes/supports","vs/editor/browser/viewParts/lines/viewLine","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/editor/contrib/documentSymbols/outlineModel","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/controller/cursor","vs/platform/contextkey/common/contextkeys","vs/editor/common/controller/cursorMoveCommands","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/platform/instantiation/common/descriptors","vs/platform/keybinding/common/keybindingResolver","vs/platform/files/common/files","vs/editor/common/model/editStack","vs/base/browser/ui/tree/objectTree","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/common/services/semanticTokensProviderStyling","vs/base/browser/ui/findinput/findInputCheckboxes","vs/editor/standalone/common/monarch/monarchCommon","vs/editor/contrib/suggest/resizable","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/comment/blockCommentCommand","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/prefixSumComputer","vs/editor/common/view/overviewZoneManager","vs/editor/common/standalone/standaloneBase","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/model/textChange","vs/editor/common/editorAction","vs/editor/common/core/rgba","vs/editor/browser/widget/diffNavigator","vs/editor/browser/controller/textAreaState","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/common/services/getSemanticTokens","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/view/viewUserInputEvents","vs/base/parts/quickinput/browser/quickInputUtils","vs/base/browser/ui/splitview/splitview","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/base/browser/ui/hover/hoverWidget","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/symbolIcons","vs/css!vs/base/browser/ui/list/list","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/parts/quickinput/common/quickInput","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/format/format","vs/editor/contrib/gotoSymbol/goToSymbol","vs/base/common/worker/simpleWorker","vs/editor/contrib/codeAction/codeActionCommands","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/contrib/wordOperations/wordOperations","vs/base/common/marshalling","vs/base/common/glob","vs/base/browser/ui/tree/treeIcons","vs/base/common/collections","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/find/findController","vs/editor/contrib/gotoError/gotoError","vs/base/common/assert","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/editor/contrib/hover/hover","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/browser/iframe","vs/editor/standalone/browser/standaloneServices","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverWidgets","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/editor/contrib/smartSelect/wordSelections","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/contrib/suggest/completionModel","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/css!vs/editor/browser/widget/media/diffEditor","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabel","vs/css!vs/editor/browser/widget/media/diffReview","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/css!vs/editor/browser/widget/media/editor","vs/base/browser/ui/tree/dataTree","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/css!vs/editor/contrib/dnd/dnd","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/core/keybindingCancellation","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/css!vs/editor/contrib/find/findWidget","vs/editor/common/viewModel/viewModelDecorations","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/model/editStack","vs/css!vs/editor/contrib/folding/folding","vs/nls!vs/editor/common/modes/modesRegistry","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetController2","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggest","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/platform/clipboard/browser/clipboardService","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/platform/instantiation/common/graph","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/browser/config/charWidthReader","vs/editor/common/model/textModelTokens","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/search","vs/editor/browser/services/abstractCodeEditorService","vs/base/parts/storage/common/storage","vs/editor/common/controller/cursorColumnSelection","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/base/worker/defaultWorkerFactory","vs/base/browser/ui/list/list","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/base/common/comparers","vs/css!vs/base/browser/ui/aria/aria","vs/base/browser/ui/list/splice","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/editor/common/viewModel/splitLinesCollection","vs/editor/common/viewModel/viewModelImpl","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/zoneWidget/zoneWidget","vs/base/common/process","vs/editor/standalone/browser/colorizer","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/nls!vs/editor/common/standaloneStrings","vs/css!vs/base/browser/ui/contextview/contextview","vs/editor/common/commands/surroundSelectionCommand","vs/editor/contrib/documentSymbols/documentSymbols","vs/editor/contrib/links/getLinks","vs/base/common/diff/diffChange","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/list/rowCache","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/editor/common/diff/diffComputer","vs/base/browser/ui/list/rangeMap","vs/base/common/fuzzyScorer","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/platform/keybinding/common/resolvedKeybindingItem","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/platform/contextview/browser/contextViewService","vs/editor/common/model/textModelEvents","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/common/navigator","vs/editor/common/services/webWorker","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/common/modes/abstractMode","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/editor/common/modes/languageSelector","vs/editor/browser/services/openerService","vs/editor/contrib/hover/modesGlyphHover","vs/editor/common/modes/linkComputer","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/services/getIconClasses","vs/editor/common/modes/supports/onEnter","vs/base/browser/ui/progressbar/progressbar","vs/editor/common/modes/supports/electricCharacter","vs/css!vs/base/browser/ui/sash/sash","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/editor/common/modes/supports/tokenization","vs/platform/accessibility/common/accessibilityService","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/browser/contextKeyService","vs/editor/common/modes/tokenizationRegistry","vs/platform/browser/contextScopedHistoryWidget","vs/editor/common/services/semanticTokensDto","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/markdownRenderer","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/editor.all","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/contrib/suggest/suggestController","vs/editor/browser/viewParts/lines/viewLines","vs/editor/common/viewLayout/linesLayout","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/base/browser/ui/list/listPaging","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/services/markerDecorationsServiceImpl","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/find/findDecorations","vs/css!vs/base/browser/ui/splitview/splitview","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/common/model/mirrorTextModel","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/common/services/editorSimpleWorker","vs/editor/standalone/browser/standaloneCodeServiceImpl","vs/editor/standalone/common/themes","vs/base/common/history","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view/viewImpl","vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/base/browser/ui/tree/media/tree","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/clipboard/clipboard","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/codelens/codelensController","vs/base/common/mime","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/dnd/dnd","vs/editor/contrib/fontZoom/fontZoom","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/contrib/format/formatActions","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/hover/getHover","vs/editor/contrib/hover/markdownHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/inlineHints/inlineHintsController","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/contrib/codeAction/codeActionUi","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/rename/rename","vs/editor/contrib/smartSelect/smartSelect","vs/base/common/uuid","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/css!vs/editor/browser/controller/textAreaHandler","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputServiceImpl","vs/platform/severityIcon/common/severityIcon","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/browser/widget/diffReview","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/editor/contrib/find/findWidget","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/folding","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/suggest/suggestWidget","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/hiddenRangeModel","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/contrib/colorPicker/colorContributions","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/folding/intializingRangeProvider","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/standalone/browser/standaloneCodeEditor","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/contrib/suggest/suggestModel","vs/base/common/insane/insane","vs/base/common/marked/marked","vs/editor/editor.main"],ie=function($){for(var e=[],v=0,I=$.length;v<I;v++)e[v]=te[$[v]];return e};"use strict";var It;(function($){var e=function(){function I(){this._pendingLoads=0}return I.prototype.attachListeners=function(k,w,S,p){var C=function(){w.removeEventListener("load",i),w.removeEventListener("error",_)},i=function(u){C(),S()},_=function(u){C(),p(u)};w.addEventListener("load",i),w.addEventListener("error",_)},I.prototype._onLoad=function(k,w){this._pendingLoads--,w()},I.prototype._onLoadError=function(k,w,S){this._pendingLoads--,w(S)},I.prototype._insertLinkNode=function(k){this._pendingLoads++;var w=document.head||document.getElementsByTagName("head")[0],S=w.getElementsByTagName("link")||w.getElementsByTagName("script");S.length>0?w.insertBefore(k,S[S.length-1]):w.appendChild(k)},I.prototype.createLinkTag=function(k,w,S,p){var C=this,i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("data-name",k);var _=function(){return C._onLoad(k,S)},u=function(a){return C._onLoadError(k,p,a)};return this.attachListeners(k,i,_,u),i.setAttribute("href",w),i},I.prototype._linkTagExists=function(k,w){var S,p,C,i,_=document.getElementsByTagName("link");for(S=0,p=_.length;S<p;S++)if(C=_[S].getAttribute("data-name"),i=_[S].getAttribute("href"),C===k||i===w)return!0;return!1},I.prototype.load=function(k,w,S,p){if(this._linkTagExists(k,w)){S();return}var C=this.createLinkTag(k,w,S,p);this._insertLinkNode(C)},I}(),v=function(){function I(){this._cssLoader=new e}return I.prototype.load=function(k,w,S,p){p=p||{};var C=p["vs/css"]||{};if(C.disabled){S({});return}var i=w.toUrl(k+".css");this._cssLoader.load(k,i,function(_){S({})},function(_){typeof S.error=="function"&&S.error("Could not find "+i+" or it was empty")})},I}();$.CSSPlugin=v,define("vs/css",new v)})(It||(It={}));"use strict";var ni=this&&this.__spreadArrays||function(){for(var $=0,e=0,v=arguments.length;e<v;e++)$+=arguments[e].length;for(var I=Array($),k=0,e=0;e<v;e++)for(var w=arguments[e],S=0,p=w.length;S<p;S++,k++)I[k]=w[S];return I},Nt;(function($){var e=function(){function p(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(p.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!0,configurable:!0}),p.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},p}();function v(p,C,i){var _;return C.length===0?_=p:_=p.replace(/\{(\d+)\}/g,function(u,a){var l=a[0],c=C[l],d=u;return typeof c=="string"?d=c:(typeof c=="number"||typeof c=="boolean"||c===void 0||c===null)&&(d=String(c)),d}),i.isPseudo&&(_="\uFF3B"+_.replace(/[aouei]/g,"$&$&")+"\uFF3D"),_}function I(p,C){var i=p[C];return i||(i=p["*"],i)?i:null}function k(p,C,i){for(var _=[],u=3;u<arguments.length;u++)_[u-3]=arguments[u];return v(i,_,p)}function w(p,C){return function(i,_){var u=Array.prototype.slice.call(arguments,2);return v(p[i],u,C)}}var S=function(){function p(C){var i=this;this._env=C,this.localize=function(_,u){for(var a=[],l=2;l<arguments.length;l++)a[l-2]=arguments[l];return k.apply(void 0,ni([i._env,_,u],a))}}return p.prototype.setPseudoTranslation=function(C){this._env._isPseudo=C},p.prototype.create=function(C,i){return{localize:w(i[C],this._env)}},p.prototype.load=function(C,i,_,u){var a=this;if(u=u||{},!C||C.length===0)_({localize:this.localize});else{var l=u["vs/nls"]||{},c=l.availableLanguages?I(l.availableLanguages,C):null,d=".nls";c!==null&&c!==p.DEFAULT_TAG&&(d=d+"."+c);var r=function(n){Array.isArray(n)?n.localize=w(n,a._env):n.localize=w(n[C],a._env),_(n)};typeof l.loadBundle=="function"?l.loadBundle(C,c,function(n,s){n?i([C+".nls"],r):r(s)}):i([C+d],r)}},p.DEFAULT_TAG="i-default",p}();$.NLSPlugin=S,define("vs/nls",new S(new e))})(Nt||(Nt={})),define(te[149],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"};class v{constructor(k){this.data=k}update(){}getData(){return this.data}}e.DragAndDropData=v,e.StaticDND={CurrentDragAndDropData:void 0}}),define(te[30],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class v{constructor(w){this.domNode=w,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(w){this._maxWidth!==w&&(this._maxWidth=w,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(w){this._width!==w&&(this._width=w,this.domNode.style.width=this._width+"px")}setHeight(w){this._height!==w&&(this._height=w,this.domNode.style.height=this._height+"px")}setTop(w){this._top!==w&&(this._top=w,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(w){this._left!==w&&(this._left=w,this.domNode.style.left=this._left+"px")}setBottom(w){this._bottom!==w&&(this._bottom=w,this.domNode.style.bottom=this._bottom+"px")}setRight(w){this._right!==w&&(this._right=w,this.domNode.style.right=this._right+"px")}setFontFamily(w){this._fontFamily!==w&&(this._fontFamily=w,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(w){this._fontWeight!==w&&(this._fontWeight=w,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(w){this._fontSize!==w&&(this._fontSize=w,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(w){this._fontFeatureSettings!==w&&(this._fontFeatureSettings=w,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(w){this._lineHeight!==w&&(this._lineHeight=w,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(w){this._letterSpacing!==w&&(this._letterSpacing=w,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(w){this._className!==w&&(this._className=w,this.domNode.className=this._className)}toggleClassName(w,S){this.domNode.classList.toggle(w,S),this._className=this.domNode.className}setDisplay(w){this._display!==w&&(this._display=w,this.domNode.style.display=this._display)}setPosition(w){this._position!==w&&(this._position=w,this.domNode.style.position=this._position)}setVisibility(w){this._visibility!==w&&(this._visibility=w,this.domNode.style.visibility=this._visibility)}setBackgroundColor(w){this._backgroundColor!==w&&(this._backgroundColor=w,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(w){this._layerHint!==w&&(this._layerHint=w,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(w){this._boxShadow!==w&&(this._boxShadow=w,this.domNode.style.boxShadow=w)}setContain(w){this._contain!==w&&(this._contain=w,this.domNode.style.contain=this._contain)}setAttribute(w,S){this.domNode.setAttribute(w,S)}removeAttribute(w){this.domNode.removeAttribute(w)}appendChild(w){this.domNode.appendChild(w.domNode)}removeChild(w){this.domNode.removeChild(w.domNode)}}e.FastDomNode=v;function I(k){return new v(k)}e.createFastDomNode=I}),define(te[272],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let v=!1,I=null;function k(S){if(!S.parent||S.parent===S)return null;try{let p=S.location,C=S.parent.location;if(p.origin!=="null"&&C.origin!=="null"&&(p.protocol!==C.protocol||p.hostname!==C.hostname||p.port!==C.port))return v=!0,null}catch(p){return v=!0,null}return S.parent}class w{static getSameOriginWindowChain(){if(!I){I=[];let p=window,C;do C=k(p),C?I.push({window:p,iframeElement:p.frameElement||null}):I.push({window:p,iframeElement:null}),p=C;while(p)}return I.slice(0)}static hasDifferentOriginAncestor(){return I||this.getSameOriginWindowChain(),v}static getPositionOfChildWindowRelativeToAncestorWindow(p,C){if(!C||p===C)return{top:0,left:0};let i=0,_=0,u=this.getSameOriginWindowChain();for(const a of u){if(i+=a.window.scrollY,_+=a.window.scrollX,a.window===C||!a.iframeElement)break;let l=a.iframeElement.getBoundingClientRect();i+=l.top,_+=l.left}return{top:i,left:_}}}e.IframeUtils=w}),define(te[450],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class v extends Error{constructor(k,w){super(`ListError [${k}] ${w}`)}}e.ListError=v}),define(te[455],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class v{constructor(k){this.spliceables=k}splice(k,w,S){this.spliceables.forEach(p=>p.splice(k,w,S))}}e.CombinedSpliceable=v}),define(te[271],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const v=20;class I{constructor(w,S,p,C,i,_){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(p),this._arrowSize=Math.round(w),this._visibleSize=C,this._scrollSize=i,this._scrollPosition=_,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new I(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(w){const S=Math.round(w);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(w){const S=Math.round(w);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(w){const S=Math.round(w);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(w){this._scrollbarSize=w}static _computeValues(w,S,p,C,i){const _=Math.max(0,p-w),u=Math.max(0,_-2*S),a=C>0&&C>p;if(!a)return{computedAvailableSize:Math.round(_),computedIsNeeded:a,computedSliderSize:Math.round(u),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(v,Math.floor(p*u/C))),c=(u-l)/(C-p),d=i*c;return{computedAvailableSize:Math.round(_),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:c,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const w=I._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=w.computedAvailableSize,this._computedIsNeeded=w.computedIsNeeded,this._computedSliderSize=w.computedSliderSize,this._computedSliderRatio=w.computedSliderRatio,this._computedSliderPosition=w.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(w){if(!this._computedIsNeeded)return 0;const S=w-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(w){if(!this._computedIsNeeded)return 0;const S=w-this._arrowSize;let p=this._scrollPosition;return S<this._computedSliderPosition?p-=this._visibleSize:p+=this._visibleSize,p}getDesiredScrollPositionFromDelta(w){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+w;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=I}),define(te[119],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var v;(function(w){w[w.Unknown=0]="Unknown",w[w.Twistie=1]="Twistie",w[w.Element=2]="Element"})(v=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class I extends Error{constructor(S,p){super(`TreeError [${S}] ${p}`)}}e.TreeError=I;class k{constructor(S){this.fn=S,this._map=new WeakMap}map(S){let p=this._map.get(S);return p||(p=this.fn(S),this._map.set(S,p)),p}}e.WeakMapper=k}),define(te[19],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asArray=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.distinctES6=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function v(h,f=0){return h[h.length-(1+f)]}e.tail=v;function I(h){if(h.length===0)throw new Error("Invalid tail call");return[h.slice(0,h.length-1),h[h.length-1]]}e.tail2=I;function k(h,f,m=(g,b)=>g===b){if(h===f)return!0;if(!h||!f||h.length!==f.length)return!1;for(let g=0,b=h.length;g<b;g++)if(!m(h[g],f[g]))return!1;return!0}e.equals=k;function w(h,f,m){let g=0,b=h.length-1;for(;g<=b;){const y=(g+b)/2|0,L=m(h[y],f);if(L<0)g=y+1;else if(L>0)b=y-1;else return y}return-(g+1)}e.binarySearch=w;function S(h,f){let m=0,g=h.length;if(g===0)return 0;for(;m<g;){const b=Math.floor((m+g)/2);f(h[b])?g=b:m=b+1}return m}e.findFirstInSorted=S;function p(h,f,m){if(h=h|0,h>=f.length)throw new TypeError("invalid index");let g=f[Math.floor(f.length*Math.random())],b=[],y=[],L=[];for(let N of f){const M=m(N,g);M<0?b.push(N):M>0?y.push(N):L.push(N)}return h<b.length?p(h,b,m):h<b.length+L.length?L[0]:p(h-(b.length+L.length),y,m)}e.quickSelect=p;function C(h,f){const m=[];let g;for(const b of h.slice(0).sort(f))!g||f(g[0],b)!==0?(g=[b],m.push(g)):g.push(b);return m}e.groupBy=C;function i(h){return h.filter(f=>!!f)}e.coalesce=i;function _(h){return!Array.isArray(h)||h.length===0}e.isFalsyOrEmpty=_;function u(h){return Array.isArray(h)&&h.length>0}e.isNonEmptyArray=u;function a(h,f){if(!f)return h.filter((g,b)=>h.indexOf(g)===b);const m=Object.create(null);return h.filter(g=>{const b=f(g);return m[b]?!1:(m[b]=!0,!0)})}e.distinct=a;function l(h){const f=new Set;return h.filter(m=>f.has(m)?!1:(f.add(m),!0))}e.distinctES6=l;function c(h,f){return h.length>0?h[0]:f}e.firstOrDefault=c;function d(h){return[].concat(...h)}e.flatten=d;function r(h,f){let m=typeof f=="number"?h:0;typeof f=="number"?m=h:(m=0,f=h);const g=[];if(m<=f)for(let b=m;b<f;b++)g.push(b);else for(let b=m;b>f;b--)g.push(b);return g}e.range=r;function n(h,f,m){const g=h.slice(0,f),b=h.slice(f);return g.concat(m,b)}e.arrayInsert=n;function s(h,f){const m=h.indexOf(f);m>-1&&(h.splice(m,1),h.unshift(f))}e.pushToStart=s;function t(h,f){const m=h.indexOf(f);m>-1&&(h.splice(m,1),h.push(f))}e.pushToEnd=t;function o(h){return Array.isArray(h)?h:[h]}e.asArray=o}),define(te[265],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function v(I,k){if(!I)throw new Error(k?`Assertion failed (${k})`:"Assertion Failed")}e.ok=v}),define(te[261],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const v=Object.prototype.hasOwnProperty;function I(w,S){for(let p in w)if(v.call(w,p)&&S({key:p,value:w[p]},function(){delete w[p]})===!1)return}e.forEach=I;class k{constructor(){this.map=new Map}add(S,p){let C=this.map.get(S);C||(C=new Set,this.map.set(S,C)),C.add(p)}delete(S,p){const C=this.map.get(S);!C||(C.delete(p),C.size===0&&this.map.delete(S))}forEach(S,p){const C=this.map.get(S);!C||C.forEach(p)}}e.SetMap=k}),define(te[29],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function v(p,C){const i=Math.pow(10,C);return Math.round(p*i)/i}class I{constructor(C,i,_,u=1){this.r=Math.min(255,Math.max(0,C))|0,this.g=Math.min(255,Math.max(0,i))|0,this.b=Math.min(255,Math.max(0,_))|0,this.a=v(Math.max(Math.min(1,u),0),3)}static equals(C,i){return C.r===i.r&&C.g===i.g&&C.b===i.b&&C.a===i.a}}e.RGBA=I;class k{constructor(C,i,_,u){this.h=Math.max(Math.min(360,C),0)|0,this.s=v(Math.max(Math.min(1,i),0),3),this.l=v(Math.max(Math.min(1,_),0),3),this.a=v(Math.max(Math.min(1,u),0),3)}static equals(C,i){return C.h===i.h&&C.s===i.s&&C.l===i.l&&C.a===i.a}static fromRGBA(C){const i=C.r/255,_=C.g/255,u=C.b/255,a=C.a,l=Math.max(i,_,u),c=Math.min(i,_,u);let d=0,r=0;const n=(c+l)/2,s=l-c;if(s>0){switch(r=Math.min(n<=.5?s/(2*n):s/(2-2*n),1),l){case i:d=(_-u)/s+(_<u?6:0);break;case _:d=(u-i)/s+2;break;case u:d=(i-_)/s+4;break}d*=60,d=Math.round(d)}return new k(d,r,n,a)}static _hue2rgb(C,i,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?C+(i-C)*6*_:_<1/2?i:_<2/3?C+(i-C)*(2/3-_)*6:C}static toRGBA(C){const i=C.h/360,{s:_,l:u,a}=C;let l,c,d;if(_===0)l=c=d=u;else{const r=u<.5?u*(1+_):u+_-u*_,n=2*u-r;l=k._hue2rgb(n,r,i+1/3),c=k._hue2rgb(n,r,i),d=k._hue2rgb(n,r,i-1/3)}return new I(Math.round(l*255),Math.round(c*255),Math.round(d*255),a)}}e.HSLA=k;class w{constructor(C,i,_,u){this.h=Math.max(Math.min(360,C),0)|0,this.s=v(Math.max(Math.min(1,i),0),3),this.v=v(Math.max(Math.min(1,_),0),3),this.a=v(Math.max(Math.min(1,u),0),3)}static equals(C,i){return C.h===i.h&&C.s===i.s&&C.v===i.v&&C.a===i.a}static fromRGBA(C){const i=C.r/255,_=C.g/255,u=C.b/255,a=Math.max(i,_,u),l=Math.min(i,_,u),c=a-l,d=a===0?0:c/a;let r;return c===0?r=0:a===i?r=((_-u)/c%6+6)%6:a===_?r=(u-i)/c+2:r=(i-_)/c+4,new w(Math.round(r*60),d,a,C.a)}static toRGBA(C){const{h:i,s:_,v:u,a}=C,l=u*_,c=l*(1-Math.abs(i/60%2-1)),d=u-l;let[r,n,s]=[0,0,0];return i<60?(r=l,n=c):i<120?(r=c,n=l):i<180?(n=l,s=c):i<240?(n=c,s=l):i<300?(r=c,s=l):i<=360&&(r=l,s=c),r=Math.round((r+d)*255),n=Math.round((n+d)*255),s=Math.round((s+d)*255),new I(r,n,s,a)}}e.HSVA=w;class S{constructor(C){if(C)if(C instanceof I)this.rgba=C;else if(C instanceof k)this._hsla=C,this.rgba=k.toRGBA(C);else if(C instanceof w)this._hsva=C,this.rgba=w.toRGBA(C);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(C){return S.Format.CSS.parseHex(C)||S.red}get hsla(){return this._hsla?this._hsla:k.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:w.fromRGBA(this.rgba)}equals(C){return!!C&&I.equals(this.rgba,C.rgba)&&k.equals(this.hsla,C.hsla)&&w.equals(this.hsva,C.hsva)}getRelativeLuminance(){const C=S._relativeLuminanceForComponent(this.rgba.r),i=S._relativeLuminanceForComponent(this.rgba.g),_=S._relativeLuminanceForComponent(this.rgba.b),u=.2126*C+.7152*i+.0722*_;return v(u,4)}static _relativeLuminanceForComponent(C){const i=C/255;return i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(C){const i=this.getRelativeLuminance(),_=C.getRelativeLuminance();return i>_}isDarkerThan(C){const i=this.getRelativeLuminance(),_=C.getRelativeLuminance();return i<_}lighten(C){return new S(new k(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*C,this.hsla.a))}darken(C){return new S(new k(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*C,this.hsla.a))}transparent(C){const{r:i,g:_,b:u,a}=this.rgba;return new S(new I(i,_,u,a*C))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new I(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+S.Format.CSS.format(this)}static getLighterColor(C,i,_){if(C.isLighterThan(i))return C;_=_||.5;const u=C.getRelativeLuminance(),a=i.getRelativeLuminance();return _=_*(a-u)/a,C.lighten(_)}static getDarkerColor(C,i,_){if(C.isDarkerThan(i))return C;_=_||.5;const u=C.getRelativeLuminance(),a=i.getRelativeLuminance();return _=_*(u-a)/u,C.darken(_)}}e.Color=S,S.white=new S(new I(255,255,255,1)),S.black=new S(new I(0,0,0,1)),S.red=new S(new I(255,0,0,1)),S.blue=new S(new I(0,0,255,1)),S.cyan=new S(new I(0,255,255,1)),S.lightgrey=new S(new I(211,211,211,1)),S.transparent=new S(new I(0,0,0,0)),function(p){let C;(function(i){let _;(function(u){function a(f){return f.rgba.a===1?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:p.Format.CSS.formatRGBA(f)}u.formatRGB=a;function l(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`}u.formatRGBA=l;function c(f){return f.hsla.a===1?`hsl(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%)`:p.Format.CSS.formatHSLA(f)}u.formatHSL=c;function d(f){return`hsla(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`}u.formatHSLA=d;function r(f){const m=f.toString(16);return m.length!==2?"0"+m:m}function n(f){return`#${r(f.rgba.r)}${r(f.rgba.g)}${r(f.rgba.b)}`}u.formatHex=n;function s(f,m=!1){return m&&f.rgba.a===1?p.Format.CSS.formatHex(f):`#${r(f.rgba.r)}${r(f.rgba.g)}${r(f.rgba.b)}${r(Math.round(f.rgba.a*255))}`}u.formatHexA=s;function t(f){return f.isOpaque()?p.Format.CSS.formatHex(f):p.Format.CSS.formatRGBA(f)}u.format=t;function o(f){const m=f.length;if(m===0||f.charCodeAt(0)!==35)return null;if(m===7){const g=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),b=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),y=16*h(f.charCodeAt(5))+h(f.charCodeAt(6));return new p(new I(g,b,y,1))}if(m===9){const g=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),b=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),y=16*h(f.charCodeAt(5))+h(f.charCodeAt(6)),L=16*h(f.charCodeAt(7))+h(f.charCodeAt(8));return new p(new I(g,b,y,L/255))}if(m===4){const g=h(f.charCodeAt(1)),b=h(f.charCodeAt(2)),y=h(f.charCodeAt(3));return new p(new I(16*g+g,16*b+b,16*y+y))}if(m===5){const g=h(f.charCodeAt(1)),b=h(f.charCodeAt(2)),y=h(f.charCodeAt(3)),L=h(f.charCodeAt(4));return new p(new I(16*g+g,16*b+b,16*y+y,(16*L+L)/255))}return null}u.parseHex=o;function h(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(_=i.CSS||(i.CSS={}))})(C=p.Format||(p.Format={}))}(S=e.Color||(e.Color={}))}),define(te[103],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=e.createMemoizer=void 0;let v=0;function I(){const w=`$memoize${v++}`;let S;const p=function(i,_,u){let a=null,l=null;if(typeof u.value=="function"?(a="value",l=u.value,l.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof u.get=="function"&&(a="get",l=u.get),!l)throw new Error("not supported");const c=`${w}:${_}`;u[a]=function(...d){return S=this,this.hasOwnProperty(c)||Object.defineProperty(this,c,{configurable:!0,enumerable:!1,writable:!0,value:l.apply(this,d)}),this[c]}};return p.clear=()=>{typeof S!="undefined"&&Object.getOwnPropertyNames(S).forEach(C=>{C.indexOf(w)===0&&delete S[C]})},p}e.createMemoizer=I;function k(w,S,p){return I()(w,S,p)}e.memoize=k}),define(te[474],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class v{constructor(k,w,S,p){this.originalStart=k,this.originalLength=w,this.modifiedStart=S,this.modifiedLength=p}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=v}),define(te[11],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.illegalState=e.illegalArgument=e.canceled=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class v{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(a){setTimeout(()=>{throw a.stack?new Error(a.message+`

`+a.stack):a},0)}}emit(a){this.listeners.forEach(l=>{l(a)})}onUnexpectedError(a){this.unexpectedErrorHandler(a),this.emit(a)}onUnexpectedExternalError(a){this.unexpectedErrorHandler(a)}}e.ErrorHandler=v,e.errorHandler=new v;function I(u){p(u)||e.errorHandler.onUnexpectedError(u)}e.onUnexpectedError=I;function k(u){p(u)||e.errorHandler.onUnexpectedExternalError(u)}e.onUnexpectedExternalError=k;function w(u){if(u instanceof Error){let{name:a,message:l}=u;const c=u.stacktrace||u.stack;return{$isError:!0,name:a,message:l,stack:c}}return u}e.transformErrorForSerialization=w;const S="Canceled";function p(u){return u instanceof Error&&u.name===S&&u.message===S}e.isPromiseCanceledError=p;function C(){const u=new Error(S);return u.name=u.message,u}e.canceled=C;function i(u){return u?new Error(`Illegal argument: ${u}`):new Error("Illegal argument")}e.illegalArgument=i;function _(u){return u?new Error(`Illegal state: ${u}`):new Error("Illegal state")}e.illegalState=_}),define(te[90],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function v(I){const k=this;let w=!1,S;return function(){return w||(w=!0,S=I.apply(k,arguments)),S}}e.once=v}),define(te[147],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class v{constructor(k){this._prefix=k,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=v,e.defaultGenerator=new v("id#")});let kt;(function(){function $(e,v,I){function k(p,C){if(!v[p]){if(!e[p]){var i=typeof require=="function"&&require;if(!C&&i)return i(p,!0);if(w)return w(p,!0);var _=new Error("Cannot find module '"+p+"'");throw _.code="MODULE_NOT_FOUND",_}var u=v[p]={exports:{}};e[p][0].call(u.exports,function(a){var l=e[p][1][a];return k(l||a)},u,u.exports,$,e,v,I)}return v[p].exports}for(var w=typeof require=="function"&&require,S=0;S<I.length;S++)k(I[S]);return k}return $})()({1:[function($,e,v){"use strict";var I=$("./toMap"),k=["background","base","cite","href","longdesc","src","usemap"];e.exports={uris:I(k)}},{"./toMap":10}],2:[function($,e,v){"use strict";var I={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};e.exports=I},{}],3:[function($,e,v){"use strict";var I=$("./toMap"),k=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];e.exports={voids:I(k)}},{"./toMap":10}],4:[function($,e,v){"use strict";var I=$("he"),k=$("assignment"),w=$("./parser"),S=$("./sanitizer"),p=$("./defaults");function C(i,_,u){var a=[],l=u===!0?_:k({},p,_),c=S(a,l);return w(i,c),a.join("")}C.defaults=p,e.exports=C,kt=C},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function($,e,v){"use strict";e.exports=function(k){return typeof k=="string"?k.toLowerCase():k}},{}],6:[function($,e,v){"use strict";function I(k){for(var w=Array.prototype.slice.call(arguments,1),S,p;w.length;){S=w.shift();for(p in S)S.hasOwnProperty(p)&&(Object.prototype.toString.call(k[p])==="[object Object]"?k[p]=I(k[p],S[p]):k[p]=S[p])}return k}e.exports=I},{}],7:[function($,e,v){"use strict";var I=$("he"),k=$("./lowercase"),w=$("./attributes"),S=$("./elements"),p=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,C=/^<\s*\/\s*([\w:-]+)[^>]*>/,i=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,_=/^</,u=/^<\s*\//;function a(){var c=[];return c.lastItem=function(){return c[c.length-1]},c}function l(c,d){for(var r=a(),n=c,s;c;)t();b();function t(){s=!0,o();var y=c===n;n=c,y&&(c="")}function o(){c.substr(0,4)==="<!--"?f():u.test(c)?h(C,b):_.test(c)&&h(p,g),m()}function h(y,L){var N=c.match(y);N&&(c=c.substring(N[0].length),N[0].replace(y,L),s=!1)}function f(){var y=c.indexOf("-->");y>=0&&(d.comment&&d.comment(c.substring(4,y)),c=c.substring(y+3),s=!1)}function m(){if(!!s){var y,L=c.indexOf("<");L>=0?(y=c.substring(0,L),c=c.substring(L)):(y=c,c=""),d.chars&&d.chars(y)}}function g(y,L,N,M){var D={},R=k(L),P=S.voids[R]||!!M;N.replace(i,O),P||r.push(R),d.start&&d.start(R,D,P);function O(W,F,E,A,B){E===void 0&&A===void 0&&B===void 0?D[F]=void 0:D[F]=I.decode(E||A||B||"")}}function b(y,L){var N,M=0,D=k(L);if(D)for(M=r.length-1;M>=0&&r[M]!==D;M--);if(M>=0){for(N=r.length-1;N>=M;N--)d.end&&d.end(r[N]);r.length=M}}}e.exports=l},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function($,e,v){"use strict";var I=$("he"),k=$("./lowercase"),w=$("./attributes"),S=$("./elements");function p(C,i){var _,u,a=i||{};return o(),{start:c,end:d,chars:n};function l(h){C.push(h)}function c(h,f,m){var g=k(h);if(u.ignoring){s(g);return}if((a.allowedTags||[]).indexOf(g)===-1){s(g);return}if(a.filter&&!a.filter({tag:g,attrs:f})){s(g);return}l("<"),l(g),Object.keys(f).forEach(b),l(m?"/>":">");function b(y){var L=f[y],N=(a.allowedClasses||{})[g]||[],M=(a.allowedAttributes||{})[g]||[];M=M.concat((a.allowedAttributes||{})["*"]||[]);var D,R=k(y);R==="class"&&M.indexOf(R)===-1?(L=L.split(" ").filter(P).join(" ").trim(),D=L.length):D=M.indexOf(R)!==-1&&(w.uris[R]!==!0||r(L)),D&&(l(" "),l(y),typeof L=="string"&&(l('="'),l(I.encode(L)),l('"')));function P(O){return N&&N.indexOf(O)!==-1}}}function d(h){var f=k(h),m=(a.allowedTags||[]).indexOf(f)!==-1;m&&u.ignoring===!1?(l("</"),l(f),l(">")):t(f)}function r(h){var f=h[0];if(f==="#"||f==="/")return!0;var m=h.indexOf(":");if(m===-1)return!0;var g=h.indexOf("?");if(g!==-1&&m>g)return!0;var b=h.indexOf("#");if(b!==-1&&m>b)return!0;return a.allowedSchemes.some(y);function y(L){return h.indexOf(L+":")===0}}function n(h){u.ignoring===!1&&l(a.transformText?a.transformText(h):h)}function s(h){S.voids[h]||(u.ignoring===!1?u={ignoring:h,depth:1}:u.ignoring===h&&u.depth++)}function t(h){u.ignoring===h&&--u.depth<=0&&o()}function o(){u={ignoring:!1,depth:0}}}e.exports=p},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function($,e,v){"use strict";var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},k={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},w=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,S=/[&<>"']/g;function p(u){return I[u]}function C(u){return k[u]}function i(u){return u==null?"":String(u).replace(S,p)}function _(u){return u==null?"":String(u).replace(w,C)}i.options=_.options={},e.exports={encode:i,escape:i,decode:_,unescape:_,version:"1.0.0-browser"}},{}],10:[function($,e,v){"use strict";function I(w){return w.reduce(k,{})}function k(w,S){return w[S]=!0,w}e.exports=I},{}]},{},[4]),define("vs/base/common/insane/insane",function(){return{insane:kt}}),define(te[56],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var v;(function(I){function k(h){return h&&typeof h=="object"&&typeof h[Symbol.iterator]=="function"}I.is=k;const w=Object.freeze([]);function S(){return w}I.empty=S;function*p(h){yield h}I.single=p;function C(h){return h||w}I.from=C;function i(h){return!h||h[Symbol.iterator]().next().done===!0}I.isEmpty=i;function _(h){return h[Symbol.iterator]().next().value}I.first=_;function u(h,f){for(const m of h)if(f(m))return!0;return!1}I.some=u;function a(h,f){for(const m of h)if(f(m))return m}I.find=a;function*l(h,f){for(const m of h)f(m)&&(yield m)}I.filter=l;function*c(h,f){for(const m of h)yield f(m)}I.map=c;function*d(...h){for(const f of h)for(const m of f)yield m}I.concat=d;function*r(h){for(const f of h)for(const m of f)yield m}I.concatNested=r;function n(h,f,m){let g=m;for(const b of h)g=f(g,b);return g}I.reduce=n;function*s(h,f,m=h.length){for(f<0&&(f+=h.length),m<0?m+=h.length:m>h.length&&(m=h.length);f<m;f++)yield h[f]}I.slice=s;function t(h,f=Number.POSITIVE_INFINITY){const m=[];if(f===0)return[m,h];const g=h[Symbol.iterator]();for(let b=0;b<f;b++){const y=g.next();if(y.done)return[m,I.empty()];m.push(y.value)}return[m,{[Symbol.iterator](){return g}}]}I.consume=t;function o(h,f,m=(g,b)=>g===b){const g=h[Symbol.iterator](),b=f[Symbol.iterator]();for(;;){const y=g.next(),L=b.next();if(y.done!==L.done)return!1;if(y.done)return!0;if(!m(y.value,L.value))return!1}}I.equals=o})(v=e.Iterable||(e.Iterable={}))}),define(te[41],ie([0,1,11]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=e.KeyChord=e.KeyCodeUtils=void 0;class I{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(r,n){this._keyCodeToStr[r]=n,this._strToKeyCode[n.toLowerCase()]=r}keyCodeToStr(r){return this._keyCodeToStr[r]}strToKeyCode(r){return this._strToKeyCode[r.toLowerCase()]||0}}const k=new I,w=new I,S=new I;(function(){function d(r,n,s=n,t=s){k.define(r,n),w.define(r,s),S.define(r,t)}d(0,"unknown"),d(1,"Backspace"),d(2,"Tab"),d(3,"Enter"),d(4,"Shift"),d(5,"Ctrl"),d(6,"Alt"),d(7,"PauseBreak"),d(8,"CapsLock"),d(9,"Escape"),d(10,"Space"),d(11,"PageUp"),d(12,"PageDown"),d(13,"End"),d(14,"Home"),d(15,"LeftArrow","Left"),d(16,"UpArrow","Up"),d(17,"RightArrow","Right"),d(18,"DownArrow","Down"),d(19,"Insert"),d(20,"Delete"),d(21,"0"),d(22,"1"),d(23,"2"),d(24,"3"),d(25,"4"),d(26,"5"),d(27,"6"),d(28,"7"),d(29,"8"),d(30,"9"),d(31,"A"),d(32,"B"),d(33,"C"),d(34,"D"),d(35,"E"),d(36,"F"),d(37,"G"),d(38,"H"),d(39,"I"),d(40,"J"),d(41,"K"),d(42,"L"),d(43,"M"),d(44,"N"),d(45,"O"),d(46,"P"),d(47,"Q"),d(48,"R"),d(49,"S"),d(50,"T"),d(51,"U"),d(52,"V"),d(53,"W"),d(54,"X"),d(55,"Y"),d(56,"Z"),d(57,"Meta"),d(58,"ContextMenu"),d(59,"F1"),d(60,"F2"),d(61,"F3"),d(62,"F4"),d(63,"F5"),d(64,"F6"),d(65,"F7"),d(66,"F8"),d(67,"F9"),d(68,"F10"),d(69,"F11"),d(70,"F12"),d(71,"F13"),d(72,"F14"),d(73,"F15"),d(74,"F16"),d(75,"F17"),d(76,"F18"),d(77,"F19"),d(78,"NumLock"),d(79,"ScrollLock"),d(80,";",";","OEM_1"),d(81,"=","=","OEM_PLUS"),d(82,",",",","OEM_COMMA"),d(83,"-","-","OEM_MINUS"),d(84,".",".","OEM_PERIOD"),d(85,"/","/","OEM_2"),d(86,"`","`","OEM_3"),d(110,"ABNT_C1"),d(111,"ABNT_C2"),d(87,"[","[","OEM_4"),d(88,"\\","\\","OEM_5"),d(89,"]","]","OEM_6"),d(90,"'","'","OEM_7"),d(91,"OEM_8"),d(92,"OEM_102"),d(93,"NumPad0"),d(94,"NumPad1"),d(95,"NumPad2"),d(96,"NumPad3"),d(97,"NumPad4"),d(98,"NumPad5"),d(99,"NumPad6"),d(100,"NumPad7"),d(101,"NumPad8"),d(102,"NumPad9"),d(103,"NumPad_Multiply"),d(104,"NumPad_Add"),d(105,"NumPad_Separator"),d(106,"NumPad_Subtract"),d(107,"NumPad_Decimal"),d(108,"NumPad_Divide")})();var p;(function(d){function r(h){return k.keyCodeToStr(h)}d.toString=r;function n(h){return k.strToKeyCode(h)}d.fromString=n;function s(h){return w.keyCodeToStr(h)}d.toUserSettingsUS=s;function t(h){return S.keyCodeToStr(h)}d.toUserSettingsGeneral=t;function o(h){return w.strToKeyCode(h)||S.strToKeyCode(h)}d.fromUserSettings=o})(p=e.KeyCodeUtils||(e.KeyCodeUtils={}));function C(d,r){const n=(r&65535)<<16>>>0;return(d|n)>>>0}e.KeyChord=C;function i(d,r){if(d===0)return null;const n=(d&65535)>>>0,s=(d&4294901760)>>>16;return s!==0?new a([_(n,r),_(s,r)]):new a([_(n,r)])}e.createKeybinding=i;function _(d,r){const n=!!(d&2048),s=!!(d&256),t=r===2?s:n,o=!!(d&1024),h=!!(d&512),f=r===2?n:s,m=d&255;return new u(t,o,h,f,m)}e.createSimpleKeybinding=_;class u{constructor(r,n,s,t,o){this.ctrlKey=r,this.shiftKey=n,this.altKey=s,this.metaKey=t,this.keyCode=o}equals(r){return this.ctrlKey===r.ctrlKey&&this.shiftKey===r.shiftKey&&this.altKey===r.altKey&&this.metaKey===r.metaKey&&this.keyCode===r.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new a([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=u;class a{constructor(r){if(r.length===0)throw(0,v.illegalArgument)("parts");this.parts=r}}e.ChordKeybinding=a;class l{constructor(r,n,s,t,o,h){this.ctrlKey=r,this.shiftKey=n,this.altKey=s,this.metaKey=t,this.keyLabel=o,this.keyAriaLabel=h}}e.ResolvedKeybindingPart=l;class c{}e.ResolvedKeybinding=c}),define(te[177],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class v{constructor(k){this.executor=k,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(k){this._error=k}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=v}),define(te[2],ie([0,1,56]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.trackDisposable=void 0;const I=!1;let k=null;if(I){const r="__is_disposable_tracked__";k=new class{trackDisposable(n){const s=new Error("Potentially leaked disposable").stack;setTimeout(()=>{n[r]||console.log(s)},3e3)}markTracked(n){if(n&&n!==l.None)try{n[r]=!0}catch(s){}}}}function w(r){!k||k.markTracked(r)}function S(r){return k&&k.trackDisposable(r),r}e.trackDisposable=S;class p extends Error{constructor(n){super(`Encountered errors while disposing of store. Errors: [${n.join(", ")}]`);this.errors=n}}e.MultiDisposeError=p;function C(r){return typeof r.dispose=="function"&&r.dispose.length===0}e.isDisposable=C;function i(r){if(v.Iterable.is(r)){let n=[];for(const s of r)if(s){w(s);try{s.dispose()}catch(t){n.push(t)}}if(n.length===1)throw n[0];if(n.length>1)throw new p(n);return Array.isArray(r)?[]:r}else if(r)return w(r),r.dispose(),r}e.dispose=i;function _(...r){return r.forEach(w),u(()=>i(r))}e.combinedDisposable=_;function u(r){const n=S({dispose:()=>{w(n),r()}});return n}e.toDisposable=u;class a{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(w(this),this._isDisposed=!0,this.clear())}clear(){try{i(this._toDispose.values())}finally{this._toDispose.clear()}}add(n){if(!n)return n;if(n===this)throw new Error("Cannot register a disposable on itself!");return w(n),this._isDisposed?a.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(n),n}}e.DisposableStore=a,a.DISABLE_DISPOSED_WARNING=!1;class l{constructor(){this._store=new a,S(this)}dispose(){w(this),this._store.dispose()}_register(n){if(n===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(n)}}e.Disposable=l,l.None=Object.freeze({dispose(){}});class c{constructor(){this._isDisposed=!1,S(this)}get value(){return this._isDisposed?void 0:this._value}set value(n){var s;this._isDisposed||n===this._value||((s=this._value)===null||s===void 0||s.dispose(),n&&w(n),this._value=n)}clear(){this.value=void 0}dispose(){var n;this._isDisposed=!0,w(this),(n=this._value)===null||n===void 0||n.dispose(),this._value=void 0}}e.MutableDisposable=c;class d{constructor(n){this.object=n}dispose(){}}e.ImmortalReference=d}),define(te[77],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class v{constructor(w){this.element=w,this.next=v.Undefined,this.prev=v.Undefined}}v.Undefined=new v(void 0);class I{constructor(){this._first=v.Undefined,this._last=v.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===v.Undefined}clear(){this._first=v.Undefined,this._last=v.Undefined,this._size=0}unshift(w){return this._insert(w,!1)}push(w){return this._insert(w,!0)}_insert(w,S){const p=new v(w);if(this._first===v.Undefined)this._first=p,this._last=p;else if(S){const i=this._last;this._last=p,p.prev=i,i.next=p}else{const i=this._first;this._first=p,p.next=i,i.prev=p}this._size+=1;let C=!1;return()=>{C||(C=!0,this._remove(p))}}shift(){if(this._first!==v.Undefined){const w=this._first.element;return this._remove(this._first),w}}pop(){if(this._last!==v.Undefined){const w=this._last.element;return this._remove(this._last),w}}_remove(w){if(w.prev!==v.Undefined&&w.next!==v.Undefined){const S=w.prev;S.next=w.next,w.next.prev=S}else w.prev===v.Undefined&&w.next===v.Undefined?(this._first=v.Undefined,this._last=v.Undefined):w.next===v.Undefined?(this._last=this._last.prev,this._last.next=v.Undefined):w.prev===v.Undefined&&(this._first=this._first.next,this._first.prev=v.Undefined);this._size-=1}*[Symbol.iterator](){let w=this._first;for(;w!==v.Undefined;)yield w.element,w=w.next}}e.LinkedList=I}),function($,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):($=typeof globalThis!="undefined"?globalThis:$||self,$.marked=e())}(this,function(){"use strict";function $(ve,Se){for(var ye=0;ye<Se.length;ye++){var fe=Se[ye];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(ve,fe.key,fe)}}function e(ve,Se,ye){return Se&&$(ve.prototype,Se),ye&&$(ve,ye),ve}function v(ve,Se){if(!!ve){if(typeof ve=="string")return I(ve,Se);var ye=Object.prototype.toString.call(ve).slice(8,-1);if(ye==="Object"&&ve.constructor&&(ye=ve.constructor.name),ye==="Map"||ye==="Set")return Array.from(ve);if(ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye))return I(ve,Se)}}function I(ve,Se){(Se==null||Se>ve.length)&&(Se=ve.length);for(var ye=0,fe=new Array(Se);ye<Se;ye++)fe[ye]=ve[ye];return fe}function k(ve,Se){var ye;if(typeof Symbol=="undefined"||ve[Symbol.iterator]==null){if(Array.isArray(ve)||(ye=v(ve))||Se&&ve&&typeof ve.length=="number"){ye&&(ve=ye);var fe=0;return function(){return fe>=ve.length?{done:!0}:{done:!1,value:ve[fe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return ye=ve[Symbol.iterator](),ye.next.bind(ye)}function w(ve){var Se={exports:{}};return ve(Se,Se.exports),Se.exports}var S=w(function(ve){function Se(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function ye(fe){ve.exports.defaults=fe}ve.exports={defaults:Se(),getDefaults:Se,changeDefaults:ye}}),p=/[&<>"']/,C=/[&<>"']/g,i=/[<>"']|&(?!#?\w+;)/,_=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=function(Se){return u[Se]};function l(ve,Se){if(Se){if(p.test(ve))return ve.replace(C,a)}else if(i.test(ve))return ve.replace(_,a);return ve}var c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function d(ve){return ve.replace(c,function(Se,ye){return ye=ye.toLowerCase(),ye==="colon"?":":ye.charAt(0)==="#"?ye.charAt(1)==="x"?String.fromCharCode(parseInt(ye.substring(2),16)):String.fromCharCode(+ye.substring(1)):""})}var r=/(^|[^\[])\^/g;function n(ve,Se){ve=ve.source||ve,Se=Se||"";var ye={replace:function(de,ge){return ge=ge.source||ge,ge=ge.replace(r,"$1"),ve=ve.replace(de,ge),ye},getRegex:function(){return new RegExp(ve,Se)}};return ye}var s=/[^\w:]/g,t=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function o(ve,Se,ye){if(ve){var fe;try{fe=decodeURIComponent(d(ye)).replace(s,"").toLowerCase()}catch(de){return null}if(fe.indexOf("javascript:")===0||fe.indexOf("vbscript:")===0||fe.indexOf("data:")===0)return null}Se&&!t.test(ye)&&(ye=b(Se,ye));try{ye=encodeURI(ye).replace(/%25/g,"%")}catch(de){return null}return ye}var h={},f=/^[^:]+:\/*[^/]*$/,m=/^([^:]+:)[\s\S]*$/,g=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(ve,Se){h[" "+ve]||(f.test(ve)?h[" "+ve]=ve+"/":h[" "+ve]=M(ve,"/",!0)),ve=h[" "+ve];var ye=ve.indexOf(":")===-1;return Se.substring(0,2)==="//"?ye?Se:ve.replace(m,"$1")+Se:Se.charAt(0)==="/"?ye?Se:ve.replace(g,"$1")+Se:ve+Se}var y={exec:function(){}};function L(ve){for(var Se=1,ye,fe;Se<arguments.length;Se++){ye=arguments[Se];for(fe in ye)Object.prototype.hasOwnProperty.call(ye,fe)&&(ve[fe]=ye[fe])}return ve}function N(ve,Se){var ye=ve.replace(/\|/g,function(ge,pe,be){for(var ke=!1,Ne=pe;--Ne>=0&&be[Ne]==="\\";)ke=!ke;return ke?"|":" |"}),fe=ye.split(/ \|/),de=0;if(fe.length>Se)fe.splice(Se);else for(;fe.length<Se;)fe.push("");for(;de<fe.length;de++)fe[de]=fe[de].trim().replace(/\\\|/g,"|");return fe}function M(ve,Se,ye){var fe=ve.length;if(fe===0)return"";for(var de=0;de<fe;){var ge=ve.charAt(fe-de-1);if(ge===Se&&!ye)de++;else if(ge!==Se&&ye)de++;else break}return ve.substr(0,fe-de)}function D(ve,Se){if(ve.indexOf(Se[1])===-1)return-1;for(var ye=ve.length,fe=0,de=0;de<ye;de++)if(ve[de]==="\\")de++;else if(ve[de]===Se[0])fe++;else if(ve[de]===Se[1]&&(fe--,fe<0))return de;return-1}function R(ve){ve&&ve.sanitize&&!ve.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function P(ve,Se){if(Se<1)return"";for(var ye="";Se>1;)Se&1&&(ye+=ve),Se>>=1,ve+=ve;return ye+ve}var O={escape:l,unescape:d,edit:n,cleanUrl:o,resolveUrl:b,noopTest:y,merge:L,splitCells:N,rtrim:M,findClosingBracket:D,checkSanitizeDeprecation:R,repeatString:P},W=S.defaults,F=O.rtrim,E=O.splitCells,A=O.escape,B=O.findClosingBracket;function z(ve,Se,ye){var fe=Se.href,de=Se.title?A(Se.title):null,ge=ve[1].replace(/\\([\[\]])/g,"$1");return ve[0].charAt(0)!=="!"?{type:"link",raw:ye,href:fe,title:de,text:ge}:{type:"image",raw:ye,href:fe,title:de,text:A(ge)}}function U(ve,Se){var ye=ve.match(/^(\s+)(?:```)/);if(ye===null)return Se;var fe=ye[1];return Se.split(`
`).map(function(de){var ge=de.match(/^\s+/);if(ge===null)return de;var pe=ge[0];return pe.length>=fe.length?de.slice(fe.length):de}).join(`
`)}var K=function(){function ve(ye){this.options=ye||W}var Se=ve.prototype;return Se.space=function(fe){var de=this.rules.block.newline.exec(fe);if(de)return de[0].length>1?{type:"space",raw:de[0]}:{raw:`
`}},Se.code=function(fe){var de=this.rules.block.code.exec(fe);if(de){var ge=de[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:de[0],codeBlockStyle:"indented",text:this.options.pedantic?ge:F(ge,`
`)}}},Se.fences=function(fe){var de=this.rules.block.fences.exec(fe);if(de){var ge=de[0],pe=U(ge,de[3]||"");return{type:"code",raw:ge,lang:de[2]?de[2].trim():de[2],text:pe}}},Se.heading=function(fe){var de=this.rules.block.heading.exec(fe);if(de){var ge=de[2].trim();if(/#$/.test(ge)){var pe=F(ge,"#");(this.options.pedantic||!pe||/ $/.test(pe))&&(ge=pe.trim())}return{type:"heading",raw:de[0],depth:de[1].length,text:ge}}},Se.nptable=function(fe){var de=this.rules.block.nptable.exec(fe);if(de){var ge={type:"table",header:E(de[1].replace(/^ *| *\| *$/g,"")),align:de[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:de[3]?de[3].replace(/\n$/,"").split(`
`):[],raw:de[0]};if(ge.header.length===ge.align.length){var pe=ge.align.length,be;for(be=0;be<pe;be++)/^ *-+: *$/.test(ge.align[be])?ge.align[be]="right":/^ *:-+: *$/.test(ge.align[be])?ge.align[be]="center":/^ *:-+ *$/.test(ge.align[be])?ge.align[be]="left":ge.align[be]=null;for(pe=ge.cells.length,be=0;be<pe;be++)ge.cells[be]=E(ge.cells[be],ge.header.length);return ge}}},Se.hr=function(fe){var de=this.rules.block.hr.exec(fe);if(de)return{type:"hr",raw:de[0]}},Se.blockquote=function(fe){var de=this.rules.block.blockquote.exec(fe);if(de){var ge=de[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:de[0],text:ge}}},Se.list=function(fe){var de=this.rules.block.list.exec(fe);if(de){var ge=de[0],pe=de[2],be=pe.length>1,ke={type:"list",raw:ge,ordered:be,start:be?+pe.slice(0,-1):"",loose:!1,items:[]},Ne=de[0].match(this.rules.block.item),Re=!1,Oe,Fe,Pe,xe,We,ze,Ke,Be,He=Ne.length;Pe=this.rules.block.listItemStart.exec(Ne[0]);for(var Ve=0;Ve<He;Ve++){if(Oe=Ne[Ve],ge=Oe,Ve!==He-1){if(xe=this.rules.block.listItemStart.exec(Ne[Ve+1]),this.options.pedantic?xe[1].length>Pe[1].length:xe[1].length>Pe[0].length||xe[1].length>3){Ne.splice(Ve,2,Ne[Ve]+`
`+Ne[Ve+1]),Ve--,He--;continue}else(!this.options.pedantic||this.options.smartLists?xe[2][xe[2].length-1]!==pe[pe.length-1]:be===(xe[2].length===1))&&(We=Ne.slice(Ve+1).join(`
`),ke.raw=ke.raw.substring(0,ke.raw.length-We.length),Ve=He-1);Pe=xe}Fe=Oe.length,Oe=Oe.replace(/^ *([*+-]|\d+[.)]) ?/,""),~Oe.indexOf(`
 `)&&(Fe-=Oe.length,Oe=this.options.pedantic?Oe.replace(/^ {1,4}/gm,""):Oe.replace(new RegExp("^ {1,"+Fe+"}","gm"),"")),ze=Re||/\n\n(?!\s*$)/.test(Oe),Ve!==He-1&&(Re=Oe.charAt(Oe.length-1)===`
`,ze||(ze=Re)),ze&&(ke.loose=!0),this.options.gfm&&(Ke=/^\[[ xX]\] /.test(Oe),Be=void 0,Ke&&(Be=Oe[1]!==" ",Oe=Oe.replace(/^\[[ xX]\] +/,""))),ke.items.push({type:"list_item",raw:ge,task:Ke,checked:Be,loose:ze,text:Oe})}return ke}},Se.html=function(fe){var de=this.rules.block.html.exec(fe);if(de)return{type:this.options.sanitize?"paragraph":"html",raw:de[0],pre:!this.options.sanitizer&&(de[1]==="pre"||de[1]==="script"||de[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(de[0]):A(de[0]):de[0]}},Se.def=function(fe){var de=this.rules.block.def.exec(fe);if(de){de[3]&&(de[3]=de[3].substring(1,de[3].length-1));var ge=de[1].toLowerCase().replace(/\s+/g," ");return{tag:ge,raw:de[0],href:de[2],title:de[3]}}},Se.table=function(fe){var de=this.rules.block.table.exec(fe);if(de){var ge={type:"table",header:E(de[1].replace(/^ *| *\| *$/g,"")),align:de[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:de[3]?de[3].replace(/\n$/,"").split(`
`):[]};if(ge.header.length===ge.align.length){ge.raw=de[0];var pe=ge.align.length,be;for(be=0;be<pe;be++)/^ *-+: *$/.test(ge.align[be])?ge.align[be]="right":/^ *:-+: *$/.test(ge.align[be])?ge.align[be]="center":/^ *:-+ *$/.test(ge.align[be])?ge.align[be]="left":ge.align[be]=null;for(pe=ge.cells.length,be=0;be<pe;be++)ge.cells[be]=E(ge.cells[be].replace(/^ *\| *| *\| *$/g,""),ge.header.length);return ge}}},Se.lheading=function(fe){var de=this.rules.block.lheading.exec(fe);if(de)return{type:"heading",raw:de[0],depth:de[2].charAt(0)==="="?1:2,text:de[1]}},Se.paragraph=function(fe){var de=this.rules.block.paragraph.exec(fe);if(de)return{type:"paragraph",raw:de[0],text:de[1].charAt(de[1].length-1)===`
`?de[1].slice(0,-1):de[1]}},Se.text=function(fe){var de=this.rules.block.text.exec(fe);if(de)return{type:"text",raw:de[0],text:de[0]}},Se.escape=function(fe){var de=this.rules.inline.escape.exec(fe);if(de)return{type:"escape",raw:de[0],text:A(de[1])}},Se.tag=function(fe,de,ge){var pe=this.rules.inline.tag.exec(fe);if(pe)return!de&&/^<a /i.test(pe[0])?de=!0:de&&/^<\/a>/i.test(pe[0])&&(de=!1),!ge&&/^<(pre|code|kbd|script)(\s|>)/i.test(pe[0])?ge=!0:ge&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(pe[0])&&(ge=!1),{type:this.options.sanitize?"text":"html",raw:pe[0],inLink:de,inRawBlock:ge,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(pe[0]):A(pe[0]):pe[0]}},Se.link=function(fe){var de=this.rules.inline.link.exec(fe);if(de){var ge=de[2].trim();if(!this.options.pedantic&&/^</.test(ge)){if(!/>$/.test(ge))return;var pe=F(ge.slice(0,-1),"\\");if((ge.length-pe.length)%2==0)return}else{var be=B(de[2],"()");if(be>-1){var ke=de[0].indexOf("!")===0?5:4,Ne=ke+de[1].length+be;de[2]=de[2].substring(0,be),de[0]=de[0].substring(0,Ne).trim(),de[3]=""}}var Re=de[2],Oe="";if(this.options.pedantic){var Fe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Re);Fe&&(Re=Fe[1],Oe=Fe[3])}else Oe=de[3]?de[3].slice(1,-1):"";return Re=Re.trim(),/^</.test(Re)&&(this.options.pedantic&&!/>$/.test(ge)?Re=Re.slice(1):Re=Re.slice(1,-1)),z(de,{href:Re&&Re.replace(this.rules.inline._escapes,"$1"),title:Oe&&Oe.replace(this.rules.inline._escapes,"$1")},de[0])}},Se.reflink=function(fe,de){var ge;if((ge=this.rules.inline.reflink.exec(fe))||(ge=this.rules.inline.nolink.exec(fe))){var pe=(ge[2]||ge[1]).replace(/\s+/g," ");if(pe=de[pe.toLowerCase()],!pe||!pe.href){var be=ge[0].charAt(0);return{type:"text",raw:be,text:be}}return z(ge,pe,ge[0])}},Se.emStrong=function(fe,de,ge){ge===void 0&&(ge="");var pe=this.rules.inline.emStrong.lDelim.exec(fe);if(!!pe&&!(pe[3]&&ge.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var be=pe[1]||pe[2]||"";if(!be||be&&(ge===""||this.rules.inline.punctuation.exec(ge))){var ke=pe[0].length-1,Ne,Re,Oe=ke,Fe=0,Pe=pe[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Pe.lastIndex=0,de=de.slice(-1*fe.length+ke);(pe=Pe.exec(de))!=null;)if(Ne=pe[1]||pe[2]||pe[3]||pe[4]||pe[5]||pe[6],!!Ne){if(Re=Ne.length,pe[3]||pe[4]){Oe+=Re;continue}else if((pe[5]||pe[6])&&ke%3&&!((ke+Re)%3)){Fe+=Re;continue}if(Oe-=Re,!(Oe>0)){if(Oe+Fe-Re<=0&&!de.slice(Pe.lastIndex).match(Pe)&&(Re=Math.min(Re,Re+Oe+Fe)),Math.min(ke,Re)%2)return{type:"em",raw:fe.slice(0,ke+pe.index+Re+1),text:fe.slice(1,ke+pe.index+Re)};if(Math.min(ke,Re)%2==0)return{type:"strong",raw:fe.slice(0,ke+pe.index+Re+1),text:fe.slice(2,ke+pe.index+Re-1)}}}}}},Se.codespan=function(fe){var de=this.rules.inline.code.exec(fe);if(de){var ge=de[2].replace(/\n/g," "),pe=/[^ ]/.test(ge),be=/^ /.test(ge)&&/ $/.test(ge);return pe&&be&&(ge=ge.substring(1,ge.length-1)),ge=A(ge,!0),{type:"codespan",raw:de[0],text:ge}}},Se.br=function(fe){var de=this.rules.inline.br.exec(fe);if(de)return{type:"br",raw:de[0]}},Se.del=function(fe){var de=this.rules.inline.del.exec(fe);if(de)return{type:"del",raw:de[0],text:de[2]}},Se.autolink=function(fe,de){var ge=this.rules.inline.autolink.exec(fe);if(ge){var pe,be;return ge[2]==="@"?(pe=A(this.options.mangle?de(ge[1]):ge[1]),be="mailto:"+pe):(pe=A(ge[1]),be=pe),{type:"link",raw:ge[0],text:pe,href:be,tokens:[{type:"text",raw:pe,text:pe}]}}},Se.url=function(fe,de){var ge;if(ge=this.rules.inline.url.exec(fe)){var pe,be;if(ge[2]==="@")pe=A(this.options.mangle?de(ge[0]):ge[0]),be="mailto:"+pe;else{var ke;do ke=ge[0],ge[0]=this.rules.inline._backpedal.exec(ge[0])[0];while(ke!==ge[0]);pe=A(ge[0]),ge[1]==="www."?be="http://"+pe:be=pe}return{type:"link",raw:ge[0],text:pe,href:be,tokens:[{type:"text",raw:pe,text:pe}]}}},Se.inlineText=function(fe,de,ge){var pe=this.rules.inline.text.exec(fe);if(pe){var be;return de?be=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(pe[0]):A(pe[0]):pe[0]:be=A(this.options.smartypants?ge(pe[0]):pe[0]),{type:"text",raw:pe[0],text:be}}},ve}(),G=O.noopTest,J=O.edit,Q=O.merge,ae={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:G,table:G,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};ae._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,ae._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ae.def=J(ae.def).replace("label",ae._label).replace("title",ae._title).getRegex(),ae.bullet=/(?:[*+-]|\d{1,9}[.)])/,ae.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,ae.item=J(ae.item,"gm").replace(/bull/g,ae.bullet).getRegex(),ae.listItemStart=J(/^( *)(bull)/).replace("bull",ae.bullet).getRegex(),ae.list=J(ae.list).replace(/bull/g,ae.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ae.def.source+")").getRegex(),ae._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ae._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ae.html=J(ae.html,"i").replace("comment",ae._comment).replace("tag",ae._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ae.paragraph=J(ae._paragraph).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ae._tag).getRegex(),ae.blockquote=J(ae.blockquote).replace("paragraph",ae.paragraph).getRegex(),ae.normal=Q({},ae),ae.gfm=Q({},ae.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ae.gfm.nptable=J(ae.gfm.nptable).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ae._tag).getRegex(),ae.gfm.table=J(ae.gfm.table).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ae._tag).getRegex(),ae.pedantic=Q({},ae.normal,{html:J(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ae._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:G,paragraph:J(ae.normal._paragraph).replace("hr",ae.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ae.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var se={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:G,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:G,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};se._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",se.punctuation=J(se.punctuation).replace(/punctuation/g,se._punctuation).getRegex(),se.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,se.escapedEmSt=/\\\*|\\_/g,se._comment=J(ae._comment).replace("(?:-->|$)","-->").getRegex(),se.emStrong.lDelim=J(se.emStrong.lDelim).replace(/punct/g,se._punctuation).getRegex(),se.emStrong.rDelimAst=J(se.emStrong.rDelimAst,"g").replace(/punct/g,se._punctuation).getRegex(),se.emStrong.rDelimUnd=J(se.emStrong.rDelimUnd,"g").replace(/punct/g,se._punctuation).getRegex(),se._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,se._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,se._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,se.autolink=J(se.autolink).replace("scheme",se._scheme).replace("email",se._email).getRegex(),se._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,se.tag=J(se.tag).replace("comment",se._comment).replace("attribute",se._attribute).getRegex(),se._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,se._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,se._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,se.link=J(se.link).replace("label",se._label).replace("href",se._href).replace("title",se._title).getRegex(),se.reflink=J(se.reflink).replace("label",se._label).getRegex(),se.reflinkSearch=J(se.reflinkSearch,"g").replace("reflink",se.reflink).replace("nolink",se.nolink).getRegex(),se.normal=Q({},se),se.pedantic=Q({},se.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:J(/^!?\[(label)\]\((.*?)\)/).replace("label",se._label).getRegex(),reflink:J(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",se._label).getRegex()}),se.gfm=Q({},se.normal,{escape:J(se.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),se.gfm.url=J(se.gfm.url,"i").replace("email",se.gfm._extended_email).getRegex(),se.breaks=Q({},se.gfm,{br:J(se.br).replace("{2,}","*").getRegex(),text:J(se.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Z={block:ae,inline:se},T=S.defaults,x=Z.block,H=Z.inline,V=O.repeatString;function q(ve){return ve.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function ee(ve){var Se="",ye,fe,de=ve.length;for(ye=0;ye<de;ye++)fe=ve.charCodeAt(ye),Math.random()>.5&&(fe="x"+fe.toString(16)),Se+="&#"+fe+";";return Se}var oe=function(){function ve(ye){this.tokens=[],this.tokens.links=Object.create(null),this.options=ye||T,this.options.tokenizer=this.options.tokenizer||new K,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var fe={block:x.normal,inline:H.normal};this.options.pedantic?(fe.block=x.pedantic,fe.inline=H.pedantic):this.options.gfm&&(fe.block=x.gfm,this.options.breaks?fe.inline=H.breaks:fe.inline=H.gfm),this.tokenizer.rules=fe}ve.lex=function(fe,de){var ge=new ve(de);return ge.lex(fe)},ve.lexInline=function(fe,de){var ge=new ve(de);return ge.inlineTokens(fe)};var Se=ve.prototype;return Se.lex=function(fe){return fe=fe.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(fe,this.tokens,!0),this.inline(this.tokens),this.tokens},Se.blockTokens=function(fe,de,ge){de===void 0&&(de=[]),ge===void 0&&(ge=!0),this.options.pedantic&&(fe=fe.replace(/^ +$/gm,""));for(var pe,be,ke,Ne;fe;){if(pe=this.tokenizer.space(fe)){fe=fe.substring(pe.raw.length),pe.type&&de.push(pe);continue}if(pe=this.tokenizer.code(fe)){fe=fe.substring(pe.raw.length),Ne=de[de.length-1],Ne&&Ne.type==="paragraph"?(Ne.raw+=`
`+pe.raw,Ne.text+=`
`+pe.text):de.push(pe);continue}if(pe=this.tokenizer.fences(fe)){fe=fe.substring(pe.raw.length),de.push(pe);continue}if(pe=this.tokenizer.heading(fe)){fe=fe.substring(pe.raw.length),de.push(pe);continue}if(pe=this.tokenizer.nptable(fe)){fe=fe.substring(pe.raw.length),de.push(pe);continue}if(pe=this.tokenizer.hr(fe)){fe=fe.substring(pe.raw.length),de.push(pe);continue}if(pe=this.tokenizer.blockquote(fe)){fe=fe.substring(pe.raw.length),pe.tokens=this.blockTokens(pe.text,[],ge),de.push(pe);continue}if(pe=this.tokenizer.list(fe)){for(fe=fe.substring(pe.raw.length),ke=pe.items.length,be=0;be<ke;be++)pe.items[be].tokens=this.blockTokens(pe.items[be].text,[],!1);de.push(pe);continue}if(pe=this.tokenizer.html(fe)){fe=fe.substring(pe.raw.length),de.push(pe);continue}if(ge&&(pe=this.tokenizer.def(fe))){fe=fe.substring(pe.raw.length),this.tokens.links[pe.tag]||(this.tokens.links[pe.tag]={href:pe.href,title:pe.title});continue}if(pe=this.tokenizer.table(fe)){fe=fe.substring(pe.raw.length),de.push(pe);continue}if(pe=this.tokenizer.lheading(fe)){fe=fe.substring(pe.raw.length),de.push(pe);continue}if(ge&&(pe=this.tokenizer.paragraph(fe))){fe=fe.substring(pe.raw.length),de.push(pe);continue}if(pe=this.tokenizer.text(fe)){fe=fe.substring(pe.raw.length),Ne=de[de.length-1],Ne&&Ne.type==="text"?(Ne.raw+=`
`+pe.raw,Ne.text+=`
`+pe.text):de.push(pe);continue}if(fe){var Re="Infinite loop on byte: "+fe.charCodeAt(0);if(this.options.silent){console.error(Re);break}else throw new Error(Re)}}return de},Se.inline=function(fe){var de,ge,pe,be,ke,Ne,Re=fe.length;for(de=0;de<Re;de++)switch(Ne=fe[de],Ne.type){case"paragraph":case"text":case"heading":{Ne.tokens=[],this.inlineTokens(Ne.text,Ne.tokens);break}case"table":{for(Ne.tokens={header:[],cells:[]},be=Ne.header.length,ge=0;ge<be;ge++)Ne.tokens.header[ge]=[],this.inlineTokens(Ne.header[ge],Ne.tokens.header[ge]);for(be=Ne.cells.length,ge=0;ge<be;ge++)for(ke=Ne.cells[ge],Ne.tokens.cells[ge]=[],pe=0;pe<ke.length;pe++)Ne.tokens.cells[ge][pe]=[],this.inlineTokens(ke[pe],Ne.tokens.cells[ge][pe]);break}case"blockquote":{this.inline(Ne.tokens);break}case"list":{for(be=Ne.items.length,ge=0;ge<be;ge++)this.inline(Ne.items[ge].tokens);break}}return fe},Se.inlineTokens=function(fe,de,ge,pe){de===void 0&&(de=[]),ge===void 0&&(ge=!1),pe===void 0&&(pe=!1);var be,ke,Ne=fe,Re,Oe,Fe;if(this.tokens.links){var Pe=Object.keys(this.tokens.links);if(Pe.length>0)for(;(Re=this.tokenizer.rules.inline.reflinkSearch.exec(Ne))!=null;)Pe.includes(Re[0].slice(Re[0].lastIndexOf("[")+1,-1))&&(Ne=Ne.slice(0,Re.index)+"["+V("a",Re[0].length-2)+"]"+Ne.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Re=this.tokenizer.rules.inline.blockSkip.exec(Ne))!=null;)Ne=Ne.slice(0,Re.index)+"["+V("a",Re[0].length-2)+"]"+Ne.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Re=this.tokenizer.rules.inline.escapedEmSt.exec(Ne))!=null;)Ne=Ne.slice(0,Re.index)+"++"+Ne.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;fe;){if(Oe||(Fe=""),Oe=!1,be=this.tokenizer.escape(fe)){fe=fe.substring(be.raw.length),de.push(be);continue}if(be=this.tokenizer.tag(fe,ge,pe)){fe=fe.substring(be.raw.length),ge=be.inLink,pe=be.inRawBlock;var xe=de[de.length-1];xe&&be.type==="text"&&xe.type==="text"?(xe.raw+=be.raw,xe.text+=be.text):de.push(be);continue}if(be=this.tokenizer.link(fe)){fe=fe.substring(be.raw.length),be.type==="link"&&(be.tokens=this.inlineTokens(be.text,[],!0,pe)),de.push(be);continue}if(be=this.tokenizer.reflink(fe,this.tokens.links)){fe=fe.substring(be.raw.length);var We=de[de.length-1];be.type==="link"?(be.tokens=this.inlineTokens(be.text,[],!0,pe),de.push(be)):We&&be.type==="text"&&We.type==="text"?(We.raw+=be.raw,We.text+=be.text):de.push(be);continue}if(be=this.tokenizer.emStrong(fe,Ne,Fe)){fe=fe.substring(be.raw.length),be.tokens=this.inlineTokens(be.text,[],ge,pe),de.push(be);continue}if(be=this.tokenizer.codespan(fe)){fe=fe.substring(be.raw.length),de.push(be);continue}if(be=this.tokenizer.br(fe)){fe=fe.substring(be.raw.length),de.push(be);continue}if(be=this.tokenizer.del(fe)){fe=fe.substring(be.raw.length),be.tokens=this.inlineTokens(be.text,[],ge,pe),de.push(be);continue}if(be=this.tokenizer.autolink(fe,ee)){fe=fe.substring(be.raw.length),de.push(be);continue}if(!ge&&(be=this.tokenizer.url(fe,ee))){fe=fe.substring(be.raw.length),de.push(be);continue}if(be=this.tokenizer.inlineText(fe,pe,q)){fe=fe.substring(be.raw.length),be.raw.slice(-1)!=="_"&&(Fe=be.raw.slice(-1)),Oe=!0,ke=de[de.length-1],ke&&ke.type==="text"?(ke.raw+=be.raw,ke.text+=be.text):de.push(be);continue}if(fe){var ze="Infinite loop on byte: "+fe.charCodeAt(0);if(this.options.silent){console.error(ze);break}else throw new Error(ze)}}return de},e(ve,null,[{key:"rules",get:function(){return{block:x,inline:H}}}]),ve}(),le=S.defaults,Y=O.cleanUrl,j=O.escape,ne=function(){function ve(ye){this.options=ye||le}var Se=ve.prototype;return Se.code=function(fe,de,ge){var pe=(de||"").match(/\S*/)[0];if(this.options.highlight){var be=this.options.highlight(fe,pe);be!=null&&be!==fe&&(ge=!0,fe=be)}return fe=fe.replace(/\n$/,"")+`
`,pe?'<pre><code class="'+this.options.langPrefix+j(pe,!0)+'">'+(ge?fe:j(fe,!0))+`</code></pre>
`:"<pre><code>"+(ge?fe:j(fe,!0))+`</code></pre>
`},Se.blockquote=function(fe){return`<blockquote>
`+fe+`</blockquote>
`},Se.html=function(fe){return fe},Se.heading=function(fe,de,ge,pe){return this.options.headerIds?"<h"+de+' id="'+this.options.headerPrefix+pe.slug(ge)+'">'+fe+"</h"+de+`>
`:"<h"+de+">"+fe+"</h"+de+`>
`},Se.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Se.list=function(fe,de,ge){var pe=de?"ol":"ul",be=de&&ge!==1?' start="'+ge+'"':"";return"<"+pe+be+`>
`+fe+"</"+pe+`>
`},Se.listitem=function(fe){return"<li>"+fe+`</li>
`},Se.checkbox=function(fe){return"<input "+(fe?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Se.paragraph=function(fe){return"<p>"+fe+`</p>
`},Se.table=function(fe,de){return de&&(de="<tbody>"+de+"</tbody>"),`<table>
<thead>
`+fe+`</thead>
`+de+`</table>
`},Se.tablerow=function(fe){return`<tr>
`+fe+`</tr>
`},Se.tablecell=function(fe,de){var ge=de.header?"th":"td",pe=de.align?"<"+ge+' align="'+de.align+'">':"<"+ge+">";return pe+fe+"</"+ge+`>
`},Se.strong=function(fe){return"<strong>"+fe+"</strong>"},Se.em=function(fe){return"<em>"+fe+"</em>"},Se.codespan=function(fe){return"<code>"+fe+"</code>"},Se.br=function(){return this.options.xhtml?"<br/>":"<br>"},Se.del=function(fe){return"<del>"+fe+"</del>"},Se.link=function(fe,de,ge){if(fe=Y(this.options.sanitize,this.options.baseUrl,fe),fe===null)return ge;var pe='<a href="'+j(fe)+'"';return de&&(pe+=' title="'+de+'"'),pe+=">"+ge+"</a>",pe},Se.image=function(fe,de,ge){if(fe=Y(this.options.sanitize,this.options.baseUrl,fe),fe===null)return ge;var pe='<img src="'+fe+'" alt="'+ge+'"';return de&&(pe+=' title="'+de+'"'),pe+=this.options.xhtml?"/>":">",pe},Se.text=function(fe){return fe},ve}(),X=function(){function ve(){}var Se=ve.prototype;return Se.strong=function(fe){return fe},Se.em=function(fe){return fe},Se.codespan=function(fe){return fe},Se.del=function(fe){return fe},Se.html=function(fe){return fe},Se.text=function(fe){return fe},Se.link=function(fe,de,ge){return""+ge},Se.image=function(fe,de,ge){return""+ge},Se.br=function(){return""},ve}(),ue=function(){function ve(){this.seen={}}var Se=ve.prototype;return Se.serialize=function(fe){return fe.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Se.getNextSafeSlug=function(fe,de){var ge=fe,pe=0;if(this.seen.hasOwnProperty(ge)){pe=this.seen[fe];do pe++,ge=fe+"-"+pe;while(this.seen.hasOwnProperty(ge))}return de||(this.seen[fe]=pe,this.seen[ge]=0),ge},Se.slug=function(fe,de){de===void 0&&(de={});var ge=this.serialize(fe);return this.getNextSafeSlug(ge,de.dryrun)},ve}(),he=S.defaults,re=O.unescape,ce=function(){function ve(ye){this.options=ye||he,this.options.renderer=this.options.renderer||new ne,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new X,this.slugger=new ue}ve.parse=function(fe,de){var ge=new ve(de);return ge.parse(fe)},ve.parseInline=function(fe,de){var ge=new ve(de);return ge.parseInline(fe)};var Se=ve.prototype;return Se.parse=function(fe,de){de===void 0&&(de=!0);var ge="",pe,be,ke,Ne,Re,Oe,Fe,Pe,xe,We,ze,Ke,Be,He,Ve,Ue,Ye,je,Xe=fe.length;for(pe=0;pe<Xe;pe++)switch(We=fe[pe],We.type){case"space":continue;case"hr":{ge+=this.renderer.hr();continue}case"heading":{ge+=this.renderer.heading(this.parseInline(We.tokens),We.depth,re(this.parseInline(We.tokens,this.textRenderer)),this.slugger);continue}case"code":{ge+=this.renderer.code(We.text,We.lang,We.escaped);continue}case"table":{for(Pe="",Fe="",Ne=We.header.length,be=0;be<Ne;be++)Fe+=this.renderer.tablecell(this.parseInline(We.tokens.header[be]),{header:!0,align:We.align[be]});for(Pe+=this.renderer.tablerow(Fe),xe="",Ne=We.cells.length,be=0;be<Ne;be++){for(Oe=We.tokens.cells[be],Fe="",Re=Oe.length,ke=0;ke<Re;ke++)Fe+=this.renderer.tablecell(this.parseInline(Oe[ke]),{header:!1,align:We.align[ke]});xe+=this.renderer.tablerow(Fe)}ge+=this.renderer.table(Pe,xe);continue}case"blockquote":{xe=this.parse(We.tokens),ge+=this.renderer.blockquote(xe);continue}case"list":{for(ze=We.ordered,Ke=We.start,Be=We.loose,Ne=We.items.length,xe="",be=0;be<Ne;be++)Ve=We.items[be],Ue=Ve.checked,Ye=Ve.task,He="",Ve.task&&(je=this.renderer.checkbox(Ue),Be?Ve.tokens.length>0&&Ve.tokens[0].type==="text"?(Ve.tokens[0].text=je+" "+Ve.tokens[0].text,Ve.tokens[0].tokens&&Ve.tokens[0].tokens.length>0&&Ve.tokens[0].tokens[0].type==="text"&&(Ve.tokens[0].tokens[0].text=je+" "+Ve.tokens[0].tokens[0].text)):Ve.tokens.unshift({type:"text",text:je}):He+=je),He+=this.parse(Ve.tokens,Be),xe+=this.renderer.listitem(He,Ye,Ue);ge+=this.renderer.list(xe,ze,Ke);continue}case"html":{ge+=this.renderer.html(We.text);continue}case"paragraph":{ge+=this.renderer.paragraph(this.parseInline(We.tokens));continue}case"text":{for(xe=We.tokens?this.parseInline(We.tokens):We.text;pe+1<Xe&&fe[pe+1].type==="text";)We=fe[++pe],xe+=`
`+(We.tokens?this.parseInline(We.tokens):We.text);ge+=de?this.renderer.paragraph(xe):xe;continue}default:{var $e='Token with "'+We.type+'" type was not found.';if(this.options.silent){console.error($e);return}else throw new Error($e)}}return ge},Se.parseInline=function(fe,de){de=de||this.renderer;var ge="",pe,be,ke=fe.length;for(pe=0;pe<ke;pe++)switch(be=fe[pe],be.type){case"escape":{ge+=de.text(be.text);break}case"html":{ge+=de.html(be.text);break}case"link":{ge+=de.link(be.href,be.title,this.parseInline(be.tokens,de));break}case"image":{ge+=de.image(be.href,be.title,be.text);break}case"strong":{ge+=de.strong(this.parseInline(be.tokens,de));break}case"em":{ge+=de.em(this.parseInline(be.tokens,de));break}case"codespan":{ge+=de.codespan(be.text);break}case"br":{ge+=de.br();break}case"del":{ge+=de.del(this.parseInline(be.tokens,de));break}case"text":{ge+=de.text(be.text);break}default:{var Ne='Token with "'+be.type+'" type was not found.';if(this.options.silent){console.error(Ne);return}else throw new Error(Ne)}}return ge},ve}(),me=O.merge,Ce=O.checkSanitizeDeprecation,we=O.escape,Ee=S.getDefaults,Ie=S.changeDefaults,Ae=S.defaults;function Le(ve,Se,ye){if(typeof ve=="undefined"||ve===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ve!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ve)+", string expected");if(typeof Se=="function"&&(ye=Se,Se=null),Se=me({},Le.defaults,Se||{}),Ce(Se),ye){var fe=Se.highlight,de;try{de=oe.lex(ve,Se)}catch(ke){return ye(ke)}var ge=function(Ne){var Re;if(!Ne)try{Re=ce.parse(de,Se)}catch(Oe){Ne=Oe}return Se.highlight=fe,Ne?ye(Ne):ye(null,Re)};if(!fe||fe.length<3||(delete Se.highlight,!de.length))return ge();var pe=0;Le.walkTokens(de,function(ke){ke.type==="code"&&(pe++,setTimeout(function(){fe(ke.text,ke.lang,function(Ne,Re){if(Ne)return ge(Ne);Re!=null&&Re!==ke.text&&(ke.text=Re,ke.escaped=!0),pe--,pe===0&&ge()})},0))}),pe===0&&ge();return}try{var be=oe.lex(ve,Se);return Se.walkTokens&&Le.walkTokens(be,Se.walkTokens),ce.parse(be,Se)}catch(ke){if(ke.message+=`
Please report this to https://github.com/markedjs/marked.`,Se.silent)return"<p>An error occurred:</p><pre>"+we(ke.message+"",!0)+"</pre>";throw ke}}Le.options=Le.setOptions=function(ve){return me(Le.defaults,ve),Ie(Le.defaults),Le},Le.getDefaults=Ee,Le.defaults=Ae,Le.use=function(ve){var Se=me({},ve);if(ve.renderer&&function(){var fe=Le.defaults.renderer||new ne,de=function(be){var ke=fe[be];fe[be]=function(){for(var Ne=arguments.length,Re=new Array(Ne),Oe=0;Oe<Ne;Oe++)Re[Oe]=arguments[Oe];var Fe=ve.renderer[be].apply(fe,Re);return Fe===!1&&(Fe=ke.apply(fe,Re)),Fe}};for(var ge in ve.renderer)de(ge);Se.renderer=fe}(),ve.tokenizer&&function(){var fe=Le.defaults.tokenizer||new K,de=function(be){var ke=fe[be];fe[be]=function(){for(var Ne=arguments.length,Re=new Array(Ne),Oe=0;Oe<Ne;Oe++)Re[Oe]=arguments[Oe];var Fe=ve.tokenizer[be].apply(fe,Re);return Fe===!1&&(Fe=ke.apply(fe,Re)),Fe}};for(var ge in ve.tokenizer)de(ge);Se.tokenizer=fe}(),ve.walkTokens){var ye=Le.defaults.walkTokens;Se.walkTokens=function(fe){ve.walkTokens(fe),ye&&ye(fe)}}Le.setOptions(Se)},Le.walkTokens=function(ve,Se){for(var ye=k(ve),fe;!(fe=ye()).done;){var de=fe.value;switch(Se(de),de.type){case"table":{for(var ge=k(de.tokens.header),pe;!(pe=ge()).done;){var be=pe.value;Le.walkTokens(be,Se)}for(var ke=k(de.tokens.cells),Ne;!(Ne=ke()).done;)for(var Re=Ne.value,Oe=k(Re),Fe;!(Fe=Oe()).done;){var Pe=Fe.value;Le.walkTokens(Pe,Se)}break}case"list":{Le.walkTokens(de.items,Se);break}default:de.tokens&&Le.walkTokens(de.tokens,Se)}}},Le.parseInline=function(ve,Se){if(typeof ve=="undefined"||ve===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ve!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ve)+", string expected");Se=me({},Le.defaults,Se||{}),Ce(Se);try{var ye=oe.lexInline(ve,Se);return Se.walkTokens&&Le.walkTokens(ye,Se.walkTokens),ce.parseInline(ye,Se)}catch(fe){if(fe.message+=`
Please report this to https://github.com/markedjs/marked.`,Se.silent)return"<p>An error occurred:</p><pre>"+we(fe.message+"",!0)+"</pre>";throw fe}},Le.Parser=ce,Le.parser=ce.parse,Le.Renderer=ne,Le.TextRenderer=X,Le.Lexer=oe,Le.lexer=oe.lex,Le.Tokenizer=K,Le.Slugger=ue,Le.parse=Le;var Te=Le;return Te}),define(te[497],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class v{constructor(k,w=0,S=k.length,p=w-1){this.items=k,this.start=w,this.end=S,this.index=p}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=v}),define(te[579],ie([0,1,497]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class I{constructor(w=[],S=10){this._initialize(w),this._limit=S,this._onChange()}add(w){this._history.delete(w),this._history.add(w),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(w){return this._history.has(w)}_onChange(){this._reduceToLimit();const w=this._elements;this._navigator=new v.ArrayNavigator(w,0,w.length,w.length)}_reduceToLimit(){const w=this._elements;w.length>this._limit&&this._initialize(w.slice(w.length-this._limit))}_currentPosition(){const w=this._navigator.current();return w?this._elements.indexOf(w):-1}_initialize(w){this._history=new Set;for(const S of w)this._history.add(S)}get _elements(){const w=[];return this._history.forEach(S=>w.push(S)),w}}e.HistoryNavigator=I}),define(te[100],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.clamp=void 0;function v(k,w,S){return Math.min(Math.max(k,w),S)}e.clamp=v;class I{constructor(){this._n=1,this._val=0}update(w){return this._val=this._val+(w-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=I}),define(te[17],ie([0,1]),function($,e){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.setImmediate=e.userAgent=e.isIOS=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.isPreferringBrowserCodeLoad=e.browserCodeLoadingCacheStrategy=e.isElectronSandboxed=e.globals=void 0;const I="en";let k=!1,w=!1,S=!1,p=!1,C=!1,i=!1,_=!1,u,a=I,l,c;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let d;typeof e.globals.vscode!="undefined"?d=e.globals.vscode.process:typeof process!="undefined"&&(d=process);const r=typeof((v=d==null?void 0:d.versions)===null||v===void 0?void 0:v.electron)=="string"&&d.type==="renderer";if(e.isElectronSandboxed=r&&(d==null?void 0:d.sandboxed),e.browserCodeLoadingCacheStrategy=(()=>{if(e.isElectronSandboxed)return"bypassHeatCheck";const h=d==null?void 0:d.env.VSCODE_BROWSER_CODE_LOADING;if(typeof h=="string")return h==="none"||h==="code"||h==="bypassHeatCheck"||h==="bypassHeatCheckAndEagerCompile"?h:"bypassHeatCheck"})(),e.isPreferringBrowserCodeLoad=typeof e.browserCodeLoadingCacheStrategy=="string",typeof navigator=="object"&&!r)c=navigator.userAgent,k=c.indexOf("Windows")>=0,w=c.indexOf("Macintosh")>=0,_=(c.indexOf("Macintosh")>=0||c.indexOf("iPad")>=0||c.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=c.indexOf("Linux")>=0,i=!0,u=navigator.language,a=u;else if(typeof d=="object"){k=d.platform==="win32",w=d.platform==="darwin",S=d.platform==="linux",p=S&&!!d.env.SNAP&&!!d.env.SNAP_REVISION,u=I,a=I;const h=d.env.VSCODE_NLS_CONFIG;if(h)try{const f=JSON.parse(h),m=f.availableLanguages["*"];u=f.locale,a=m||I,l=f._translationsConfigFile}catch(f){}C=!0}else console.error("Unable to resolve platform.");let n=0;w?n=1:k?n=3:S&&(n=2),e.isWindows=k,e.isMacintosh=w,e.isLinux=S,e.isNative=C,e.isWeb=i,e.isIOS=_,e.userAgent=c,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let m=[];e.globals.addEventListener("message",b=>{if(b.data&&b.data.vscodeSetImmediateId)for(let y=0,L=m.length;y<L;y++){const N=m[y];if(N.id===b.data.vscodeSetImmediateId){m.splice(y,1),N.callback();return}}});let g=0;return b=>{const y=++g;m.push({id:y,callback:b}),e.globals.postMessage({vscodeSetImmediateId:y},"*")}}if(typeof(d==null?void 0:d.nextTick)=="function")return d.nextTick.bind(d);const f=Promise.resolve();return m=>f.then(m)}(),e.OS=w||_?2:k?1:3;let s=!0,t=!1;function o(){if(!t){t=!0;const h=new Uint8Array(2);h[0]=1,h[1]=2,s=new Uint16Array(h.buffer)[0]===(2<<8)+1}return s}e.isLittleEndian=o}),define(te[464],ie([0,1,17]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let I;if(typeof v.globals.vscode!="undefined"){const k=v.globals.vscode.process;I={get platform(){return k.platform},get env(){return k.env},cwd(){return k.cwd()},nextTick(w){return(0,v.setImmediate)(w)}}}else typeof process!="undefined"?I={get platform(){return process.platform},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()},nextTick(k){return process.nextTick(k)}}:I={get platform(){return v.isWindows?"win32":v.isMacintosh?"darwin":"linux"},nextTick(k){return(0,v.setImmediate)(k)},get env(){return Object.create(null)},cwd(){return"/"}};e.cwd=I.cwd,e.env=I.env,e.platform=I.platform}),define(te[74],ie([0,1,464]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const I=65,k=97,w=90,S=122,p=46,C=47,i=92,_=58,u=63;class a extends Error{constructor(o,h,f){let m;typeof h=="string"&&h.indexOf("not ")===0?(m="must not be",h=h.replace(/^not /,"")):m="must be";const g=o.indexOf(".")!==-1?"property":"argument";let b=`The "${o}" ${g} ${m} of type ${h}`;b+=`. Received type ${typeof f}`,super(b),this.code="ERR_INVALID_ARG_TYPE"}}function l(t,o){if(typeof t!="string")throw new a(o,"string",t)}function c(t){return t===C||t===i}function d(t){return t===C}function r(t){return t>=I&&t<=w||t>=k&&t<=S}function n(t,o,h,f){let m="",g=0,b=-1,y=0,L=0;for(let N=0;N<=t.length;++N){if(N<t.length)L=t.charCodeAt(N);else{if(f(L))break;L=C}if(f(L)){if(!(b===N-1||y===1))if(y===2){if(m.length<2||g!==2||m.charCodeAt(m.length-1)!==p||m.charCodeAt(m.length-2)!==p){if(m.length>2){const M=m.lastIndexOf(h);M===-1?(m="",g=0):(m=m.slice(0,M),g=m.length-1-m.lastIndexOf(h)),b=N,y=0;continue}else if(m.length!==0){m="",g=0,b=N,y=0;continue}}o&&(m+=m.length>0?`${h}..`:"..",g=2)}else m.length>0?m+=`${h}${t.slice(b+1,N)}`:m=t.slice(b+1,N),g=N-b-1;b=N,y=0}else L===p&&y!==-1?++y:y=-1}return m}function s(t,o){if(o===null||typeof o!="object")throw new a("pathObject","Object",o);const h=o.dir||o.root,f=o.base||`${o.name||""}${o.ext||""}`;return h?h===o.root?`${h}${f}`:`${h}${t}${f}`:f}e.win32={resolve(...t){let o="",h="",f=!1;for(let m=t.length-1;m>=-1;m--){let g;if(m>=0){if(g=t[m],l(g,"path"),g.length===0)continue}else o.length===0?g=v.cwd():(g=v.env[`=${o}`]||v.cwd(),(g===void 0||g.slice(0,2).toLowerCase()!==o.toLowerCase()&&g.charCodeAt(2)===i)&&(g=`${o}\\`));const b=g.length;let y=0,L="",N=!1;const M=g.charCodeAt(0);if(b===1)c(M)&&(y=1,N=!0);else if(c(M))if(N=!0,c(g.charCodeAt(1))){let D=2,R=D;for(;D<b&&!c(g.charCodeAt(D));)D++;if(D<b&&D!==R){const P=g.slice(R,D);for(R=D;D<b&&c(g.charCodeAt(D));)D++;if(D<b&&D!==R){for(R=D;D<b&&!c(g.charCodeAt(D));)D++;(D===b||D!==R)&&(L=`\\\\${P}\\${g.slice(R,D)}`,y=D)}}}else y=1;else r(M)&&g.charCodeAt(1)===_&&(L=g.slice(0,2),y=2,b>2&&c(g.charCodeAt(2))&&(N=!0,y=3));if(L.length>0)if(o.length>0){if(L.toLowerCase()!==o.toLowerCase())continue}else o=L;if(f){if(o.length>0)break}else if(h=`${g.slice(y)}\\${h}`,f=N,N&&o.length>0)break}return h=n(h,!f,"\\",c),f?`${o}\\${h}`:`${o}${h}`||"."},normalize(t){l(t,"path");const o=t.length;if(o===0)return".";let h=0,f,m=!1;const g=t.charCodeAt(0);if(o===1)return d(g)?"\\":t;if(c(g))if(m=!0,c(t.charCodeAt(1))){let y=2,L=y;for(;y<o&&!c(t.charCodeAt(y));)y++;if(y<o&&y!==L){const N=t.slice(L,y);for(L=y;y<o&&c(t.charCodeAt(y));)y++;if(y<o&&y!==L){for(L=y;y<o&&!c(t.charCodeAt(y));)y++;if(y===o)return`\\\\${N}\\${t.slice(L)}\\`;y!==L&&(f=`\\\\${N}\\${t.slice(L,y)}`,h=y)}}}else h=1;else r(g)&&t.charCodeAt(1)===_&&(f=t.slice(0,2),h=2,o>2&&c(t.charCodeAt(2))&&(m=!0,h=3));let b=h<o?n(t.slice(h),!m,"\\",c):"";return b.length===0&&!m&&(b="."),b.length>0&&c(t.charCodeAt(o-1))&&(b+="\\"),f===void 0?m?`\\${b}`:b:m?`${f}\\${b}`:`${f}${b}`},isAbsolute(t){l(t,"path");const o=t.length;if(o===0)return!1;const h=t.charCodeAt(0);return c(h)||o>2&&r(h)&&t.charCodeAt(1)===_&&c(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let o,h;for(let g=0;g<t.length;++g){const b=t[g];l(b,"path"),b.length>0&&(o===void 0?o=h=b:o+=`\\${b}`)}if(o===void 0)return".";let f=!0,m=0;if(typeof h=="string"&&c(h.charCodeAt(0))){++m;const g=h.length;g>1&&c(h.charCodeAt(1))&&(++m,g>2&&(c(h.charCodeAt(2))?++m:f=!1))}if(f){for(;m<o.length&&c(o.charCodeAt(m));)m++;m>=2&&(o=`\\${o.slice(m)}`)}return e.win32.normalize(o)},relative(t,o){if(l(t,"from"),l(o,"to"),t===o)return"";const h=e.win32.resolve(t),f=e.win32.resolve(o);if(h===f||(t=h.toLowerCase(),o=f.toLowerCase(),t===o))return"";let m=0;for(;m<t.length&&t.charCodeAt(m)===i;)m++;let g=t.length;for(;g-1>m&&t.charCodeAt(g-1)===i;)g--;const b=g-m;let y=0;for(;y<o.length&&o.charCodeAt(y)===i;)y++;let L=o.length;for(;L-1>y&&o.charCodeAt(L-1)===i;)L--;const N=L-y,M=b<N?b:N;let D=-1,R=0;for(;R<M;R++){const O=t.charCodeAt(m+R);if(O!==o.charCodeAt(y+R))break;O===i&&(D=R)}if(R!==M){if(D===-1)return f}else{if(N>M){if(o.charCodeAt(y+R)===i)return f.slice(y+R+1);if(R===2)return f.slice(y+R)}b>M&&(t.charCodeAt(m+R)===i?D=R:R===2&&(D=3)),D===-1&&(D=0)}let P="";for(R=m+D+1;R<=g;++R)(R===g||t.charCodeAt(R)===i)&&(P+=P.length===0?"..":"\\..");return y+=D,P.length>0?`${P}${f.slice(y,L)}`:(f.charCodeAt(y)===i&&++y,f.slice(y,L))},toNamespacedPath(t){if(typeof t!="string")return t;if(t.length===0)return"";const o=e.win32.resolve(t);if(o.length<=2)return t;if(o.charCodeAt(0)===i){if(o.charCodeAt(1)===i){const h=o.charCodeAt(2);if(h!==u&&h!==p)return`\\\\?\\UNC\\${o.slice(2)}`}}else if(r(o.charCodeAt(0))&&o.charCodeAt(1)===_&&o.charCodeAt(2)===i)return`\\\\?\\${o}`;return t},dirname(t){l(t,"path");const o=t.length;if(o===0)return".";let h=-1,f=0;const m=t.charCodeAt(0);if(o===1)return c(m)?t:".";if(c(m)){if(h=f=1,c(t.charCodeAt(1))){let y=2,L=y;for(;y<o&&!c(t.charCodeAt(y));)y++;if(y<o&&y!==L){for(L=y;y<o&&c(t.charCodeAt(y));)y++;if(y<o&&y!==L){for(L=y;y<o&&!c(t.charCodeAt(y));)y++;if(y===o)return t;y!==L&&(h=f=y+1)}}}}else r(m)&&t.charCodeAt(1)===_&&(h=o>2&&c(t.charCodeAt(2))?3:2,f=h);let g=-1,b=!0;for(let y=o-1;y>=f;--y)if(c(t.charCodeAt(y))){if(!b){g=y;break}}else b=!1;if(g===-1){if(h===-1)return".";g=h}return t.slice(0,g)},basename(t,o){o!==void 0&&l(o,"ext"),l(t,"path");let h=0,f=-1,m=!0,g;if(t.length>=2&&r(t.charCodeAt(0))&&t.charCodeAt(1)===_&&(h=2),o!==void 0&&o.length>0&&o.length<=t.length){if(o===t)return"";let b=o.length-1,y=-1;for(g=t.length-1;g>=h;--g){const L=t.charCodeAt(g);if(c(L)){if(!m){h=g+1;break}}else y===-1&&(m=!1,y=g+1),b>=0&&(L===o.charCodeAt(b)?--b==-1&&(f=g):(b=-1,f=y))}return h===f?f=y:f===-1&&(f=t.length),t.slice(h,f)}for(g=t.length-1;g>=h;--g)if(c(t.charCodeAt(g))){if(!m){h=g+1;break}}else f===-1&&(m=!1,f=g+1);return f===-1?"":t.slice(h,f)},extname(t){l(t,"path");let o=0,h=-1,f=0,m=-1,g=!0,b=0;t.length>=2&&t.charCodeAt(1)===_&&r(t.charCodeAt(0))&&(o=f=2);for(let y=t.length-1;y>=o;--y){const L=t.charCodeAt(y);if(c(L)){if(!g){f=y+1;break}continue}m===-1&&(g=!1,m=y+1),L===p?h===-1?h=y:b!==1&&(b=1):h!==-1&&(b=-1)}return h===-1||m===-1||b===0||b===1&&h===m-1&&h===f+1?"":t.slice(h,m)},format:s.bind(null,"\\"),parse(t){l(t,"path");const o={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return o;const h=t.length;let f=0,m=t.charCodeAt(0);if(h===1)return c(m)?(o.root=o.dir=t,o):(o.base=o.name=t,o);if(c(m)){if(f=1,c(t.charCodeAt(1))){let D=2,R=D;for(;D<h&&!c(t.charCodeAt(D));)D++;if(D<h&&D!==R){for(R=D;D<h&&c(t.charCodeAt(D));)D++;if(D<h&&D!==R){for(R=D;D<h&&!c(t.charCodeAt(D));)D++;D===h?f=D:D!==R&&(f=D+1)}}}}else if(r(m)&&t.charCodeAt(1)===_){if(h<=2)return o.root=o.dir=t,o;if(f=2,c(t.charCodeAt(2))){if(h===3)return o.root=o.dir=t,o;f=3}}f>0&&(o.root=t.slice(0,f));let g=-1,b=f,y=-1,L=!0,N=t.length-1,M=0;for(;N>=f;--N){if(m=t.charCodeAt(N),c(m)){if(!L){b=N+1;break}continue}y===-1&&(L=!1,y=N+1),m===p?g===-1?g=N:M!==1&&(M=1):g!==-1&&(M=-1)}return y!==-1&&(g===-1||M===0||M===1&&g===y-1&&g===b+1?o.base=o.name=t.slice(b,y):(o.name=t.slice(b,g),o.base=t.slice(b,y),o.ext=t.slice(g,y))),b>0&&b!==f?o.dir=t.slice(0,b-1):o.dir=o.root,o},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...t){let o="",h=!1;for(let f=t.length-1;f>=-1&&!h;f--){const m=f>=0?t[f]:v.cwd();l(m,"path"),m.length!==0&&(o=`${m}/${o}`,h=m.charCodeAt(0)===C)}return o=n(o,!h,"/",d),h?`/${o}`:o.length>0?o:"."},normalize(t){if(l(t,"path"),t.length===0)return".";const o=t.charCodeAt(0)===C,h=t.charCodeAt(t.length-1)===C;return t=n(t,!o,"/",d),t.length===0?o?"/":h?"./":".":(h&&(t+="/"),o?`/${t}`:t)},isAbsolute(t){return l(t,"path"),t.length>0&&t.charCodeAt(0)===C},join(...t){if(t.length===0)return".";let o;for(let h=0;h<t.length;++h){const f=t[h];l(f,"path"),f.length>0&&(o===void 0?o=f:o+=`/${f}`)}return o===void 0?".":e.posix.normalize(o)},relative(t,o){if(l(t,"from"),l(o,"to"),t===o||(t=e.posix.resolve(t),o=e.posix.resolve(o),t===o))return"";const h=1,f=t.length,m=f-h,g=1,b=o.length-g,y=m<b?m:b;let L=-1,N=0;for(;N<y;N++){const D=t.charCodeAt(h+N);if(D!==o.charCodeAt(g+N))break;D===C&&(L=N)}if(N===y)if(b>y){if(o.charCodeAt(g+N)===C)return o.slice(g+N+1);if(N===0)return o.slice(g+N)}else m>y&&(t.charCodeAt(h+N)===C?L=N:N===0&&(L=0));let M="";for(N=h+L+1;N<=f;++N)(N===f||t.charCodeAt(N)===C)&&(M+=M.length===0?"..":"/..");return`${M}${o.slice(g+L)}`},toNamespacedPath(t){return t},dirname(t){if(l(t,"path"),t.length===0)return".";const o=t.charCodeAt(0)===C;let h=-1,f=!0;for(let m=t.length-1;m>=1;--m)if(t.charCodeAt(m)===C){if(!f){h=m;break}}else f=!1;return h===-1?o?"/":".":o&&h===1?"//":t.slice(0,h)},basename(t,o){o!==void 0&&l(o,"ext"),l(t,"path");let h=0,f=-1,m=!0,g;if(o!==void 0&&o.length>0&&o.length<=t.length){if(o===t)return"";let b=o.length-1,y=-1;for(g=t.length-1;g>=0;--g){const L=t.charCodeAt(g);if(L===C){if(!m){h=g+1;break}}else y===-1&&(m=!1,y=g+1),b>=0&&(L===o.charCodeAt(b)?--b==-1&&(f=g):(b=-1,f=y))}return h===f?f=y:f===-1&&(f=t.length),t.slice(h,f)}for(g=t.length-1;g>=0;--g)if(t.charCodeAt(g)===C){if(!m){h=g+1;break}}else f===-1&&(m=!1,f=g+1);return f===-1?"":t.slice(h,f)},extname(t){l(t,"path");let o=-1,h=0,f=-1,m=!0,g=0;for(let b=t.length-1;b>=0;--b){const y=t.charCodeAt(b);if(y===C){if(!m){h=b+1;break}continue}f===-1&&(m=!1,f=b+1),y===p?o===-1?o=b:g!==1&&(g=1):o!==-1&&(g=-1)}return o===-1||f===-1||g===0||g===1&&o===f-1&&o===h+1?"":t.slice(o,f)},format:s.bind(null,"/"),parse(t){l(t,"path");const o={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return o;const h=t.charCodeAt(0)===C;let f;h?(o.root="/",f=1):f=0;let m=-1,g=0,b=-1,y=!0,L=t.length-1,N=0;for(;L>=f;--L){const M=t.charCodeAt(L);if(M===C){if(!y){g=L+1;break}continue}b===-1&&(y=!1,b=L+1),M===p?m===-1?m=L:N!==1&&(N=1):m!==-1&&(N=-1)}if(b!==-1){const M=g===0&&h?1:g;m===-1||N===0||N===1&&m===b-1&&m===g+1?o.base=o.name=t.slice(M,b):(o.name=t.slice(M,m),o.base=t.slice(M,b),o.ext=t.slice(m,b))}return g>0?o.dir=t.slice(0,g-1):h&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=v.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=v.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=v.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=v.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=v.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=v.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=v.platform==="win32"?e.win32.sep:e.posix.sep}),define(te[146],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var v;(function(I){function k(C,i){if(C.start>=i.end||i.start>=C.end)return{start:0,end:0};const _=Math.max(C.start,i.start),u=Math.min(C.end,i.end);return u-_<=0?{start:0,end:0}:{start:_,end:u}}I.intersect=k;function w(C){return C.end-C.start<=0}I.isEmpty=w;function S(C,i){return!w(k(C,i))}I.intersects=S;function p(C,i){const _=[],u={start:C.start,end:Math.min(i.start,C.end)},a={start:Math.max(i.end,C.start),end:C.end};return w(u)||_.push(u),w(a)||_.push(a),_}I.relativeComplement=p})(v=e.Range||(e.Range={}))}),define(te[481],ie([0,1,146]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function I(C,i){const _=[];for(let u of i)if(!(C.start>=u.range.end)){if(C.end<u.range.start)break;const a=v.Range.intersect(C,u.range);v.Range.isEmpty(a)||_.push({range:a,size:u.size})}return _}e.groupIntersect=I;function k({start:C,end:i},_){return{start:C+_,end:i+_}}e.shift=k;function w(C){const i=[];let _=null;for(let u of C){const a=u.range.start,l=u.range.end,c=u.size;if(_&&c===_.size){_.range.end=l;continue}_={range:{start:a,end:l},size:c},i.push(_)}return i}e.consolidate=w;function S(...C){return w(C.reduce((i,_)=>i.concat(_),[]))}class p{constructor(){this.groups=[],this._size=0}splice(i,_,u=[]){const a=u.length-_,l=I({start:0,end:i},this.groups),c=I({start:i+_,end:Number.POSITIVE_INFINITY},this.groups).map(r=>({range:k(r.range,a),size:r.size})),d=u.map((r,n)=>({range:{start:i+n,end:i+n+1},size:r.size}));this.groups=S(l,d,c),this._size=this.groups.reduce((r,n)=>r+n.size*(n.range.end-n.range.start),0)}get count(){const i=this.groups.length;return i?this.groups[i-1].range.end:0}get size(){return this._size}indexAt(i){if(i<0)return-1;let _=0,u=0;for(let a of this.groups){const l=a.range.end-a.range.start,c=u+l*a.size;if(i<c)return _+Math.floor((i-u)/a.size);_+=l,u=c}return _}indexAfter(i){return Math.min(this.indexAt(i)+1,this.count)}positionAt(i){if(i<0)return-1;let _=0,u=0;for(let a of this.groups){const l=a.range.end-a.range.start,c=u+l;if(i<c)return _+(i-u)*a.size;_+=l*a.size,u=c}return-1}}e.RangeMap=p}),define(te[82],ie([0,1,17]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const I=v.globals.performance&&typeof v.globals.performance.now=="function";class k{constructor(S){this._highResolution=I&&S,this._startTime=this._now(),this._stopTime=-1}static create(S=!0){return new k(S)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?v.globals.performance.now():Date.now()}}e.StopWatch=k}),define(te[6],ie([0,1,11,2,77,82]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.PauseableEmitter=e.Emitter=e.Event=void 0;var S;(function(c){c.None=()=>I.Disposable.None;function d(O){return(W,F=null,E)=>{let A=!1,B;return B=O(z=>{if(!A)return B?B.dispose():A=!0,W.call(F,z)},null,E),A&&B.dispose(),B}}c.once=d;function r(O,W){return f((F,E=null,A)=>O(B=>F.call(E,W(B)),null,A))}c.map=r;function n(O,W){return f((F,E=null,A)=>O(B=>{W(B),F.call(E,B)},null,A))}c.forEach=n;function s(O,W){return f((F,E=null,A)=>O(B=>W(B)&&F.call(E,B),null,A))}c.filter=s;function t(O){return O}c.signal=t;function o(...O){return(W,F=null,E)=>(0,I.combinedDisposable)(...O.map(A=>A(B=>W.call(F,B),null,E)))}c.any=o;function h(O,W,F){let E=F;return r(O,A=>(E=W(E,A),E))}c.reduce=h;function f(O){let W;const F=new _({onFirstListenerAdd(){W=O(F.fire,F)},onLastListenerRemove(){W.dispose()}});return F.event}c.snapshot=f;function m(O,W,F=100,E=!1,A){let B,z,U,K=0;const G=new _({leakWarningThreshold:A,onFirstListenerAdd(){B=O(J=>{K++,z=W(z,J),E&&!U&&(G.fire(z),z=void 0),clearTimeout(U),U=setTimeout(()=>{const Q=z;z=void 0,U=void 0,(!E||K>1)&&G.fire(Q),K=0},F)})},onLastListenerRemove(){B.dispose()}});return G.event}c.debounce=m;function g(O){const W=new Date().getTime();return r(d(O),F=>new Date().getTime()-W)}c.stopwatch=g;function b(O){let W=!0,F;return s(O,E=>{const A=W||E!==F;return W=!1,F=E,A})}c.latch=b;function y(O,W=!1,F=[]){let E=F.slice(),A=O(U=>{E?E.push(U):z.fire(U)});const B=()=>{E&&E.forEach(U=>z.fire(U)),E=null},z=new _({onFirstListenerAdd(){A||(A=O(U=>z.fire(U)))},onFirstListenerDidAdd(){E&&(W?setTimeout(B):B())},onLastListenerRemove(){A&&A.dispose(),A=null}});return z.event}c.buffer=y;class L{constructor(W){this.event=W}map(W){return new L(r(this.event,W))}forEach(W){return new L(n(this.event,W))}filter(W){return new L(s(this.event,W))}reduce(W,F){return new L(h(this.event,W,F))}latch(){return new L(b(this.event))}debounce(W,F=100,E=!1,A){return new L(m(this.event,W,F,E,A))}on(W,F,E){return this.event(W,F,E)}once(W,F,E){return d(this.event)(W,F,E)}}function N(O){return new L(O)}c.chain=N;function M(O,W,F=E=>E){const E=(...U)=>z.fire(F(...U)),A=()=>O.on(W,E),B=()=>O.removeListener(W,E),z=new _({onFirstListenerAdd:A,onLastListenerRemove:B});return z.event}c.fromNodeEventEmitter=M;function D(O,W,F=E=>E){const E=(...U)=>z.fire(F(...U)),A=()=>O.addEventListener(W,E),B=()=>O.removeEventListener(W,E),z=new _({onFirstListenerAdd:A,onLastListenerRemove:B});return z.event}c.fromDOMEventEmitter=D;function R(O){const W=new _;let F=!1;return O.then(void 0,()=>null).then(()=>{F?W.fire(void 0):setTimeout(()=>W.fire(void 0),0)}),F=!0,W.event}c.fromPromise=R;function P(O){return new Promise(W=>d(O)(W))}c.toPromise=P})(S=e.Event||(e.Event={}));class p{constructor(d){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${d}_${p._idPool++}`}start(d){this._stopWatch=new w.StopWatch(!0),this._listenerCount=d}stop(){if(this._stopWatch){const d=this._stopWatch.elapsed();this._elapsedOverall+=d,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${d.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}p._idPool=0;let C=-1;class i{constructor(d,r=Math.random().toString(18).slice(2,5)){this.customThreshold=d,this.name=r,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(d){let r=C;if(typeof this.customThreshold=="number"&&(r=this.customThreshold),!(r<=0||d<r)){this._stacks||(this._stacks=new Map);const n=new Error().stack.split(`
`).slice(3).join(`
`),s=this._stacks.get(n)||0;if(this._stacks.set(n,s+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=r*.5;let t,o=0;for(const[h,f]of this._stacks)(!t||o<f)&&(t=h,o=f);console.warn(`[${this.name}] potential listener LEAK detected, having ${d} listeners already. MOST frequent listener (${o}):`),console.warn(t)}return()=>{const t=this._stacks.get(n)||0;this._stacks.set(n,t-1)}}}}class _{constructor(d){var r;this._disposed=!1,this._options=d,this._leakageMon=C>0?new i(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((r=this._options)===null||r===void 0?void 0:r._profName)?new p(this._options._profName):void 0}get event(){return this._event||(this._event=(d,r,n)=>{var s;this._listeners||(this._listeners=new k.LinkedList);const t=this._listeners.isEmpty();t&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const o=this._listeners.push(r?[d,r]:d);t&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,d,r);const h=(s=this._leakageMon)===null||s===void 0?void 0:s.check(this._listeners.size);let f;return f={dispose:()=>{h&&h(),f.dispose=_._noop,this._disposed||(o(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}},n instanceof I.DisposableStore?n.add(f):Array.isArray(n)&&n.push(f),f}),this._event}fire(d){var r,n;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new k.LinkedList);for(let s of this._listeners)this._deliveryQueue.push([s,d]);for((r=this._perfMon)===null||r===void 0||r.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[s,t]=this._deliveryQueue.shift();try{typeof s=="function"?s.call(void 0,t):s[0].call(s[1],t)}catch(o){(0,v.onUnexpectedError)(o)}}(n=this._perfMon)===null||n===void 0||n.stop()}}dispose(){var d,r,n;(d=this._listeners)===null||d===void 0||d.clear(),(r=this._deliveryQueue)===null||r===void 0||r.clear(),(n=this._leakageMon)===null||n===void 0||n.dispose(),this._disposed=!0}}e.Emitter=_,_._noop=function(){};class u extends _{constructor(d){super(d);this._isPaused=0,this._eventQueue=new k.LinkedList,this._mergeFn=d==null?void 0:d.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const d=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(d))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(d){this._listeners&&(this._isPaused!==0?this._eventQueue.push(d):super.fire(d))}}e.PauseableEmitter=u;class a{constructor(){this.buffers=[]}wrapEvent(d){return(r,n,s)=>d(t=>{const o=this.buffers[this.buffers.length-1];o?o.push(()=>r.call(n,t)):r.call(n,t)},void 0,s)}bufferEvents(d){const r=[];this.buffers.push(r);const n=d();return this.buffers.pop(),r.forEach(s=>s()),n}}e.EventBufferer=a;class l{constructor(){this.listening=!1,this.inputEvent=S.None,this.inputEventListener=I.Disposable.None,this.emitter=new _({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(d){this.inputEvent=d,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=d(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=l}),define(te[36],ie([0,1,6]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isEdgeLegacyWebView=e.isIPad=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getPixelRatio=e.getZoomFactor=e.onDidChangeZoomLevel=e.getTimeSinceLastZoomLevelChanged=e.getZoomLevel=void 0;class I{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new v.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let u=document.createElement("canvas").getContext("2d"),a=window.devicePixelRatio||1,l=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;return a/l}}I.INSTANCE=new I;function k(){return I.INSTANCE.getZoomLevel()}e.getZoomLevel=k;function w(){return I.INSTANCE.getTimeSinceLastZoomLevelChanged()}e.getTimeSinceLastZoomLevelChanged=w;function S(_){return I.INSTANCE.onDidChangeZoomLevel(_)}e.onDidChangeZoomLevel=S;function p(){return I.INSTANCE.getZoomFactor()}e.getZoomFactor=p;function C(){return I.INSTANCE.getPixelRatio()}e.getPixelRatio=C;const i=navigator.userAgent;e.isFirefox=i.indexOf("Firefox")>=0,e.isWebKit=i.indexOf("AppleWebKit")>=0,e.isChrome=i.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&i.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isIPad=i.indexOf("iPad")>=0||e.isSafari&&navigator.maxTouchPoints>0,e.isEdgeLegacyWebView=i.indexOf("Edge/")>=0&&i.indexOf("WebView/")>=0,e.isElectron=i.indexOf("Electron/")>=0,e.isAndroid=i.indexOf("Android")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(te[151],ie([0,1,36,17]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:I.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:I.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>I.isNative||v.isStandalone?0:navigator.keyboard||v.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)}}),define(te[54],ie([0,1,6]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stop=e.stopEvent=e.domEvent=void 0;const I=(S,p,C)=>{const i=u=>_.fire(u),_=new v.Emitter({onFirstListenerAdd:()=>{S.addEventListener(p,i,C)},onLastListenerRemove:()=>{S.removeEventListener(p,i,C)}});return _.event};e.domEvent=I;function k(S){return S.preventDefault(),S.stopPropagation(),S}e.stopEvent=k;function w(S){return v.Event.map(S,k)}e.stop=w}),define(te[55],ie([0,1,36,41,17]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;let w=new Array(230),S=new Array(112);(function(){for(let c=0;c<S.length;c++)S[c]=-1;function l(c,d){w[c]=d,S[d]=c}l(3,7),l(8,1),l(9,2),l(13,3),l(16,4),l(17,5),l(18,6),l(19,7),l(20,8),l(27,9),l(32,10),l(33,11),l(34,12),l(35,13),l(36,14),l(37,15),l(38,16),l(39,17),l(40,18),l(45,19),l(46,20),l(48,21),l(49,22),l(50,23),l(51,24),l(52,25),l(53,26),l(54,27),l(55,28),l(56,29),l(57,30),l(65,31),l(66,32),l(67,33),l(68,34),l(69,35),l(70,36),l(71,37),l(72,38),l(73,39),l(74,40),l(75,41),l(76,42),l(77,43),l(78,44),l(79,45),l(80,46),l(81,47),l(82,48),l(83,49),l(84,50),l(85,51),l(86,52),l(87,53),l(88,54),l(89,55),l(90,56),l(93,58),l(96,93),l(97,94),l(98,95),l(99,96),l(100,97),l(101,98),l(102,99),l(103,100),l(104,101),l(105,102),l(106,103),l(107,104),l(108,105),l(109,106),l(110,107),l(111,108),l(112,59),l(113,60),l(114,61),l(115,62),l(116,63),l(117,64),l(118,65),l(119,66),l(120,67),l(121,68),l(122,69),l(123,70),l(124,71),l(125,72),l(126,73),l(127,74),l(128,75),l(129,76),l(130,77),l(144,78),l(145,79),l(186,80),l(187,81),l(188,82),l(189,83),l(190,84),l(191,85),l(192,86),l(193,110),l(194,111),l(219,87),l(220,88),l(221,89),l(222,90),l(223,91),l(226,92),l(229,109),v.isFirefox?(l(59,80),l(107,81),l(109,83),k.isMacintosh&&l(224,57)):v.isWebKit&&(l(91,57),k.isMacintosh?l(93,57):l(92,57))})();function p(l){if(l.charCode){let c=String.fromCharCode(l.charCode).toUpperCase();return I.KeyCodeUtils.fromString(c)}return w[l.keyCode]||0}const C=k.isMacintosh?256:2048,i=512,_=1024,u=k.isMacintosh?2048:256;class a{constructor(c){this._standardKeyboardEventBrand=!0;let d=c;this.browserEvent=d,this.target=d.target,this.ctrlKey=d.ctrlKey,this.shiftKey=d.shiftKey,this.altKey=d.altKey,this.metaKey=d.metaKey,this.keyCode=p(d),this.code=d.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(c){return this._asKeybinding===c}_computeKeybinding(){let c=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(c=this.keyCode);let d=0;return this.ctrlKey&&(d|=C),this.altKey&&(d|=i),this.shiftKey&&(d|=_),this.metaKey&&(d|=u),d|=c,d}_computeRuntimeKeybinding(){let c=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(c=this.keyCode),new I.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,c)}}e.StandardKeyboardEvent=a}),define(te[53],ie([0,1,36,272,17]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class w{constructor(C){this.timestamp=Date.now(),this.browserEvent=C,this.leftButton=C.button===0,this.middleButton=C.button===1,this.rightButton=C.button===2,this.buttons=C.buttons,this.target=C.target,this.detail=C.detail||1,C.type==="dblclick"&&(this.detail=2),this.ctrlKey=C.ctrlKey,this.shiftKey=C.shiftKey,this.altKey=C.altKey,this.metaKey=C.metaKey,typeof C.pageX=="number"?(this.posx=C.pageX,this.posy=C.pageY):(this.posx=C.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=C.clientY+document.body.scrollTop+document.documentElement.scrollTop);let i=I.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,C.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=w;class S{constructor(C,i=0,_=0){if(this.browserEvent=C||null,this.target=C?C.target||C.targetNode||C.srcElement:null,this.deltaY=_,this.deltaX=i,C){let u=C,a=C;if(typeof u.wheelDeltaY!="undefined")this.deltaY=u.wheelDeltaY/120;else if(typeof a.VERTICAL_AXIS!="undefined"&&a.axis===a.VERTICAL_AXIS)this.deltaY=-a.detail/3;else if(C.type==="wheel"){const l=C;l.deltaMode===l.DOM_DELTA_LINE?v.isFirefox&&!k.isMacintosh?this.deltaY=-C.deltaY/3:this.deltaY=-C.deltaY:this.deltaY=-C.deltaY/40}if(typeof u.wheelDeltaX!="undefined")v.isSafari&&k.isWindows?this.deltaX=-(u.wheelDeltaX/120):this.deltaX=u.wheelDeltaX/120;else if(typeof a.HORIZONTAL_AXIS!="undefined"&&a.axis===a.HORIZONTAL_AXIS)this.deltaX=-C.detail/3;else if(C.type==="wheel"){const l=C;l.deltaMode===l.DOM_DELTA_LINE?v.isFirefox&&!k.isMacintosh?this.deltaX=-C.deltaX/3:this.deltaX=-C.deltaX:this.deltaX=-C.deltaX/40}this.deltaY===0&&this.deltaX===0&&C.wheelDelta&&(this.deltaY=C.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=S}),define(te[24],ie([0,1,6]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const I=Object.freeze(function(p,C){const i=setTimeout(p.bind(C),0);return{dispose(){clearTimeout(i)}}});var k;(function(p){function C(i){return i===p.None||i===p.Cancelled||i instanceof w?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}p.isCancellationToken=C,p.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:v.Event.None}),p.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:I})})(k=e.CancellationToken||(e.CancellationToken={}));class w{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?I:(this._emitter||(this._emitter=new v.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(C){this._token=void 0,this._parentListener=void 0,this._parentListener=C&&C.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new w),this._token}cancel(){this._token?this._token instanceof w&&this._token.cancel():this._token=k.Cancelled}dispose(C=!1){C&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof w&&this._token.dispose():this._token=k.None}}e.CancellationTokenSource=S});var De=this&&this.__awaiter||function($,e,v,I){function k(w){return w instanceof v?w:new v(function(S){S(w)})}return new(v||(v=Promise))(function(w,S){function p(_){try{i(I.next(_))}catch(u){S(u)}}function C(_){try{i(I.throw(_))}catch(u){S(u)}}function i(_){_.done?w(_.value):k(_.value).then(p,C)}i((I=I.apply($,e||[])).next())})};define(te[15],ie([0,1,24,11,2]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function w(t){return!!t&&typeof t.then=="function"}e.isThenable=w;function S(t){const o=new v.CancellationTokenSource,h=t(o.token),f=new Promise((m,g)=>{o.token.onCancellationRequested(()=>{g((0,I.canceled)())}),Promise.resolve(h).then(b=>{o.dispose(),m(b)},b=>{o.dispose(),g(b)})});return new class{cancel(){o.cancel()}then(m,g){return f.then(m,g)}catch(m){return this.then(void 0,m)}finally(m){return f.finally(m)}}}e.createCancelablePromise=S;function p(t,o,h){return Promise.race([t,new Promise(f=>o.onCancellationRequested(()=>f(h)))])}e.raceCancellation=p;class C{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(o){if(this.activePromise){if(this.queuedPromiseFactory=o,!this.queuedPromise){const h=()=>{this.queuedPromise=null;const f=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,f};this.queuedPromise=new Promise(f=>{this.activePromise.then(h,h).then(f)})}return new Promise((h,f)=>{this.queuedPromise.then(h,f)})}return this.activePromise=o(),new Promise((h,f)=>{this.activePromise.then(m=>{this.activePromise=null,h(m)},m=>{this.activePromise=null,f(m)})})}}e.Throttler=C;class i{constructor(o){this.defaultDelay=o,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(o,h=this.defaultDelay){return this.task=o,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((f,m)=>{this.doResolve=f,this.doReject=m}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const f=this.task;return this.task=null,f()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},h),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,I.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancelTimeout()}}e.Delayer=i;class _{constructor(o){this.delayer=new i(o),this.throttler=new C}trigger(o,h){return this.delayer.trigger(()=>this.throttler.queue(o),h)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=_;function u(t,o){return o?new Promise((h,f)=>{const m=setTimeout(h,t);o.onCancellationRequested(()=>{clearTimeout(m),f((0,I.canceled)())})}):S(h=>u(t,h))}e.timeout=u;function a(t,o=0){const h=setTimeout(t,o);return(0,k.toDisposable)(()=>clearTimeout(h))}e.disposableTimeout=a;function l(t,o=f=>!!f,h=null){let f=0;const m=t.length,g=()=>{if(f>=m)return Promise.resolve(h);const b=t[f++];return Promise.resolve(b()).then(L=>o(L)?Promise.resolve(L):g())};return g()}e.first=l;class c{constructor(o,h){this._token=-1,typeof o=="function"&&typeof h=="number"&&this.setIfNotSet(o,h)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(o,h){this.cancel(),this._token=setTimeout(()=>{this._token=-1,o()},h)}setIfNotSet(o,h){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,o()},h))}}e.TimeoutTimer=c;class d{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(o,h){this.cancel(),this._token=setInterval(()=>{o()},h)}}e.IntervalTimer=d;class r{constructor(o,h){this.timeoutToken=-1,this.runner=o,this.timeout=h,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(o=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,o)}get delay(){return this.timeout}set delay(o){this.timeout=o}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=r,function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const t=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});e.runWhenIdle=o=>{const h=setTimeout(()=>o(t));let f=!1;return{dispose(){f||(f=!0,clearTimeout(h))}}}}else e.runWhenIdle=(t,o)=>{const h=requestIdleCallback(t,typeof o=="number"?{timeout:o}:void 0);let f=!1;return{dispose(){f||(f=!0,cancelIdleCallback(h))}}}}();class n{constructor(o){this._didRun=!1,this._executor=()=>{try{this._value=o()}catch(h){this._error=h}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}e.IdleValue=n;var s;(function(t){function o(g){return De(this,void 0,void 0,function*(){return typeof Promise.allSettled=="function"?h(g):f(g)})}t.allSettled=o;function h(g){return De(this,void 0,void 0,function*(){return Promise.allSettled(g)})}function f(g){return De(this,void 0,void 0,function*(){return Promise.all(g.map(b=>b.then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))})}function m(g){return De(this,void 0,void 0,function*(){let b;const y=yield Promise.all(g.map(L=>L.then(N=>N,N=>{b||(b=N)})));if(typeof b!="undefined")throw b;return y})}t.settled=m})(s=e.Promises||(e.Promises={}))}),define(te[539],ie([0,1,15,2]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class k extends I.Disposable{constructor(S,p,C){super();this._visibility=S,this._visibleClassName=p,this._invisibleClassName=C,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new v.TimeoutTimer)}applyVisibilitySetting(S){return this._visibility===2?!1:this._visibility===3?!0:S}setShouldBeVisible(S){const p=this.applyVisibilitySetting(S);this._shouldBeVisible!==p&&(this._shouldBeVisible=p,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(S){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=k}),define(te[27],ie([0,1,6]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=e.registerCodicon=e.iconRegistry=void 0;class I{constructor(){this._icons=new Map,this._onDidRegister=new v.Emitter}add(_){const u=this._icons.get(_.id);u?_.description?u.description=_.description:console.error(`Duplicate registration of codicon ${_.id}`):(this._icons.set(_.id,_),this._onDidRegister.fire(_))}get(_){return this._icons.get(_)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const k=new I;e.iconRegistry=k;function w(i,_){return new p(i,_)}e.registerCodicon=w;function S(i){return i?i.replace(/\$\((.*?)\)/g,(_,u)=>` ${u} `).trim():""}e.getCodiconAriaLabel=S;class p{constructor(_,u,a){this.id=_,this.definition=u,this.description=a,k.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=p;var C;(function(i){i.iconNameSegment="[A-Za-z0-9]+",i.iconNameExpression="[A-Za-z0-9\\-]+",i.iconModifierExpression="~[A-Za-z]+";const _=new RegExp(`^(${i.iconNameExpression})(${i.iconModifierExpression})?$`);function u(c){if(c instanceof p)return["codicon","codicon-"+c.id];const d=_.exec(c.id);if(!d)return u(p.error);let[,r,n]=d;const s=["codicon","codicon-"+r];return n&&s.push("codicon-modifier-"+n.substr(1)),s}i.asClassNameArray=u;function a(c){return u(c).join(" ")}i.asClassName=a;function l(c){return"."+u(c).join(".")}i.asCSSSelector=l})(C=e.CSSIcon||(e.CSSIcon={})),function(i){i.add=new i("add",{fontCharacter:"\\ea60"}),i.plus=new i("plus",{fontCharacter:"\\ea60"}),i.gistNew=new i("gist-new",{fontCharacter:"\\ea60"}),i.repoCreate=new i("repo-create",{fontCharacter:"\\ea60"}),i.lightbulb=new i("lightbulb",{fontCharacter:"\\ea61"}),i.lightBulb=new i("light-bulb",{fontCharacter:"\\ea61"}),i.repo=new i("repo",{fontCharacter:"\\ea62"}),i.repoDelete=new i("repo-delete",{fontCharacter:"\\ea62"}),i.gistFork=new i("gist-fork",{fontCharacter:"\\ea63"}),i.repoForked=new i("repo-forked",{fontCharacter:"\\ea63"}),i.gitPullRequest=new i("git-pull-request",{fontCharacter:"\\ea64"}),i.gitPullRequestAbandoned=new i("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),i.recordKeys=new i("record-keys",{fontCharacter:"\\ea65"}),i.keyboard=new i("keyboard",{fontCharacter:"\\ea65"}),i.tag=new i("tag",{fontCharacter:"\\ea66"}),i.tagAdd=new i("tag-add",{fontCharacter:"\\ea66"}),i.tagRemove=new i("tag-remove",{fontCharacter:"\\ea66"}),i.person=new i("person",{fontCharacter:"\\ea67"}),i.personFollow=new i("person-follow",{fontCharacter:"\\ea67"}),i.personOutline=new i("person-outline",{fontCharacter:"\\ea67"}),i.personFilled=new i("person-filled",{fontCharacter:"\\ea67"}),i.gitBranch=new i("git-branch",{fontCharacter:"\\ea68"}),i.gitBranchCreate=new i("git-branch-create",{fontCharacter:"\\ea68"}),i.gitBranchDelete=new i("git-branch-delete",{fontCharacter:"\\ea68"}),i.sourceControl=new i("source-control",{fontCharacter:"\\ea68"}),i.mirror=new i("mirror",{fontCharacter:"\\ea69"}),i.mirrorPublic=new i("mirror-public",{fontCharacter:"\\ea69"}),i.star=new i("star",{fontCharacter:"\\ea6a"}),i.starAdd=new i("star-add",{fontCharacter:"\\ea6a"}),i.starDelete=new i("star-delete",{fontCharacter:"\\ea6a"}),i.starEmpty=new i("star-empty",{fontCharacter:"\\ea6a"}),i.comment=new i("comment",{fontCharacter:"\\ea6b"}),i.commentAdd=new i("comment-add",{fontCharacter:"\\ea6b"}),i.alert=new i("alert",{fontCharacter:"\\ea6c"}),i.warning=new i("warning",{fontCharacter:"\\ea6c"}),i.search=new i("search",{fontCharacter:"\\ea6d"}),i.searchSave=new i("search-save",{fontCharacter:"\\ea6d"}),i.logOut=new i("log-out",{fontCharacter:"\\ea6e"}),i.signOut=new i("sign-out",{fontCharacter:"\\ea6e"}),i.logIn=new i("log-in",{fontCharacter:"\\ea6f"}),i.signIn=new i("sign-in",{fontCharacter:"\\ea6f"}),i.eye=new i("eye",{fontCharacter:"\\ea70"}),i.eyeUnwatch=new i("eye-unwatch",{fontCharacter:"\\ea70"}),i.eyeWatch=new i("eye-watch",{fontCharacter:"\\ea70"}),i.circleFilled=new i("circle-filled",{fontCharacter:"\\ea71"}),i.primitiveDot=new i("primitive-dot",{fontCharacter:"\\ea71"}),i.closeDirty=new i("close-dirty",{fontCharacter:"\\ea71"}),i.debugBreakpoint=new i("debug-breakpoint",{fontCharacter:"\\ea71"}),i.debugBreakpointDisabled=new i("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),i.debugHint=new i("debug-hint",{fontCharacter:"\\ea71"}),i.primitiveSquare=new i("primitive-square",{fontCharacter:"\\ea72"}),i.edit=new i("edit",{fontCharacter:"\\ea73"}),i.pencil=new i("pencil",{fontCharacter:"\\ea73"}),i.info=new i("info",{fontCharacter:"\\ea74"}),i.issueOpened=new i("issue-opened",{fontCharacter:"\\ea74"}),i.gistPrivate=new i("gist-private",{fontCharacter:"\\ea75"}),i.gitForkPrivate=new i("git-fork-private",{fontCharacter:"\\ea75"}),i.lock=new i("lock",{fontCharacter:"\\ea75"}),i.mirrorPrivate=new i("mirror-private",{fontCharacter:"\\ea75"}),i.close=new i("close",{fontCharacter:"\\ea76"}),i.removeClose=new i("remove-close",{fontCharacter:"\\ea76"}),i.x=new i("x",{fontCharacter:"\\ea76"}),i.repoSync=new i("repo-sync",{fontCharacter:"\\ea77"}),i.sync=new i("sync",{fontCharacter:"\\ea77"}),i.clone=new i("clone",{fontCharacter:"\\ea78"}),i.desktopDownload=new i("desktop-download",{fontCharacter:"\\ea78"}),i.beaker=new i("beaker",{fontCharacter:"\\ea79"}),i.microscope=new i("microscope",{fontCharacter:"\\ea79"}),i.vm=new i("vm",{fontCharacter:"\\ea7a"}),i.deviceDesktop=new i("device-desktop",{fontCharacter:"\\ea7a"}),i.file=new i("file",{fontCharacter:"\\ea7b"}),i.fileText=new i("file-text",{fontCharacter:"\\ea7b"}),i.more=new i("more",{fontCharacter:"\\ea7c"}),i.ellipsis=new i("ellipsis",{fontCharacter:"\\ea7c"}),i.kebabHorizontal=new i("kebab-horizontal",{fontCharacter:"\\ea7c"}),i.mailReply=new i("mail-reply",{fontCharacter:"\\ea7d"}),i.reply=new i("reply",{fontCharacter:"\\ea7d"}),i.organization=new i("organization",{fontCharacter:"\\ea7e"}),i.organizationFilled=new i("organization-filled",{fontCharacter:"\\ea7e"}),i.organizationOutline=new i("organization-outline",{fontCharacter:"\\ea7e"}),i.newFile=new i("new-file",{fontCharacter:"\\ea7f"}),i.fileAdd=new i("file-add",{fontCharacter:"\\ea7f"}),i.newFolder=new i("new-folder",{fontCharacter:"\\ea80"}),i.fileDirectoryCreate=new i("file-directory-create",{fontCharacter:"\\ea80"}),i.trash=new i("trash",{fontCharacter:"\\ea81"}),i.trashcan=new i("trashcan",{fontCharacter:"\\ea81"}),i.history=new i("history",{fontCharacter:"\\ea82"}),i.clock=new i("clock",{fontCharacter:"\\ea82"}),i.folder=new i("folder",{fontCharacter:"\\ea83"}),i.fileDirectory=new i("file-directory",{fontCharacter:"\\ea83"}),i.symbolFolder=new i("symbol-folder",{fontCharacter:"\\ea83"}),i.logoGithub=new i("logo-github",{fontCharacter:"\\ea84"}),i.markGithub=new i("mark-github",{fontCharacter:"\\ea84"}),i.github=new i("github",{fontCharacter:"\\ea84"}),i.terminal=new i("terminal",{fontCharacter:"\\ea85"}),i.console=new i("console",{fontCharacter:"\\ea85"}),i.repl=new i("repl",{fontCharacter:"\\ea85"}),i.zap=new i("zap",{fontCharacter:"\\ea86"}),i.symbolEvent=new i("symbol-event",{fontCharacter:"\\ea86"}),i.error=new i("error",{fontCharacter:"\\ea87"}),i.stop=new i("stop",{fontCharacter:"\\ea87"}),i.variable=new i("variable",{fontCharacter:"\\ea88"}),i.symbolVariable=new i("symbol-variable",{fontCharacter:"\\ea88"}),i.array=new i("array",{fontCharacter:"\\ea8a"}),i.symbolArray=new i("symbol-array",{fontCharacter:"\\ea8a"}),i.symbolModule=new i("symbol-module",{fontCharacter:"\\ea8b"}),i.symbolPackage=new i("symbol-package",{fontCharacter:"\\ea8b"}),i.symbolNamespace=new i("symbol-namespace",{fontCharacter:"\\ea8b"}),i.symbolObject=new i("symbol-object",{fontCharacter:"\\ea8b"}),i.symbolMethod=new i("symbol-method",{fontCharacter:"\\ea8c"}),i.symbolFunction=new i("symbol-function",{fontCharacter:"\\ea8c"}),i.symbolConstructor=new i("symbol-constructor",{fontCharacter:"\\ea8c"}),i.symbolBoolean=new i("symbol-boolean",{fontCharacter:"\\ea8f"}),i.symbolNull=new i("symbol-null",{fontCharacter:"\\ea8f"}),i.symbolNumeric=new i("symbol-numeric",{fontCharacter:"\\ea90"}),i.symbolNumber=new i("symbol-number",{fontCharacter:"\\ea90"}),i.symbolStructure=new i("symbol-structure",{fontCharacter:"\\ea91"}),i.symbolStruct=new i("symbol-struct",{fontCharacter:"\\ea91"}),i.symbolParameter=new i("symbol-parameter",{fontCharacter:"\\ea92"}),i.symbolTypeParameter=new i("symbol-type-parameter",{fontCharacter:"\\ea92"}),i.symbolKey=new i("symbol-key",{fontCharacter:"\\ea93"}),i.symbolText=new i("symbol-text",{fontCharacter:"\\ea93"}),i.symbolReference=new i("symbol-reference",{fontCharacter:"\\ea94"}),i.goToFile=new i("go-to-file",{fontCharacter:"\\ea94"}),i.symbolEnum=new i("symbol-enum",{fontCharacter:"\\ea95"}),i.symbolValue=new i("symbol-value",{fontCharacter:"\\ea95"}),i.symbolRuler=new i("symbol-ruler",{fontCharacter:"\\ea96"}),i.symbolUnit=new i("symbol-unit",{fontCharacter:"\\ea96"}),i.activateBreakpoints=new i("activate-breakpoints",{fontCharacter:"\\ea97"}),i.archive=new i("archive",{fontCharacter:"\\ea98"}),i.arrowBoth=new i("arrow-both",{fontCharacter:"\\ea99"}),i.arrowDown=new i("arrow-down",{fontCharacter:"\\ea9a"}),i.arrowLeft=new i("arrow-left",{fontCharacter:"\\ea9b"}),i.arrowRight=new i("arrow-right",{fontCharacter:"\\ea9c"}),i.arrowSmallDown=new i("arrow-small-down",{fontCharacter:"\\ea9d"}),i.arrowSmallLeft=new i("arrow-small-left",{fontCharacter:"\\ea9e"}),i.arrowSmallRight=new i("arrow-small-right",{fontCharacter:"\\ea9f"}),i.arrowSmallUp=new i("arrow-small-up",{fontCharacter:"\\eaa0"}),i.arrowUp=new i("arrow-up",{fontCharacter:"\\eaa1"}),i.bell=new i("bell",{fontCharacter:"\\eaa2"}),i.bold=new i("bold",{fontCharacter:"\\eaa3"}),i.book=new i("book",{fontCharacter:"\\eaa4"}),i.bookmark=new i("bookmark",{fontCharacter:"\\eaa5"}),i.debugBreakpointConditionalUnverified=new i("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),i.debugBreakpointConditional=new i("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),i.debugBreakpointConditionalDisabled=new i("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),i.debugBreakpointDataUnverified=new i("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),i.debugBreakpointData=new i("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),i.debugBreakpointDataDisabled=new i("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),i.debugBreakpointLogUnverified=new i("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),i.debugBreakpointLog=new i("debug-breakpoint-log",{fontCharacter:"\\eaab"}),i.debugBreakpointLogDisabled=new i("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),i.briefcase=new i("briefcase",{fontCharacter:"\\eaac"}),i.broadcast=new i("broadcast",{fontCharacter:"\\eaad"}),i.browser=new i("browser",{fontCharacter:"\\eaae"}),i.bug=new i("bug",{fontCharacter:"\\eaaf"}),i.calendar=new i("calendar",{fontCharacter:"\\eab0"}),i.caseSensitive=new i("case-sensitive",{fontCharacter:"\\eab1"}),i.check=new i("check",{fontCharacter:"\\eab2"}),i.checklist=new i("checklist",{fontCharacter:"\\eab3"}),i.chevronDown=new i("chevron-down",{fontCharacter:"\\eab4"}),i.chevronLeft=new i("chevron-left",{fontCharacter:"\\eab5"}),i.chevronRight=new i("chevron-right",{fontCharacter:"\\eab6"}),i.chevronUp=new i("chevron-up",{fontCharacter:"\\eab7"}),i.chromeClose=new i("chrome-close",{fontCharacter:"\\eab8"}),i.chromeMaximize=new i("chrome-maximize",{fontCharacter:"\\eab9"}),i.chromeMinimize=new i("chrome-minimize",{fontCharacter:"\\eaba"}),i.chromeRestore=new i("chrome-restore",{fontCharacter:"\\eabb"}),i.circleOutline=new i("circle-outline",{fontCharacter:"\\eabc"}),i.debugBreakpointUnverified=new i("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),i.circleSlash=new i("circle-slash",{fontCharacter:"\\eabd"}),i.circuitBoard=new i("circuit-board",{fontCharacter:"\\eabe"}),i.clearAll=new i("clear-all",{fontCharacter:"\\eabf"}),i.clippy=new i("clippy",{fontCharacter:"\\eac0"}),i.closeAll=new i("close-all",{fontCharacter:"\\eac1"}),i.cloudDownload=new i("cloud-download",{fontCharacter:"\\eac2"}),i.cloudUpload=new i("cloud-upload",{fontCharacter:"\\eac3"}),i.code=new i("code",{fontCharacter:"\\eac4"}),i.collapseAll=new i("collapse-all",{fontCharacter:"\\eac5"}),i.colorMode=new i("color-mode",{fontCharacter:"\\eac6"}),i.commentDiscussion=new i("comment-discussion",{fontCharacter:"\\eac7"}),i.compareChanges=new i("compare-changes",{fontCharacter:"\\eafd"}),i.creditCard=new i("credit-card",{fontCharacter:"\\eac9"}),i.dash=new i("dash",{fontCharacter:"\\eacc"}),i.dashboard=new i("dashboard",{fontCharacter:"\\eacd"}),i.database=new i("database",{fontCharacter:"\\eace"}),i.debugContinue=new i("debug-continue",{fontCharacter:"\\eacf"}),i.debugDisconnect=new i("debug-disconnect",{fontCharacter:"\\ead0"}),i.debugPause=new i("debug-pause",{fontCharacter:"\\ead1"}),i.debugRestart=new i("debug-restart",{fontCharacter:"\\ead2"}),i.debugStart=new i("debug-start",{fontCharacter:"\\ead3"}),i.debugStepInto=new i("debug-step-into",{fontCharacter:"\\ead4"}),i.debugStepOut=new i("debug-step-out",{fontCharacter:"\\ead5"}),i.debugStepOver=new i("debug-step-over",{fontCharacter:"\\ead6"}),i.debugStop=new i("debug-stop",{fontCharacter:"\\ead7"}),i.debug=new i("debug",{fontCharacter:"\\ead8"}),i.deviceCameraVideo=new i("device-camera-video",{fontCharacter:"\\ead9"}),i.deviceCamera=new i("device-camera",{fontCharacter:"\\eada"}),i.deviceMobile=new i("device-mobile",{fontCharacter:"\\eadb"}),i.diffAdded=new i("diff-added",{fontCharacter:"\\eadc"}),i.diffIgnored=new i("diff-ignored",{fontCharacter:"\\eadd"}),i.diffModified=new i("diff-modified",{fontCharacter:"\\eade"}),i.diffRemoved=new i("diff-removed",{fontCharacter:"\\eadf"}),i.diffRenamed=new i("diff-renamed",{fontCharacter:"\\eae0"}),i.diff=new i("diff",{fontCharacter:"\\eae1"}),i.discard=new i("discard",{fontCharacter:"\\eae2"}),i.editorLayout=new i("editor-layout",{fontCharacter:"\\eae3"}),i.emptyWindow=new i("empty-window",{fontCharacter:"\\eae4"}),i.exclude=new i("exclude",{fontCharacter:"\\eae5"}),i.extensions=new i("extensions",{fontCharacter:"\\eae6"}),i.eyeClosed=new i("eye-closed",{fontCharacter:"\\eae7"}),i.fileBinary=new i("file-binary",{fontCharacter:"\\eae8"}),i.fileCode=new i("file-code",{fontCharacter:"\\eae9"}),i.fileMedia=new i("file-media",{fontCharacter:"\\eaea"}),i.filePdf=new i("file-pdf",{fontCharacter:"\\eaeb"}),i.fileSubmodule=new i("file-submodule",{fontCharacter:"\\eaec"}),i.fileSymlinkDirectory=new i("file-symlink-directory",{fontCharacter:"\\eaed"}),i.fileSymlinkFile=new i("file-symlink-file",{fontCharacter:"\\eaee"}),i.fileZip=new i("file-zip",{fontCharacter:"\\eaef"}),i.files=new i("files",{fontCharacter:"\\eaf0"}),i.filter=new i("filter",{fontCharacter:"\\eaf1"}),i.flame=new i("flame",{fontCharacter:"\\eaf2"}),i.foldDown=new i("fold-down",{fontCharacter:"\\eaf3"}),i.foldUp=new i("fold-up",{fontCharacter:"\\eaf4"}),i.fold=new i("fold",{fontCharacter:"\\eaf5"}),i.folderActive=new i("folder-active",{fontCharacter:"\\eaf6"}),i.folderOpened=new i("folder-opened",{fontCharacter:"\\eaf7"}),i.gear=new i("gear",{fontCharacter:"\\eaf8"}),i.gift=new i("gift",{fontCharacter:"\\eaf9"}),i.gistSecret=new i("gist-secret",{fontCharacter:"\\eafa"}),i.gist=new i("gist",{fontCharacter:"\\eafb"}),i.gitCommit=new i("git-commit",{fontCharacter:"\\eafc"}),i.gitCompare=new i("git-compare",{fontCharacter:"\\eafd"}),i.gitMerge=new i("git-merge",{fontCharacter:"\\eafe"}),i.githubAction=new i("github-action",{fontCharacter:"\\eaff"}),i.githubAlt=new i("github-alt",{fontCharacter:"\\eb00"}),i.globe=new i("globe",{fontCharacter:"\\eb01"}),i.grabber=new i("grabber",{fontCharacter:"\\eb02"}),i.graph=new i("graph",{fontCharacter:"\\eb03"}),i.gripper=new i("gripper",{fontCharacter:"\\eb04"}),i.heart=new i("heart",{fontCharacter:"\\eb05"}),i.home=new i("home",{fontCharacter:"\\eb06"}),i.horizontalRule=new i("horizontal-rule",{fontCharacter:"\\eb07"}),i.hubot=new i("hubot",{fontCharacter:"\\eb08"}),i.inbox=new i("inbox",{fontCharacter:"\\eb09"}),i.issueClosed=new i("issue-closed",{fontCharacter:"\\eb0a"}),i.issueReopened=new i("issue-reopened",{fontCharacter:"\\eb0b"}),i.issues=new i("issues",{fontCharacter:"\\eb0c"}),i.italic=new i("italic",{fontCharacter:"\\eb0d"}),i.jersey=new i("jersey",{fontCharacter:"\\eb0e"}),i.json=new i("json",{fontCharacter:"\\eb0f"}),i.kebabVertical=new i("kebab-vertical",{fontCharacter:"\\eb10"}),i.key=new i("key",{fontCharacter:"\\eb11"}),i.law=new i("law",{fontCharacter:"\\eb12"}),i.lightbulbAutofix=new i("lightbulb-autofix",{fontCharacter:"\\eb13"}),i.linkExternal=new i("link-external",{fontCharacter:"\\eb14"}),i.link=new i("link",{fontCharacter:"\\eb15"}),i.listOrdered=new i("list-ordered",{fontCharacter:"\\eb16"}),i.listUnordered=new i("list-unordered",{fontCharacter:"\\eb17"}),i.liveShare=new i("live-share",{fontCharacter:"\\eb18"}),i.loading=new i("loading",{fontCharacter:"\\eb19"}),i.location=new i("location",{fontCharacter:"\\eb1a"}),i.mailRead=new i("mail-read",{fontCharacter:"\\eb1b"}),i.mail=new i("mail",{fontCharacter:"\\eb1c"}),i.markdown=new i("markdown",{fontCharacter:"\\eb1d"}),i.megaphone=new i("megaphone",{fontCharacter:"\\eb1e"}),i.mention=new i("mention",{fontCharacter:"\\eb1f"}),i.milestone=new i("milestone",{fontCharacter:"\\eb20"}),i.mortarBoard=new i("mortar-board",{fontCharacter:"\\eb21"}),i.move=new i("move",{fontCharacter:"\\eb22"}),i.multipleWindows=new i("multiple-windows",{fontCharacter:"\\eb23"}),i.mute=new i("mute",{fontCharacter:"\\eb24"}),i.noNewline=new i("no-newline",{fontCharacter:"\\eb25"}),i.note=new i("note",{fontCharacter:"\\eb26"}),i.octoface=new i("octoface",{fontCharacter:"\\eb27"}),i.openPreview=new i("open-preview",{fontCharacter:"\\eb28"}),i.package_=new i("package",{fontCharacter:"\\eb29"}),i.paintcan=new i("paintcan",{fontCharacter:"\\eb2a"}),i.pin=new i("pin",{fontCharacter:"\\eb2b"}),i.play=new i("play",{fontCharacter:"\\eb2c"}),i.run=new i("run",{fontCharacter:"\\eb2c"}),i.plug=new i("plug",{fontCharacter:"\\eb2d"}),i.preserveCase=new i("preserve-case",{fontCharacter:"\\eb2e"}),i.preview=new i("preview",{fontCharacter:"\\eb2f"}),i.project=new i("project",{fontCharacter:"\\eb30"}),i.pulse=new i("pulse",{fontCharacter:"\\eb31"}),i.question=new i("question",{fontCharacter:"\\eb32"}),i.quote=new i("quote",{fontCharacter:"\\eb33"}),i.radioTower=new i("radio-tower",{fontCharacter:"\\eb34"}),i.reactions=new i("reactions",{fontCharacter:"\\eb35"}),i.references=new i("references",{fontCharacter:"\\eb36"}),i.refresh=new i("refresh",{fontCharacter:"\\eb37"}),i.regex=new i("regex",{fontCharacter:"\\eb38"}),i.remoteExplorer=new i("remote-explorer",{fontCharacter:"\\eb39"}),i.remote=new i("remote",{fontCharacter:"\\eb3a"}),i.remove=new i("remove",{fontCharacter:"\\eb3b"}),i.replaceAll=new i("replace-all",{fontCharacter:"\\eb3c"}),i.replace=new i("replace",{fontCharacter:"\\eb3d"}),i.repoClone=new i("repo-clone",{fontCharacter:"\\eb3e"}),i.repoForcePush=new i("repo-force-push",{fontCharacter:"\\eb3f"}),i.repoPull=new i("repo-pull",{fontCharacter:"\\eb40"}),i.repoPush=new i("repo-push",{fontCharacter:"\\eb41"}),i.report=new i("report",{fontCharacter:"\\eb42"}),i.requestChanges=new i("request-changes",{fontCharacter:"\\eb43"}),i.rocket=new i("rocket",{fontCharacter:"\\eb44"}),i.rootFolderOpened=new i("root-folder-opened",{fontCharacter:"\\eb45"}),i.rootFolder=new i("root-folder",{fontCharacter:"\\eb46"}),i.rss=new i("rss",{fontCharacter:"\\eb47"}),i.ruby=new i("ruby",{fontCharacter:"\\eb48"}),i.saveAll=new i("save-all",{fontCharacter:"\\eb49"}),i.saveAs=new i("save-as",{fontCharacter:"\\eb4a"}),i.save=new i("save",{fontCharacter:"\\eb4b"}),i.screenFull=new i("screen-full",{fontCharacter:"\\eb4c"}),i.screenNormal=new i("screen-normal",{fontCharacter:"\\eb4d"}),i.searchStop=new i("search-stop",{fontCharacter:"\\eb4e"}),i.server=new i("server",{fontCharacter:"\\eb50"}),i.settingsGear=new i("settings-gear",{fontCharacter:"\\eb51"}),i.settings=new i("settings",{fontCharacter:"\\eb52"}),i.shield=new i("shield",{fontCharacter:"\\eb53"}),i.smiley=new i("smiley",{fontCharacter:"\\eb54"}),i.sortPrecedence=new i("sort-precedence",{fontCharacter:"\\eb55"}),i.splitHorizontal=new i("split-horizontal",{fontCharacter:"\\eb56"}),i.splitVertical=new i("split-vertical",{fontCharacter:"\\eb57"}),i.squirrel=new i("squirrel",{fontCharacter:"\\eb58"}),i.starFull=new i("star-full",{fontCharacter:"\\eb59"}),i.starHalf=new i("star-half",{fontCharacter:"\\eb5a"}),i.symbolClass=new i("symbol-class",{fontCharacter:"\\eb5b"}),i.symbolColor=new i("symbol-color",{fontCharacter:"\\eb5c"}),i.symbolConstant=new i("symbol-constant",{fontCharacter:"\\eb5d"}),i.symbolEnumMember=new i("symbol-enum-member",{fontCharacter:"\\eb5e"}),i.symbolField=new i("symbol-field",{fontCharacter:"\\eb5f"}),i.symbolFile=new i("symbol-file",{fontCharacter:"\\eb60"}),i.symbolInterface=new i("symbol-interface",{fontCharacter:"\\eb61"}),i.symbolKeyword=new i("symbol-keyword",{fontCharacter:"\\eb62"}),i.symbolMisc=new i("symbol-misc",{fontCharacter:"\\eb63"}),i.symbolOperator=new i("symbol-operator",{fontCharacter:"\\eb64"}),i.symbolProperty=new i("symbol-property",{fontCharacter:"\\eb65"}),i.wrench=new i("wrench",{fontCharacter:"\\eb65"}),i.wrenchSubaction=new i("wrench-subaction",{fontCharacter:"\\eb65"}),i.symbolSnippet=new i("symbol-snippet",{fontCharacter:"\\eb66"}),i.tasklist=new i("tasklist",{fontCharacter:"\\eb67"}),i.telescope=new i("telescope",{fontCharacter:"\\eb68"}),i.textSize=new i("text-size",{fontCharacter:"\\eb69"}),i.threeBars=new i("three-bars",{fontCharacter:"\\eb6a"}),i.thumbsdown=new i("thumbsdown",{fontCharacter:"\\eb6b"}),i.thumbsup=new i("thumbsup",{fontCharacter:"\\eb6c"}),i.tools=new i("tools",{fontCharacter:"\\eb6d"}),i.triangleDown=new i("triangle-down",{fontCharacter:"\\eb6e"}),i.triangleLeft=new i("triangle-left",{fontCharacter:"\\eb6f"}),i.triangleRight=new i("triangle-right",{fontCharacter:"\\eb70"}),i.triangleUp=new i("triangle-up",{fontCharacter:"\\eb71"}),i.twitter=new i("twitter",{fontCharacter:"\\eb72"}),i.unfold=new i("unfold",{fontCharacter:"\\eb73"}),i.unlock=new i("unlock",{fontCharacter:"\\eb74"}),i.unmute=new i("unmute",{fontCharacter:"\\eb75"}),i.unverified=new i("unverified",{fontCharacter:"\\eb76"}),i.verified=new i("verified",{fontCharacter:"\\eb77"}),i.versions=new i("versions",{fontCharacter:"\\eb78"}),i.vmActive=new i("vm-active",{fontCharacter:"\\eb79"}),i.vmOutline=new i("vm-outline",{fontCharacter:"\\eb7a"}),i.vmRunning=new i("vm-running",{fontCharacter:"\\eb7b"}),i.watch=new i("watch",{fontCharacter:"\\eb7c"}),i.whitespace=new i("whitespace",{fontCharacter:"\\eb7d"}),i.wholeWord=new i("whole-word",{fontCharacter:"\\eb7e"}),i.window=new i("window",{fontCharacter:"\\eb7f"}),i.wordWrap=new i("word-wrap",{fontCharacter:"\\eb80"}),i.zoomIn=new i("zoom-in",{fontCharacter:"\\eb81"}),i.zoomOut=new i("zoom-out",{fontCharacter:"\\eb82"}),i.listFilter=new i("list-filter",{fontCharacter:"\\eb83"}),i.listFlat=new i("list-flat",{fontCharacter:"\\eb84"}),i.listSelection=new i("list-selection",{fontCharacter:"\\eb85"}),i.selection=new i("selection",{fontCharacter:"\\eb85"}),i.listTree=new i("list-tree",{fontCharacter:"\\eb86"}),i.debugBreakpointFunctionUnverified=new i("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),i.debugBreakpointFunction=new i("debug-breakpoint-function",{fontCharacter:"\\eb88"}),i.debugBreakpointFunctionDisabled=new i("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),i.debugStackframeActive=new i("debug-stackframe-active",{fontCharacter:"\\eb89"}),i.debugStackframeDot=new i("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),i.debugStackframe=new i("debug-stackframe",{fontCharacter:"\\eb8b"}),i.debugStackframeFocused=new i("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),i.debugBreakpointUnsupported=new i("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),i.symbolString=new i("symbol-string",{fontCharacter:"\\eb8d"}),i.debugReverseContinue=new i("debug-reverse-continue",{fontCharacter:"\\eb8e"}),i.debugStepBack=new i("debug-step-back",{fontCharacter:"\\eb8f"}),i.debugRestartFrame=new i("debug-restart-frame",{fontCharacter:"\\eb90"}),i.callIncoming=new i("call-incoming",{fontCharacter:"\\eb92"}),i.callOutgoing=new i("call-outgoing",{fontCharacter:"\\eb93"}),i.menu=new i("menu",{fontCharacter:"\\eb94"}),i.expandAll=new i("expand-all",{fontCharacter:"\\eb95"}),i.feedback=new i("feedback",{fontCharacter:"\\eb96"}),i.groupByRefType=new i("group-by-ref-type",{fontCharacter:"\\eb97"}),i.ungroupByRefType=new i("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),i.account=new i("account",{fontCharacter:"\\eb99"}),i.bellDot=new i("bell-dot",{fontCharacter:"\\eb9a"}),i.debugConsole=new i("debug-console",{fontCharacter:"\\eb9b"}),i.library=new i("library",{fontCharacter:"\\eb9c"}),i.output=new i("output",{fontCharacter:"\\eb9d"}),i.runAll=new i("run-all",{fontCharacter:"\\eb9e"}),i.syncIgnored=new i("sync-ignored",{fontCharacter:"\\eb9f"}),i.pinned=new i("pinned",{fontCharacter:"\\eba0"}),i.githubInverted=new i("github-inverted",{fontCharacter:"\\eba1"}),i.debugAlt=new i("debug-alt",{fontCharacter:"\\eb91"}),i.serverProcess=new i("server-process",{fontCharacter:"\\eba2"}),i.serverEnvironment=new i("server-environment",{fontCharacter:"\\eba3"}),i.pass=new i("pass",{fontCharacter:"\\eba4"}),i.stopCircle=new i("stop-circle",{fontCharacter:"\\eba5"}),i.playCircle=new i("play-circle",{fontCharacter:"\\eba6"}),i.record=new i("record",{fontCharacter:"\\eba7"}),i.debugAltSmall=new i("debug-alt-small",{fontCharacter:"\\eba8"}),i.vmConnect=new i("vm-connect",{fontCharacter:"\\eba9"}),i.cloud=new i("cloud",{fontCharacter:"\\ebaa"}),i.merge=new i("merge",{fontCharacter:"\\ebab"}),i.exportIcon=new i("export",{fontCharacter:"\\ebac"}),i.graphLeft=new i("graph-left",{fontCharacter:"\\ebad"}),i.magnet=new i("magnet",{fontCharacter:"\\ebae"}),i.notebook=new i("notebook",{fontCharacter:"\\ebaf"}),i.redo=new i("redo",{fontCharacter:"\\ebb0"}),i.checkAll=new i("check-all",{fontCharacter:"\\ebb1"}),i.pinnedDirty=new i("pinned-dirty",{fontCharacter:"\\ebb2"}),i.passFilled=new i("pass-filled",{fontCharacter:"\\ebb3"}),i.circleLargeFilled=new i("circle-large-filled",{fontCharacter:"\\ebb4"}),i.circleLargeOutline=new i("circle-large-outline",{fontCharacter:"\\ebb5"}),i.combine=new i("combine",{fontCharacter:"\\ebb6"}),i.gather=new i("gather",{fontCharacter:"\\ebb6"}),i.table=new i("table",{fontCharacter:"\\ebb7"}),i.variableGroup=new i("variable-group",{fontCharacter:"\\ebb8"}),i.typeHierarchy=new i("type-hierarchy",{fontCharacter:"\\ebb9"}),i.typeHierarchySub=new i("type-hierarchy-sub",{fontCharacter:"\\ebba"}),i.typeHierarchySuper=new i("type-hierarchy-super",{fontCharacter:"\\ebbb"}),i.gitPullRequestCreate=new i("git-pull-request-create",{fontCharacter:"\\ebbc"}),i.runAbove=new i("run-above",{fontCharacter:"\\ebbd"}),i.runBelow=new i("run-below",{fontCharacter:"\\ebbe"}),i.notebookTemplate=new i("notebook-template",{fontCharacter:"\\ebbf"}),i.debugRerun=new i("debug-rerun",{fontCharacter:"\\ebc0"}),i.workspaceTrusted=new i("workspace-trusted",{fontCharacter:"\\ebc1"}),i.workspaceUntrusted=new i("workspace-untrusted",{fontCharacter:"\\ebc2"}),i.workspaceUnspecified=new i("workspace-unspecified",{fontCharacter:"\\ebc3"}),i.terminalCmd=new i("terminal-cmd",{fontCharacter:"\\ebc4"}),i.terminalDebian=new i("terminal-debian",{fontCharacter:"\\ebc5"}),i.terminalLinux=new i("terminal-linux",{fontCharacter:"\\ebc6"}),i.terminalPowershell=new i("terminal-powershell",{fontCharacter:"\\ebc7"}),i.terminalTmux=new i("terminal-tmux",{fontCharacter:"\\ebc8"}),i.terminalUbuntu=new i("terminal-ubuntu",{fontCharacter:"\\ebc9"}),i.terminalBash=new i("terminal-bash",{fontCharacter:"\\ebca"}),i.arrowSwap=new i("arrow-swap",{fontCharacter:"\\ebcb"}),i.copy=new i("copy",{fontCharacter:"\\ebcc"}),i.personAdd=new i("person-add",{fontCharacter:"\\ebcd"}),i.filterFilled=new i("filter-filled",{fontCharacter:"\\ebce"}),i.wand=new i("wand",{fontCharacter:"\\ebcf"}),i.debugLineByLine=new i("debug-line-by-line",{fontCharacter:"\\ebd0"}),i.dropDownButton=new i("drop-down-button",i.chevronDown.definition)}(p=e.Codicon||(e.Codicon={}))}),define(te[260],ie([0,1,27]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treeItemLoadingIcon=e.treeFilterClearIcon=e.treeFilterOnTypeOffIcon=e.treeFilterOnTypeOnIcon=e.treeItemExpandedIcon=void 0,e.treeItemExpandedIcon=(0,v.registerCodicon)("tree-item-expanded",v.Codicon.chevronDown),e.treeFilterOnTypeOnIcon=(0,v.registerCodicon)("tree-filter-on-type-on",v.Codicon.listFilter),e.treeFilterOnTypeOffIcon=(0,v.registerCodicon)("tree-filter-on-type-off",v.Codicon.listSelection),e.treeFilterClearIcon=(0,v.registerCodicon)("tree-filter-clear",v.Codicon.close),e.treeItemLoadingIcon=(0,v.registerCodicon)("tree-item-loading",v.Codicon.loading)}),define(te[453],ie([0,1,15]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const I=new v.IdleValue(()=>{const p=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:p,collatorIsNumeric:p.resolvedOptions().numeric}});function k(p,C,i=!1){const _=p||"",u=C||"",a=I.value.collator.compare(_,u);return I.value.collatorIsNumeric&&a===0&&_!==u?_<u?-1:1:a}e.compareFileNames=k;function w(p,C,i){const _=p.toLowerCase(),u=C.toLowerCase(),a=S(p,C,i);if(a)return a;const l=_.endsWith(i),c=u.endsWith(i);if(l!==c)return l?-1:1;const d=k(_,u);return d!==0?d:_.localeCompare(u)}e.compareAnything=w;function S(p,C,i){const _=p.toLowerCase(),u=C.toLowerCase(),a=_.startsWith(i),l=u.startsWith(i);if(a!==l)return a?-1:1;if(a&&l){if(_.length<u.length)return-1;if(_.length>u.length)return 1}return 0}e.compareByPrefix=S}),define(te[143],ie([0,1,6,2]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class k{constructor(l,c,d,r,n,s){l=l|0,c=c|0,d=d|0,r=r|0,n=n|0,s=s|0,this.rawScrollLeft=d,this.rawScrollTop=s,l<0&&(l=0),d+l>c&&(d=c-l),d<0&&(d=0),r<0&&(r=0),s+r>n&&(s=n-r),s<0&&(s=0),this.width=l,this.scrollWidth=c,this.scrollLeft=d,this.height=r,this.scrollHeight=n,this.scrollTop=s}equals(l){return this.rawScrollLeft===l.rawScrollLeft&&this.rawScrollTop===l.rawScrollTop&&this.width===l.width&&this.scrollWidth===l.scrollWidth&&this.scrollLeft===l.scrollLeft&&this.height===l.height&&this.scrollHeight===l.scrollHeight&&this.scrollTop===l.scrollTop}withScrollDimensions(l,c){return new k(typeof l.width!="undefined"?l.width:this.width,typeof l.scrollWidth!="undefined"?l.scrollWidth:this.scrollWidth,c?this.rawScrollLeft:this.scrollLeft,typeof l.height!="undefined"?l.height:this.height,typeof l.scrollHeight!="undefined"?l.scrollHeight:this.scrollHeight,c?this.rawScrollTop:this.scrollTop)}withScrollPosition(l){return new k(this.width,this.scrollWidth,typeof l.scrollLeft!="undefined"?l.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof l.scrollTop!="undefined"?l.scrollTop:this.rawScrollTop)}createScrollEvent(l,c){const d=this.width!==l.width,r=this.scrollWidth!==l.scrollWidth,n=this.scrollLeft!==l.scrollLeft,s=this.height!==l.height,t=this.scrollHeight!==l.scrollHeight,o=this.scrollTop!==l.scrollTop;return{inSmoothScrolling:c,oldWidth:l.width,oldScrollWidth:l.scrollWidth,oldScrollLeft:l.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:l.height,oldScrollHeight:l.scrollHeight,oldScrollTop:l.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:d,scrollWidthChanged:r,scrollLeftChanged:n,heightChanged:s,scrollHeightChanged:t,scrollTopChanged:o}}}e.ScrollState=k;class w extends I.Disposable{constructor(l,c){super();this._onScroll=this._register(new v.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=l,this._scheduleAtNextAnimationFrame=c,this._state=new k(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(l){this._smoothScrollDuration=l}validateScrollPosition(l){return this._state.withScrollPosition(l)}getScrollDimensions(){return this._state}setScrollDimensions(l,c){const d=this._state.withScrollDimensions(l,c);this._setState(d,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(l){const c=this._state.withScrollPosition(l);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(c,!1)}setScrollPositionSmooth(l,c){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(l);if(this._smoothScrolling){l={scrollLeft:typeof l.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:l.scrollLeft,scrollTop:typeof l.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:l.scrollTop};const d=this._state.withScrollPosition(l);if(this._smoothScrolling.to.scrollLeft===d.scrollLeft&&this._smoothScrolling.to.scrollTop===d.scrollTop)return;let r;c?r=new i(this._smoothScrolling.from,d,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,d,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const d=this._state.withScrollPosition(l);this._smoothScrolling=i.start(this._state,d,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!!this._smoothScrolling){const l=this._smoothScrolling.tick(),c=this._state.withScrollPosition(l);if(this._setState(c,!0),!!this._smoothScrolling){if(l.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}}_setState(l,c){const d=this._state;d.equals(l)||(this._state=l,this._onScroll.fire(this._state.createScrollEvent(d,c)))}}e.Scrollable=w;class S{constructor(l,c,d){this.scrollLeft=l,this.scrollTop=c,this.isDone=d}}e.SmoothScrollingUpdate=S;function p(a,l){const c=l-a;return function(d){return a+c*u(d)}}function C(a,l,c){return function(d){return d<c?a(d/c):l((d-c)/(1-c))}}class i{constructor(l,c,d,r){this.from=l,this.to=c,this.duration=r,this.startTime=d,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(l,c,d){if(Math.abs(l-c)>2.5*d){let n,s;return l<c?(n=l+.75*d,s=c-.75*d):(n=l-.75*d,s=c+.75*d),C(p(l,n),p(s,c),.33)}return p(l,c)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(l){this.to=l.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(l){const c=(l-this.startTime)/this.duration;if(c<1){const d=this.scrollLeft(c),r=this.scrollTop(c);return new S(d,r,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(l,c,d){return i.start(l,c,d)}static start(l,c,d){d=d+10;const r=Date.now()-10;return new i(l,c,r,d)}}e.SmoothScrollingOperation=i;function _(a){return Math.pow(a,3)}function u(a){return 1-_(1-a)}}),define(te[8],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.decodeUTF8=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function v(Y){return!Y||typeof Y!="string"?!0:Y.trim().length===0}e.isFalsyOrWhitespace=v;const I=/{(\d+)}/g;function k(Y,...j){return j.length===0?Y:Y.replace(I,function(ne,X){const ue=parseInt(X,10);return isNaN(ue)||ue<0||ue>=j.length?ne:j[ue]})}e.format=k;function w(Y){return Y.replace(/[<>&]/g,function(j){switch(j){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return j}})}e.escape=w;function S(Y){return Y.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=S;function p(Y,j=" "){const ne=C(Y,j);return i(ne,j)}e.trim=p;function C(Y,j){if(!Y||!j)return Y;const ne=j.length;if(ne===0||Y.length===0)return Y;let X=0;for(;Y.indexOf(j,X)===X;)X=X+ne;return Y.substring(X)}e.ltrim=C;function i(Y,j){if(!Y||!j)return Y;const ne=j.length,X=Y.length;if(ne===0||X===0)return Y;let ue=X,he=-1;for(;he=Y.lastIndexOf(j,ue-1),!(he===-1||he+ne!==ue);){if(he===0)return"";ue=he}return Y.substring(0,ue)}e.rtrim=i;function _(Y){return Y.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=_;function u(Y){return Y.replace(/\*/g,"")}e.stripWildcards=u;function a(Y,j,ne={}){if(!Y)throw new Error("Cannot create regex from empty string");j||(Y=S(Y)),ne.wholeWord&&(/\B/.test(Y.charAt(0))||(Y="\\b"+Y),/\B/.test(Y.charAt(Y.length-1))||(Y=Y+"\\b"));let X="";return ne.global&&(X+="g"),ne.matchCase||(X+="i"),ne.multiline&&(X+="m"),ne.unicode&&(X+="u"),new RegExp(Y,X)}e.createRegExp=a;function l(Y){return Y.source==="^"||Y.source==="^$"||Y.source==="$"||Y.source==="^\\s*$"?!1:!!(Y.exec("")&&Y.lastIndex===0)}e.regExpLeadsToEndlessLoop=l;function c(Y){return(Y.global?"g":"")+(Y.ignoreCase?"i":"")+(Y.multiline?"m":"")+(Y.unicode?"u":"")}e.regExpFlags=c;function d(Y){return Y.split(/\r\n|\r|\n/)}e.splitLines=d;function r(Y){for(let j=0,ne=Y.length;j<ne;j++){const X=Y.charCodeAt(j);if(X!==32&&X!==9)return j}return-1}e.firstNonWhitespaceIndex=r;function n(Y,j=0,ne=Y.length){for(let X=j;X<ne;X++){const ue=Y.charCodeAt(X);if(ue!==32&&ue!==9)return Y.substring(j,X)}return Y.substring(j,ne)}e.getLeadingWhitespace=n;function s(Y,j=Y.length-1){for(let ne=j;ne>=0;ne--){const X=Y.charCodeAt(ne);if(X!==32&&X!==9)return ne}return-1}e.lastNonWhitespaceIndex=s;function t(Y,j){return Y<j?-1:Y>j?1:0}e.compare=t;function o(Y,j,ne=0,X=Y.length,ue=0,he=j.length){for(;ne<X&&ue<he;ne++,ue++){let me=Y.charCodeAt(ne),Ce=j.charCodeAt(ue);if(me<Ce)return-1;if(me>Ce)return 1}const re=X-ne,ce=he-ue;return re<ce?-1:re>ce?1:0}e.compareSubstring=o;function h(Y,j){return f(Y,j,0,Y.length,0,j.length)}e.compareIgnoreCase=h;function f(Y,j,ne=0,X=Y.length,ue=0,he=j.length){for(;ne<X&&ue<he;ne++,ue++){let me=Y.charCodeAt(ne),Ce=j.charCodeAt(ue);if(me!==Ce){const we=me-Ce;if(!(we===32&&g(Ce))&&!(we===-32&&g(me)))return m(me)&&m(Ce)?we:o(Y.toLowerCase(),j.toLowerCase(),ne,X,ue,he)}}const re=X-ne,ce=he-ue;return re<ce?-1:re>ce?1:0}e.compareSubstringIgnoreCase=f;function m(Y){return Y>=97&&Y<=122}e.isLowerAsciiLetter=m;function g(Y){return Y>=65&&Y<=90}e.isUpperAsciiLetter=g;function b(Y){return m(Y)||g(Y)}function y(Y,j){return Y.length===j.length&&L(Y,j)}e.equalsIgnoreCase=y;function L(Y,j,ne=Y.length){for(let X=0;X<ne;X++){const ue=Y.charCodeAt(X),he=j.charCodeAt(X);if(ue!==he){if(b(ue)&&b(he)){const re=Math.abs(ue-he);if(re!==0&&re!==32)return!1}else if(String.fromCharCode(ue).toLowerCase()!==String.fromCharCode(he).toLowerCase())return!1}}return!0}function N(Y,j){const ne=j.length;return j.length>Y.length?!1:L(Y,j,ne)}e.startsWithIgnoreCase=N;function M(Y,j){let ne,X=Math.min(Y.length,j.length);for(ne=0;ne<X;ne++)if(Y.charCodeAt(ne)!==j.charCodeAt(ne))return ne;return X}e.commonPrefixLength=M;function D(Y,j){let ne,X=Math.min(Y.length,j.length);const ue=Y.length-1,he=j.length-1;for(ne=0;ne<X;ne++)if(Y.charCodeAt(ue-ne)!==j.charCodeAt(he-ne))return ne;return X}e.commonSuffixLength=D;function R(Y){return 55296<=Y&&Y<=56319}e.isHighSurrogate=R;function P(Y){return 56320<=Y&&Y<=57343}e.isLowSurrogate=P;function O(Y,j){return(Y-55296<<10)+(j-56320)+65536}e.computeCodePoint=O;function W(Y,j,ne){const X=Y.charCodeAt(ne);if(R(X)&&ne+1<j){const ue=Y.charCodeAt(ne+1);if(P(ue))return O(X,ue)}return X}e.getNextCodePoint=W;function F(Y,j){const ne=Y.charCodeAt(j-1);if(P(ne)&&j>1){const X=Y.charCodeAt(j-2);if(R(X))return O(X,ne)}return ne}function E(Y,j){const ne=oe.getInstance(),X=j,ue=Y.length,he=W(Y,ue,j);j+=he>=65536?2:1;let re=ne.getGraphemeBreakType(he);for(;j<ue;){const ce=W(Y,ue,j),me=ne.getGraphemeBreakType(ce);if(ee(re,me))break;j+=ce>=65536?2:1,re=me}return j-X}e.nextCharLength=E;function A(Y,j){const ne=oe.getInstance(),X=j,ue=F(Y,j);j-=ue>=65536?2:1;let he=ne.getGraphemeBreakType(ue);for(;j>0;){const re=F(Y,j),ce=ne.getGraphemeBreakType(re);if(ee(ce,he))break;j-=re>=65536?2:1,he=ce}return X-j}e.prevCharLength=A;function B(Y){const j=Y.byteLength,ne=[];let X=0;for(;X<j;){const ue=Y[X];let he;if(ue>=240&&X+3<j?he=(Y[X++]&7)<<18>>>0|(Y[X++]&63)<<12>>>0|(Y[X++]&63)<<6>>>0|(Y[X++]&63)<<0>>>0:ue>=224&&X+2<j?he=(Y[X++]&15)<<12>>>0|(Y[X++]&63)<<6>>>0|(Y[X++]&63)<<0>>>0:ue>=192&&X+1<j?he=(Y[X++]&31)<<6>>>0|(Y[X++]&63)<<0>>>0:he=Y[X++],he>=0&&he<=55295||he>=57344&&he<=65535)ne.push(String.fromCharCode(he));else if(he>=65536&&he<=1114111){const re=he-65536,ce=55296+((re&1047552)>>>10),me=56320+((re&1023)>>>0);ne.push(String.fromCharCode(ce)),ne.push(String.fromCharCode(me))}else ne.push(String.fromCharCode(65533))}return ne.join("")}e.decodeUTF8=B;const z=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function U(Y){return z.test(Y)}e.containsRTL=U;const K=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function G(Y){return K.test(Y)}e.containsEmoji=G;const J=/^[\t\n\r\x20-\x7E]*$/;function Q(Y){return J.test(Y)}e.isBasicASCII=Q,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function ae(Y){return e.UNUSUAL_LINE_TERMINATORS.test(Y)}e.containsUnusualLineTerminators=ae;function se(Y){for(let j=0,ne=Y.length;j<ne;j++)if(Z(Y.charCodeAt(j)))return!0;return!1}e.containsFullWidthCharacter=se;function Z(Y){return Y=+Y,Y>=11904&&Y<=55215||Y>=63744&&Y<=64255||Y>=65281&&Y<=65374}e.isFullWidthCharacter=Z;function T(Y){return Y>=127462&&Y<=127487||Y===8986||Y===8987||Y===9200||Y===9203||Y>=9728&&Y<=10175||Y===11088||Y===11093||Y>=127744&&Y<=128591||Y>=128640&&Y<=128764||Y>=128992&&Y<=129003||Y>=129280&&Y<=129535||Y>=129648&&Y<=129750}e.isEmojiImprecise=T,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function x(Y){return!!(Y&&Y.length>0&&Y.charCodeAt(0)===65279)}e.startsWithUTF8BOM=x;function H(Y,j=!1){return Y?(j&&(Y=Y.replace(/\\./g,"")),Y.toLowerCase()!==Y):!1}e.containsUppercaseCharacter=H;function V(Y){const j=90-65+1;return Y=Y%(2*j),Y<j?String.fromCharCode(97+Y):String.fromCharCode(65+Y-j)}e.singleLetterHash=V;function q(Y){return oe.getInstance().getGraphemeBreakType(Y)}e.getGraphemeBreakType=q;function ee(Y,j){return Y===0?j!==5&&j!==7:Y===2&&j===3?!1:Y===4||Y===2||Y===3||j===4||j===2||j===3?!0:!(Y===8&&(j===8||j===9||j===11||j===12)||(Y===11||Y===9)&&(j===9||j===10)||(Y===12||Y===10)&&j===10||j===5||j===13||j===7||Y===1||Y===13&&j===14||Y===6&&j===6)}e.breakBetweenGraphemeBreakType=ee;class oe{constructor(){this._data=le()}static getInstance(){return oe._INSTANCE||(oe._INSTANCE=new oe),oe._INSTANCE}getGraphemeBreakType(j){if(j<32)return j===10?3:j===13?2:4;if(j<127)return 0;const ne=this._data,X=ne.length/3;let ue=1;for(;ue<=X;)if(j<ne[3*ue])ue=2*ue;else if(j>ne[3*ue+1])ue=2*ue+1;else return ne[3*ue+2];return 0}}oe._INSTANCE=null;function le(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}}),define(te[101],ie([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const I=typeof Buffer!="undefined",k=typeof TextDecoder!="undefined";let w;class S{constructor(c){this.buffer=c,this.byteLength=this.buffer.byteLength}static wrap(c){return I&&!Buffer.isBuffer(c)&&(c=Buffer.from(c.buffer,c.byteOffset,c.byteLength)),new S(c)}toString(){return I?this.buffer.toString():k?(w||(w=new TextDecoder),w.decode(this.buffer)):v.decodeUTF8(this.buffer)}}e.VSBuffer=S;function p(l,c){return l[c+0]<<0>>>0|l[c+1]<<8>>>0}e.readUInt16LE=p;function C(l,c,d){l[d+0]=c&255,c=c>>>8,l[d+1]=c&255}e.writeUInt16LE=C;function i(l,c){return l[c]*Math.pow(2,24)+l[c+1]*Math.pow(2,16)+l[c+2]*Math.pow(2,8)+l[c+3]}e.readUInt32BE=i;function _(l,c,d){l[d+3]=c,c=c>>>8,l[d+2]=c,c=c>>>8,l[d+1]=c,c=c>>>8,l[d]=c}e.writeUInt32BE=_;function u(l,c){return l[c]}e.readUInt8=u;function a(l,c,d){l[d]=c}e.writeUInt8=a}),define(te[155],ie([0,1,17,8,74]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isRootOrDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.toSlashes=void 0;function w(_){return _.replace(/[\\/]/g,k.posix.sep)}e.toSlashes=w;function S(_,u,a,l=k.sep){if(_===u)return!0;if(!_||!u||u.length>_.length)return!1;if(a){if(!(0,I.startsWithIgnoreCase)(_,u))return!1;if(u.length===_.length)return!0;let d=u.length;return u.charAt(u.length-1)===l&&d--,_.charAt(d)===l}return u.charAt(u.length-1)!==l&&(u+=l),_.indexOf(u)===0}e.isEqualOrParent=S;function p(_){return _>=65&&_<=90||_>=97&&_<=122}e.isWindowsDriveLetter=p;function C(_){const u=(0,k.normalize)(_);return v.isWindows?_.length>3?!1:i(u)&&(_.length===2||u.charCodeAt(2)===92):u===k.posix.sep}e.isRootOrDriveLetter=C;function i(_){return v.isWindows?p(_.charCodeAt(0))&&_.charCodeAt(1)===58:!1}e.hasDriveLetter=i}),define(te[95],ie([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.doHash=e.hash=void 0;function I(d){return k(d,0)}e.hash=I;function k(d,r){switch(typeof d){case"object":return d===null?w(349,r):Array.isArray(d)?C(d,r):i(d,r);case"string":return p(d,r);case"boolean":return S(d,r);case"number":return w(d,r);case"undefined":return w(937,r);default:return w(617,r)}}e.doHash=k;function w(d,r){return(r<<5)-r+d|0}function S(d,r){return w(d?433:863,r)}function p(d,r){r=w(149417,r);for(let n=0,s=d.length;n<s;n++)r=w(d.charCodeAt(n),r);return r}e.stringHash=p;function C(d,r){return r=w(104579,r),d.reduce((n,s)=>k(s,n),r)}function i(d,r){return r=w(181387,r),Object.keys(d).sort().reduce((n,s)=>(n=p(s,n),k(d[s],n)),r)}function _(d,r,n=32){const s=n-r,t=~((1<<s)-1);return(d<<r|(t&d)>>>s)>>>0}function u(d,r=0,n=d.byteLength,s=0){for(let t=0;t<n;t++)d[r+t]=s}function a(d,r,n="0"){for(;d.length<r;)d=n+d;return d}function l(d,r=32){return d instanceof ArrayBuffer?Array.from(new Uint8Array(d)).map(n=>n.toString(16).padStart(2,"0")).join(""):a((d>>>0).toString(16),r/4)}e.toHexString=l;class c{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(r){const n=r.length;if(n!==0){const s=this._buff;let t=this._buffLen,o=this._leftoverHighSurrogate,h,f;for(o!==0?(h=o,f=-1,o=0):(h=r.charCodeAt(0),f=0);;){let m=h;if(v.isHighSurrogate(h))if(f+1<n){const g=r.charCodeAt(f+1);v.isLowSurrogate(g)?(f++,m=v.computeCodePoint(h,g)):m=65533}else{o=h;break}else v.isLowSurrogate(h)&&(m=65533);if(t=this._push(s,t,m),f++,f<n)h=r.charCodeAt(f);else break}this._buffLen=t,this._leftoverHighSurrogate=o}}_push(r,n,s){return s<128?r[n++]=s:s<2048?(r[n++]=192|(s&1984)>>>6,r[n++]=128|(s&63)>>>0):s<65536?(r[n++]=224|(s&61440)>>>12,r[n++]=128|(s&4032)>>>6,r[n++]=128|(s&63)>>>0):(r[n++]=240|(s&1835008)>>>18,r[n++]=128|(s&258048)>>>12,r[n++]=128|(s&4032)>>>6,r[n++]=128|(s&63)>>>0),n>=64&&(this._step(),n-=64,this._totalLen+=64,r[0]=r[64+0],r[1]=r[64+1],r[2]=r[64+2]),n}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),l(this._h0)+l(this._h1)+l(this._h2)+l(this._h3)+l(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,u(this._buff,this._buffLen),this._buffLen>56&&(this._step(),u(this._buff));const r=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(r/4294967296),!1),this._buffDV.setUint32(60,r%4294967296,!1),this._step()}_step(){const r=c._bigBlock32,n=this._buffDV;for(let y=0;y<64;y+=4)r.setUint32(y,n.getUint32(y,!1),!1);for(let y=64;y<320;y+=4)r.setUint32(y,_(r.getUint32(y-12,!1)^r.getUint32(y-32,!1)^r.getUint32(y-56,!1)^r.getUint32(y-64,!1),1),!1);let s=this._h0,t=this._h1,o=this._h2,h=this._h3,f=this._h4,m,g,b;for(let y=0;y<80;y++)y<20?(m=t&o|~t&h,g=1518500249):y<40?(m=t^o^h,g=1859775393):y<60?(m=t&o|t&h|o&h,g=2400959708):(m=t^o^h,g=3395469782),b=_(s,5)+m+f+g+r.getUint32(y*4,!1)&4294967295,f=h,h=o,o=_(t,30),t=s,s=b;this._h0=this._h0+s&4294967295,this._h1=this._h1+t&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+h&4294967295,this._h4=this._h4+f&4294967295}}e.StringSHA1=c,c._bigBlock32=new DataView(new ArrayBuffer(320))}),define(te[162],ie([0,1,474,95]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class k{constructor(u){this.source=u}getElements(){const u=this.source,a=new Int32Array(u.length);for(let l=0,c=u.length;l<c;l++)a[l]=u.charCodeAt(l);return a}}e.StringDiffSequence=k;function w(_,u,a){return new i(new k(_),new k(u)).ComputeDiff(a).changes}e.stringDiff=w;class S{static Assert(u,a){if(!u)throw new Error(a)}}e.Debug=S;class p{static Copy(u,a,l,c,d){for(let r=0;r<d;r++)l[c+r]=u[a+r]}static Copy2(u,a,l,c,d){for(let r=0;r<d;r++)l[c+r]=u[a+r]}}e.MyArray=p;class C{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new v.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(u,a){this.m_originalStart=Math.min(this.m_originalStart,u),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_originalCount++}AddModifiedElement(u,a){this.m_originalStart=Math.min(this.m_originalStart,u),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class i{constructor(u,a,l=null){this.ContinueProcessingPredicate=l;const[c,d,r]=i._getElements(u),[n,s,t]=i._getElements(a);this._hasStrings=r&&t,this._originalStringElements=c,this._originalElementsOrHash=d,this._modifiedStringElements=n,this._modifiedElementsOrHash=s,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(u){return u.length>0&&typeof u[0]=="string"}static _getElements(u){const a=u.getElements();if(i._isStringArray(a)){const l=new Int32Array(a.length);for(let c=0,d=a.length;c<d;c++)l[c]=(0,I.stringHash)(a[c],0);return[a,l,!0]}return a instanceof Int32Array?[[],a,!1]:[[],new Int32Array(a),!1]}ElementsAreEqual(u,a){return this._originalElementsOrHash[u]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[u]===this._modifiedStringElements[a]:!0}OriginalElementsAreEqual(u,a){return this._originalElementsOrHash[u]!==this._originalElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[u]===this._originalStringElements[a]:!0}ModifiedElementsAreEqual(u,a){return this._modifiedElementsOrHash[u]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._modifiedStringElements[u]===this._modifiedStringElements[a]:!0}ComputeDiff(u){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,u)}_ComputeDiff(u,a,l,c,d){const r=[!1];let n=this.ComputeDiffRecursive(u,a,l,c,r);return d&&(n=this.PrettifyChanges(n)),{quitEarly:r[0],changes:n}}ComputeDiffRecursive(u,a,l,c,d){for(d[0]=!1;u<=a&&l<=c&&this.ElementsAreEqual(u,l);)u++,l++;for(;a>=u&&c>=l&&this.ElementsAreEqual(a,c);)a--,c--;if(u>a||l>c){let h;return l<=c?(S.Assert(u===a+1,"originalStart should only be one more than originalEnd"),h=[new v.DiffChange(u,0,l,c-l+1)]):u<=a?(S.Assert(l===c+1,"modifiedStart should only be one more than modifiedEnd"),h=[new v.DiffChange(u,a-u+1,l,0)]):(S.Assert(u===a+1,"originalStart should only be one more than originalEnd"),S.Assert(l===c+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}const r=[0],n=[0],s=this.ComputeRecursionPoint(u,a,l,c,r,n,d),t=r[0],o=n[0];if(s!==null)return s;if(!d[0]){const h=this.ComputeDiffRecursive(u,t,l,o,d);let f=[];return d[0]?f=[new v.DiffChange(t+1,a-(t+1)+1,o+1,c-(o+1)+1)]:f=this.ComputeDiffRecursive(t+1,a,o+1,c,d),this.ConcatenateChanges(h,f)}return[new v.DiffChange(u,a-u+1,l,c-l+1)]}WALKTRACE(u,a,l,c,d,r,n,s,t,o,h,f,m,g,b,y,L,N){let M=null,D=null,R=new C,P=a,O=l,W=m[0]-y[0]-c,F=-1073741824,E=this.m_forwardHistory.length-1;do{const A=W+u;A===P||A<O&&t[A-1]<t[A+1]?(h=t[A+1],g=h-W-c,h<F&&R.MarkNextChange(),F=h,R.AddModifiedElement(h+1,g),W=A+1-u):(h=t[A-1]+1,g=h-W-c,h<F&&R.MarkNextChange(),F=h-1,R.AddOriginalElement(h,g+1),W=A-1-u),E>=0&&(t=this.m_forwardHistory[E],u=t[0],P=1,O=t.length-1)}while(--E>=-1);if(M=R.getReverseChanges(),N[0]){let A=m[0]+1,B=y[0]+1;if(M!==null&&M.length>0){const z=M[M.length-1];A=Math.max(A,z.getOriginalEnd()),B=Math.max(B,z.getModifiedEnd())}D=[new v.DiffChange(A,f-A+1,B,b-B+1)]}else{R=new C,P=r,O=n,W=m[0]-y[0]-s,F=1073741824,E=L?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const A=W+d;A===P||A<O&&o[A-1]>=o[A+1]?(h=o[A+1]-1,g=h-W-s,h>F&&R.MarkNextChange(),F=h+1,R.AddOriginalElement(h+1,g+1),W=A+1-d):(h=o[A-1],g=h-W-s,h>F&&R.MarkNextChange(),F=h,R.AddModifiedElement(h+1,g+1),W=A-1-d),E>=0&&(o=this.m_reverseHistory[E],d=o[0],P=1,O=o.length-1)}while(--E>=-1);D=R.getChanges()}return this.ConcatenateChanges(M,D)}ComputeRecursionPoint(u,a,l,c,d,r,n){let s=0,t=0,o=0,h=0,f=0,m=0;u--,l--,d[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=a-u+(c-l),b=g+1,y=new Int32Array(b),L=new Int32Array(b),N=c-l,M=a-u,D=u-l,R=a-c,O=(M-N)%2==0;y[N]=u,L[M]=a,n[0]=!1;for(let W=1;W<=g/2+1;W++){let F=0,E=0;o=this.ClipDiagonalBound(N-W,W,N,b),h=this.ClipDiagonalBound(N+W,W,N,b);for(let B=o;B<=h;B+=2){B===o||B<h&&y[B-1]<y[B+1]?s=y[B+1]:s=y[B-1]+1,t=s-(B-N)-D;const z=s;for(;s<a&&t<c&&this.ElementsAreEqual(s+1,t+1);)s++,t++;if(y[B]=s,s+t>F+E&&(F=s,E=t),!O&&Math.abs(B-M)<=W-1&&s>=L[B])return d[0]=s,r[0]=t,z<=L[B]&&1447>0&&W<=1447+1?this.WALKTRACE(N,o,h,D,M,f,m,R,y,L,s,a,d,t,c,r,O,n):null}const A=(F-u+(E-l)-W)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(F,A))return n[0]=!0,d[0]=F,r[0]=E,A>0&&1447>0&&W<=1447+1?this.WALKTRACE(N,o,h,D,M,f,m,R,y,L,s,a,d,t,c,r,O,n):(u++,l++,[new v.DiffChange(u,a-u+1,l,c-l+1)]);f=this.ClipDiagonalBound(M-W,W,M,b),m=this.ClipDiagonalBound(M+W,W,M,b);for(let B=f;B<=m;B+=2){B===f||B<m&&L[B-1]>=L[B+1]?s=L[B+1]-1:s=L[B-1],t=s-(B-M)-R;const z=s;for(;s>u&&t>l&&this.ElementsAreEqual(s,t);)s--,t--;if(L[B]=s,O&&Math.abs(B-N)<=W&&s<=y[B])return d[0]=s,r[0]=t,z>=y[B]&&1447>0&&W<=1447+1?this.WALKTRACE(N,o,h,D,M,f,m,R,y,L,s,a,d,t,c,r,O,n):null}if(W<=1447){let B=new Int32Array(h-o+2);B[0]=N-o+1,p.Copy2(y,o,B,1,h-o+1),this.m_forwardHistory.push(B),B=new Int32Array(m-f+2),B[0]=M-f+1,p.Copy2(L,f,B,1,m-f+1),this.m_reverseHistory.push(B)}}return this.WALKTRACE(N,o,h,D,M,f,m,R,y,L,s,a,d,t,c,r,O,n)}PrettifyChanges(u){for(let a=0;a<u.length;a++){const l=u[a],c=a<u.length-1?u[a+1].originalStart:this._originalElementsOrHash.length,d=a<u.length-1?u[a+1].modifiedStart:this._modifiedElementsOrHash.length,r=l.originalLength>0,n=l.modifiedLength>0;for(;l.originalStart+l.originalLength<c&&l.modifiedStart+l.modifiedLength<d&&(!r||this.OriginalElementsAreEqual(l.originalStart,l.originalStart+l.originalLength))&&(!n||this.ModifiedElementsAreEqual(l.modifiedStart,l.modifiedStart+l.modifiedLength));)l.originalStart++,l.modifiedStart++;let s=[null];if(a<u.length-1&&this.ChangesOverlap(u[a],u[a+1],s)){u[a]=s[0],u.splice(a+1,1),a--;continue}}for(let a=u.length-1;a>=0;a--){const l=u[a];let c=0,d=0;if(a>0){const h=u[a-1];c=h.originalStart+h.originalLength,d=h.modifiedStart+h.modifiedLength}const r=l.originalLength>0,n=l.modifiedLength>0;let s=0,t=this._boundaryScore(l.originalStart,l.originalLength,l.modifiedStart,l.modifiedLength);for(let h=1;;h++){const f=l.originalStart-h,m=l.modifiedStart-h;if(f<c||m<d||r&&!this.OriginalElementsAreEqual(f,f+l.originalLength)||n&&!this.ModifiedElementsAreEqual(m,m+l.modifiedLength))break;const b=(f===c&&m===d?5:0)+this._boundaryScore(f,l.originalLength,m,l.modifiedLength);b>t&&(t=b,s=h)}l.originalStart-=s,l.modifiedStart-=s;const o=[null];if(a>0&&this.ChangesOverlap(u[a-1],u[a],o)){u[a-1]=o[0],u.splice(a,1),a++;continue}}if(this._hasStrings)for(let a=1,l=u.length;a<l;a++){const c=u[a-1],d=u[a],r=d.originalStart-c.originalStart-c.originalLength,n=c.originalStart,s=d.originalStart+d.originalLength,t=s-n,o=c.modifiedStart,h=d.modifiedStart+d.modifiedLength,f=h-o;if(r<5&&t<20&&f<20){const m=this._findBetterContiguousSequence(n,t,o,f,r);if(m){const[g,b]=m;(g!==c.originalStart+c.originalLength||b!==c.modifiedStart+c.modifiedLength)&&(c.originalLength=g-c.originalStart,c.modifiedLength=b-c.modifiedStart,d.originalStart=g+r,d.modifiedStart=b+r,d.originalLength=s-d.originalStart,d.modifiedLength=h-d.modifiedStart)}}}return u}_findBetterContiguousSequence(u,a,l,c,d){if(a<d||c<d)return null;const r=u+a-d+1,n=l+c-d+1;let s=0,t=0,o=0;for(let h=u;h<r;h++)for(let f=l;f<n;f++){const m=this._contiguousSequenceScore(h,f,d);m>0&&m>s&&(s=m,t=h,o=f)}return s>0?[t,o]:null}_contiguousSequenceScore(u,a,l){let c=0;for(let d=0;d<l;d++){if(!this.ElementsAreEqual(u+d,a+d))return 0;c+=this._originalStringElements[u+d].length}return c}_OriginalIsBoundary(u){return u<=0||u>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[u])}_OriginalRegionIsBoundary(u,a){if(this._OriginalIsBoundary(u)||this._OriginalIsBoundary(u-1))return!0;if(a>0){const l=u+a;if(this._OriginalIsBoundary(l-1)||this._OriginalIsBoundary(l))return!0}return!1}_ModifiedIsBoundary(u){return u<=0||u>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[u])}_ModifiedRegionIsBoundary(u,a){if(this._ModifiedIsBoundary(u)||this._ModifiedIsBoundary(u-1))return!0;if(a>0){const l=u+a;if(this._ModifiedIsBoundary(l-1)||this._ModifiedIsBoundary(l))return!0}return!1}_boundaryScore(u,a,l,c){const d=this._OriginalRegionIsBoundary(u,a)?1:0,r=this._ModifiedRegionIsBoundary(l,c)?1:0;return d+r}ConcatenateChanges(u,a){let l=[];if(u.length===0||a.length===0)return a.length>0?a:u;if(this.ChangesOverlap(u[u.length-1],a[0],l)){const c=new Array(u.length+a.length-1);return p.Copy(u,0,c,0,u.length-1),c[u.length-1]=l[0],p.Copy(a,1,c,u.length,a.length-1),c}else{const c=new Array(u.length+a.length);return p.Copy(u,0,c,0,u.length),p.Copy(a,0,c,u.length,a.length),c}}ChangesOverlap(u,a,l){if(S.Assert(u.originalStart<=a.originalStart,"Left change is not less than or equal to right change"),S.Assert(u.modifiedStart<=a.modifiedStart,"Left change is not less than or equal to right change"),u.originalStart+u.originalLength>=a.originalStart||u.modifiedStart+u.modifiedLength>=a.modifiedStart){const c=u.originalStart;let d=u.originalLength;const r=u.modifiedStart;let n=u.modifiedLength;return u.originalStart+u.originalLength>=a.originalStart&&(d=a.originalStart+a.originalLength-u.originalStart),u.modifiedStart+u.modifiedLength>=a.modifiedStart&&(n=a.modifiedStart+a.modifiedLength-u.modifiedStart),l[0]=new v.DiffChange(c,d,r,n),!0}else return l[0]=null,!1}ClipDiagonalBound(u,a,l,c){if(u>=0&&u<c)return u;const d=l,r=c-l-1,n=a%2==0;if(u<0){const s=d%2==0;return n===s?0:1}else{const s=r%2==0;return n===s?c-1:c-2}}}e.LcsDiff=i}),define(te[164],ie([0,1,119,19,162,6,56]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function p(u){return typeof u=="object"&&"visibility"in u&&"data"in u}e.isFilterResult=p;function C(u){switch(u){case!0:return 1;case!1:return 0;default:return u}}e.getVisibleState=C;function i(u){return typeof u.collapsible=="boolean"}class _{constructor(a,l,c,d={}){this.user=a,this.list=l,this.rootRef=[],this.eventBufferer=new w.EventBufferer,this._onDidChangeCollapseState=new w.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new w.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new w.Emitter,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof d.collapseByDefault=="undefined"?!1:d.collapseByDefault,this.filter=d.filter,this.autoExpandSingleChildren=typeof d.autoExpandSingleChildren=="undefined"?!1:d.autoExpandSingleChildren,this.root={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(a,l,c=S.Iterable.empty(),d={}){if(a.length===0)throw new v.TreeError(this.user,"Invalid tree location");d.diffIdentityProvider?this.spliceSmart(d.diffIdentityProvider,a,l,c,d):this.spliceSimple(a,l,c,d)}spliceSmart(a,l,c,d,r,n){var s;d===void 0&&(d=S.Iterable.empty()),n===void 0&&(n=(s=r.diffDepth)!==null&&s!==void 0?s:0);const{parentNode:t}=this.getParentNodeWithListIndex(l),o=[...d],h=l[l.length-1],f=new k.LcsDiff({getElements:()=>t.children.map(L=>a.getId(L.element).toString())},{getElements:()=>[...t.children.slice(0,h),...o,...t.children.slice(h+c)].map(L=>a.getId(L.element).toString())}).ComputeDiff(!1);if(f.quitEarly)return this.spliceSimple(l,c,o,r);const m=l.slice(0,-1),g=(L,N,M)=>{if(n>0)for(let D=0;D<M;D++)L--,N--,this.spliceSmart(a,[...m,L,0],Number.MAX_SAFE_INTEGER,o[N].children,r,n-1)};let b=Math.min(t.children.length,h+c),y=o.length;for(const L of f.changes.sort((N,M)=>M.originalStart-N.originalStart))g(b,y,b-(L.originalStart+L.originalLength)),b=L.originalStart,y=L.modifiedStart-h,this.spliceSimple([...m,b],L.originalLength,S.Iterable.slice(o,y,y+L.modifiedLength),r);g(b,y,b)}spliceSimple(a,l,c=S.Iterable.empty(),{onDidCreateNode:d,onDidDeleteNode:r}){const{parentNode:n,listIndex:s,revealed:t,visible:o}=this.getParentNodeWithListIndex(a),h=[],f=S.Iterable.map(c,O=>this.createTreeNode(O,n,n.visible?1:0,t,h,d)),m=a[a.length-1],g=n.children.length>0;let b=0;for(let O=m;O>=0&&O<n.children.length;O--){const W=n.children[O];if(W.visible){b=W.visibleChildIndex;break}}const y=[];let L=0,N=0;for(const O of f)y.push(O),N+=O.renderNodeCount,O.visible&&(O.visibleChildIndex=b+L++);const M=n.children.splice(m,l,...y);let D=0;for(const O of M)O.visible&&D++;if(D!==0)for(let O=m+y.length;O<n.children.length;O++){const W=n.children[O];W.visible&&(W.visibleChildIndex-=D)}if(n.visibleChildrenCount+=L-D,t&&o){const O=M.reduce((W,F)=>W+(F.visible?F.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(n,N-O),this.list.splice(s,O,h)}if(M.length>0&&r){const O=W=>{r(W),W.children.forEach(O)};M.forEach(O)}const R=n.children.length>0;g!==R&&this.setCollapsible(a.slice(0,-1),R),this._onDidSplice.fire({insertedNodes:y,deletedNodes:M});let P=n;for(;P;){if(P.visibility===2){this.refilter();break}P=P.parent}}rerender(a){if(a.length===0)throw new v.TreeError(this.user,"Invalid tree location");const{node:l,listIndex:c,revealed:d}=this.getTreeNodeWithListIndex(a);l.visible&&d&&this.list.splice(c,1,[l])}has(a){return this.hasTreeNode(a)}getListIndex(a){const{listIndex:l,visible:c,revealed:d}=this.getTreeNodeWithListIndex(a);return c&&d?l:-1}getListRenderCount(a){return this.getTreeNode(a).renderNodeCount}isCollapsible(a){return this.getTreeNode(a).collapsible}setCollapsible(a,l){const c=this.getTreeNode(a);typeof l=="undefined"&&(l=!c.collapsible);const d={collapsible:l};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(a,d))}isCollapsed(a){return this.getTreeNode(a).collapsed}setCollapsed(a,l,c){const d=this.getTreeNode(a);typeof l=="undefined"&&(l=!d.collapsed);const r={collapsed:l,recursive:c||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(a,r))}_setCollapseState(a,l){const{node:c,listIndex:d,revealed:r}=this.getTreeNodeWithListIndex(a),n=this._setListNodeCollapseState(c,d,r,l);if(c!==this.root&&this.autoExpandSingleChildren&&n&&!i(l)&&c.collapsible&&!c.collapsed&&!l.recursive){let s=-1;for(let t=0;t<c.children.length;t++)if(c.children[t].visible)if(s>-1){s=-1;break}else s=t;s>-1&&this._setCollapseState([...a,s],l)}return n}_setListNodeCollapseState(a,l,c,d){const r=this._setNodeCollapseState(a,d,!1);if(!c||!a.visible||!r)return r;const n=a.renderNodeCount,s=this.updateNodeAfterCollapseChange(a),t=n-(l===-1?0:1);return this.list.splice(l+1,t,s.slice(1)),r}_setNodeCollapseState(a,l,c){let d;if(a===this.root?d=!1:(i(l)?(d=a.collapsible!==l.collapsible,a.collapsible=l.collapsible):a.collapsible?(d=a.collapsed!==l.collapsed,a.collapsed=l.collapsed):d=!1,d&&this._onDidChangeCollapseState.fire({node:a,deep:c})),!i(l)&&l.recursive)for(const r of a.children)d=this._setNodeCollapseState(r,l,!0)||d;return d}expandTo(a){this.eventBufferer.bufferEvents(()=>{let l=this.getTreeNode(a);for(;l.parent;)l=l.parent,a=a.slice(0,a.length-1),l.collapsed&&this._setCollapseState(a,{collapsed:!1,recursive:!1})})}refilter(){const a=this.root.renderNodeCount,l=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,a,l)}createTreeNode(a,l,c,d,r,n){const s={parent:l,element:a.element,children:[],depth:l.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof a.collapsible=="boolean"?a.collapsible:typeof a.collapsed!="undefined",collapsed:typeof a.collapsed=="undefined"?this.collapseByDefault:a.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},t=this._filterNode(s,c);s.visibility=t,d&&r.push(s);const o=a.children||S.Iterable.empty(),h=d&&t!==0&&!s.collapsed,f=S.Iterable.map(o,b=>this.createTreeNode(b,s,t,h,r,n));let m=0,g=1;for(const b of f)s.children.push(b),g+=b.renderNodeCount,b.visible&&(b.visibleChildIndex=m++);return s.collapsible=s.collapsible||s.children.length>0,s.visibleChildrenCount=m,s.visible=t===2?m>0:t===1,s.visible?s.collapsed||(s.renderNodeCount=g):(s.renderNodeCount=0,d&&r.pop()),n&&n(s),s}updateNodeAfterCollapseChange(a){const l=a.renderNodeCount,c=[];return this._updateNodeAfterCollapseChange(a,c),this._updateAncestorsRenderNodeCount(a.parent,c.length-l),c}_updateNodeAfterCollapseChange(a,l){if(a.visible===!1)return 0;if(l.push(a),a.renderNodeCount=1,!a.collapsed)for(const c of a.children)a.renderNodeCount+=this._updateNodeAfterCollapseChange(c,l);return this._onDidChangeRenderNodeCount.fire(a),a.renderNodeCount}updateNodeAfterFilterChange(a){const l=a.renderNodeCount,c=[];return this._updateNodeAfterFilterChange(a,a.visible?1:0,c),this._updateAncestorsRenderNodeCount(a.parent,c.length-l),c}_updateNodeAfterFilterChange(a,l,c,d=!0){let r;if(a!==this.root){if(r=this._filterNode(a,l),r===0)return a.visible=!1,a.renderNodeCount=0,!1;d&&c.push(a)}const n=c.length;a.renderNodeCount=a===this.root?0:1;let s=!1;if(!a.collapsed||r!==0){let t=0;for(const o of a.children)s=this._updateNodeAfterFilterChange(o,r,c,d&&!a.collapsed)||s,o.visible&&(o.visibleChildIndex=t++);a.visibleChildrenCount=t}else a.visibleChildrenCount=0;return a!==this.root&&(a.visible=r===2?s:r===1),a.visible?a.collapsed||(a.renderNodeCount+=c.length-n):(a.renderNodeCount=0,d&&c.pop()),this._onDidChangeRenderNodeCount.fire(a),a.visible}_updateAncestorsRenderNodeCount(a,l){if(l!==0)for(;a;)a.renderNodeCount+=l,this._onDidChangeRenderNodeCount.fire(a),a=a.parent}_filterNode(a,l){const c=this.filter?this.filter.filter(a.element,l):1;return typeof c=="boolean"?(a.filterData=void 0,c?1:0):p(c)?(a.filterData=c.data,C(c.visibility)):(a.filterData=void 0,C(c))}hasTreeNode(a,l=this.root){if(!a||a.length===0)return!0;const[c,...d]=a;return c<0||c>l.children.length?!1:this.hasTreeNode(d,l.children[c])}getTreeNode(a,l=this.root){if(!a||a.length===0)return l;const[c,...d]=a;if(c<0||c>l.children.length)throw new v.TreeError(this.user,"Invalid tree location");return this.getTreeNode(d,l.children[c])}getTreeNodeWithListIndex(a){if(a.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:l,listIndex:c,revealed:d,visible:r}=this.getParentNodeWithListIndex(a),n=a[a.length-1];if(n<0||n>l.children.length)throw new v.TreeError(this.user,"Invalid tree location");const s=l.children[n];return{node:s,listIndex:c,revealed:d,visible:r&&s.visible}}getParentNodeWithListIndex(a,l=this.root,c=0,d=!0,r=!0){const[n,...s]=a;if(n<0||n>l.children.length)throw new v.TreeError(this.user,"Invalid tree location");for(let t=0;t<n;t++)c+=l.children[t].renderNodeCount;return d=d&&!l.collapsed,r=r&&l.visible,s.length===0?{parentNode:l,listIndex:c,revealed:d,visible:r}:this.getParentNodeWithListIndex(s,l.children[n],c+1,d,r)}getNode(a=[]){return this.getTreeNode(a)}getNodeLocation(a){const l=[];let c=a;for(;c.parent;)l.push(c.parent.children.indexOf(c)),c=c.parent;return l.reverse()}getParentNodeLocation(a){if(a.length!==0)return a.length===1?[]:(0,I.tail2)(a)[0]}}e.IndexTreeModel=_}),define(te[166],ie([0,1,56,164,119]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class w{constructor(p,C,i={}){this.user=p,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new I.IndexTreeModel(p,C,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(_,u){return i.sorter.compare(_.element,u.element)}}),this.identityProvider=i.identityProvider}setChildren(p,C=v.Iterable.empty(),i={}){const _=this.getElementLocation(p);this._setChildren(_,this.preserveCollapseState(C),i)}_setChildren(p,C=v.Iterable.empty(),i){const _=new Set,u=new Set,a=c=>{var d;if(c.element!==null){const r=c;if(_.add(r.element),this.nodes.set(r.element,r),this.identityProvider){const n=this.identityProvider.getId(r.element).toString();u.add(n),this.nodesByIdentity.set(n,r)}(d=i.onDidCreateNode)===null||d===void 0||d.call(i,r)}},l=c=>{var d;if(c.element!==null){const r=c;if(_.has(r.element)||this.nodes.delete(r.element),this.identityProvider){const n=this.identityProvider.getId(r.element).toString();u.has(n)||this.nodesByIdentity.delete(n)}(d=i.onDidDeleteNode)===null||d===void 0||d.call(i,r)}};this.model.splice([...p,0],Number.MAX_VALUE,C,Object.assign(Object.assign({},i),{onDidCreateNode:a,onDidDeleteNode:l}))}preserveCollapseState(p=v.Iterable.empty()){return this.sorter&&(p=[...p].sort(this.sorter.compare.bind(this.sorter))),v.Iterable.map(p,C=>{let i=this.nodes.get(C.element);if(!i&&this.identityProvider){const a=this.identityProvider.getId(C.element).toString();i=this.nodesByIdentity.get(a)}if(!i)return Object.assign(Object.assign({},C),{children:this.preserveCollapseState(C.children)});const _=typeof C.collapsible=="boolean"?C.collapsible:i.collapsible,u=typeof C.collapsed!="undefined"?C.collapsed:i.collapsed;return Object.assign(Object.assign({},C),{collapsible:_,collapsed:u,children:this.preserveCollapseState(C.children)})})}rerender(p){const C=this.getElementLocation(p);this.model.rerender(C)}has(p){return this.nodes.has(p)}getListIndex(p){const C=this.getElementLocation(p);return this.model.getListIndex(C)}getListRenderCount(p){const C=this.getElementLocation(p);return this.model.getListRenderCount(C)}isCollapsible(p){const C=this.getElementLocation(p);return this.model.isCollapsible(C)}setCollapsible(p,C){const i=this.getElementLocation(p);return this.model.setCollapsible(i,C)}isCollapsed(p){const C=this.getElementLocation(p);return this.model.isCollapsed(C)}setCollapsed(p,C,i){const _=this.getElementLocation(p);return this.model.setCollapsed(_,C,i)}expandTo(p){const C=this.getElementLocation(p);this.model.expandTo(C)}refilter(){this.model.refilter()}getNode(p=null){if(p===null)return this.model.getNode(this.model.rootRef);const C=this.nodes.get(p);if(!C)throw new k.TreeError(this.user,`Tree element not found: ${p}`);return C}getNodeLocation(p){return p.element}getParentNodeLocation(p){if(p===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const C=this.nodes.get(p);if(!C)throw new k.TreeError(this.user,`Tree element not found: ${p}`);const i=this.model.getNodeLocation(C),_=this.model.getParentNodeLocation(i);return this.model.getNode(_).element}getElementLocation(p){if(p===null)return[];const C=this.nodes.get(p);if(!C)throw new k.TreeError(this.user,`Tree element not found: ${p}`);return this.model.getNodeLocation(C)}}e.ObjectTreeModel=w}),define(te[441],ie([0,1,56,6,119,166]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function S(s){const t=[s.element],o=s.incompressible||!1;return{element:{elements:t,incompressible:o},children:v.Iterable.map(v.Iterable.from(s.children),S),collapsible:s.collapsible,collapsed:s.collapsed}}function p(s){const t=[s.element],o=s.incompressible||!1;let h,f;for(;[f,h]=v.Iterable.consume(v.Iterable.from(s.children),2),!(f.length!==1||f[0].incompressible);)s=f[0],t.push(s.element);return{element:{elements:t,incompressible:o},children:v.Iterable.map(v.Iterable.concat(f,h),p),collapsible:s.collapsible,collapsed:s.collapsed}}e.compress=p;function C(s,t=0){let o;return t<s.element.elements.length-1?o=[C(s,t+1)]:o=v.Iterable.map(v.Iterable.from(s.children),h=>C(h,0)),t===0&&s.element.incompressible?{element:s.element.elements[t],children:o,incompressible:!0,collapsible:s.collapsible,collapsed:s.collapsed}:{element:s.element.elements[t],children:o,collapsible:s.collapsible,collapsed:s.collapsed}}function i(s){return C(s,0)}e.decompress=i;function _(s,t,o){return s.element===t?Object.assign(Object.assign({},s),{children:o}):Object.assign(Object.assign({},s),{children:v.Iterable.map(v.Iterable.from(s.children),h=>_(h,t,o))})}const u=s=>({getId(t){return t.elements.map(o=>s.getId(o).toString()).join("\0")}});class a{constructor(t,o,h={}){this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new w.ObjectTreeModel(t,o,h),this.enabled=typeof h.compressionEnabled=="undefined"?!0:h.compressionEnabled,this.identityProvider=h.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(t,o=v.Iterable.empty(),h){const f=h.diffIdentityProvider&&u(h.diffIdentityProvider);if(t===null){const R=v.Iterable.map(o,this.enabled?p:S);this._setChildren(null,R,{diffIdentityProvider:f,diffDepth:Infinity});return}const m=this.nodes.get(t);if(!m)throw new Error("Unknown compressed tree node");const g=this.model.getNode(m),b=this.model.getParentNodeLocation(m),y=this.model.getNode(b),L=i(g),N=_(L,t,o),M=(this.enabled?p:S)(N),D=y.children.map(R=>R===g?M:R);this._setChildren(y.element,D,{diffIdentityProvider:f,diffDepth:g.depth-y.depth})}setCompressionEnabled(t){if(t!==this.enabled){this.enabled=t;const h=this.model.getNode().children,f=v.Iterable.map(h,i),m=v.Iterable.map(f,t?p:S);this._setChildren(null,m,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}}_setChildren(t,o,h){const f=new Set,m=b=>{for(const y of b.element.elements)f.add(y),this.nodes.set(y,b.element)},g=b=>{for(const y of b.element.elements)f.has(y)||this.nodes.delete(y)};this.model.setChildren(t,o,Object.assign(Object.assign({},h),{onDidCreateNode:m,onDidDeleteNode:g}))}has(t){return this.nodes.has(t)}getListIndex(t){const o=this.getCompressedNode(t);return this.model.getListIndex(o)}getListRenderCount(t){const o=this.getCompressedNode(t);return this.model.getListRenderCount(o)}getNode(t){if(typeof t=="undefined")return this.model.getNode();const o=this.getCompressedNode(t);return this.model.getNode(o)}getNodeLocation(t){const o=this.model.getNodeLocation(t);return o===null?null:o.elements[o.elements.length-1]}getParentNodeLocation(t){const o=this.getCompressedNode(t),h=this.model.getParentNodeLocation(o);return h===null?null:h.elements[h.elements.length-1]}isCollapsible(t){const o=this.getCompressedNode(t);return this.model.isCollapsible(o)}setCollapsible(t,o){const h=this.getCompressedNode(t);return this.model.setCollapsible(h,o)}isCollapsed(t){const o=this.getCompressedNode(t);return this.model.isCollapsed(o)}setCollapsed(t,o,h){const f=this.getCompressedNode(t);return this.model.setCollapsed(f,o,h)}expandTo(t){const o=this.getCompressedNode(t);this.model.expandTo(o)}rerender(t){const o=this.getCompressedNode(t);this.model.rerender(o)}refilter(){this.model.refilter()}getCompressedNode(t){if(t===null)return null;const o=this.nodes.get(t);if(!o)throw new k.TreeError(this.user,`Tree element not found: ${t}`);return o}}e.CompressedObjectTreeModel=a;const l=s=>s[s.length-1];e.DefaultElementMapper=l;class c{constructor(t,o){this.unwrapper=t,this.node=o}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(t=>new c(this.unwrapper,t))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function d(s,t){return{splice(o,h,f){t.splice(o,h,f.map(m=>s.map(m)))},updateElementHeight(o,h){t.updateElementHeight(o,h)}}}function r(s,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId(o){return t.identityProvider.getId(s(o))}},sorter:t.sorter&&{compare(o,h){return t.sorter.compare(o.elements[0],h.elements[0])}},filter:t.filter&&{filter(o,h){return t.filter.filter(s(o),h)}}})}class n{constructor(t,o,h={}){this.rootRef=null,this.elementMapper=h.elementMapper||e.DefaultElementMapper;const f=m=>this.elementMapper(m.elements);this.nodeMapper=new k.WeakMapper(m=>new c(f,m)),this.model=new a(t,d(this.nodeMapper,o),r(f,h))}get onDidSplice(){return I.Event.map(this.model.onDidSplice,({insertedNodes:t,deletedNodes:o})=>({insertedNodes:t.map(h=>this.nodeMapper.map(h)),deletedNodes:o.map(h=>this.nodeMapper.map(h))}))}get onDidChangeCollapseState(){return I.Event.map(this.model.onDidChangeCollapseState,({node:t,deep:o})=>({node:this.nodeMapper.map(t),deep:o}))}get onDidChangeRenderNodeCount(){return I.Event.map(this.model.onDidChangeRenderNodeCount,t=>this.nodeMapper.map(t))}setChildren(t,o=v.Iterable.empty(),h={}){this.model.setChildren(t,o,h)}setCompressionEnabled(t){this.model.setCompressionEnabled(t)}has(t){return this.model.has(t)}getListIndex(t){return this.model.getListIndex(t)}getListRenderCount(t){return this.model.getListRenderCount(t)}getNode(t){return this.nodeMapper.map(this.model.getNode(t))}getNodeLocation(t){return t.element}getParentNodeLocation(t){return this.model.getParentNodeLocation(t)}isCollapsible(t){return this.model.isCollapsible(t)}setCollapsible(t,o){return this.model.setCollapsible(t,o)}isCollapsed(t){return this.model.isCollapsed(t)}setCollapsed(t,o,h){return this.model.setCollapsed(t,o,h)}expandTo(t){return this.model.expandTo(t)}rerender(t){return this.model.rerender(t)}refilter(){return this.model.refilter()}getCompressedTreeNode(t=null){return this.model.getNode(t)}}e.CompressibleObjectTreeModel=n}),define(te[442],ie([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function I(S,p){if(S&&S[0]!==""){const C=k(S,p,"-"),i=k(S,p,"_");return C&&!i?w(S,p,"-"):!C&&i?w(S,p,"_"):S[0].toUpperCase()===S[0]?p.toUpperCase():S[0].toLowerCase()===S[0]?p.toLowerCase():v.containsUppercaseCharacter(S[0][0])&&p.length>0?p[0].toUpperCase()+p.substr(1):S[0][0].toUpperCase()!==S[0][0]&&p.length>0?p[0].toLowerCase()+p.substr(1):p}else return p}e.buildReplaceStringWithCasePreserved=I;function k(S,p,C){return S[0].indexOf(C)!==-1&&p.indexOf(C)!==-1&&S[0].split(C).length===p.split(C).length}function w(S,p,C){const i=p.split(C),_=S[0].split(C);let u="";return i.forEach((a,l)=>{u+=I([_[l]],a)+C}),u.slice(0,-1)}}),define(te[83],ie([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var I;(function(k){k[k.Ignore=0]="Ignore",k[k.Info=1]="Info",k[k.Warning=2]="Warning",k[k.Error=3]="Error"})(I||(I={})),function(k){const w="error",S="warning",p="warn",C="info",i="ignore";function _(a){return a?v.equalsIgnoreCase(w,a)?k.Error:v.equalsIgnoreCase(S,a)||v.equalsIgnoreCase(p,a)?k.Warning:v.equalsIgnoreCase(C,a)?k.Info:k.Ignore:k.Ignore}k.fromValue=_;function u(a){switch(a){case k.Error:return w;case k.Warning:return S;case k.Info:return C;default:return i}}k.toString=u}(I||(I={})),e.default=I}),define(te[20],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isString=e.isArray=void 0;function v(s){return Array.isArray(s)}e.isArray=v;function I(s){return typeof s=="string"}e.isString=I;function k(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)&&!(s instanceof RegExp)&&!(s instanceof Date)}e.isObject=k;function w(s){return typeof s=="number"&&!isNaN(s)}e.isNumber=w;function S(s){return s===!0||s===!1}e.isBoolean=S;function p(s){return typeof s=="undefined"}e.isUndefined=p;function C(s){return p(s)||s===null}e.isUndefinedOrNull=C;function i(s,t){if(!s)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}e.assertType=i;function _(s){if(C(s))throw new Error("Assertion Failed: argument is undefined or null");return s}e.assertIsDefined=_;function u(s){return typeof s=="function"}e.isFunction=u;function a(s,t){const o=Math.min(s.length,t.length);for(let h=0;h<o;h++)l(s[h],t[h])}e.validateConstraints=a;function l(s,t){if(I(t)){if(typeof s!==t)throw new Error(`argument does not match constraint: typeof ${t}`)}else if(u(t)){try{if(s instanceof t)return}catch(o){}if(!C(s)&&s.constructor===t||t.length===1&&t.call(void 0,s)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=l;function c(s){let t=[],o=Object.getPrototypeOf(s);for(;Object.prototype!==o;)t=t.concat(Object.getOwnPropertyNames(o)),o=Object.getPrototypeOf(o);return t}e.getAllPropertyNames=c;function d(s){const t=[];for(const o of c(s))typeof s[o]=="function"&&t.push(o);return t}e.getAllMethodNames=d;function r(s,t){const o=f=>function(){const m=Array.prototype.slice.call(arguments,0);return t(f,m)};let h={};for(const f of s)h[f]=o(f);return h}e.createProxyObject=r;function n(s){return s===null?void 0:s}e.withNullAsUndefined=n}),define(te[43],ie([0,1,20]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function I(u){if(!u||typeof u!="object"||u instanceof RegExp)return u;const a=Array.isArray(u)?[]:{};return Object.keys(u).forEach(l=>{u[l]&&typeof u[l]=="object"?a[l]=I(u[l]):a[l]=u[l]}),a}e.deepClone=I;function k(u){if(!u||typeof u!="object")return u;const a=[u];for(;a.length>0;){const l=a.shift();Object.freeze(l);for(const c in l)if(w.call(l,c)){const d=l[c];typeof d=="object"&&!Object.isFrozen(d)&&a.push(d)}}return u}e.deepFreeze=k;const w=Object.prototype.hasOwnProperty;function S(u,a){return p(u,a,new Set)}e.cloneAndChange=S;function p(u,a,l){if((0,v.isUndefinedOrNull)(u))return u;const c=a(u);if(typeof c!="undefined")return c;if((0,v.isArray)(u)){const d=[];for(const r of u)d.push(p(r,a,l));return d}if((0,v.isObject)(u)){if(l.has(u))throw new Error("Cannot clone recursive data-structure");l.add(u);const d={};for(let r in u)w.call(u,r)&&(d[r]=p(u[r],a,l));return l.delete(u),d}return u}function C(u,a,l=!0){return(0,v.isObject)(u)?((0,v.isObject)(a)&&Object.keys(a).forEach(c=>{c in u?l&&((0,v.isObject)(u[c])&&(0,v.isObject)(a[c])?C(u[c],a[c],l):u[c]=a[c]):u[c]=a[c]}),u):a}e.mixin=C;function i(u,a){if(u===a)return!0;if(u==null||a===null||a===void 0||typeof u!=typeof a||typeof u!="object"||Array.isArray(u)!==Array.isArray(a))return!1;let l,c;if(Array.isArray(u)){if(u.length!==a.length)return!1;for(l=0;l<u.length;l++)if(!i(u[l],a[l]))return!1}else{const d=[];for(c in u)d.push(c);d.sort();const r=[];for(c in a)r.push(c);if(r.sort(),!i(d,r))return!1;for(l=0;l<d.length;l++)if(!i(u[d[l]],a[d[l]]))return!1}return!0}e.equals=i;function _(u,a,l){const c=a(u);return typeof c=="undefined"?l:c}e.getOrDefault=_}),define(te[142],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function v(k){return k<0?0:k>255?255:k|0}e.toUint8=v;function I(k){return k<0?0:k>4294967295?4294967295:k|0}e.toUint32=I}),define(te[23],ie([0,1,17,74]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const k=/^\w[\w\d+.-]*$/,w=/^\//,S=/^\/\//;function p(g,b){if(!g.scheme&&b)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${g.authority}", path: "${g.path}", query: "${g.query}", fragment: "${g.fragment}"}`);if(g.scheme&&!k.test(g.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(g.path){if(g.authority){if(!w.test(g.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(g.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function C(g,b){return!g&&!b?"file":g}function i(g,b){switch(g){case"https":case"http":case"file":b?b[0]!==u&&(b=u+b):b=u;break}return b}const _="",u="/",a=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class l{constructor(b,y,L,N,M,D=!1){typeof b=="object"?(this.scheme=b.scheme||_,this.authority=b.authority||_,this.path=b.path||_,this.query=b.query||_,this.fragment=b.fragment||_):(this.scheme=C(b,D),this.authority=y||_,this.path=i(this.scheme,L||_),this.query=N||_,this.fragment=M||_,p(this,D))}static isUri(b){return b instanceof l?!0:b?typeof b.authority=="string"&&typeof b.fragment=="string"&&typeof b.path=="string"&&typeof b.query=="string"&&typeof b.scheme=="string"&&typeof b.fsPath=="string"&&typeof b.with=="function"&&typeof b.toString=="function":!1}get fsPath(){return t(this,!1)}with(b){if(!b)return this;let{scheme:y,authority:L,path:N,query:M,fragment:D}=b;return y===void 0?y=this.scheme:y===null&&(y=_),L===void 0?L=this.authority:L===null&&(L=_),N===void 0?N=this.path:N===null&&(N=_),M===void 0?M=this.query:M===null&&(M=_),D===void 0?D=this.fragment:D===null&&(D=_),y===this.scheme&&L===this.authority&&N===this.path&&M===this.query&&D===this.fragment?this:new d(y,L,N,M,D)}static parse(b,y=!1){const L=a.exec(b);return L?new d(L[2]||_,m(L[4]||_),m(L[5]||_),m(L[7]||_),m(L[9]||_),y):new d(_,_,_,_,_)}static file(b){let y=_;if(v.isWindows&&(b=b.replace(/\\/g,u)),b[0]===u&&b[1]===u){const L=b.indexOf(u,2);L===-1?(y=b.substring(2),b=u):(y=b.substring(2,L),b=b.substring(L)||u)}return new d("file",y,b,_,_)}static from(b){return new d(b.scheme,b.authority,b.path,b.query,b.fragment)}static joinPath(b,...y){if(!b.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let L;return v.isWindows&&b.scheme==="file"?L=l.file(I.win32.join(t(b,!0),...y)).path:L=I.posix.join(b.path,...y),b.with({path:L})}toString(b=!1){return o(this,b)}toJSON(){return this}static revive(b){if(b){if(b instanceof l)return b;{const y=new d(b);return y._formatted=b.external,y._fsPath=b._sep===c?b.fsPath:null,y}}else return b}}e.URI=l;const c=v.isWindows?1:void 0;class d extends l{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=t(this,!1)),this._fsPath}toString(b=!1){return b?o(this,!0):(this._formatted||(this._formatted=o(this,!1)),this._formatted)}toJSON(){const b={$mid:1};return this._fsPath&&(b.fsPath=this._fsPath,b._sep=c),this._formatted&&(b.external=this._formatted),this.path&&(b.path=this.path),this.scheme&&(b.scheme=this.scheme),this.authority&&(b.authority=this.authority),this.query&&(b.query=this.query),this.fragment&&(b.fragment=this.fragment),b}}const r={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function n(g,b){let y,L=-1;for(let N=0;N<g.length;N++){const M=g.charCodeAt(N);if(M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===45||M===46||M===95||M===126||b&&M===47)L!==-1&&(y+=encodeURIComponent(g.substring(L,N)),L=-1),y!==void 0&&(y+=g.charAt(N));else{y===void 0&&(y=g.substr(0,N));const D=r[M];D!==void 0?(L!==-1&&(y+=encodeURIComponent(g.substring(L,N)),L=-1),y+=D):L===-1&&(L=N)}}return L!==-1&&(y+=encodeURIComponent(g.substring(L))),y!==void 0?y:g}function s(g){let b;for(let y=0;y<g.length;y++){const L=g.charCodeAt(y);L===35||L===63?(b===void 0&&(b=g.substr(0,y)),b+=r[L]):b!==void 0&&(b+=g[y])}return b!==void 0?b:g}function t(g,b){let y;return g.authority&&g.path.length>1&&g.scheme==="file"?y=`//${g.authority}${g.path}`:g.path.charCodeAt(0)===47&&(g.path.charCodeAt(1)>=65&&g.path.charCodeAt(1)<=90||g.path.charCodeAt(1)>=97&&g.path.charCodeAt(1)<=122)&&g.path.charCodeAt(2)===58?b?y=g.path.substr(1):y=g.path[1].toLowerCase()+g.path.substr(2):y=g.path,v.isWindows&&(y=y.replace(/\//g,"\\")),y}e.uriToFsPath=t;function o(g,b){const y=b?s:n;let L="",{scheme:N,authority:M,path:D,query:R,fragment:P}=g;if(N&&(L+=N,L+=":"),(M||N==="file")&&(L+=u,L+=u),M){let O=M.indexOf("@");if(O!==-1){const W=M.substr(0,O);M=M.substr(O+1),O=W.indexOf(":"),O===-1?L+=y(W,!1):(L+=y(W.substr(0,O),!1),L+=":",L+=y(W.substr(O+1),!1)),L+="@"}M=M.toLowerCase(),O=M.indexOf(":"),O===-1?L+=y(M,!1):(L+=y(M.substr(0,O),!1),L+=M.substr(O))}if(D){if(D.length>=3&&D.charCodeAt(0)===47&&D.charCodeAt(2)===58){const O=D.charCodeAt(1);O>=65&&O<=90&&(D=`/${String.fromCharCode(O+32)}:${D.substr(3)}`)}else if(D.length>=2&&D.charCodeAt(1)===58){const O=D.charCodeAt(0);O>=65&&O<=90&&(D=`${String.fromCharCode(O+32)}:${D.substr(2)}`)}L+=y(D,!0)}return R&&(L+="?",L+=y(R,!1)),P&&(L+="#",L+=b?P:n(P,!1)),L}function h(g){try{return decodeURIComponent(g)}catch(b){return g.length>3?g.substr(0,3)+h(g.substr(3)):g}}const f=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function m(g){return g.match(f)?g.replace(f,b=>h(b)):g}}),define(te[51],ie([0,1,23,8]),function($,e,v,I){"use strict";var k,w;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class S{constructor(){this._value="",this._pos=0}reset(r){return this._value=r,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(r){const n=r.charCodeAt(0),s=this._value.charCodeAt(this._pos);return n-s}value(){return this._value[this._pos]}}e.StringIterator=S;class p{constructor(r=!0){this._caseSensitive=r}reset(r){return this._value=r,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(r)this._from++;else break;else r=!1;return this}cmp(r){return this._caseSensitive?(0,I.compareSubstring)(r,this._value,0,r.length,this._from,this._to):(0,I.compareSubstringIgnoreCase)(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=p;class C{constructor(r=!0,n=!0){this._splitOnBackslash=r,this._caseSensitive=n}reset(r){return this._value=r.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++){const n=this._value.charCodeAt(this._to);if(n===47||this._splitOnBackslash&&n===92)if(r)this._from++;else break;else r=!1}return this}cmp(r){return this._caseSensitive?(0,I.compareSubstring)(r,this._value,0,r.length,this._from,this._to):(0,I.compareSubstringIgnoreCase)(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=C;class i{constructor(r){this._ignorePathCasing=r,this._states=[],this._stateIdx=0}reset(r){return this._value=r,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new C(!1,!this._ignorePathCasing(r)),this._pathIterator.reset(r.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(r){if(this._states[this._stateIdx]===1)return(0,I.compareIgnoreCase)(r,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,I.compareIgnoreCase)(r,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(r);if(this._states[this._stateIdx]===4)return(0,I.compare)(r,this._value.query);if(this._states[this._stateIdx]===5)return(0,I.compare)(r,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=i;class _{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class u{constructor(r){this._iter=r}static forUris(r=()=>!1){return new u(new i(r))}static forStrings(){return new u(new S)}static forConfigKeys(){return new u(new p)}clear(){this._root=void 0}set(r,n){const s=this._iter.reset(r);let t;for(this._root||(this._root=new _,this._root.segment=s.value()),t=this._root;;){const h=s.cmp(t.segment);if(h>0)t.left||(t.left=new _,t.left.segment=s.value()),t=t.left;else if(h<0)t.right||(t.right=new _,t.right.segment=s.value()),t=t.right;else if(s.hasNext())s.next(),t.mid||(t.mid=new _,t.mid.segment=s.value()),t=t.mid;else break}const o=t.value;return t.value=n,t.key=r,o}get(r){var n;return(n=this._getNode(r))===null||n===void 0?void 0:n.value}_getNode(r){const n=this._iter.reset(r);let s=this._root;for(;s;){const t=n.cmp(s.segment);if(t>0)s=s.left;else if(t<0)s=s.right;else if(n.hasNext())n.next(),s=s.mid;else break}return s}has(r){const n=this._getNode(r);return!((n==null?void 0:n.value)===void 0&&(n==null?void 0:n.mid)===void 0)}delete(r){return this._delete(r,!1)}deleteSuperstr(r){return this._delete(r,!0)}_delete(r,n){const s=this._iter.reset(r),t=[];let o=this._root;for(;o;){const h=s.cmp(o.segment);if(h>0)t.push([1,o]),o=o.left;else if(h<0)t.push([-1,o]),o=o.right;else if(s.hasNext())s.next(),t.push([0,o]),o=o.mid;else{for(n?(o.left=void 0,o.mid=void 0,o.right=void 0):o.value=void 0;t.length>0&&o.isEmpty();){let[f,m]=t.pop();switch(f){case 1:m.left=void 0;break;case 0:m.mid=void 0;break;case-1:m.right=void 0;break}o=m}break}}}findSubstr(r){const n=this._iter.reset(r);let s=this._root,t;for(;s;){const o=n.cmp(s.segment);if(o>0)s=s.left;else if(o<0)s=s.right;else if(n.hasNext())n.next(),t=s.value||t,s=s.mid;else break}return s&&s.value||t}findSuperstr(r){const n=this._iter.reset(r);let s=this._root;for(;s;){const t=n.cmp(s.segment);if(t>0)s=s.left;else if(t<0)s=s.right;else if(n.hasNext())n.next(),s=s.mid;else return s.mid?this._entries(s.mid):void 0}}forEach(r){for(const[n,s]of this)r(s,n)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(r){r&&(yield*this._entries(r.left),r.value&&(yield[r.key,r.value]),yield*this._entries(r.mid),yield*this._entries(r.right))}}e.TernarySearchTree=u;class a{constructor(r,n){this[k]="ResourceMap",r instanceof a?(this.map=new Map(r.map),this.toKey=n!=null?n:a.defaultToKey):(this.map=new Map,this.toKey=r!=null?r:a.defaultToKey)}set(r,n){return this.map.set(this.toKey(r),n),this}get(r){return this.map.get(this.toKey(r))}has(r){return this.map.has(this.toKey(r))}get size(){return this.map.size}clear(){this.map.clear()}delete(r){return this.map.delete(this.toKey(r))}forEach(r,n){typeof n!="undefined"&&(r=r.bind(n));for(let[s,t]of this.map)r(t,v.URI.parse(s),this)}values(){return this.map.values()}*keys(){for(let r of this.map.keys())yield v.URI.parse(r)}*entries(){for(let r of this.map.entries())yield[v.URI.parse(r[0]),r[1]]}*[(k=Symbol.toStringTag,Symbol.iterator)](){for(let r of this.map)yield[v.URI.parse(r[0]),r[1]]}}e.ResourceMap=a,a.defaultToKey=d=>d.toString();class l{constructor(){this[w]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var r;return(r=this._head)===null||r===void 0?void 0:r.value}get last(){var r;return(r=this._tail)===null||r===void 0?void 0:r.value}has(r){return this._map.has(r)}get(r,n=0){const s=this._map.get(r);if(!!s)return n!==0&&this.touch(s,n),s.value}set(r,n,s=0){let t=this._map.get(r);if(t)t.value=n,s!==0&&this.touch(t,s);else{switch(t={key:r,value:n,next:void 0,previous:void 0},s){case 0:this.addItemLast(t);break;case 1:this.addItemFirst(t);break;case 2:this.addItemLast(t);break;default:this.addItemLast(t);break}this._map.set(r,t),this._size++}return this}delete(r){return!!this.remove(r)}remove(r){const n=this._map.get(r);if(!!n)return this._map.delete(r),this.removeItem(n),this._size--,n.value}shift(){if(!(!this._head&&!this._tail)){if(!this._head||!this._tail)throw new Error("Invalid list");const r=this._head;return this._map.delete(r.key),this.removeItem(r),this._size--,r.value}}forEach(r,n){const s=this._state;let t=this._head;for(;t;){if(n?r.bind(n)(t.value,t.key,this):r(t.value,t.key,this),this._state!==s)throw new Error("LinkedMap got modified during iteration.");t=t.next}}keys(){const r=this,n=this._state;let s=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(s){const o={value:s.key,done:!1};return s=s.next,o}else return{value:void 0,done:!0}}};return t}values(){const r=this,n=this._state;let s=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(s){const o={value:s.value,done:!1};return s=s.next,o}else return{value:void 0,done:!0}}};return t}entries(){const r=this,n=this._state;let s=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(s){const o={value:[s.key,s.value],done:!1};return s=s.next,o}else return{value:void 0,done:!0}}};return t}[(w=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(r){if(!(r>=this.size)){if(r===0){this.clear();return}let n=this._head,s=this.size;for(;n&&s>r;)this._map.delete(n.key),n=n.next,s--;this._head=n,this._size=s,n&&(n.previous=void 0),this._state++}}addItemFirst(r){if(!this._head&&!this._tail)this._tail=r;else if(this._head)r.next=this._head,this._head.previous=r;else throw new Error("Invalid list");this._head=r,this._state++}addItemLast(r){if(!this._head&&!this._tail)this._head=r;else if(this._tail)r.previous=this._tail,this._tail.next=r;else throw new Error("Invalid list");this._tail=r,this._state++}removeItem(r){if(r===this._head&&r===this._tail)this._head=void 0,this._tail=void 0;else if(r===this._head){if(!r.next)throw new Error("Invalid list");r.next.previous=void 0,this._head=r.next}else if(r===this._tail){if(!r.previous)throw new Error("Invalid list");r.previous.next=void 0,this._tail=r.previous}else{const n=r.next,s=r.previous;if(!n||!s)throw new Error("Invalid list");n.previous=s,s.next=n}r.next=void 0,r.previous=void 0,this._state++}touch(r,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(r===this._head)return;const s=r.next,t=r.previous;r===this._tail?(t.next=void 0,this._tail=t):(s.previous=t,t.next=s),r.previous=void 0,r.next=this._head,this._head.previous=r,this._head=r,this._state++}else if(n===2){if(r===this._tail)return;const s=r.next,t=r.previous;r===this._head?(s.previous=void 0,this._head=s):(s.previous=t,t.next=s),r.next=void 0,r.previous=this._tail,this._tail.next=r,this._tail=r,this._state++}}}toJSON(){const r=[];return this.forEach((n,s)=>{r.push([s,n])}),r}fromJSON(r){this.clear();for(const[n,s]of r)this.set(n,s)}}e.LinkedMap=l;class c extends l{constructor(r,n=1){super();this._limit=r,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(r){this._limit=r,this.checkTrim()}get(r,n=2){return super.get(r,n)}peek(r){return super.get(r,0)}set(r,n){return super.set(r,n,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=c}),define(te[70],ie([0,1,51,8]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.or=void 0;function k(...Y){return function(j,ne){for(let X=0,ue=Y.length;X<ue;X++){const he=Y[X](j,ne);if(he)return he}return null}}e.or=k,e.matchesPrefix=w.bind(void 0,!0);function w(Y,j,ne){if(!ne||ne.length<j.length)return null;let X;return Y?X=I.startsWithIgnoreCase(ne,j):X=ne.indexOf(j)===0,X?j.length>0?[{start:0,end:j.length}]:[]:null}function S(Y,j){const ne=j.toLowerCase().indexOf(Y.toLowerCase());return ne===-1?null:[{start:ne,end:ne+Y.length}]}e.matchesContiguousSubString=S;function p(Y,j){return C(Y.toLowerCase(),j.toLowerCase(),0,0)}e.matchesSubString=p;function C(Y,j,ne,X){if(ne===Y.length)return[];if(X===j.length)return null;if(Y[ne]===j[X]){let ue=null;return(ue=C(Y,j,ne+1,X+1))?n({start:X,end:X+1},ue):null}return C(Y,j,ne,X+1)}function i(Y){return 97<=Y&&Y<=122}function _(Y){return 65<=Y&&Y<=90}e.isUpper=_;function u(Y){return 48<=Y&&Y<=57}function a(Y){return Y===32||Y===9||Y===10||Y===13}const l=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(Y=>l.add(Y.charCodeAt(0)));function c(Y){return a(Y)||l.has(Y)}function d(Y,j){return Y===j||c(Y)&&c(j)}function r(Y){return i(Y)||_(Y)||u(Y)}function n(Y,j){return j.length===0?j=[Y]:Y.end===j[0].start?j[0].start=Y.start:j.unshift(Y),j}function s(Y,j){for(let ne=j;ne<Y.length;ne++){const X=Y.charCodeAt(ne);if(_(X)||u(X)||ne>0&&!r(Y.charCodeAt(ne-1)))return ne}return Y.length}function t(Y,j,ne,X){if(ne===Y.length)return[];if(X===j.length)return null;if(Y[ne]!==j[X].toLowerCase())return null;{let ue=null,he=X+1;for(ue=t(Y,j,ne+1,X+1);!ue&&(he=s(j,he))<j.length;)ue=t(Y,j,ne+1,he),he++;return ue===null?null:n({start:X,end:X+1},ue)}}function o(Y){let j=0,ne=0,X=0,ue=0,he=0;for(let we=0;we<Y.length;we++)he=Y.charCodeAt(we),_(he)&&j++,i(he)&&ne++,r(he)&&X++,u(he)&&ue++;const re=j/Y.length,ce=ne/Y.length,me=X/Y.length,Ce=ue/Y.length;return{upperPercent:re,lowerPercent:ce,alphaPercent:me,numericPercent:Ce}}function h(Y){const{upperPercent:j,lowerPercent:ne}=Y;return ne===0&&j>.6}function f(Y){const{upperPercent:j,lowerPercent:ne,alphaPercent:X,numericPercent:ue}=Y;return ne>.2&&j<.8&&X>.6&&ue<.2}function m(Y){let j=0,ne=0,X=0,ue=0;for(let he=0;he<Y.length;he++)X=Y.charCodeAt(he),_(X)&&j++,i(X)&&ne++,a(X)&&ue++;return(j===0||ne===0)&&ue===0?Y.length<=30:j<=5}function g(Y,j){if(!j||(j=j.trim(),j.length===0)||!m(Y)||j.length>60)return null;const ne=o(j);if(!f(ne)){if(!h(ne))return null;j=j.toLowerCase()}let X=null,ue=0;for(Y=Y.toLowerCase();ue<j.length&&(X=t(Y,j,0,ue))===null;)ue=s(j,ue+1);return X}e.matchesCamelCase=g;function b(Y,j,ne=!1){if(!j||j.length===0)return null;let X=null,ue=0;for(Y=Y.toLowerCase(),j=j.toLowerCase();ue<j.length&&(X=y(Y,j,0,ue,ne))===null;)ue=L(j,ue+1);return X}e.matchesWords=b;function y(Y,j,ne,X,ue){if(ne===Y.length)return[];if(X===j.length)return null;if(d(Y.charCodeAt(ne),j.charCodeAt(X))){let he=null,re=X+1;if(he=y(Y,j,ne+1,X+1,ue),!ue)for(;!he&&(re=L(j,re))<j.length;)he=y(Y,j,ne+1,re,ue),re++;return he===null?null:n({start:X,end:X+1},he)}else return null}function L(Y,j){for(let ne=j;ne<Y.length;ne++)if(c(Y.charCodeAt(ne))||ne>0&&c(Y.charCodeAt(ne-1)))return ne;return Y.length}const N=k(e.matchesPrefix,g,S),M=k(e.matchesPrefix,g,p),D=new v.LRUCache(1e4);function R(Y,j,ne=!1){if(typeof Y!="string"||typeof j!="string")return null;let X=D.get(Y);X||(X=new RegExp(I.convertSimple2RegExpPattern(Y),"i"),D.set(Y,X));const ue=X.exec(j);return ue?[{start:ue.index,end:ue.index+ue[0].length}]:ne?M(Y,j):N(Y,j)}e.matchesFuzzy=R;function P(Y,j,ne,X,ue,he){const re=Math.min(13,Y.length);for(;ne<re;ne++){const ce=H(Y,j,ne,X,ue,he,!1);if(ce)return ce}return[0,he]}e.anyScore=P;function O(Y){if(typeof Y=="undefined")return[];const j=[],ne=Y[1];for(let X=Y.length-1;X>1;X--){const ue=Y[X]+ne,he=j[j.length-1];he&&he.end===ue?he.end=ue+1:j.push({start:ue,end:ue+1})}return j}e.createMatches=O;const W=128;function F(){const Y=[],j=[];for(let ne=0;ne<=W;ne++)j[ne]=0;for(let ne=0;ne<=W;ne++)Y.push(j.slice(0));return Y}function E(Y){const j=[];for(let ne=0;ne<=Y;ne++)j[ne]=0;return j}const A=E(2*W),B=E(2*W),z=F(),U=F(),K=F(),G=!1;function J(Y,j,ne,X,ue){function he(ce,me,Ce=" "){for(;ce.length<me;)ce=Ce+ce;return ce}let re=` |   |${X.split("").map(ce=>he(ce,3)).join("|")}
`;for(let ce=0;ce<=ne;ce++)ce===0?re+=" |":re+=`${j[ce-1]}|`,re+=Y[ce].slice(0,ue+1).map(me=>he(me.toString(),3)).join("|")+`
`;return re}function Q(Y,j,ne,X){Y=Y.substr(j),ne=ne.substr(X),console.log(J(U,Y,Y.length,ne,ne.length)),console.log(J(K,Y,Y.length,ne,ne.length)),console.log(J(z,Y,Y.length,ne,ne.length))}function ae(Y,j){if(j<0||j>=Y.length)return!1;const ne=Y.codePointAt(j);switch(ne){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!I.isEmojiImprecise(ne)}}function se(Y,j){if(j<0||j>=Y.length)return!1;switch(Y.charCodeAt(j)){case 32:case 9:return!0;default:return!1}}function Z(Y,j,ne){return j[Y]!==ne[Y]}function T(Y,j,ne,X,ue,he,re=!1){for(;j<ne&&ue<he;)Y[j]===X[ue]&&(re&&(A[j]=ue),j+=1),ue+=1;return j===ne}e.isPatternInWord=T;var x;(function(Y){Y.Default=[-100,0];function j(ne){return!ne||ne.length===2&&ne[0]===-100&&ne[1]===0}Y.isDefault=j})(x=e.FuzzyScore||(e.FuzzyScore={}));function H(Y,j,ne,X,ue,he,re){const ce=Y.length>W?W:Y.length,me=X.length>W?W:X.length;if(!(ne>=ce||he>=me||ce-ne>me-he)&&!!T(j,ne,ce,ue,he,me,!0)){V(ce,me,ne,he,j,ue);let Ce=1,we=1,Ee=ne,Ie=he;const Ae=[!1];for(Ce=1,Ee=ne;Ee<ce;Ce++,Ee++){const ye=A[Ee],fe=B[Ee],de=Ee+1<ce?B[Ee+1]:me;for(we=ye-he+1,Ie=ye;Ie<de;we++,Ie++){let ge=Number.MIN_SAFE_INTEGER,pe=!1;Ie<=fe&&(ge=q(Y,j,Ee,ne,X,ue,Ie,me,he,z[Ce-1][we-1]===0,Ae));let be=0;ge!==Number.MAX_SAFE_INTEGER&&(pe=!0,be=ge+U[Ce-1][we-1]);const ke=Ie>ye,Ne=ke?U[Ce][we-1]+(z[Ce][we-1]>0?-5:0):0,Re=Ie>ye+1&&z[Ce][we-1]>0,Oe=Re?U[Ce][we-2]+(z[Ce][we-2]>0?-5:0):0;if(Re&&(!ke||Oe>=Ne)&&(!pe||Oe>=be))U[Ce][we]=Oe,K[Ce][we]=3,z[Ce][we]=0;else if(ke&&(!pe||Ne>=be))U[Ce][we]=Ne,K[Ce][we]=2,z[Ce][we]=0;else if(pe)U[Ce][we]=be,K[Ce][we]=1,z[Ce][we]=z[Ce-1][we-1]+1;else throw new Error("not possible")}}if(G&&Q(Y,ne,X,he),!(!Ae[0]&&!re)){Ce--,we--;const Le=[U[Ce][we],he];let Te=0,ve=0;for(;Ce>=1;){let ye=we;do{const fe=K[Ce][ye];if(fe===3)ye=ye-2;else if(fe===2)ye=ye-1;else break}while(ye>=1);Te>1&&j[ne+Ce-1]===ue[he+we-1]&&!Z(ye+he-1,X,ue)&&Te+1>z[Ce][ye]&&(ye=we),ye===we?Te++:Te=1,ve||(ve=ye),Ce--,we=ye-1,Le.push(we)}me===ce&&(Le[0]+=2);const Se=ve-ce;return Le[0]-=Se,Le}}}e.fuzzyScore=H;function V(Y,j,ne,X,ue,he){let re=Y-1,ce=j-1;for(;re>=ne&&ce>=X;)ue[re]===he[ce]&&(B[re]=ce,re--),ce--}function q(Y,j,ne,X,ue,he,re,ce,me,Ce,we){if(j[ne]!==he[re])return Number.MIN_SAFE_INTEGER;let Ee=1,Ie=!1;return re===ne-X?Ee=Y[ne]===ue[re]?7:5:Z(re,ue,he)&&(re===0||!Z(re-1,ue,he))?(Ee=Y[ne]===ue[re]?7:5,Ie=!0):ae(he,re)&&(re===0||!ae(he,re-1))?Ee=5:(ae(he,re-1)||se(he,re-1))&&(Ee=5,Ie=!0),Ee>1&&ne===X&&(we[0]=!0),Ie||(Ie=Z(re,ue,he)||ae(he,re-1)||se(he,re-1)),ne===X?re>me&&(Ee-=Ie?3:5):Ce?Ee+=Ie?2:0:Ee+=Ie?0:1,re+1===ce&&(Ee-=Ie?3:5),Ee}function ee(Y,j,ne,X,ue,he,re){return oe(Y,j,ne,X,ue,he,!0,re)}e.fuzzyScoreGracefulAggressive=ee;function oe(Y,j,ne,X,ue,he,re,ce){let me=H(Y,j,ne,X,ue,he,ce);if(me&&!re)return me;if(Y.length>=3){const Ce=Math.min(7,Y.length-1);for(let we=ne+1;we<Ce;we++){const Ee=le(Y,we);if(Ee){const Ie=H(Ee,Ee.toLowerCase(),ne,X,ue,he,ce);Ie&&(Ie[0]-=3,(!me||Ie[0]>me[0])&&(me=Ie))}}}return me}function le(Y,j){if(!(j+1>=Y.length)){const ne=Y[j],X=Y[j+1];if(ne!==X)return Y.slice(0,j)+X+ne+Y.slice(j+2)}}}),define(te[482],ie([0,1,70,74,17,8]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function p(r,n,s=0,t=0){const o=n;return o.values&&o.values.length>1?C(r,o.values,s,t):i(r,n,s,t)}e.scoreFuzzy2=p;function C(r,n,s,t){let o=0;const h=[];for(const f of n){const[m,g]=i(r,f,s,t);if(typeof m!="number")return S;o+=m,h.push(...g)}return[o,_(h)]}function i(r,n,s,t){const o=(0,v.fuzzyScore)(n.original,n.originalLowercase,s,r,r.toLowerCase(),t,!0);return o?[o[0],(0,v.createMatches)(o)]:S}function _(r){const n=r.sort((o,h)=>o.start-h.start),s=[];let t;for(const o of n)!t||!u(t,o)?(t=o,s.push(o)):(t.start=Math.min(t.start,o.start),t.end=Math.max(t.end,o.end));return s}function u(r,n){return!(r.end<n.start||n.end<r.start)}const a=" ";function l(r){typeof r!="string"&&(r="");const n=r.toLowerCase(),{pathNormalized:s,normalized:t,normalizedLowercase:o}=c(r),h=s.indexOf(I.sep)>=0;let f;const m=r.split(a);if(m.length>1)for(const g of m){const{pathNormalized:b,normalized:y,normalizedLowercase:L}=c(g);y&&(f||(f=[]),f.push({original:g,originalLowercase:g.toLowerCase(),pathNormalized:b,normalized:y,normalizedLowercase:L}))}return{original:r,originalLowercase:n,pathNormalized:s,normalized:t,normalizedLowercase:o,values:f,containsPathSeparator:h}}e.prepareQuery=l;function c(r){let n;k.isWindows?n=r.replace(/\//g,I.sep):n=r.replace(/\\/g,I.sep);const s=(0,w.stripWildcards)(n).replace(/\s/g,"");return{pathNormalized:n,normalized:s,normalizedLowercase:s.toLowerCase()}}function d(r){return Array.isArray(r)?l(r.map(n=>n.original).join(a)):l(r.original)}e.pieceToQuery=d}),define(te[259],ie([0,1,8,155,74,51,15]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=void 0;const p="**",C="/",i="[/\\\\]",_="[^/\\\\]",u=/\//g;function a(A){switch(A){case 0:return"";case 1:return`${_}*?`;default:return`(?:${i}|${_}+${i}|${i}${_}+)*?`}}function l(A,B){if(!A)return[];const z=[];let U=!1,K=!1,G="";for(const J of A){switch(J){case B:if(!U&&!K){z.push(G),G="";continue}break;case"{":U=!0;break;case"}":U=!1;break;case"[":K=!0;break;case"]":K=!1;break}G+=J}return G&&z.push(G),z}e.splitGlobAware=l;function c(A){if(!A)return"";let B="";const z=l(A,C);if(z.every(U=>U===p))B=".*";else{let U=!1;z.forEach((K,G)=>{if(K===p){U||(B+=a(2),U=!0);return}let J=!1,Q="",ae=!1,se="";for(const Z of K){if(Z!=="}"&&J){Q+=Z;continue}if(ae&&(Z!=="]"||!se)){let T;Z==="-"?T=Z:(Z==="^"||Z==="!")&&!se?T="^":Z===C?T="":T=v.escapeRegExpCharacters(Z),se+=T;continue}switch(Z){case"{":J=!0;continue;case"[":ae=!0;continue;case"}":B+=`(?:${l(Q,",").map(H=>c(H)).join("|")})`,J=!1,Q="";break;case"]":B+="["+se+"]",ae=!1,se="";break;case"?":B+=_;continue;case"*":B+=a(1);continue;default:B+=v.escapeRegExpCharacters(Z)}}G<z.length-1&&(z[G+1]!==p||G+2<z.length)&&(B+=i),U=!1})}return B}const d=/^\*\*\/\*\.[\w\.-]+$/,r=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,s=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,t=/^\*\*((\/[\w\.-]+)+)\/?$/,o=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new w.LRUCache(1e4),f=function(){return!1},m=function(){return null};function g(A,B){if(!A)return m;let z;typeof A!="string"?z=A.pattern:z=A,z=z.trim();const U=`${z}_${!!B.trimForExclusions}`;let K=h.get(U);if(K)return b(K,A);let G;if(d.test(z)){const J=z.substr(4);K=function(Q,ae){return typeof Q=="string"&&Q.endsWith(J)?z:null}}else(G=r.exec(y(z,B)))?K=L(G[1],z):(B.trimForExclusions?s:n).test(z)?K=N(z,B):(G=t.exec(y(z,B)))?K=M(G[1].substr(1),z,!0):(G=o.exec(y(z,B)))?K=M(G[1],z,!1):K=D(z);return h.set(U,K),b(K,A)}function b(A,B){return typeof B=="string"?A:function(z,U){return I.isEqualOrParent(z,B.base)?A(k.relative(B.base,z),U):null}}function y(A,B){return B.trimForExclusions&&A.endsWith("/**")?A.substr(0,A.length-2):A}function L(A,B){const z=`/${A}`,U=`\\${A}`,K=function(J,Q){return typeof J!="string"?null:Q?Q===A?B:null:J===A||J.endsWith(z)||J.endsWith(U)?B:null},G=[A];return K.basenames=G,K.patterns=[B],K.allBasenames=G,K}function N(A,B){const z=E(A.slice(1,-1).split(",").map(Q=>g(Q,B)).filter(Q=>Q!==m),A),U=z.length;if(!U)return m;if(U===1)return z[0];const K=function(Q,ae){for(let se=0,Z=z.length;se<Z;se++)if(z[se](Q,ae))return A;return null},G=z.find(Q=>!!Q.allBasenames);G&&(K.allBasenames=G.allBasenames);const J=z.reduce((Q,ae)=>ae.allPaths?Q.concat(ae.allPaths):Q,[]);return J.length&&(K.allPaths=J),K}function M(A,B,z){const U=k.sep===k.posix.sep,K=U?A:A.replace(u,k.sep),G=k.sep+K,J=k.posix.sep+A,Q=z?function(ae,se){return typeof ae=="string"&&(ae===K||ae.endsWith(G)||!U&&(ae===A||ae.endsWith(J)))?B:null}:function(ae,se){return typeof ae=="string"&&(ae===K||!U&&ae===A)?B:null};return Q.allPaths=[(z?"*/":"./")+A],Q}function D(A){try{const B=new RegExp(`^${c(A)}$`);return function(z){return B.lastIndex=0,typeof z=="string"&&B.test(z)?A:null}}catch(B){return m}}function R(A,B,z){return!A||typeof B!="string"?!1:P(A)(B,void 0,z)}e.match=R;function P(A,B={}){if(!A)return f;if(typeof A=="string"||O(A)){const z=g(A,B);if(z===m)return f;const U=function(K,G){return!!z(K,G)};return z.allBasenames&&(U.allBasenames=z.allBasenames),z.allPaths&&(U.allPaths=z.allPaths),U}return W(A,B)}e.parse=P;function O(A){const B=A;return B&&typeof B.base=="string"&&typeof B.pattern=="string"}e.isRelativePattern=O;function W(A,B){const z=E(Object.getOwnPropertyNames(A).map(Q=>F(Q,A[Q],B)).filter(Q=>Q!==m)),U=z.length;if(!U)return m;if(!z.some(Q=>!!Q.requiresSiblings)){if(U===1)return z[0];const Q=function(Z,T){for(let x=0,H=z.length;x<H;x++){const V=z[x](Z,T);if(V)return V}return null},ae=z.find(Z=>!!Z.allBasenames);ae&&(Q.allBasenames=ae.allBasenames);const se=z.reduce((Z,T)=>T.allPaths?Z.concat(T.allPaths):Z,[]);return se.length&&(Q.allPaths=se),Q}const K=function(Q,ae,se){let Z;for(let T=0,x=z.length;T<x;T++){const H=z[T];H.requiresSiblings&&se&&(ae||(ae=k.basename(Q)),Z||(Z=ae.substr(0,ae.length-k.extname(Q).length)));const V=H(Q,ae,Z,se);if(V)return V}return null},G=z.find(Q=>!!Q.allBasenames);G&&(K.allBasenames=G.allBasenames);const J=z.reduce((Q,ae)=>ae.allPaths?Q.concat(ae.allPaths):Q,[]);return J.length&&(K.allPaths=J),K}function F(A,B,z){if(B===!1)return m;const U=g(A,z);if(U===m)return m;if(typeof B=="boolean")return U;if(B){const K=B.when;if(typeof K=="string"){const G=(J,Q,ae,se)=>{if(!se||!U(J,Q))return null;const Z=K.replace("$(basename)",ae),T=se(Z);return(0,S.isThenable)(T)?T.then(x=>x?A:null):T?A:null};return G.requiresSiblings=!0,G}}return U}function E(A,B){const z=A.filter(Q=>!!Q.basenames);if(z.length<2)return A;const U=z.reduce((Q,ae)=>{const se=ae.basenames;return se?Q.concat(se):Q},[]);let K;if(B){K=[];for(let Q=0,ae=U.length;Q<ae;Q++)K.push(B)}else K=z.reduce((Q,ae)=>{const se=ae.patterns;return se?Q.concat(se):Q},[]);const G=function(Q,ae){if(typeof Q!="string")return null;if(!ae){let Z;for(Z=Q.length;Z>0;Z--){const T=Q.charCodeAt(Z-1);if(T===47||T===92)break}ae=Q.substr(Z)}const se=U.indexOf(ae);return se!==-1?K[se]:null};G.basenames=U,G.patterns=K,G.allBasenames=U;const J=A.filter(Q=>!Q.basenames);return J.push(G),J}}),define(te[117],ie([0,1,27,70,8]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const w=new RegExp(`\\$\\(${v.CSSIcon.iconNameExpression}(?:${v.CSSIcon.iconModifierExpression})?\\)`,"g"),S=new RegExp(`(\\\\)?${w.source}`,"g");function p(d){return d.replace(S,(r,n)=>n?r:`\\${r}`)}e.escapeIcons=p;const C=new RegExp(`\\\\${w.source}`,"g");function i(d){return d.replace(C,r=>`\\${r}`)}e.markdownEscapeEscapedIcons=i;const _=new RegExp(`(\\s)?(\\\\)?${w.source}(\\s)?`,"g");function u(d){return d.indexOf(e.iconStartMarker)===-1?d:d.replace(_,(r,n,s,t)=>s?r:n||t||"")}e.stripIcons=u;function a(d){const r=d.indexOf(e.iconStartMarker);return r===-1?{text:d}:l(d,r)}e.parseLabelWithIcons=a;function l(d,r){const n=[];let s="";function t(L){if(L){s+=L;for(const N of L)n.push(f)}}let o=-1,h="",f=0,m,g,b=r;const y=d.length;for(t(d.substr(0,r));b<y;)m=d[b],g=d[b+1],m===e.iconStartMarker[0]&&g===e.iconStartMarker[1]?(o=b,t(h),h=e.iconStartMarker,b++):m===")"&&o!==-1?(f+=b-o+1,o=-1,h=""):o!==-1?/^[a-z0-9\-]$/i.test(m)?h+=m:(t(h),o=-1,h=""):t(m),b++;return t(h),{text:s,iconOffsets:n}}function c(d,r,n=!1){const{text:s,iconOffsets:t}=r;if(!t||t.length===0)return(0,I.matchesFuzzy)(d,s,n);const o=(0,k.ltrim)(s," "),h=s.length-o.length,f=(0,I.matchesFuzzy)(d,o,n);if(f)for(const m of f){const g=t[m.start+h]+h;m.start+=g,m.end+=g}return f}e.matchesFuzzyIconAware=c}),define(te[78],ie([0,1,19,117,11]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.markedStringsEquals=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class w{constructor(c="",d=!1){var r,n;if(this.value=c,typeof this.value!="string")throw(0,k.illegalArgument)("value");typeof d=="boolean"?(this.isTrusted=d,this.supportThemeIcons=!1):(this.isTrusted=(r=d.isTrusted)!==null&&r!==void 0?r:void 0,this.supportThemeIcons=(n=d.supportThemeIcons)!==null&&n!==void 0?n:!1)}appendText(c,d=0){return this.value+=_(this.supportThemeIcons?(0,I.escapeIcons)(c):c).replace(/([ \t]+)/g,(r,n)=>"&nbsp;".repeat(n.length)).replace(/^>/gm,"\\>").replace(/\n/g,d===1?`\\
`:`

`),this}appendMarkdown(c){return this.value+=c,this}appendCodeblock(c,d){return this.value+="\n```",this.value+=c,this.value+=`
`,this.value+=d,this.value+="\n```\n",this}}e.MarkdownString=w;function S(l){return p(l)?!l.value:Array.isArray(l)?l.every(S):!0}e.isEmptyMarkdownString=S;function p(l){return l instanceof w?!0:l&&typeof l=="object"?typeof l.value=="string"&&(typeof l.isTrusted=="boolean"||l.isTrusted===void 0)&&(typeof l.supportThemeIcons=="boolean"||l.supportThemeIcons===void 0):!1}e.isMarkdownString=p;function C(l,c){return!l&&!c?!0:!l||!c?!1:Array.isArray(l)&&Array.isArray(c)?(0,v.equals)(l,c,i):p(l)&&p(c)?i(l,c):!1}e.markedStringsEquals=C;function i(l,c){return l===c?!0:!l||!c?!1:l.value===c.value&&l.isTrusted===c.isTrusted&&l.supportThemeIcons===c.supportThemeIcons}function _(l){return l.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=_;function u(l){return l&&l.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=u;function a(l){const c=[],d=l.split("|").map(n=>n.trim());l=d[0];const r=d[1];if(r){const n=/height=(\d+)/.exec(r),s=/width=(\d+)/.exec(r),t=n?n[1]:"",o=s?s[1]:"",h=isFinite(parseInt(o)),f=isFinite(parseInt(t));h&&c.push(`width="${o}"`),f&&c.push(`height="${t}"`)}return{href:l,dimensions:c}}e.parseHrefAndDimensions=a}),define(te[258],ie([0,1,101,23]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function k(S){let p=JSON.parse(S);return p=w(p),p}e.parse=k;function w(S,p=0){if(!S||p>200)return S;if(typeof S=="object"){switch(S.$mid){case 1:return I.URI.revive(S);case 2:return new RegExp(S.source,S.flags)}if(S instanceof v.VSBuffer||S instanceof Uint8Array)return S;if(Array.isArray(S))for(let C=0;C<S.length;++C)S[C]=w(S[C],p+1);else for(const C in S)Object.hasOwnProperty.call(S,C)&&(S[C]=w(S[C],p+1))}return S}e.revive=w}),define(te[45],ie([0,1,23,17]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var k;(function(p){p.inMemory="inmemory",p.vscode="vscode",p.internal="private",p.walkThrough="walkThrough",p.walkThroughSnippet="walkThroughSnippet",p.http="http",p.https="https",p.file="file",p.mailto="mailto",p.untitled="untitled",p.data="data",p.command="command",p.vscodeRemote="vscode-remote",p.vscodeRemoteResource="vscode-remote-resource",p.userData="vscode-userdata",p.vscodeCustomEditor="vscode-custom-editor",p.vscodeNotebook="vscode-notebook",p.vscodeNotebookCell="vscode-notebook-cell",p.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",p.vscodeSettings="vscode-settings",p.vscodeWorkspaceTrust="vscode-workspace-trust",p.vscodeTerminal="vscode-terminal",p.webviewPanel="webview-panel",p.vscodeWebview="vscode-webview",p.extension="extension",p.vscodeFileResource="vscode-file"})(k=e.Schemas||(e.Schemas={}));class w{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(C){this._preferredWebSchema=C}rewrite(C){if(this._delegate)return this._delegate(C);const i=C.authority;let _=this._hosts[i];_&&_.indexOf(":")!==-1&&(_=`[${_}]`);const u=this._ports[i],a=this._connectionTokens[i];let l=`path=${encodeURIComponent(C.path)}`;return typeof a=="string"&&(l+=`&tkn=${encodeURIComponent(a)}`),v.URI.from({scheme:I.isWeb?this._preferredWebSchema:k.vscodeRemoteResource,authority:`${_}:${u}`,path:"/vscode-remote-resource",query:l})}}e.RemoteAuthorities=new w;class S{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(C,i,_){const u=this.toUri(C,i);return u.scheme===k.vscodeRemote?e.RemoteAuthorities.rewrite(u):I.isNative&&(_||I.isPreferringBrowserCodeLoad)&&u.scheme===k.file?u.with({scheme:k.vscodeFileResource,authority:u.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):u}toUri(C,i){return v.URI.isUri(C)?C:v.URI.parse(i.toUrl(C))}}e.FileAccess=new S}),define(te[7],ie([0,1,36,54,55,53,15,11,6,2,17,45,151]),function($,e,v,I,k,w,S,p,C,i,_,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModifierKeyEmitter=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function l(de){for(;de.firstChild;)de.firstChild.remove()}e.clearNode=l;function c(de){var ge;return(ge=de==null?void 0:de.isConnected)!==null&&ge!==void 0?ge:!1}e.isInDOM=c;class d{constructor(ge,pe,be,ke){this._node=ge,this._type=pe,this._handler=be,this._options=ke||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function r(de,ge,pe,be){return new d(de,ge,pe,be)}e.addDisposableListener=r;function n(de){return function(ge){return de(new w.StandardMouseEvent(ge))}}function s(de){return function(ge){return de(new k.StandardKeyboardEvent(ge))}}let t=function(ge,pe,be,ke){let Ne=be;return pe==="click"||pe==="mousedown"?Ne=n(be):(pe==="keydown"||pe==="keypress"||pe==="keyup")&&(Ne=s(be)),r(ge,pe,Ne,ke)};e.addStandardDisposableListener=t;let o=function(ge,pe,be){let ke=n(pe);return h(ge,ke,be)};e.addStandardDisposableGenericMouseDownListner=o;function h(de,ge,pe){return r(de,_.isIOS&&a.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,ge,pe)}e.addDisposableGenericMouseDownListner=h;function f(de,ge,pe){return r(de,_.isIOS&&a.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,ge,pe)}e.addDisposableGenericMouseUpListner=f;function m(de,ge){return r(de,"mouseout",pe=>{let be=pe.relatedTarget;for(;be&&be!==de;)be=be.parentNode;be!==de&&ge(pe)})}e.addDisposableNonBubblingMouseOutListener=m;function g(de,ge){return r(de,"pointerout",pe=>{let be=pe.relatedTarget;for(;be&&be!==de;)be=be.parentNode;be!==de&&ge(pe)})}e.addDisposableNonBubblingPointerOutListener=g;let b=null;function y(de){if(!b){const ge=pe=>setTimeout(()=>pe(new Date().getTime()),0);b=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||ge}return b.call(self,de)}class L{constructor(ge,pe=0){this._runner=ge,this.priority=pe,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(ge){(0,p.onUnexpectedError)(ge)}}static sort(ge,pe){return pe.priority-ge.priority}}(function(){let de=[],ge=null,pe=!1,be=!1,ke=()=>{for(pe=!1,ge=de,de=[],be=!0;ge.length>0;)ge.sort(L.sort),ge.shift().execute();be=!1};e.scheduleAtNextAnimationFrame=(Ne,Re=0)=>{let Oe=new L(Ne,Re);return de.push(Oe),pe||(pe=!0,y(ke)),Oe},e.runAtThisOrScheduleAtNextAnimationFrame=(Ne,Re)=>{if(be){let Oe=new L(Ne,Re);return ge.push(Oe),Oe}else return(0,e.scheduleAtNextAnimationFrame)(Ne,Re)}})();const N=8,M=function(de,ge){return ge};class D extends i.Disposable{constructor(ge,pe,be,ke=M,Ne=N){super();let Re=null,Oe=0,Fe=this._register(new S.TimeoutTimer),Pe=()=>{Oe=new Date().getTime(),be(Re),Re=null};this._register(r(ge,pe,xe=>{Re=ke(Re,xe);let We=new Date().getTime()-Oe;We>=Ne?(Fe.cancel(),Pe()):Fe.setIfNotSet(Pe,Ne-We)}))}}function R(de,ge,pe,be,ke){return new D(de,ge,pe,be,ke)}e.addDisposableThrottledListener=R;function P(de){return document.defaultView.getComputedStyle(de,null)}e.getComputedStyle=P;function O(de){if(de!==document.body)return new F(de.clientWidth,de.clientHeight);if(_.isIOS&&window.visualViewport){const ge=window.visualViewport.width,pe=window.visualViewport.height-(v.isStandalone?20+4:0);return new F(ge,pe)}if(window.innerWidth&&window.innerHeight)return new F(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new F(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new F(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=O;class W{static convertToPixels(ge,pe){return parseFloat(pe)||0}static getDimension(ge,pe,be){let ke=P(ge),Ne="0";return ke&&(ke.getPropertyValue?Ne=ke.getPropertyValue(pe):Ne=ke.getAttribute(be)),W.convertToPixels(ge,Ne)}static getBorderLeftWidth(ge){return W.getDimension(ge,"border-left-width","borderLeftWidth")}static getBorderRightWidth(ge){return W.getDimension(ge,"border-right-width","borderRightWidth")}static getBorderTopWidth(ge){return W.getDimension(ge,"border-top-width","borderTopWidth")}static getBorderBottomWidth(ge){return W.getDimension(ge,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(ge){return W.getDimension(ge,"padding-left","paddingLeft")}static getPaddingRight(ge){return W.getDimension(ge,"padding-right","paddingRight")}static getPaddingTop(ge){return W.getDimension(ge,"padding-top","paddingTop")}static getPaddingBottom(ge){return W.getDimension(ge,"padding-bottom","paddingBottom")}static getMarginLeft(ge){return W.getDimension(ge,"margin-left","marginLeft")}static getMarginTop(ge){return W.getDimension(ge,"margin-top","marginTop")}static getMarginRight(ge){return W.getDimension(ge,"margin-right","marginRight")}static getMarginBottom(ge){return W.getDimension(ge,"margin-bottom","marginBottom")}}class F{constructor(ge,pe){this.width=ge,this.height=pe}with(ge=this.width,pe=this.height){return ge!==this.width||pe!==this.height?new F(ge,pe):this}static is(ge){return typeof ge=="object"&&typeof ge.height=="number"&&typeof ge.width=="number"}static lift(ge){return ge instanceof F?ge:new F(ge.width,ge.height)}static equals(ge,pe){return ge===pe?!0:!ge||!pe?!1:ge.width===pe.width&&ge.height===pe.height}}e.Dimension=F;function E(de){let ge=de.offsetParent,pe=de.offsetTop,be=de.offsetLeft;for(;(de=de.parentNode)!==null&&de!==document.body&&de!==document.documentElement;){pe-=de.scrollTop;const ke=se(de)?null:P(de);ke&&(be-=ke.direction!=="rtl"?de.scrollLeft:-de.scrollLeft),de===ge&&(be+=W.getBorderLeftWidth(de),pe+=W.getBorderTopWidth(de),pe+=de.offsetTop,be+=de.offsetLeft,ge=de.offsetParent)}return{left:be,top:pe}}e.getTopLeftOffset=E;function A(de,ge,pe){typeof ge=="number"&&(de.style.width=`${ge}px`),typeof pe=="number"&&(de.style.height=`${pe}px`)}e.size=A;function B(de){let ge=de.getBoundingClientRect();return{left:ge.left+e.StandardWindow.scrollX,top:ge.top+e.StandardWindow.scrollY,width:ge.width,height:ge.height}}e.getDomNodePagePosition=B,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function z(de){let ge=W.getMarginLeft(de)+W.getMarginRight(de);return de.offsetWidth+ge}e.getTotalWidth=z;function U(de){let ge=W.getBorderLeftWidth(de)+W.getBorderRightWidth(de),pe=W.getPaddingLeft(de)+W.getPaddingRight(de);return de.offsetWidth-ge-pe}e.getContentWidth=U;function K(de){let ge=W.getBorderTopWidth(de)+W.getBorderBottomWidth(de),pe=W.getPaddingTop(de)+W.getPaddingBottom(de);return de.offsetHeight-ge-pe}e.getContentHeight=K;function G(de){let ge=W.getMarginTop(de)+W.getMarginBottom(de);return de.offsetHeight+ge}e.getTotalHeight=G;function J(de,ge){for(;de;){if(de===ge)return!0;de=de.parentNode}return!1}e.isAncestor=J;function Q(de,ge,pe){for(;de&&de.nodeType===de.ELEMENT_NODE;){if(de.classList.contains(ge))return de;if(pe){if(typeof pe=="string"){if(de.classList.contains(pe))return null}else if(de===pe)return null}de=de.parentNode}return null}e.findParentWithClass=Q;function ae(de,ge,pe){return!!Q(de,ge,pe)}e.hasParentWithClass=ae;function se(de){return de&&!!de.host&&!!de.mode}e.isShadowRoot=se;function Z(de){return!!T(de)}e.isInShadowDOM=Z;function T(de){for(;de.parentNode;){if(de===document.body)return null;de=de.parentNode}return se(de)?de:null}e.getShadowRoot=T;function x(){let de=document.activeElement;for(;de==null?void 0:de.shadowRoot;)de=de.shadowRoot.activeElement;return de}e.getActiveElement=x;function H(de=document.getElementsByTagName("head")[0]){let ge=document.createElement("style");return ge.type="text/css",ge.media="screen",de.appendChild(ge),ge}e.createStyleSheet=H;let V=null;function q(){return V||(V=H()),V}function ee(de){var ge,pe;return((ge=de==null?void 0:de.sheet)===null||ge===void 0?void 0:ge.rules)?de.sheet.rules:((pe=de==null?void 0:de.sheet)===null||pe===void 0?void 0:pe.cssRules)?de.sheet.cssRules:[]}function oe(de,ge,pe=q()){!pe||!ge||pe.sheet.insertRule(de+"{"+ge+"}",0)}e.createCSSRule=oe;function le(de,ge=q()){if(!!ge){let pe=ee(ge),be=[];for(let ke=0;ke<pe.length;ke++)pe[ke].selectorText.indexOf(de)!==-1&&be.push(ke);for(let ke=be.length-1;ke>=0;ke--)ge.sheet.deleteRule(be[ke])}}e.removeCSSRulesContainingSelector=le;function Y(de){return typeof HTMLElement=="object"?de instanceof HTMLElement:de&&typeof de=="object"&&de.nodeType===1&&typeof de.nodeName=="string"}e.isHTMLElement=Y,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:v.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:v.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:v.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(de,ge){de.preventDefault?de.preventDefault():de.returnValue=!1,ge&&(de.stopPropagation?de.stopPropagation():de.cancelBubble=!0)}};function j(de){let ge=[];for(let pe=0;de&&de.nodeType===de.ELEMENT_NODE;pe++)ge[pe]=de.scrollTop,de=de.parentNode;return ge}e.saveParentsScrollTop=j;function ne(de,ge){for(let pe=0;de&&de.nodeType===de.ELEMENT_NODE;pe++)de.scrollTop!==ge[pe]&&(de.scrollTop=ge[pe]),de=de.parentNode}e.restoreParentsScrollTop=ne;class X extends i.Disposable{constructor(ge){super();this._onDidFocus=this._register(new C.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new C.Emitter),this.onDidBlur=this._onDidBlur.event;let pe=J(document.activeElement,ge),be=!1;const ke=()=>{be=!1,pe||(pe=!0,this._onDidFocus.fire())},Ne=()=>{pe&&(be=!0,window.setTimeout(()=>{be&&(be=!1,pe=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{J(document.activeElement,ge)!==pe&&(pe?Ne():ke())},this._register((0,I.domEvent)(ge,e.EventType.FOCUS,!0)(ke)),this._register((0,I.domEvent)(ge,e.EventType.BLUR,!0)(Ne))}}function ue(de){return new X(de)}e.trackFocus=ue;function he(de,...ge){if(de.append(...ge),ge.length===1&&typeof ge[0]!="string")return ge[0]}e.append=he;function re(de,...ge){de.innerText="",he(de,...ge)}e.reset=re;const ce=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var me;(function(de){de.HTML="http://www.w3.org/1999/xhtml",de.SVG="http://www.w3.org/2000/svg"})(me=e.Namespace||(e.Namespace={}));function Ce(de,ge,pe,...be){let ke=ce.exec(ge);if(!ke)throw new Error("Bad use of emmet");pe=Object.assign({},pe||{});let Ne=ke[1]||"div",Re;return de!==me.HTML?Re=document.createElementNS(de,Ne):Re=document.createElement(Ne),ke[3]&&(Re.id=ke[3]),ke[4]&&(Re.className=ke[4].replace(/\./g," ").trim()),Object.keys(pe).forEach(Oe=>{const Fe=pe[Oe];typeof Fe!="undefined"&&(/^on\w+$/.test(Oe)?Re[Oe]=Fe:Oe==="selected"?Fe&&Re.setAttribute(Oe,"true"):Re.setAttribute(Oe,Fe))}),Re.append(...be),Re}function we(de,ge,...pe){return Ce(me.HTML,de,ge,...pe)}e.$=we,we.SVG=function(de,ge,...pe){return Ce(me.SVG,de,ge,...pe)};function Ee(...de){for(let ge of de)ge.style.display="",ge.removeAttribute("aria-hidden")}e.show=Ee;function Ie(...de){for(let ge of de)ge.style.display="none",ge.setAttribute("aria-hidden","true")}e.hide=Ie;function Ae(de){return Array.prototype.slice.call(document.getElementsByTagName(de),0)}e.getElementsByTagName=Ae;function Le(de){const ge=window.devicePixelRatio*de;return Math.max(1,Math.floor(ge))/window.devicePixelRatio}e.computeScreenAwareSize=Le;function Te(de){if(v.isElectron||v.isEdgeLegacyWebView)return window.open(de),!0;{let ge=window.open();return ge?(ge.opener=null,ge.location.href=de,!0):!1}}e.windowOpenNoOpener=Te;function ve(de){const ge=()=>{de(),pe=(0,e.scheduleAtNextAnimationFrame)(ge)};let pe=(0,e.scheduleAtNextAnimationFrame)(ge);return(0,i.toDisposable)(()=>pe.dispose())}e.animate=ve,u.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Se(de){return de?`url('${u.FileAccess.asBrowserUri(de).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=Se;function ye(de){return`'${de.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=ye;class fe extends C.Emitter{constructor(){super();this._subscriptions=new i.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add((0,I.domEvent)(window,"keydown",!0)(ge=>{const pe=new k.StandardKeyboardEvent(ge);if(!(pe.keyCode===6&&ge.repeat)){if(ge.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(ge.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(ge.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(ge.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(pe.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=ge.altKey,this._keyStatus.ctrlKey=ge.ctrlKey,this._keyStatus.metaKey=ge.metaKey,this._keyStatus.shiftKey=ge.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=ge,this.fire(this._keyStatus))}})),this._subscriptions.add((0,I.domEvent)(window,"keyup",!0)(ge=>{!ge.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!ge.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!ge.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!ge.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=ge.altKey,this._keyStatus.ctrlKey=ge.ctrlKey,this._keyStatus.metaKey=ge.metaKey,this._keyStatus.shiftKey=ge.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=ge,this.fire(this._keyStatus))})),this._subscriptions.add((0,I.domEvent)(document.body,"mousedown",!0)(ge=>{this._keyStatus.lastKeyPressed=void 0})),this._subscriptions.add((0,I.domEvent)(document.body,"mouseup",!0)(ge=>{this._keyStatus.lastKeyPressed=void 0})),this._subscriptions.add((0,I.domEvent)(document.body,"mousemove",!0)(ge=>{ge.buttons&&(this._keyStatus.lastKeyPressed=void 0)})),this._subscriptions.add((0,I.domEvent)(window,"blur")(ge=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return fe.instance||(fe.instance=new fe),fe.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=fe}),define(te[188],ie([0,1,7]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function I(u,a={}){const l=w(a);return l.textContent=u,l}e.renderText=I;function k(u,a={}){const l=w(a);return p(l,C(u,!!a.renderCodeSegements),a.actionHandler,a.renderCodeSegements),l}e.renderFormattedText=k;function w(u){const a=u.inline?"span":"div",l=document.createElement(a);return u.className&&(l.className=u.className),l}e.createElement=w;class S{constructor(a){this.source=a,this.index=0}eos(){return this.index>=this.source.length}next(){const a=this.peek();return this.advance(),a}peek(){return this.source[this.index]}advance(){this.index++}}function p(u,a,l,c){let d;if(a.type===2)d=document.createTextNode(a.content||"");else if(a.type===3)d=document.createElement("b");else if(a.type===4)d=document.createElement("i");else if(a.type===7&&c)d=document.createElement("code");else if(a.type===5&&l){const r=document.createElement("a");r.href="#",l.disposeables.add(v.addStandardDisposableListener(r,"click",n=>{l.callback(String(a.index),n)})),d=r}else a.type===8?d=document.createElement("br"):a.type===1&&(d=u);d&&u!==d&&u.appendChild(d),d&&Array.isArray(a.children)&&a.children.forEach(r=>{p(d,r,l,c)})}function C(u,a){const l={type:1,children:[]};let c=0,d=l;const r=[],n=new S(u);for(;!n.eos();){let s=n.next();const t=s==="\\"&&_(n.peek(),a)!==0;if(t&&(s=n.next()),!t&&i(s,a)&&s===n.peek()){n.advance(),d.type===2&&(d=r.pop());const o=_(s,a);if(d.type===o||d.type===5&&o===6)d=r.pop();else{const h={type:o,children:[]};o===5&&(h.index=c,c++),d.children.push(h),r.push(d),d=h}}else if(s===`
`)d.type===2&&(d=r.pop()),d.children.push({type:8});else if(d.type!==2){const o={type:2,content:s};d.children.push(o),r.push(d),d=o}else d.content+=s}return d.type===2&&(d=r.pop()),r.length,l}function i(u,a){return _(u,a)!==0}function _(u,a){switch(u){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return a?7:0;default:return 0}}}),define(te[96],ie([0,1,7,272,53,2]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function S(C,i){let _=new k.StandardMouseEvent(i);return _.preventDefault(),{leftButton:_.leftButton,buttons:_.buttons,posx:_.posx,posy:_.posy}}e.standardMouseMoveMerger=S;class p{constructor(){this._hooks=new w.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(i,_){if(!!this.isMonitoring()){this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const u=this._onStopCallback;this._onStopCallback=null,i&&u&&u(_)}}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(i,_,u,a,l){if(!this.isMonitoring()){this._mouseMoveEventMerger=u,this._mouseMoveCallback=a,this._onStopCallback=l;const c=I.IframeUtils.getSameOriginWindowChain(),d="mousemove",r="mouseup",n=c.map(t=>t.window.document),s=v.getShadowRoot(i);s&&n.unshift(s);for(const t of n)this._hooks.add(v.addDisposableThrottledListener(t,d,o=>{if(o.buttons!==_){this.stopMonitoring(!0);return}this._mouseMoveCallback(o)},(o,h)=>this._mouseMoveEventMerger(o,h))),this._hooks.add(v.addDisposableListener(t,r,o=>this.stopMonitoring(!0)));if(I.IframeUtils.hasDifferentOriginAncestor()){let t=c[c.length-1];this._hooks.add(v.addDisposableListener(t.window.document,"mouseout",o=>{new k.StandardMouseEvent(o).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(v.addDisposableListener(t.window.document,"mouseover",o=>{new k.StandardMouseEvent(o).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(v.addDisposableListener(t.window.document.body,"mouseleave",o=>{this.stopMonitoring(!0)}))}}}}e.GlobalMouseMoveMonitor=p});var Me=this&&this.__decorate||function($,e,v,I){var k=arguments.length,w=k<3?e:I===null?I=Object.getOwnPropertyDescriptor(e,v):I,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate($,e,v,I);else for(var p=$.length-1;p>=0;p--)(S=$[p])&&(w=(k<3?S(w):k>3?S(e,v,w):S(e,v))||w);return k>3&&w&&Object.defineProperty(e,v,w),w};define(te[62],ie([0,1,19,2,7,103]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var S;(function(C){C.Tap="-monaco-gesturetap",C.Change="-monaco-gesturechange",C.Start="-monaco-gesturestart",C.End="-monaco-gesturesend",C.Contextmenu="-monaco-gesturecontextmenu"})(S=e.EventType||(e.EventType={}));class p extends I.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(k.addDisposableListener(document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),this._register(k.addDisposableListener(document,"touchend",i=>this.onTouchEnd(i))),this._register(k.addDisposableListener(document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))}static addTarget(i){return p.isTouchDevice()?(p.INSTANCE||(p.INSTANCE=new p),p.INSTANCE.targets.push(i),{dispose:()=>{p.INSTANCE.targets=p.INSTANCE.targets.filter(_=>_!==i)}}):I.Disposable.None}static ignoreTarget(i){return p.isTouchDevice()?(p.INSTANCE||(p.INSTANCE=new p),p.INSTANCE.ignoreTargets.push(i),{dispose:()=>{p.INSTANCE.ignoreTargets=p.INSTANCE.ignoreTargets.filter(_=>_!==i)}}):I.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(i){let _=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let u=0,a=i.targetTouches.length;u<a;u++){let l=i.targetTouches.item(u);this.activeTouches[l.identifier]={id:l.identifier,initialTarget:l.target,initialTimeStamp:_,initialPageX:l.pageX,initialPageY:l.pageY,rollingTimestamps:[_],rollingPageX:[l.pageX],rollingPageY:[l.pageY]};let c=this.newGestureEvent(S.Start,l.target);c.pageX=l.pageX,c.pageY=l.pageY,this.dispatchEvent(c)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}onTouchEnd(i){let _=Date.now(),u=Object.keys(this.activeTouches).length;for(let a=0,l=i.changedTouches.length;a<l;a++){let c=i.changedTouches.item(a);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("move of an UNKNOWN touch",c);continue}let d=this.activeTouches[c.identifier],r=Date.now()-d.initialTimeStamp;if(r<p.HOLD_DELAY&&Math.abs(d.initialPageX-v.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-v.tail(d.rollingPageY))<30){let n=this.newGestureEvent(S.Tap,d.initialTarget);n.pageX=v.tail(d.rollingPageX),n.pageY=v.tail(d.rollingPageY),this.dispatchEvent(n)}else if(r>=p.HOLD_DELAY&&Math.abs(d.initialPageX-v.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-v.tail(d.rollingPageY))<30){let n=this.newGestureEvent(S.Contextmenu,d.initialTarget);n.pageX=v.tail(d.rollingPageX),n.pageY=v.tail(d.rollingPageY),this.dispatchEvent(n)}else if(u===1){let n=v.tail(d.rollingPageX),s=v.tail(d.rollingPageY),t=v.tail(d.rollingTimestamps)-d.rollingTimestamps[0],o=n-d.rollingPageX[0],h=s-d.rollingPageY[0];const f=this.targets.filter(m=>d.initialTarget instanceof Node&&m.contains(d.initialTarget));this.inertia(f,_,Math.abs(o)/t,o>0?1:-1,n,Math.abs(h)/t,h>0?1:-1,s)}this.dispatchEvent(this.newGestureEvent(S.End,d.initialTarget)),delete this.activeTouches[c.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(i,_){let u=document.createEvent("CustomEvent");return u.initEvent(i,!1,!0),u.initialTarget=_,u.tapCount=0,u}dispatchEvent(i){if(i.type===S.Tap){const _=new Date().getTime();let u=0;_-this._lastSetTapCountTime>p.CLEAR_TAP_COUNT_TIME?u=1:u=2,this._lastSetTapCountTime=_,i.tapCount=u}else(i.type===S.Change||i.type===S.Contextmenu)&&(this._lastSetTapCountTime=0);for(let _=0;_<this.ignoreTargets.length;_++)if(i.initialTarget instanceof Node&&this.ignoreTargets[_].contains(i.initialTarget))return;this.targets.forEach(_=>{i.initialTarget instanceof Node&&_.contains(i.initialTarget)&&(_.dispatchEvent(i),this.dispatched=!0)})}inertia(i,_,u,a,l,c,d,r){this.handle=k.scheduleAtNextAnimationFrame(()=>{let n=Date.now(),s=n-_,t=0,o=0,h=!0;u+=p.SCROLL_FRICTION*s,c+=p.SCROLL_FRICTION*s,u>0&&(h=!1,t=a*u*s),c>0&&(h=!1,o=d*c*s);let f=this.newGestureEvent(S.Change);f.translationX=t,f.translationY=o,i.forEach(m=>m.dispatchEvent(f)),h||this.inertia(i,n,u,a,l+t,c,d,r+o)})}onTouchMove(i){let _=Date.now();for(let u=0,a=i.changedTouches.length;u<a;u++){let l=i.changedTouches.item(u);if(!this.activeTouches.hasOwnProperty(String(l.identifier))){console.warn("end of an UNKNOWN touch",l);continue}let c=this.activeTouches[l.identifier],d=this.newGestureEvent(S.Change,c.initialTarget);d.translationX=l.pageX-v.tail(c.rollingPageX),d.translationY=l.pageY-v.tail(c.rollingPageY),d.pageX=l.pageX,d.pageY=l.pageY,this.dispatchEvent(d),c.rollingPageX.length>3&&(c.rollingPageX.shift(),c.rollingPageY.shift(),c.rollingTimestamps.shift()),c.rollingPageX.push(l.pageX),c.rollingPageY.push(l.pageY),c.rollingTimestamps.push(_)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}}p.SCROLL_FRICTION=-.005,p.HOLD_DELAY=700,p.CLEAR_TAP_COUNT_TIME=400,Me([w.memoize],p,"isTouchDevice",null),e.Gesture=p}),define(te[108],ie([0,1,7,27]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const k=new RegExp(`(\\\\)?\\$\\((${I.CSSIcon.iconNameExpression}(?:${I.CSSIcon.iconModifierExpression})?)\\)`,"g");function w(p){const C=new Array;let i,_=0,u=0;for(;(i=k.exec(p))!==null;){u=i.index||0,C.push(p.substring(_,u)),_=(i.index||0)+i[0].length;const[,a,l]=i;C.push(a?`$(${l})`:S({id:l}))}return _<p.length&&C.push(p.substring(_)),C}e.renderLabelWithIcons=w;function S(p){const C=v.$("span");return C.classList.add(...I.CSSIcon.asClassNameArray(p)),C}e.renderIcon=S}),define(te[160],ie([0,1,43,7,108]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class w{constructor(p,C){this.supportIcons=C,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",p.appendChild(this.domNode)}get element(){return this.domNode}set(p,C=[],i="",_){p||(p=""),_&&(p=w.escapeNewLines(p,C)),!(this.didEverRender&&this.text===p&&this.title===i&&v.equals(this.highlights,C))&&(this.text=p,this.title=i,this.highlights=C,this.render())}render(){const p=[];let C=0;for(const i of this.highlights)if(i.end!==i.start){if(C<i.start){const a=this.text.substring(C,i.start);p.push(I.$("span",void 0,...this.supportIcons?(0,k.renderLabelWithIcons)(a):[a])),C=i.end}const _=this.text.substring(i.start,i.end),u=I.$("span.highlight",void 0,...this.supportIcons?(0,k.renderLabelWithIcons)(_):[_]);i.extraClasses&&u.classList.add(i.extraClasses),p.push(u),C=i.end}if(C<this.text.length){const i=this.text.substring(C);p.push(I.$("span",void 0,...this.supportIcons?(0,k.renderLabelWithIcons)(i):[i]))}I.reset(this.domNode,...p),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(p,C){let i=0,_=0;return p.replace(/\r\n|\r|\n/g,(u,a)=>{_=u===`\r
`?-1:0,a+=i;for(const l of C)l.end<=a||(l.start>=a&&(l.start+=_),l.end>=a&&(l.end+=_));return i+=_,"\u23CE"})}}e.HighlightedLabel=w}),define(te[476],ie([0,1,7]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function I(w){try{w.parentElement&&w.parentElement.removeChild(w)}catch(S){}}class k{constructor(S){this.renderers=S,this.cache=new Map}alloc(S){let p=this.getTemplateCache(S).pop();if(!p){const C=(0,v.$)(".monaco-list-row"),_=this.getRenderer(S).renderTemplate(C);p={domNode:C,templateId:S,templateData:_}}return p}release(S){!S||this.releaseRow(S)}releaseRow(S){const{domNode:p,templateId:C}=S;p&&(p.classList.remove("scrolling"),I(p)),this.getTemplateCache(C).push(S)}getTemplateCache(S){let p=this.cache.get(S);return p||(p=[],this.cache.set(S,p)),p}dispose(){this.cache.forEach((S,p)=>{for(const C of S)this.getRenderer(p).disposeTemplate(C.templateData),C.templateData=null}),this.cache.clear()}getRenderer(S){const p=this.renderers.get(S);if(!p)throw new Error(`No renderer found for ${S}`);return p}}e.RowCache=k}),define(te[52],ie([0,1,7,55,53,2,62]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class p extends w.Disposable{onclick(i,_){this._register(v.addDisposableListener(i,v.EventType.CLICK,u=>_(new k.StandardMouseEvent(u))))}onmousedown(i,_){this._register(v.addDisposableListener(i,v.EventType.MOUSE_DOWN,u=>_(new k.StandardMouseEvent(u))))}onmouseover(i,_){this._register(v.addDisposableListener(i,v.EventType.MOUSE_OVER,u=>_(new k.StandardMouseEvent(u))))}onnonbubblingmouseout(i,_){this._register(v.addDisposableNonBubblingMouseOutListener(i,u=>_(new k.StandardMouseEvent(u))))}onkeydown(i,_){this._register(v.addDisposableListener(i,v.EventType.KEY_DOWN,u=>_(new I.StandardKeyboardEvent(u))))}onkeyup(i,_){this._register(v.addDisposableListener(i,v.EventType.KEY_UP,u=>_(new I.StandardKeyboardEvent(u))))}oninput(i,_){this._register(v.addDisposableListener(i,v.EventType.INPUT,_))}onblur(i,_){this._register(v.addDisposableListener(i,v.EventType.BLUR,_))}onfocus(i,_){this._register(v.addDisposableListener(i,v.EventType.FOCUS,_))}ignoreGesture(i){S.Gesture.ignoreTarget(i)}}e.Widget=p}),define(te[163],ie([0,1,96,52,15]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class w extends I.Widget{constructor(p){super();this._onActivate=p.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=p.bgWidth+"px",this.bgDomNode.style.height=p.bgHeight+"px",typeof p.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof p.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof p.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof p.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=p.className,this.domNode.classList.add(...p.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof p.top!="undefined"&&(this.domNode.style.top=p.top+"px"),typeof p.left!="undefined"&&(this.domNode.style.left=p.left+"px"),typeof p.bottom!="undefined"&&(this.domNode.style.bottom=p.bottom+"px"),typeof p.right!="undefined"&&(this.domNode.style.right=p.right+"px"),this._mouseMoveMonitor=this._register(new v.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,C=>this._arrowMouseDown(C)),this.onmousedown(this.domNode,C=>this._arrowMouseDown(C)),this._mousedownRepeatTimer=this._register(new k.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new k.TimeoutTimer)}_arrowMouseDown(p){const C=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(C,200),this._mouseMoveMonitor.startMonitoring(p.target,p.buttons,v.standardMouseMoveMerger,i=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),p.preventDefault()}}e.ScrollbarArrow=w}),define(te[255],ie([0,1,7,30,96,163,539,52,17]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const i=140;class _ extends p.Widget{constructor(a){super();this._lazyRender=a.lazyRender,this._host=a.host,this._scrollable=a.scrollable,this._scrollByPage=a.scrollByPage,this._scrollbarState=a.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(a.visibility,"visible scrollbar "+a.extraScrollbarClassName,"invisible scrollbar "+a.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new k.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=(0,I.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,l=>this._domNodeMouseDown(l))}_createArrow(a){const l=this._register(new w.ScrollbarArrow(a));this.domNode.domNode.appendChild(l.bgDomNode),this.domNode.domNode.appendChild(l.domNode)}_createSlider(a,l,c,d){this.slider=(0,I.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(a),this.slider.setLeft(l),this.slider.setWidth(8),this.slider.setHeight(typeof d=="number"?8:0),this.slider.setRight(12),this.slider.setBackgroundColor("rgba(0, 0, 0, 0.25)"),this.slider.domNode.style.border="1px solid rgba(255, 255, 255, 0.25)",this.slider.domNode.style.boxSizing="border-box",this.slider.domNode.style.borderRadius="4px",this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,r=>{r.leftButton&&(r.preventDefault(),this._sliderMouseDown(r,()=>{}))}),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(a){return this._scrollbarState.setVisibleSize(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(a){return this._scrollbarState.setScrollSize(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(a){return this._scrollbarState.setScrollPosition(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(a){a.target===this.domNode.domNode&&this._onMouseDown(a)}delegateMouseDown(a){const l=this.domNode.domNode.getClientRects()[0].top,c=l+this._scrollbarState.getSliderPosition(),d=l+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderMousePosition(a);c<=r&&r<=d?a.leftButton&&(a.preventDefault(),this._sliderMouseDown(a,()=>{})):this._onMouseDown(a)}_onMouseDown(a){let l,c;if(a.target===this.domNode.domNode&&typeof a.browserEvent.offsetX=="number"&&typeof a.browserEvent.offsetY=="number")l=a.browserEvent.offsetX,c=a.browserEvent.offsetY;else{const r=v.getDomNodePagePosition(this.domNode.domNode);l=a.posx-r.left,c=a.posy-r.top}const d=this._mouseDownRelativePosition(l,c);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(d):this._scrollbarState.getDesiredScrollPositionFromOffset(d)),a.leftButton&&(a.preventDefault(),this._sliderMouseDown(a,()=>{}))}_sliderMouseDown(a,l){const c=this._sliderMousePosition(a),d=this._sliderOrthogonalMousePosition(a),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(a.target,a.buttons,k.standardMouseMoveMerger,n=>{const s=this._sliderOrthogonalMousePosition(n),t=Math.abs(s-d);if(C.isWindows&&t>i){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const h=this._sliderMousePosition(n)-c;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(h))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),l()}),this._host.onDragStart()}_setDesiredScrollPositionNow(a){const l={};this.writeScrollPosition(l,a),this._scrollable.setScrollPositionNow(l)}updateScrollbarSize(a){this._updateScrollbarSize(a),this._scrollbarState.setScrollbarSize(a),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=_}),define(te[503],ie([0,1,53,255,163,271,27]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;const p=(0,S.registerCodicon)("scrollbar-button-left",S.Codicon.triangleLeft),C=(0,S.registerCodicon)("scrollbar-button-right",S.Codicon.triangleRight);class i extends I.AbstractScrollbar{constructor(u,a,l){const c=u.getScrollDimensions(),d=u.getCurrentScrollPosition();super({lazyRender:a.lazyRender,host:l,scrollbarState:new w.ScrollbarState(a.horizontalHasArrows?a.arrowSize:0,a.horizontal===2?0:a.horizontalScrollbarSize,a.vertical===2?0:a.verticalScrollbarSize,c.width,c.scrollWidth,d.scrollLeft),visibility:a.horizontal,extraScrollbarClassName:"horizontal",scrollable:u,scrollByPage:a.scrollByPage});if(a.horizontalHasArrows){const r=(a.arrowSize-k.ARROW_IMG_SIZE)/2,n=(a.horizontalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:p,top:n,left:r,bottom:void 0,right:void 0,bgWidth:a.arrowSize,bgHeight:a.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new v.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:C,top:n,left:void 0,bottom:void 0,right:r,bgWidth:a.arrowSize,bgHeight:a.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new v.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((a.horizontalScrollbarSize-a.horizontalSliderSize)/2),0,void 0,a.horizontalSliderSize)}_updateSlider(u,a){this.slider.setWidth(u),this.slider.setLeft(a)}_renderDomNode(u,a){this.domNode.setWidth(u),this.domNode.setHeight(a),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(u.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(u,a){return u}_sliderMousePosition(u){return u.posx}_sliderOrthogonalMousePosition(u){return u.posy}_updateScrollbarSize(u){this.slider.setHeight(u)}writeScrollPosition(u,a){u.scrollLeft=a}}e.HorizontalScrollbar=i}),define(te[533],ie([0,1,53,255,163,271,27]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;const p=(0,S.registerCodicon)("scrollbar-button-up",S.Codicon.triangleUp),C=(0,S.registerCodicon)("scrollbar-button-down",S.Codicon.triangleDown);class i extends I.AbstractScrollbar{constructor(u,a,l){const c=u.getScrollDimensions(),d=u.getCurrentScrollPosition();super({lazyRender:a.lazyRender,host:l,scrollbarState:new w.ScrollbarState(a.verticalHasArrows?a.arrowSize:0,a.vertical===2?0:a.verticalScrollbarSize,0,c.height,c.scrollHeight,d.scrollTop),visibility:a.vertical,extraScrollbarClassName:"vertical",scrollable:u,scrollByPage:a.scrollByPage});if(a.verticalHasArrows){const r=(a.arrowSize-k.ARROW_IMG_SIZE)/2,n=(a.verticalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:p,top:r,left:n,bottom:void 0,right:void 0,bgWidth:a.verticalScrollbarSize,bgHeight:a.arrowSize,onActivate:()=>this._host.onMouseWheel(new v.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:C,top:void 0,left:n,bottom:r,right:void 0,bgWidth:a.verticalScrollbarSize,bgHeight:a.arrowSize,onActivate:()=>this._host.onMouseWheel(new v.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((a.verticalScrollbarSize-a.verticalSliderSize)/2),a.verticalSliderSize,void 0)}_updateSlider(u,a){this.slider.setHeight(u),this.slider.setTop(a)}_renderDomNode(u,a){this.domNode.setWidth(a),this.domNode.setHeight(u),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(u.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(u,a){return a}_sliderMousePosition(u){return u.posy}_sliderOrthogonalMousePosition(u){return u.posx}_updateScrollbarSize(u){this.slider.setWidth(u)}writeScrollPosition(u,a){u.scrollTop=a}}e.VerticalScrollbar=i}),define(te[46],ie([0,1,155,74,23,8,45]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.resolvePath=e.normalizePath=e.joinPath=e.dirname=e.basename=e.basenameOrAuthority=e.isEqual=e.extUri=e.ExtUri=e.originalFSPath=void 0;function p(_){return(0,k.uriToFsPath)(_,!0)}e.originalFSPath=p;class C{constructor(u){this._ignorePathCasing=u}compare(u,a,l=!1){return u===a?0:(0,w.compare)(this.getComparisonKey(u,l),this.getComparisonKey(a,l))}isEqual(u,a,l=!1){return u===a?!0:!u||!a?!1:this.getComparisonKey(u,l)===this.getComparisonKey(a,l)}getComparisonKey(u,a=!1){return u.with({path:this._ignorePathCasing(u)?u.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}joinPath(u,...a){return k.URI.joinPath(u,...a)}basenameOrAuthority(u){return(0,e.basename)(u)||u.authority}basename(u){return I.posix.basename(u.path)}dirname(u){if(u.path.length===0)return u;let a;return u.scheme===S.Schemas.file?a=k.URI.file(I.dirname(p(u))).path:(a=I.posix.dirname(u.path),u.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${u.toString})) resulted in a relative path`),a="/")),u.with({path:a})}normalizePath(u){if(!u.path.length)return u;let a;return u.scheme===S.Schemas.file?a=k.URI.file(I.normalize(p(u))).path:a=I.posix.normalize(u.path),u.with({path:a})}resolvePath(u,a){if(u.scheme===S.Schemas.file){const l=k.URI.file(I.resolve(p(u),a));return u.with({authority:l.authority,path:l.path})}return a.indexOf("/")===-1&&(a=v.toSlashes(a),/^[a-zA-Z]:(\/|$)/.test(a)&&(a="/"+a)),u.with({path:I.posix.resolve(u.path,a)})}}e.ExtUri=C,e.extUri=new C(()=>!1),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri);var i;(function(_){_.META_DATA_LABEL="label",_.META_DATA_DESCRIPTION="description",_.META_DATA_SIZE="size",_.META_DATA_MIME="mime";function u(a){const l=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(r=>{const[n,s]=r.split(":");n&&s&&l.set(n,s)});const d=a.path.substring(0,a.path.indexOf(";"));return d&&l.set(_.META_DATA_MIME,d),l}_.parseMetaData=u})(i=e.DataUri||(e.DataUri={}))}),define(te[540],ie([0,1,7,188,11,78,147,687,686,258,43,8,23,45,117,46,53,108,6,54]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;const h=(o=window.trustedTypes)===null||o===void 0?void 0:o.createPolicy("insane",{createHTML(b,y){return(0,C.insane)(b,y)}});function f(b,y={},L={}){var N;const M=(0,I.createElement)(y),D=function(A){let B;try{B=(0,i.parse)(decodeURIComponent(A))}catch(z){}return B?(B=(0,_.cloneAndChange)(B,z=>{if(b.uris&&b.uris[z])return a.URI.revive(b.uris[z])}),encodeURIComponent(JSON.stringify(B))):A},R=function(A,B){const z=b.uris&&b.uris[A];if(!z)return A;let U=a.URI.revive(z);return a.URI.parse(A).toString()===U.toString()?A:B?l.FileAccess.asBrowserUri(U).toString(!0):(U.query&&(U=U.with({query:D(U.query)})),U.toString())};let P;const O=new Promise(A=>P=A),W=new p.Renderer;W.image=(A,B,z)=>{let U=[],K=[];if(A){({href:A,dimensions:U}=(0,w.parseHrefAndDimensions)(A)),A=R(A,!0);try{const G=a.URI.parse(A);y.baseUrl&&G.scheme===l.Schemas.file&&(A=(0,d.resolvePath)(y.baseUrl,A).toString())}catch(G){}K.push(`src="${A}"`)}return z&&K.push(`alt="${z}"`),B&&K.push(`title="${B}"`),U.length&&(K=K.concat(U)),"<img "+K.join(" ")+">"},W.link=(A,B,z)=>(A===z&&(z=(0,w.removeMarkdownEscapes)(z)),A=R(A,!1),y.baseUrl&&(/^\w[\w\d+.-]*:/.test(A)||(A=(0,d.resolvePath)(y.baseUrl,A).toString())),B=(0,w.removeMarkdownEscapes)(B),A=(0,w.removeMarkdownEscapes)(A),!A||A.match(/^data:|javascript:/i)||A.match(/^command:/i)&&!b.isTrusted||A.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?z:(A=A.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${A}" title="${B||A}">${z}</a>`)),W.paragraph=A=>(b.supportThemeIcons&&(A=(0,n.renderLabelWithIcons)(A).map(z=>typeof z=="string"?z:z.outerHTML).join("")),`<p>${A}</p>`),y.codeBlockRenderer&&(W.code=(A,B)=>{const z=y.codeBlockRenderer(B,A),U=S.defaultGenerator.nextId(),K=Promise.all([z,O]).then(G=>{const J=M.querySelector(`div[data-code="${U}"]`);J&&v.reset(J,G[0])}).catch(G=>{});return y.asyncRenderCallback&&K.then(y.asyncRenderCallback),`<div class="code" data-code="${U}">${(0,u.escape)(A)}</div>`}),y.actionHandler&&y.actionHandler.disposeables.add(s.Event.any((0,t.domEvent)(M,"click"),(0,t.domEvent)(M,"auxclick"))(A=>{const B=new r.StandardMouseEvent(A);if(!(!B.leftButton&&!B.middleButton)){let z=B.target;if(!(z.tagName!=="A"&&(z=z.parentElement,!z||z.tagName!=="A")))try{const U=z.dataset.href;U&&y.actionHandler.callback(U,B)}catch(U){(0,k.onUnexpectedError)(U)}finally{B.preventDefault()}}})),L.sanitizer=A=>(b.isTrusted?A.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?A:"",L.sanitize=!0,L.silent=!0,L.renderer=W;let F=(N=b.value)!==null&&N!==void 0?N:"";F.length>1e5&&(F=`${F.substr(0,1e5)}\u2026`),b.supportThemeIcons&&(F=(0,c.markdownEscapeEscapedIcons)(F));const E=p.parse(F,L);if(M.innerHTML=m(b,E),P(),y.asyncRenderCallback)for(const A of M.getElementsByTagName("img")){const B=v.addDisposableListener(A,"load",()=>{B.dispose(),y.asyncRenderCallback()})}return M}e.renderMarkdown=f;function m(b,y){var L;const N=g(b);return(L=h==null?void 0:h.createHTML(y,N))!==null&&L!==void 0?L:(0,C.insane)(y,N)}function g(b){const y=[l.Schemas.http,l.Schemas.https,l.Schemas.mailto,l.Schemas.data,l.Schemas.file,l.Schemas.vscodeRemote,l.Schemas.vscodeRemoteResource];return b.isTrusted&&y.push(l.Schemas.command),{allowedSchemes:y,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter(L){return L.tag==="span"&&b.isTrusted?L.attrs.style&&Object.keys(L.attrs).length===1?!!L.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):L.attrs.class?!!L.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/):!1:!0}}}}),define(te[170],ie([0,1,23,45,17,46,155]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=e.getBaseLabel=void 0;function p(i){if(!!i){typeof i=="string"&&(i=v.URI.file(i));const _=(0,w.basename)(i)||(i.scheme===I.Schemas.file?i.fsPath:i.path);return k.isWindows&&(0,S.isRootOrDriveLetter)(_)?C(_):_}}e.getBaseLabel=p;function C(i){return(0,S.hasDriveLetter)(i)?i.charAt(0).toUpperCase()+i.slice(1):i}e.normalizeDriveLetter=C}),define(te[598],ie([0,1,74,8,259,45,46]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessMimeTypes=e.registerTextMime=e.MIME_UNKNOWN=e.MIME_TEXT=void 0,e.MIME_TEXT="text/plain",e.MIME_UNKNOWN="application/unknown";let p=[],C=[],i=[];function _(d,r=!1){const n=u(d);p.push(n),n.userConfigured?i.push(n):C.push(n),r&&!n.userConfigured&&p.forEach(s=>{s.mime===n.mime||s.userConfigured||(n.extension&&s.extension===n.extension&&console.warn(`Overwriting extension <<${n.extension}>> to now point to mime <<${n.mime}>>`),n.filename&&s.filename===n.filename&&console.warn(`Overwriting filename <<${n.filename}>> to now point to mime <<${n.mime}>>`),n.filepattern&&s.filepattern===n.filepattern&&console.warn(`Overwriting filepattern <<${n.filepattern}>> to now point to mime <<${n.mime}>>`),n.firstline&&s.firstline===n.firstline&&console.warn(`Overwriting firstline <<${n.firstline}>> to now point to mime <<${n.mime}>>`))})}e.registerTextMime=_;function u(d){return{id:d.id,mime:d.mime,filename:d.filename,extension:d.extension,filepattern:d.filepattern,firstline:d.firstline,userConfigured:d.userConfigured,filenameLowercase:d.filename?d.filename.toLowerCase():void 0,extensionLowercase:d.extension?d.extension.toLowerCase():void 0,filepatternLowercase:d.filepattern?d.filepattern.toLowerCase():void 0,filepatternOnPath:d.filepattern?d.filepattern.indexOf(v.posix.sep)>=0:!1}}function a(d,r){let n;if(d)switch(d.scheme){case w.Schemas.file:n=d.fsPath;break;case w.Schemas.data:n=S.DataUri.parseMetaData(d).get(S.DataUri.META_DATA_LABEL);break;default:n=d.path}if(!n)return[e.MIME_UNKNOWN];n=n.toLowerCase();const s=(0,v.basename)(n),t=l(n,s,i);if(t)return[t,e.MIME_TEXT];const o=l(n,s,C);if(o)return[o,e.MIME_TEXT];if(r){const h=c(r);if(h)return[h,e.MIME_TEXT]}return[e.MIME_UNKNOWN]}e.guessMimeTypes=a;function l(d,r,n){let s=null,t=null,o=null;for(let h=n.length-1;h>=0;h--){const f=n[h];if(r===f.filenameLowercase){s=f;break}if(f.filepattern&&(!t||f.filepattern.length>t.filepattern.length)){const m=f.filepatternOnPath?d:r;(0,k.match)(f.filepatternLowercase,m)&&(t=f)}f.extension&&(!o||f.extension.length>o.extension.length)&&r.endsWith(f.extensionLowercase)&&(o=f)}return s?s.mime:t?t.mime:o?o.mime:null}function c(d){if((0,I.startsWithUTF8BOM)(d)&&(d=d.substr(1)),d.length>0)for(let r=p.length-1;r>=0;r--){const n=p[r];if(!!n.firstline){const s=d.match(n.firstline);if(s&&s.length>0)return n.mime}}return null}}),define(te[622],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const v=new Uint8Array(16),I=[];for(let S=0;S<256;S++)I.push(S.toString(16).padStart(2,"0"));let k;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?k=crypto.getRandomValues.bind(crypto):k=function(S){for(let p=0;p<S.length;p++)S[p]=Math.floor(Math.random()*256);return S};function w(){k(v),v[6]=v[6]&15|64,v[8]=v[8]&63|128;let S=0,p="";return p+=I[v[S++]],p+=I[v[S++]],p+=I[v[S++]],p+=I[v[S++]],p+="-",p+=I[v[S++]],p+=I[v[S++]],p+="-",p+=I[v[S++]],p+=I[v[S++]],p+="-",p+=I[v[S++]],p+=I[v[S++]],p+="-",p+=I[v[S++]],p+=I[v[S++]],p+=I[v[S++]],p+=I[v[S++]],p+=I[v[S++]],p+=I[v[S++]],p}e.generateUuid=w}),define(te[253],ie([0,1,11,2,17,20]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const S="$initialize";let p=!1;function C(l){!k.isWeb||(p||(p=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(l.message))}e.logOnceWebWorkerWarning=C;class i{constructor(c){this._workerId=-1,this._handler=c,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(c){this._workerId=c}sendMessage(c,d){let r=String(++this._lastSentReq);return new Promise((n,s)=>{this._pendingReplies[r]={resolve:n,reject:s},this._send({vsWorker:this._workerId,req:r,method:c,args:d})})}handleMessage(c){!c||!c.vsWorker||this._workerId!==-1&&c.vsWorker!==this._workerId||this._handleMessage(c)}_handleMessage(c){if(c.seq){let s=c;if(!this._pendingReplies[s.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[s.seq];if(delete this._pendingReplies[s.seq],s.err){let o=s.err;s.err.$isError&&(o=new Error,o.name=s.err.name,o.message=s.err.message,o.stack=s.err.stack),t.reject(o);return}t.resolve(s.res);return}let d=c,r=d.req;this._handler.handleMessage(d.method,d.args).then(s=>{this._send({vsWorker:this._workerId,seq:r,res:s,err:void 0})},s=>{s.detail instanceof Error&&(s.detail=(0,v.transformErrorForSerialization)(s.detail)),this._send({vsWorker:this._workerId,seq:r,res:void 0,err:(0,v.transformErrorForSerialization)(s)})})}_send(c){let d=[];if(c.req){const r=c;for(let n=0;n<r.args.length;n++)r.args[n]instanceof ArrayBuffer&&d.push(r.args[n])}else{const r=c;r.res instanceof ArrayBuffer&&d.push(r.res)}this._handler.sendMessage(c,d)}}class _ extends I.Disposable{constructor(c,d,r){super();let n=null;this._worker=this._register(c.create("vs/base/common/worker/simpleWorker",h=>{this._protocol.handleMessage(h)},h=>{n&&n(h)})),this._protocol=new i({sendMessage:(h,f)=>{this._worker.postMessage(h,f)},handleMessage:(h,f)=>{if(typeof r[h]!="function")return Promise.reject(new Error("Missing method "+h+" on main thread host."));try{return Promise.resolve(r[h].apply(r,f))}catch(m){return Promise.reject(m)}}}),this._protocol.setWorkerId(this._worker.getId());let s=null;typeof self.require!="undefined"&&typeof self.require.getConfig=="function"?s=self.require.getConfig():typeof self.requirejs!="undefined"&&(s=self.requirejs.s.contexts._.config);const t=w.getAllMethodNames(r);this._onModuleLoaded=this._protocol.sendMessage(S,[this._worker.getId(),JSON.parse(JSON.stringify(s)),d,t]);const o=(h,f)=>this._request(h,f);this._lazyProxy=new Promise((h,f)=>{n=f,this._onModuleLoaded.then(m=>{h(w.createProxyObject(m,o))},m=>{f(m),this._onError("Worker failed to load "+d,m)})})}getProxyObject(){return this._lazyProxy}_request(c,d){return new Promise((r,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(c,d).then(r,n)},n)})}_onError(c,d){console.error(c),console.info(d)}}e.SimpleWorkerClient=_;class u{constructor(c,d){this._requestHandlerFactory=d,this._requestHandler=null,this._protocol=new i({sendMessage:(r,n)=>{c(r,n)},handleMessage:(r,n)=>this._handleMessage(r,n)})}onmessage(c){this._protocol.handleMessage(c)}_handleMessage(c,d){if(c===S)return this.initialize(d[0],d[1],d[2],d[3]);if(!this._requestHandler||typeof this._requestHandler[c]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+c));try{return Promise.resolve(this._requestHandler[c].apply(this._requestHandler,d))}catch(r){return Promise.reject(r)}}initialize(c,d,r,n){this._protocol.setWorkerId(c);const s=(o,h)=>this._protocol.sendMessage(o,h),t=w.createProxyObject(n,s);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(t),Promise.resolve(w.getAllMethodNames(this._requestHandler))):(d&&(typeof d.baseUrl!="undefined"&&delete d.baseUrl,typeof d.paths!="undefined"&&typeof d.paths.vs!="undefined"&&delete d.paths.vs,typeof d.trustedTypesPolicy!==void 0&&delete d.trustedTypesPolicy,d.catchError=!0,self.require.config(d)),new Promise((o,h)=>{self.require([r],f=>{if(this._requestHandler=f.create(t),!this._requestHandler){h(new Error("No RequestHandler!"));return}o(w.getAllMethodNames(this._requestHandler))},h)}))}}e.SimpleWorkerServer=u;function a(l){return new u(l,null)}e.create=a}),define(te[249],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var v;(function(k){k[k.Blur=1]="Blur",k[k.Gesture=2]="Gesture",k[k.Other=3]="Other"})(v=e.QuickInputHideReason||(e.QuickInputHideReason={}));var I;(function(k){k[k.NONE=0]="NONE",k[k.FIRST=1]="FIRST",k[k.SECOND=2]="SECOND",k[k.LAST=3]="LAST"})(I=e.ItemActivation||(e.ItemActivation={}))}),define(te[444],ie([0,1,2,6,15,20]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=void 0;var S;(function(i){i[i.None=0]="None",i[i.Initialized=1]="Initialized",i[i.Closed=2]="Closed"})(S||(S={}));class p extends v.Disposable{constructor(_,u=Object.create(null)){super();this.database=_,this.options=u,this._onDidChangeStorage=this._register(new I.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=S.None,this.cache=new Map,this.flushDelayer=new k.ThrottledDelayer(p.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(_=>this.onDidChangeItemsExternal(_)))}onDidChangeItemsExternal(_){var u,a;(u=_.changed)===null||u===void 0||u.forEach((l,c)=>this.accept(c,l)),(a=_.deleted)===null||a===void 0||a.forEach(l=>this.accept(l,void 0))}accept(_,u){if(this.state!==S.Closed){let a=!1;(0,w.isUndefinedOrNull)(u)?a=this.cache.delete(_):this.cache.get(_)!==u&&(this.cache.set(_,u),a=!0),a&&this._onDidChangeStorage.fire(_)}}get(_,u){const a=this.cache.get(_);return(0,w.isUndefinedOrNull)(a)?u:a}getBoolean(_,u){const a=this.get(_);return(0,w.isUndefinedOrNull)(a)?u:a==="true"}getNumber(_,u){const a=this.get(_);return(0,w.isUndefinedOrNull)(a)?u:parseInt(a,10)}set(_,u){return De(this,void 0,void 0,function*(){if(this.state!==S.Closed){if((0,w.isUndefinedOrNull)(u))return this.delete(_);const a=String(u);if(this.cache.get(_)!==a)return this.cache.set(_,a),this.pendingInserts.set(_,a),this.pendingDeletes.delete(_),this._onDidChangeStorage.fire(_),this.flushDelayer.trigger(()=>this.flushPending())}})}delete(_){return De(this,void 0,void 0,function*(){if(this.state!==S.Closed&&!!this.cache.delete(_))return this.pendingDeletes.has(_)||this.pendingDeletes.add(_),this.pendingInserts.delete(_),this._onDidChangeStorage.fire(_),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return De(this,void 0,void 0,function*(){if(!!this.hasPending){const _={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(_).finally(()=>{var u;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(u=this.whenFlushedCallbacks.pop())===null||u===void 0||u()})}})}dispose(){this.flushDelayer.cancel(),this.flushDelayer.dispose(),super.dispose()}}e.Storage=p,p.DEFAULT_FLUSH_DELAY=100;class C{constructor(){this.onDidChangeItemsExternal=I.Event.None,this.items=new Map}updateItems(_){return De(this,void 0,void 0,function*(){_.insert&&_.insert.forEach((u,a)=>this.items.set(a,u)),_.delete&&_.delete.forEach(u=>this.items.delete(u))})}}e.InMemoryStorageDatabase=C}),define(te[449],ie([0,1,17,253]),function($,e,v,I){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const w=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("defaultWorkerFactory",{createScriptURL:u=>u});function S(u,a){if(v.globals.MonacoEnvironment){if(typeof v.globals.MonacoEnvironment.getWorker=="function")return v.globals.MonacoEnvironment.getWorker(u,a);if(typeof v.globals.MonacoEnvironment.getWorkerUrl=="function"){const l=v.globals.MonacoEnvironment.getWorkerUrl(u,a);return new Worker(w?w.createScriptURL(l):l,{name:a})}}if(typeof $=="function"){const l=$.toUrl("./"+u),c=p(l,a);return new Worker(w?w.createScriptURL(c):c,{name:a})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function p(u,a){if(/^((http:)|(https:)|(file:))/.test(u)&&u.substring(0,self.origin.length)!==self.origin){const l="vs/base/worker/defaultWorkerFactory.js",c=$.toUrl(l).slice(0,-l.length),d=`/*${a}*/self.MonacoEnvironment={baseUrl: '${c}'};importScripts('${u}');/*${a}*/`,r=new Blob([d],{type:"application/javascript"});return URL.createObjectURL(r)}return u+"#"+a}e.getWorkerBootstrapUrl=p;function C(u){return typeof u.then=="function"}class i{constructor(a,l,c,d,r){this.id=l;const n=S("workerMain.js",c);C(n)?this.worker=n:this.worker=Promise.resolve(n),this.postMessage(a,[]),this.worker.then(s=>{s.onmessage=function(t){d(t.data)},s.onmessageerror=r,typeof s.addEventListener=="function"&&s.addEventListener("error",r)})}getId(){return this.id}postMessage(a,l){this.worker&&this.worker.then(c=>c.postMessage(a,l))}dispose(){this.worker&&this.worker.then(a=>a.terminate()),this.worker=null}}class _{constructor(a){this._label=a,this._webWorkerFailedBeforeError=!1}create(a,l,c){let d=++_.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new i(a,d,this._label||"anonymous"+d,l,r=>{(0,I.logOnceWebWorkerWarning)(r),this._webWorkerFailedBeforeError=r,c(r)})}}e.DefaultWorkerFactory=_,_.LAST_WORKER_ID=0}),define(te[248],ie([10]),{}),define(te[454],ie([10]),{}),define(te[40],ie([0,1,17,7,454]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const k=2e4;let w,S,p,C,i;function _(c){w=document.createElement("div"),w.className="monaco-aria-container";const d=()=>{const n=document.createElement("div");return n.className="monaco-alert",n.setAttribute("role","alert"),n.setAttribute("aria-atomic","true"),w.appendChild(n),n};S=d(),p=d();const r=()=>{const n=document.createElement("div");return n.className="monaco-status",n.setAttribute("role","complementary"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),w.appendChild(n),n};C=r(),i=r(),c.appendChild(w)}e.setARIAContainer=_;function u(c){!w||(S.textContent!==c?(I.clearNode(p),l(S,c)):(I.clearNode(S),l(p,c)))}e.alert=u;function a(c){!w||(v.isMacintosh?u(c):C.textContent!==c?(I.clearNode(i),l(C,c)):(I.clearNode(C),l(i,c)))}e.status=a;function l(c,d){I.clearNode(c),d.length>k&&(d=d.substr(0,k)),c.textContent=d,c.style.visibility="hidden",c.style.visibility="visible"}}),define(te[456],ie([10]),{}),define(te[457],ie([0,1,55,29,43,6,2,62,108,7,456]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const _={buttonBackground:I.Color.fromHex("#0E639C"),buttonHoverBackground:I.Color.fromHex("#006BB3"),buttonForeground:I.Color.white};class u extends S.Disposable{constructor(l,c){super();this._onDidClick=this._register(new w.Emitter),this.options=c||Object.create(null),(0,k.mixin)(this.options,_,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),l.appendChild(this._element),this._register(p.Gesture.addTarget(this._element)),[i.EventType.CLICK,p.EventType.Tap].forEach(d=>{this._register((0,i.addDisposableListener)(this._element,d,r=>{if(!this.enabled){i.EventHelper.stop(r);return}this._onDidClick.fire(r)}))}),this._register((0,i.addDisposableListener)(this._element,i.EventType.KEY_DOWN,d=>{const r=new v.StandardKeyboardEvent(d);let n=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(d),n=!0):r.equals(9)&&(this._element.blur(),n=!0),n&&i.EventHelper.stop(r,!0)})),this._register((0,i.addDisposableListener)(this._element,i.EventType.MOUSE_OVER,d=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,i.addDisposableListener)(this._element,i.EventType.MOUSE_OUT,d=>{this.applyStyles()})),this.focusTracker=this._register((0,i.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let l;this.options.secondary?l=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:l=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,l&&(this._element.style.backgroundColor=l)}style(l){this.buttonForeground=l.buttonForeground,this.buttonBackground=l.buttonBackground,this.buttonHoverBackground=l.buttonHoverBackground,this.buttonSecondaryForeground=l.buttonSecondaryForeground,this.buttonSecondaryBackground=l.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=l.buttonSecondaryHoverBackground,this.buttonBorder=l.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let l,c;this.options.secondary?(c=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",l=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(c=this.buttonForeground?this.buttonForeground.toString():"",l=this.buttonBackground?this.buttonBackground.toString():"");const d=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=c,this._element.style.backgroundColor=l,this._element.style.borderWidth=d?"1px":"",this._element.style.borderStyle=d?"solid":"",this._element.style.borderColor=d}}get element(){return this._element}set label(l){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,i.reset)(this._element,...(0,C.renderLabelWithIcons)(l)):this._element.textContent=l,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=l)}set enabled(l){l?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=u}),define(te[460],ie([10]),{}),define(te[189],ie([0,1,52,29,6,27,460]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;const S={inputActiveOptionBorder:I.Color.fromHex("#007ACC00"),inputActiveOptionForeground:I.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:I.Color.fromHex("#0E639C50")};class p extends v.Widget{constructor(i){super();this._onChange=this._register(new k.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new k.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},S),i),this._checked=this._opts.isChecked;const _=["monaco-custom-checkbox"];this._opts.icon&&_.push(...w.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&_.push(...this._opts.actionClassName.split(" ")),this._checked&&_.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(..._),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,u=>{this.checked=!this._checked,this._onChange.fire(!1),u.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,u=>{if(u.keyCode===10||u.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),u.preventDefault();return}this._onKeyDown.fire(u)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(i){this._checked=i,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(i){i.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=i.inputActiveOptionBorder),i.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=i.inputActiveOptionForeground),i.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=i.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Checkbox=p}),define(te[467],ie([10]),{}),define(te[468],ie([10]),{}),define(te[137],ie([0,1,27,467,468]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function I(k){let w=k.definition;for(;w instanceof v.Codicon;)w=w.definition;return`.codicon-${k.id}:before { content: '${w.fontCharacter}'; }`}e.formatRule=I}),define(te[470],ie([10]),{}),define(te[247],ie([0,1,7,17,2,146,151,470]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var p;(function(u){u[u.AVOID=0]="AVOID",u[u.ALIGN=1]="ALIGN"})(p=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function C(u,a,l){const c=l.mode===p.ALIGN?l.offset:l.offset+l.size,d=l.mode===p.ALIGN?l.offset+l.size:l.offset;return l.position===0?a<=u-c?c:a<=d?d-a:Math.max(u-a,0):a<=d?d-a:a<=u-c?c:0}e.layout=C;class i extends k.Disposable{constructor(a,l){super();this.container=null,this.delegate=null,this.toDisposeOnClean=k.Disposable.None,this.toDisposeOnSetContainer=k.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=v.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,v.hide(this.view),this.setContainer(a,l),this._register((0,k.toDisposable)(()=>this.setContainer(null,1)))}setContainer(a,l){var c;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(c=this.shadowRootHostElement)===null||c===void 0||c.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),a){if(this.container=a,this.useFixedPosition=l!==1,this.useShadowDOM=l===3,this.useShadowDOM){this.shadowRootHostElement=v.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=_,this.shadowRoot.appendChild(r),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(v.$("slot"))}else this.container.appendChild(this.view);const d=new k.DisposableStore;i.BUBBLE_UP_EVENTS.forEach(r=>{d.add(v.addStandardDisposableListener(this.container,r,n=>{this.onDOMEvent(n,!1)}))}),i.BUBBLE_DOWN_EVENTS.forEach(r=>{d.add(v.addStandardDisposableListener(this.container,r,n=>{this.onDOMEvent(n,!0)},!0))}),this.toDisposeOnSetContainer=d}}show(a){this.isVisible()&&this.hide(),v.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",v.show(this.view),this.toDisposeOnClean=a.render(this.view)||k.Disposable.None,this.delegate=a,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(I.isIOS&&S.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!!this.isVisible()){let a=this.delegate.getAnchor(),l;if(v.isHTMLElement(a)){let f=v.getDomNodePagePosition(a);l={top:f.top,left:f.left,width:f.width,height:f.height}}else l={top:a.y,left:a.x,width:a.width||1,height:a.height||2};const c=v.getTotalWidth(this.view),d=v.getTotalHeight(this.view),r=this.delegate.anchorPosition||0,n=this.delegate.anchorAlignment||0,s=this.delegate.anchorAxisAlignment||0;let t,o;if(s===0){const f={offset:l.top-window.pageYOffset,size:l.height,position:r===0?0:1},m={offset:l.left,size:l.width,position:n===0?0:1,mode:p.ALIGN};t=C(window.innerHeight,d,f)+window.pageYOffset,w.Range.intersects({start:t,end:t+d},{start:f.offset,end:f.offset+f.size})&&(m.mode=p.AVOID),o=C(window.innerWidth,c,m)}else{const f={offset:l.left,size:l.width,position:n===0?0:1},m={offset:l.top,size:l.height,position:r===0?0:1,mode:p.ALIGN};o=C(window.innerWidth,c,f),w.Range.intersects({start:o,end:o+c},{start:f.offset,end:f.offset+f.size})&&(m.mode=p.AVOID),t=C(window.innerHeight,d,m)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(r===0?"bottom":"top"),this.view.classList.add(n===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=v.getDomNodePagePosition(this.container);this.view.style.top=`${t-(this.useFixedPosition?v.getDomNodePagePosition(this.view).top:h.top)}px`,this.view.style.left=`${o-(this.useFixedPosition?v.getDomNodePagePosition(this.view).left:h.left)}px`,this.view.style.width="initial"}}hide(a){const l=this.delegate;this.delegate=null,(l==null?void 0:l.onHide)&&l.onHide(a),this.toDisposeOnClean.dispose(),v.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(a,l){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(a,document.activeElement):l&&!v.isAncestor(a.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=i,i.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],i.BUBBLE_DOWN_EVENTS=["click"];let _=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(te[475],ie([10]),{}),define(te[246],ie([0,1,7,8,29,43,475]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const S={badgeBackground:k.Color.fromHex("#4D4D4D"),badgeForeground:k.Color.fromHex("#FFFFFF")};class p{constructor(i,_){this.count=0,this.options=_||Object.create(null),(0,w.mixin)(this.options,S,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,v.append)(i,(0,v.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(i){this.count=i,this.render()}setTitleFormat(i){this.titleFormat=i,this.render()}render(){this.element.textContent=(0,I.format)(this.countFormat,this.count),this.element.title=(0,I.format)(this.titleFormat,this.count),this.applyStyles()}style(i){this.badgeBackground=i.badgeBackground,this.badgeForeground=i.badgeForeground,this.badgeBorder=i.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const i=this.badgeBackground?this.badgeBackground.toString():"",_=this.badgeForeground?this.badgeForeground.toString():"",u=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=i,this.element.style.color=_,this.element.style.borderWidth=u?"1px":"",this.element.style.borderStyle=u?"solid":"",this.element.style.borderColor=u}}}e.CountBadge=p}),define(te[245],ie([10]),{}),define(te[244],ie([10]),{}),define(te[483],ie([10]),{}),define(te[484],ie([10]),{}),define(te[493],ie([10]),{}),define(te[496],ie([10]),{}),define(te[243],ie([10]),{}),define(te[499],ie([10]),{}),define(te[133],ie([0,1,499]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(te[508],ie([10]),{}),define(te[515],ie([0,1,2,29,43,7,15,508]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const p="done",C="active",i="infinite",_="discrete",u={progressBarBackground:I.Color.fromHex("#0E70C0")};class a extends v.Disposable{constructor(c,d){super();this.options=d||Object.create(null),(0,k.mixin)(this.options,u,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new S.RunOnceScheduler(()=>(0,w.show)(this.element),0)),this.create(c)}create(c){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),c.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(C,i,_),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(c){return this.element.classList.add(p),this.element.classList.contains(i)?(this.bit.style.opacity="0",c?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",c?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(_,p),this.element.classList.add(C,i),this}getContainer(){return this.element}style(c){this.progressBarBackground=c.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const c=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=c}}}e.ProgressBar=a}),define(te[517],ie([10]),{}),define(te[114],ie([0,1,2,17,20,62,53,6,7,54,15,517]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;let u=!1;var a;(function(s){s.North="north",s.South="south",s.East="east",s.West="west"})(a=e.OrthogonalEdge||(e.OrthogonalEdge={}));let l=4;const c=new p.Emitter;let d=300;const r=new p.Emitter;class n extends v.Disposable{constructor(t,o,h){super();this.hoverDelay=d,this.hoverDelayer=this._register(new _.Delayer(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new p.Emitter),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new p.Emitter),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new p.Emitter),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new p.Emitter),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new p.Emitter),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new v.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new v.DisposableStore),this.orthogonalEndSashDisposables=this._register(new v.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new v.DisposableStore),this.el=(0,C.append)(t,(0,C.$)(".monaco-sash")),h.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${h.orthogonalEdge}`),I.isMacintosh&&this.el.classList.add("mac"),this._register((0,i.domEvent)(this.el,"mousedown")(this.onMouseDown,this)),this._register((0,i.domEvent)(this.el,"dblclick")(this.onMouseDoubleClick,this)),this._register((0,i.domEvent)(this.el,"mouseenter")(()=>n.onMouseEnter(this))),this._register((0,i.domEvent)(this.el,"mouseleave")(()=>n.onMouseLeave(this))),this._register(w.Gesture.addTarget(this.el)),this._register((0,i.domEvent)(this.el,w.EventType.Start)(f=>this.onTouchStart(f),this)),typeof h.size=="number"?(this.size=h.size,h.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=l,this._register(c.event(f=>{this.size=f,this.layout()}))),this._register(r.event(f=>this.hoverDelay=f)),this.hidden=!1,this.layoutProvider=o,this.orthogonalStartSash=h.orthogonalStartSash,this.orthogonalEndSash=h.orthogonalEndSash,this.orientation=h.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",u),this.layout()}get state(){return this._state}set state(t){this._state!==t&&(this.el.classList.toggle("disabled",t===0),this.el.classList.toggle("minimum",t===1),this.el.classList.toggle("maximum",t===2),this._state=t,this._onDidEnablementChange.fire(t))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(t){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),t){const o=h=>{this.orthogonalStartDragHandleDisposables.clear(),h!==0&&(this._orthogonalStartDragHandle=(0,C.append)(this.el,(0,C.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),(0,i.domEvent)(this._orthogonalStartDragHandle,"mouseenter")(()=>n.onMouseEnter(t),void 0,this.orthogonalStartDragHandleDisposables),(0,i.domEvent)(this._orthogonalStartDragHandle,"mouseleave")(()=>n.onMouseLeave(t),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(t.onDidEnablementChange(o,this)),o(t.state)}this._orthogonalStartSash=t}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(t){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),t){const o=h=>{this.orthogonalEndDragHandleDisposables.clear(),h!==0&&(this._orthogonalEndDragHandle=(0,C.append)(this.el,(0,C.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),(0,i.domEvent)(this._orthogonalEndDragHandle,"mouseenter")(()=>n.onMouseEnter(t),void 0,this.orthogonalEndDragHandleDisposables),(0,i.domEvent)(this._orthogonalEndDragHandle,"mouseleave")(()=>n.onMouseLeave(t),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(t.onDidEnablementChange(o,this)),o(t.state)}this._orthogonalEndSash=t}onMouseDown(t){C.EventHelper.stop(t,!1);let o=!1;if(!t.__orthogonalSashEvent){const P=this.getOrthogonalSash(t);P&&(o=!0,t.__orthogonalSashEvent=!0,P.onMouseDown(t))}if(this.linkedSash&&!t.__linkedSashEvent&&(t.__linkedSashEvent=!0,this.linkedSash.onMouseDown(t)),!!this.state){const h=[...(0,C.getElementsByTagName)("iframe"),...(0,C.getElementsByTagName)("webview")];for(const P of h)P.style.pointerEvents="none";const f=new S.StandardMouseEvent(t),m=f.posx,g=f.posy,b=f.altKey,y={startX:m,currentX:m,startY:g,currentY:g,altKey:b};this.el.classList.add("active"),this._onDidStart.fire(y);const L=(0,C.createStyleSheet)(this.el),N=()=>{let P="";o?P="all-scroll":this.orientation===1?this.state===1?P="s-resize":this.state===2?P="n-resize":P=I.isMacintosh?"row-resize":"ns-resize":this.state===1?P="e-resize":this.state===2?P="w-resize":P=I.isMacintosh?"col-resize":"ew-resize",L.textContent=`* { cursor: ${P} !important; }`},M=new v.DisposableStore;N(),o||this.onDidEnablementChange(N,null,M);const D=P=>{C.EventHelper.stop(P,!1);const O=new S.StandardMouseEvent(P),W={startX:m,currentX:O.posx,startY:g,currentY:O.posy,altKey:b};this._onDidChange.fire(W)},R=P=>{C.EventHelper.stop(P,!1),this.el.removeChild(L),this.el.classList.remove("active"),this._onDidEnd.fire(),M.dispose();for(const O of h)O.style.pointerEvents="auto"};(0,i.domEvent)(window,"mousemove")(D,null,M),(0,i.domEvent)(window,"mouseup")(R,null,M)}}onMouseDoubleClick(t){const o=this.getOrthogonalSash(t);o&&o._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}onTouchStart(t){C.EventHelper.stop(t);const o=[],h=t.pageX,f=t.pageY,m=t.altKey;this._onDidStart.fire({startX:h,currentX:h,startY:f,currentY:f,altKey:m}),o.push((0,C.addDisposableListener)(this.el,w.EventType.Change,g=>{k.isNumber(g.pageX)&&k.isNumber(g.pageY)&&this._onDidChange.fire({startX:h,currentX:g.pageX,startY:f,currentY:g.pageY,altKey:m})})),o.push((0,C.addDisposableListener)(this.el,w.EventType.End,()=>{this._onDidEnd.fire(),(0,v.dispose)(o)}))}static onMouseEnter(t,o=!1){t.el.classList.contains("active")?(t.hoverDelayer.cancel(),t.el.classList.add("hover")):t.hoverDelayer.trigger(()=>t.el.classList.add("hover"),t.hoverDelay).then(void 0,()=>{}),!o&&t.linkedSash&&n.onMouseEnter(t.linkedSash,!0)}static onMouseLeave(t,o=!1){t.hoverDelayer.cancel(),t.el.classList.remove("hover"),!o&&t.linkedSash&&n.onMouseLeave(t.linkedSash,!0)}layout(){if(this.orientation===0){const t=this.layoutProvider;this.el.style.left=t.getVerticalSashLeft(this)-this.size/2+"px",t.getVerticalSashTop&&(this.el.style.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(this.el.style.height=t.getVerticalSashHeight(this)+"px")}else{const t=this.layoutProvider;this.el.style.top=t.getHorizontalSashTop(this)-this.size/2+"px",t.getHorizontalSashLeft&&(this.el.style.left=t.getHorizontalSashLeft(this)+"px"),t.getHorizontalSashWidth&&(this.el.style.width=t.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(t){if(!(!t.target||!(t.target instanceof HTMLElement))&&t.target.classList.contains("orthogonal-drag-handle"))return t.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=n}),define(te[536],ie([10]),{}),define(te[63],ie([0,1,7,30,53,503,533,52,15,6,2,17,143,36,536]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const c=500,d=50,r=!0;class n{constructor(b,y,L){this.timestamp=b,this.deltaX=y,this.deltaY=L,this.score=0}}class s{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let b=1,y=0,L=1,N=this._rear;do{const M=N===this._front?b:Math.pow(2,-L);if(b-=M,y+=this._memory[N].score*M,N===this._front)break;N=(this._capacity+N-1)%this._capacity,L++}while(!0);return y<=.5}accept(b,y,L){const N=new n(b,y,L);N.score=this._computeScore(N),this._front===-1&&this._rear===-1?(this._memory[0]=N,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=N)}_computeScore(b){if(Math.abs(b.deltaX)>0&&Math.abs(b.deltaY)>0)return 1;let y=.5;const L=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(b.deltaX)||!this._isAlmostInt(b.deltaY))&&(y+=.25),Math.min(Math.max(y,0),1)}_isAlmostInt(b){return Math.abs(Math.round(b)-b)<.01}}e.MouseWheelClassifier=s,s.INSTANCE=new s;class t extends p.Widget{constructor(b,y,L){super();this._onScroll=this._register(new i.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new i.Emitter),b.style.overflow="hidden",this._options=m(y),this._scrollable=L,this._register(this._scrollable.onScroll(M=>{this._onWillScroll.fire(M),this._onDidScroll(M),this._onScroll.fire(M)}));const N={onMouseWheel:M=>this._onMouseWheel(M),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new S.VerticalScrollbar(this._scrollable,this._options,N)),this._horizontalScrollbar=this._register(new w.HorizontalScrollbar(this._scrollable,this._options,N)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(b),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,I.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,I.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,I.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,M=>this._onMouseOver(M)),this.onnonbubblingmouseout(this._listenOnDomNode,M=>this._onMouseOut(M)),this._hideTimeout=this._register(new C.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,_.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(b){this._verticalScrollbar.delegateMouseDown(b)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(b){this._scrollable.setScrollDimensions(b,!1)}updateClassName(b){this._options.className=b,u.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(b){typeof b.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=b.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof b.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=b.mouseWheelScrollSensitivity),typeof b.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=b.fastScrollSensitivity),typeof b.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=b.scrollPredominantAxis),typeof b.horizontalScrollbarSize!="undefined"&&this._horizontalScrollbar.updateScrollbarSize(b.horizontalScrollbarSize),this._options.lazyRender||this._render()}_setListeningToMouseWheel(b){if(this._mouseWheelToDispose.length>0!==b&&(this._mouseWheelToDispose=(0,_.dispose)(this._mouseWheelToDispose),b)){const L=N=>{this._onMouseWheel(new k.StandardWheelEvent(N))};this._mouseWheelToDispose.push(v.addDisposableListener(this._listenOnDomNode,v.EventType.MOUSE_WHEEL,L,{passive:!1}))}}_onMouseWheel(b){const y=s.INSTANCE;if(r){const M=window.devicePixelRatio/(0,l.getZoomFactor)();u.isWindows||u.isLinux?y.accept(Date.now(),b.deltaX/M,b.deltaY/M):y.accept(Date.now(),b.deltaX,b.deltaY)}let L=!1;if(b.deltaY||b.deltaX){let M=b.deltaY*this._options.mouseWheelScrollSensitivity,D=b.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(M)>=Math.abs(D)?D=0:M=0),this._options.flipAxes&&([M,D]=[D,M]);const R=!u.isMacintosh&&b.browserEvent&&b.browserEvent.shiftKey;(this._options.scrollYToX||R)&&!D&&(D=M,M=0),b.browserEvent&&b.browserEvent.altKey&&(D=D*this._options.fastScrollSensitivity,M=M*this._options.fastScrollSensitivity);const P=this._scrollable.getFutureScrollPosition();let O={};if(M){const W=P.scrollTop-d*M;this._verticalScrollbar.writeScrollPosition(O,W)}if(D){const W=P.scrollLeft-d*D;this._horizontalScrollbar.writeScrollPosition(O,W)}O=this._scrollable.validateScrollPosition(O),(P.scrollLeft!==O.scrollLeft||P.scrollTop!==O.scrollTop)&&(r&&this._options.mouseWheelSmoothScroll&&y.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(O):this._scrollable.setScrollPositionNow(O),L=!0)}let N=L;!N&&this._options.alwaysConsumeMouseWheel&&(N=!0),!N&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(N=!0),N&&(b.preventDefault(),b.stopPropagation())}_onDidScroll(b){this._shouldRender=this._horizontalScrollbar.onDidScroll(b)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(b)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const b=this._scrollable.getCurrentScrollPosition(),y=b.scrollTop>0,L=b.scrollLeft>0,N=L?" left":"",M=y?" top":"",D=L||y?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${N}`),this._topShadowDomNode.setClassName(`shadow${M}`),this._topLeftShadowDomNode.setClassName(`shadow${D}${M}${N}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(b){this._mouseIsOver=!1,this._hide()}_onMouseOver(b){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),c)}}e.AbstractScrollableElement=t;class o extends t{constructor(b,y){y=y||{},y.mouseWheelSmoothScroll=!1;const L=new a.Scrollable(0,N=>v.scheduleAtNextAnimationFrame(N));super(b,y,L);this._register(L)}setScrollPosition(b){this._scrollable.setScrollPositionNow(b)}}e.ScrollableElement=o;class h extends t{constructor(b,y,L){super(b,y,L)}setScrollPosition(b){b.reuseAnimation?this._scrollable.setScrollPositionSmooth(b,b.reuseAnimation):this._scrollable.setScrollPositionNow(b)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=h;class f extends o{constructor(b,y){super(b,y);this._element=b,this.onScroll(L=>{L.scrollTopChanged&&(this._element.scrollTop=L.scrollTop),L.scrollLeftChanged&&(this._element.scrollLeft=L.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=f;function m(g){const b={lazyRender:typeof g.lazyRender!="undefined"?g.lazyRender:!1,className:typeof g.className!="undefined"?g.className:"",useShadows:typeof g.useShadows!="undefined"?g.useShadows:!0,handleMouseWheel:typeof g.handleMouseWheel!="undefined"?g.handleMouseWheel:!0,flipAxes:typeof g.flipAxes!="undefined"?g.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof g.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?g.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof g.alwaysConsumeMouseWheel!="undefined"?g.alwaysConsumeMouseWheel:!1,scrollYToX:typeof g.scrollYToX!="undefined"?g.scrollYToX:!1,mouseWheelScrollSensitivity:typeof g.mouseWheelScrollSensitivity!="undefined"?g.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof g.fastScrollSensitivity!="undefined"?g.fastScrollSensitivity:5,scrollPredominantAxis:typeof g.scrollPredominantAxis!="undefined"?g.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof g.mouseWheelSmoothScroll!="undefined"?g.mouseWheelSmoothScroll:!0,arrowSize:typeof g.arrowSize!="undefined"?g.arrowSize:11,listenOnDomNode:typeof g.listenOnDomNode!="undefined"?g.listenOnDomNode:null,horizontal:typeof g.horizontal!="undefined"?g.horizontal:1,horizontalScrollbarSize:typeof g.horizontalScrollbarSize!="undefined"?g.horizontalScrollbarSize:10,horizontalSliderSize:typeof g.horizontalSliderSize!="undefined"?g.horizontalSliderSize:0,horizontalHasArrows:typeof g.horizontalHasArrows!="undefined"?g.horizontalHasArrows:!1,vertical:typeof g.vertical!="undefined"?g.vertical:1,verticalScrollbarSize:typeof g.verticalScrollbarSize!="undefined"?g.verticalScrollbarSize:10,verticalHasArrows:typeof g.verticalHasArrows!="undefined"?g.verticalHasArrows:!1,verticalSliderSize:typeof g.verticalSliderSize!="undefined"?g.verticalSliderSize:0,scrollByPage:typeof g.scrollByPage!="undefined"?g.scrollByPage:!1};return b.horizontalSliderSize=typeof g.horizontalSliderSize!="undefined"?g.horizontalSliderSize:b.horizontalScrollbarSize,b.verticalSliderSize=typeof g.verticalSliderSize!="undefined"?g.verticalSliderSize:b.verticalScrollbarSize,u.isMacintosh&&(b.className+=" mac"),b}}),define(te[240],ie([0,1,7,2,63,483]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderHoverAction=e.HoverWidget=void 0;const w=v.$;class S extends I.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new k.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=S;function p(C,i,_){const u=v.append(C,w("div.action-container")),a=v.append(u,w("a.action"));a.setAttribute("href","#"),a.setAttribute("role","button"),i.iconClass&&v.append(a,w(`span.icon.${i.iconClass}`));const l=v.append(a,w("span"));return l.textContent=_?`${i.label} (${_})`:i.label,v.addDisposableListener(u,v.EventType.CLICK,c=>{c.stopPropagation(),c.preventDefault(),i.run(u)})}e.renderHoverAction=p}),define(te[173],ie([0,1,43,2,62,6,54,63,143,481,476,103,146,19,149,15,36,7]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const s={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(b){return[b]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class t{constructor(y){this.elements=y}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=t;class o{constructor(y){this.elements=y}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=o;class h{constructor(){this.types=[],this.files=[]}update(y){if(y.types&&this.types.splice(0,this.types.length,...y.types),y.files){this.files.splice(0,this.files.length);for(let L=0;L<y.files.length;L++){const N=y.files.item(L);N&&(N.size||N.type)&&this.files.push(N)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=h;function f(b,y){return Array.isArray(b)&&Array.isArray(y)?(0,l.equals)(b,y):b===y}class m{constructor(y){(y==null?void 0:y.getSetSize)?this.getSetSize=y.getSetSize.bind(y):this.getSetSize=(L,N,M)=>M,(y==null?void 0:y.getPosInSet)?this.getPosInSet=y.getPosInSet.bind(y):this.getPosInSet=(L,N)=>N+1,(y==null?void 0:y.getRole)?this.getRole=y.getRole.bind(y):this.getRole=L=>"listitem",(y==null?void 0:y.isChecked)?this.isChecked=y.isChecked.bind(y):this.isChecked=L=>{}}}class g{constructor(y,L,N,M=s){if(this.virtualDelegate=L,this.domId=`list_id_${++g.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new d.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=I.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=I.Disposable.None,this.onDragLeaveTimeout=I.Disposable.None,this.disposables=new I.DisposableStore,this._onDidChangeContentHeight=new w.Emitter,this._horizontalScrolling=!1,M.horizontalScrolling&&M.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new i.RangeMap;for(const R of N)this.renderers.set(R.templateId,R);this.cache=this.disposables.add(new _.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof M.mouseSupport=="boolean"?M.mouseSupport:!0),this._horizontalScrolling=(0,v.getOrDefault)(M,R=>R.horizontalScrolling,s.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof M.additionalScrollHeight=="undefined"?0:M.additionalScrollHeight,this.accessibilityProvider=new m(M.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,v.getOrDefault)(M,R=>R.transformOptimization,s.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(k.Gesture.addTarget(this.rowsContainer)),this.scrollable=new C.Scrollable((0,v.getOrDefault)(M,R=>R.smoothScrolling,!1)?125:0,R=>(0,n.scheduleAtNextAnimationFrame)(R)),this.scrollableElement=this.disposables.add(new p.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,v.getOrDefault)(M,R=>R.alwaysConsumeMouseWheel,s.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,v.getOrDefault)(M,R=>R.verticalScrollMode,s.verticalScrollMode),useShadows:(0,v.getOrDefault)(M,R=>R.useShadows,s.useShadows)},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),y.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),(0,S.domEvent)(this.rowsContainer,k.EventType.Change)(R=>this.onTouchChange(R),this,this.disposables),(0,S.domEvent)(this.scrollableElement.getDomNode(),"scroll")(R=>R.target.scrollTop=0,null,this.disposables),w.Event.map((0,S.domEvent)(this.domNode,"dragover"),R=>this.toDragEvent(R))(this.onDragOver,this,this.disposables),w.Event.map((0,S.domEvent)(this.domNode,"drop"),R=>this.toDragEvent(R))(this.onDrop,this,this.disposables),(0,S.domEvent)(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),(0,S.domEvent)(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=(0,v.getOrDefault)(M,R=>R.setRowLineHeight,s.setRowLineHeight),this.setRowHeight=(0,v.getOrDefault)(M,R=>R.setRowHeight,s.setRowHeight),this.supportDynamicHeights=(0,v.getOrDefault)(M,R=>R.supportDynamicHeights,s.supportDynamicHeights),this.dnd=(0,v.getOrDefault)(M,R=>R.dnd,s.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(y){if(y!==this._horizontalScrolling){if(y&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=y,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const L of this.items)this.measureItemWidth(L);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,n.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(y){y.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=y.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),y.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(y.smoothScrolling?125:0),y.horizontalScrolling!==void 0&&(this.horizontalScrolling=y.horizontalScrolling)}splice(y,L,N=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(y,L,N)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(y,L,N=[]){const M=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),D={start:y,end:y+L},R=a.Range.intersect(M,D),P=new Map;for(let Z=R.start;Z<R.end;Z++){const T=this.items[Z];if(T.dragStartDisposable.dispose(),T.row){let x=P.get(T.templateId);x||(x=[],P.set(T.templateId,x));const H=this.renderers.get(T.templateId);H&&H.disposeElement&&H.disposeElement(T.element,Z,T.row.templateData,T.size),x.push(T.row)}T.row=null}const O={start:y+L,end:this.items.length},W=a.Range.intersect(O,M),F=a.Range.relativeComplement(O,M),E=N.map(Z=>({id:String(this.itemId++),element:Z,templateId:this.virtualDelegate.getTemplateId(Z),size:this.virtualDelegate.getHeight(Z),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Z),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:I.Disposable.None}));let A;y===0&&L>=this.items.length?(this.rangeMap=new i.RangeMap,this.rangeMap.splice(0,0,E),A=this.items,this.items=E):(this.rangeMap.splice(y,L,E),A=this.items.splice(y,L,...E));const B=N.length-L,z=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),U=(0,i.shift)(W,B),K=a.Range.intersect(z,U);for(let Z=K.start;Z<K.end;Z++)this.updateItemInDOM(this.items[Z],Z);const G=a.Range.relativeComplement(U,z);for(const Z of G)for(let T=Z.start;T<Z.end;T++)this.removeItemFromDOM(T);const J=F.map(Z=>(0,i.shift)(Z,B)),ae=[{start:y,end:y+N.length},...J].map(Z=>a.Range.intersect(z,Z)),se=this.getNextToLastElement(ae);for(const Z of ae)for(let T=Z.start;T<Z.end;T++){const x=this.items[T],H=P.get(x.templateId),V=H==null?void 0:H.pop();this.insertItemInDOM(T,se,V)}for(const Z of P.values())for(const T of Z)this.cache.release(T);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),A.map(Z=>Z.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,n.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!!this.horizontalScrolling){let y=0;for(const L of this.items)typeof L.width!="undefined"&&(y=Math.max(y,L.width));this.scrollWidth=y,this.scrollableElement.setScrollDimensions({scrollWidth:y===0?0:y+10})}}rerender(){if(!!this.supportDynamicHeights){for(const y of this.items)y.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(y){return this.items[y].element}domElement(y){const L=this.items[y].row;return L&&L.domNode}elementHeight(y){return this.items[y].size}elementTop(y){return this.rangeMap.positionAt(y)}indexAt(y){return this.rangeMap.indexAt(y)}indexAfter(y){return this.rangeMap.indexAfter(y)}layout(y,L){let N={height:typeof y=="number"?y:(0,n.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,N.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(N),typeof L!="undefined"&&(this.renderWidth=L,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof L=="number"?L:(0,n.getContentWidth)(this.domNode)})}render(y,L,N,M,D,R=!1){const P=this.getRenderRange(L,N),O=a.Range.relativeComplement(P,y),W=a.Range.relativeComplement(y,P),F=this.getNextToLastElement(O);if(R){const E=a.Range.intersect(y,P);for(let A=E.start;A<E.end;A++)this.updateItemInDOM(this.items[A],A)}for(const E of O)for(let A=E.start;A<E.end;A++)this.insertItemInDOM(A,F);for(const E of W)for(let A=E.start;A<E.end;A++)this.removeItemFromDOM(A);M!==void 0&&(this.rowsContainer.style.left=`-${M}px`),this.rowsContainer.style.top=`-${L}px`,this.horizontalScrolling&&D!==void 0&&(this.rowsContainer.style.width=`${Math.max(D,this.renderWidth)}px`),this.lastRenderTop=L,this.lastRenderHeight=N}insertItemInDOM(y,L,N){const M=this.items[y];M.row||(M.row=N!=null?N:this.cache.alloc(M.templateId));const D=this.accessibilityProvider.getRole(M.element)||"listitem";M.row.domNode.setAttribute("role",D);const R=this.accessibilityProvider.isChecked(M.element);typeof R!="undefined"&&M.row.domNode.setAttribute("aria-checked",String(!!R)),M.row.domNode.parentElement||(L?this.rowsContainer.insertBefore(M.row.domNode,L):this.rowsContainer.appendChild(M.row.domNode)),this.updateItemInDOM(M,y);const P=this.renderers.get(M.templateId);if(!P)throw new Error(`No renderer found for template id ${M.templateId}`);P&&P.renderElement(M.element,y,M.row.templateData,M.size);const O=this.dnd.getDragURI(M.element);if(M.dragStartDisposable.dispose(),M.row.domNode.draggable=!!O,O){const W=(0,S.domEvent)(M.row.domNode,"dragstart");M.dragStartDisposable=W(F=>this.onDragStart(M.element,O,F))}this.horizontalScrolling&&(this.measureItemWidth(M),this.eventuallyUpdateScrollWidth())}measureItemWidth(y){if(!(!y.row||!y.row.domNode)){y.row.domNode.style.width=r.isFirefox?"-moz-fit-content":"fit-content",y.width=(0,n.getContentWidth)(y.row.domNode);const L=window.getComputedStyle(y.row.domNode);L.paddingLeft&&(y.width+=parseFloat(L.paddingLeft)),L.paddingRight&&(y.width+=parseFloat(L.paddingRight)),y.row.domNode.style.width=""}}updateItemInDOM(y,L){y.row.domNode.style.top=`${this.elementTop(L)}px`,this.setRowHeight&&(y.row.domNode.style.height=`${y.size}px`),this.setRowLineHeight&&(y.row.domNode.style.lineHeight=`${y.size}px`),y.row.domNode.setAttribute("data-index",`${L}`),y.row.domNode.setAttribute("data-last-element",L===this.length-1?"true":"false"),y.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(y.element,L,this.length))),y.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(y.element,L))),y.row.domNode.setAttribute("id",this.getElementDomId(L)),y.row.domNode.classList.toggle("drop-target",y.dropTarget)}removeItemFromDOM(y){const L=this.items[y];if(L.dragStartDisposable.dispose(),L.row){const N=this.renderers.get(L.templateId);N&&N.disposeElement&&N.disposeElement(L.element,y,L.row.templateData,L.size),this.cache.release(L.row),L.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(y,L){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:y,reuseAnimation:L})}get scrollTop(){return this.getScrollTop()}set scrollTop(y){this.setScrollTop(y)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return w.Event.map((0,S.domEvent)(this.domNode,"click"),y=>this.toMouseEvent(y))}get onMouseDblClick(){return w.Event.map((0,S.domEvent)(this.domNode,"dblclick"),y=>this.toMouseEvent(y))}get onMouseMiddleClick(){return w.Event.filter(w.Event.map((0,S.domEvent)(this.domNode,"auxclick"),y=>this.toMouseEvent(y)),y=>y.browserEvent.button===1)}get onMouseDown(){return w.Event.map((0,S.domEvent)(this.domNode,"mousedown"),y=>this.toMouseEvent(y))}get onContextMenu(){return w.Event.map((0,S.domEvent)(this.domNode,"contextmenu"),y=>this.toMouseEvent(y))}get onTouchStart(){return w.Event.map((0,S.domEvent)(this.domNode,"touchstart"),y=>this.toTouchEvent(y))}get onTap(){return w.Event.map((0,S.domEvent)(this.rowsContainer,k.EventType.Tap),y=>this.toGestureEvent(y))}toMouseEvent(y){const L=this.getItemIndexFromEventTarget(y.target||null),N=typeof L=="undefined"?void 0:this.items[L],M=N&&N.element;return{browserEvent:y,index:L,element:M}}toTouchEvent(y){const L=this.getItemIndexFromEventTarget(y.target||null),N=typeof L=="undefined"?void 0:this.items[L],M=N&&N.element;return{browserEvent:y,index:L,element:M}}toGestureEvent(y){const L=this.getItemIndexFromEventTarget(y.initialTarget||null),N=typeof L=="undefined"?void 0:this.items[L],M=N&&N.element;return{browserEvent:y,index:L,element:M}}toDragEvent(y){const L=this.getItemIndexFromEventTarget(y.target||null),N=typeof L=="undefined"?void 0:this.items[L],M=N&&N.element;return{browserEvent:y,index:L,element:M}}onScroll(y){try{const L=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(L,y.scrollTop,y.height,y.scrollLeft,y.scrollWidth),this.supportDynamicHeights&&this._rerender(y.scrollTop,y.height,y.inSmoothScrolling)}catch(L){throw console.error("Got bad scroll event:",y),L}}onTouchChange(y){y.preventDefault(),y.stopPropagation(),this.scrollTop-=y.translationY}onDragStart(y,L,N){if(!!N.dataTransfer){const M=this.dnd.getDragElements(y);if(N.dataTransfer.effectAllowed="copyMove",N.dataTransfer.setData(c.DataTransfers.RESOURCES,JSON.stringify([L])),N.dataTransfer.setDragImage){let D;this.dnd.getDragLabel&&(D=this.dnd.getDragLabel(M,N)),typeof D=="undefined"&&(D=String(M.length));const R=(0,n.$)(".monaco-drag-image");R.textContent=D,document.body.appendChild(R),N.dataTransfer.setDragImage(R,-10,-10),setTimeout(()=>document.body.removeChild(R),0)}this.currentDragData=new t(M),c.StaticDND.CurrentDragAndDropData=new o(M),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,N)}}onDragOver(y){if(y.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),c.StaticDND.CurrentDragAndDropData&&c.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(y.browserEvent),!y.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(c.StaticDND.CurrentDragAndDropData)this.currentDragData=c.StaticDND.CurrentDragAndDropData;else{if(!y.browserEvent.dataTransfer.types)return!1;this.currentDragData=new h}const L=this.dnd.onDragOver(this.currentDragData,y.element,y.index,y.browserEvent);if(this.canDrop=typeof L=="boolean"?L:L.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;y.browserEvent.dataTransfer.dropEffect=typeof L!="boolean"&&L.effect===0?"copy":"move";let N;if(typeof L!="boolean"&&L.feedback?N=L.feedback:typeof y.index=="undefined"?N=[-1]:N=[y.index],N=(0,l.distinct)(N).filter(M=>M>=-1&&M<this.length).sort((M,D)=>M-D),N=N[0]===-1?[-1]:N,f(this.currentDragFeedback,N))return!0;if(this.currentDragFeedback=N,this.currentDragFeedbackDisposable.dispose(),N[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,I.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const M of N){const D=this.items[M];D.dropTarget=!0,D.row&&D.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,I.toDisposable)(()=>{for(const M of N){const D=this.items[M];D.dropTarget=!1,D.row&&D.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,d.disposableTimeout)(()=>this.clearDragOverFeedback(),100)}onDrop(y){if(!!this.canDrop){const L=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,c.StaticDND.CurrentDragAndDropData=void 0,!(!L||!y.browserEvent.dataTransfer)&&(y.browserEvent.preventDefault(),L.update(y.browserEvent.dataTransfer),this.dnd.drop(L,y.element,y.index,y.browserEvent))}}onDragEnd(y){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,c.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(y)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=I.Disposable.None}setupDragAndDropScrollTopAnimation(y){if(!this.dragOverAnimationDisposable){const L=(0,n.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,n.animate)(this.animateDragAndDropScrollTop.bind(this,L))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,d.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=y.pageY}animateDragAndDropScrollTop(y){if(this.dragOverMouseY!==void 0){const L=this.dragOverMouseY-y,N=this.renderHeight-35;L<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(L-35))):L>N&&(this.scrollTop+=Math.min(14,Math.floor(.3*(L-N))))}}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(y){const L=this.scrollableElement.getDomNode();let N=y;for(;N instanceof HTMLElement&&N!==this.rowsContainer&&L.contains(N);){const M=N.getAttribute("data-index");if(M){const D=Number(M);if(!isNaN(D))return D}N=N.parentElement}}getRenderRange(y,L){return{start:this.rangeMap.indexAt(y),end:this.rangeMap.indexAfter(y+L-1)}}_rerender(y,L,N){const M=this.getRenderRange(y,L);let D,R;y===this.elementTop(M.start)?(D=M.start,R=0):M.end-M.start>1&&(D=M.start+1,R=this.elementTop(D)-y);let P=0;for(;;){const O=this.getRenderRange(y,L);let W=!1;for(let F=O.start;F<O.end;F++){const E=this.probeDynamicHeight(F);E!==0&&this.rangeMap.splice(F,1,[this.items[F]]),P+=E,W=W||E!==0}if(!W){P!==0&&this.eventuallyUpdateScrollDimensions();const F=a.Range.relativeComplement(M,O);for(const A of F)for(let B=A.start;B<A.end;B++)this.items[B].row&&this.removeItemFromDOM(B);const E=a.Range.relativeComplement(O,M);for(const A of E)for(let B=A.start;B<A.end;B++){const z=B+1,U=z<this.items.length?this.items[z].row:null,K=U?U.domNode:null;this.insertItemInDOM(B,K)}for(let A=O.start;A<O.end;A++)this.items[A].row&&this.updateItemInDOM(this.items[A],A);if(typeof D=="number"){const A=this.scrollable.getFutureScrollPosition().scrollTop-y,B=this.elementTop(D)-R+A;this.setScrollTop(B,N)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(y){const L=this.items[y];if(!L.hasDynamicHeight||L.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(L.element))return 0;const N=L.size;if(!this.setRowHeight&&L.row){let R=L.row.domNode.offsetHeight;return L.size=R,L.lastDynamicHeightWidth=this.renderWidth,R-N}const M=this.cache.alloc(L.templateId);M.domNode.style.height="",this.rowsContainer.appendChild(M.domNode);const D=this.renderers.get(L.templateId);return D&&(D.renderElement(L.element,y,M.templateData,void 0),D.disposeElement&&D.disposeElement(L.element,y,M.templateData,void 0)),L.size=M.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(L.element,L.size),L.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(M.domNode),this.cache.release(M),L.size-N}getNextToLastElement(y){const L=y[y.length-1];if(!L)return null;const N=this.items[L.end];return!N||!N.row?null:N.row.domNode}getElementDomId(y){return`${this.domId}_${y}`}dispose(){if(this.items){for(const y of this.items)if(y.row){const L=this.renderers.get(y.row.templateId);L&&(L.disposeElement&&L.disposeElement(y.element,-1,y.row.templateData,void 0),L.disposeTemplate(y.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,I.dispose)(this.disposables)}}g.InstanceCount=0,Me([u.memoize],g.prototype,"onMouseClick",null),Me([u.memoize],g.prototype,"onMouseDblClick",null),Me([u.memoize],g.prototype,"onMouseMiddleClick",null),Me([u.memoize],g.prototype,"onMouseDown",null),Me([u.memoize],g.prototype,"onContextMenu",null),Me([u.memoize],g.prototype,"onTouchStart",null),Me([u.memoize],g.prototype,"onTap",null),e.ListView=g}),define(te[98],ie([0,1,2,20,19,103,17,62,55,6,54,450,173,29,43,455,100,70,40,7,15,243]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class h{constructor(T){this.trait=T,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(T){return T}renderElement(T,x,H){const V=this.renderedElements.findIndex(q=>q.templateData===H);if(V>=0){const q=this.renderedElements[V];this.trait.unrender(H),q.index=x}else{const q={index:x,templateData:H};this.renderedElements.push(q)}this.trait.renderIndex(x,H)}splice(T,x,H){const V=[];for(const q of this.renderedElements)q.index<T?V.push(q):q.index>=T+x&&V.push({index:q.index+H-x,templateData:q.templateData});this.renderedElements=V}renderIndexes(T){for(const{index:x,templateData:H}of this.renderedElements)T.indexOf(x)>-1&&this.trait.renderIndex(x,H)}disposeTemplate(T){const x=this.renderedElements.findIndex(H=>H.templateData===T);x<0||this.renderedElements.splice(x,1)}}class f{constructor(T){this._trait=T,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new h(this)}splice(T,x,H){const V=H.length-x,q=T+x,ee=[...this.sortedIndexes.filter(oe=>oe<T),...H.map((oe,le)=>oe?le+T:-1).filter(oe=>oe!==-1),...this.sortedIndexes.filter(oe=>oe>=q).map(oe=>oe+V)];this.renderer.splice(T,x,H.length),this._set(ee,ee)}renderIndex(T,x){x.classList.toggle(this._trait,this.contains(T))}unrender(T){T.classList.remove(this._trait)}set(T,x){return this._set(T,[...T].sort(G),x)}_set(T,x,H){const V=this.indexes,q=this.sortedIndexes;this.indexes=T,this.sortedIndexes=x;const ee=U(q,T);return this.renderer.renderIndexes(ee),this._onChange.fire({indexes:T,browserEvent:H}),V}get(){return this.indexes}contains(T){return(0,k.binarySearch)(this.sortedIndexes,T,G)>=0}dispose(){(0,v.dispose)(this._onChange)}}Me([w.memoize],f.prototype,"renderer",null);class m extends f{constructor(T){super("selected");this.setAriaSelected=T}renderIndex(T,x){super.renderIndex(T,x),this.setAriaSelected&&(this.contains(T)?x.setAttribute("aria-selected","true"):x.setAttribute("aria-selected","false"))}}class g{constructor(T,x,H){this.trait=T,this.view=x,this.identityProvider=H}splice(T,x,H){if(!this.identityProvider)return this.trait.splice(T,x,H.map(()=>!1));const V=this.trait.get().map(ee=>this.identityProvider.getId(this.view.element(ee)).toString()),q=H.map(ee=>V.indexOf(this.identityProvider.getId(ee).toString())>-1);this.trait.splice(T,x,q)}}function b(Z){return Z.tagName==="INPUT"||Z.tagName==="TEXTAREA"}e.isInputElement=b;function y(Z){return Z.classList.contains("monaco-editor")?!0:Z.classList.contains("monaco-list")||!Z.parentElement?!1:y(Z.parentElement)}e.isMonacoEditor=y;class L{constructor(T,x,H){this.list=T,this.view=x,this.disposables=new v.DisposableStore;const V=H.multipleSelectionSupport!==!1,q=i.Event.chain((0,_.domEvent)(x.domNode,"keydown")).filter(ee=>!b(ee.target)).map(ee=>new C.StandardKeyboardEvent(ee));q.filter(ee=>ee.keyCode===3).on(this.onEnter,this,this.disposables),q.filter(ee=>ee.keyCode===16).on(this.onUpArrow,this,this.disposables),q.filter(ee=>ee.keyCode===18).on(this.onDownArrow,this,this.disposables),q.filter(ee=>ee.keyCode===11).on(this.onPageUpArrow,this,this.disposables),q.filter(ee=>ee.keyCode===12).on(this.onPageDownArrow,this,this.disposables),q.filter(ee=>ee.keyCode===9).on(this.onEscape,this,this.disposables),V&&q.filter(ee=>(S.isMacintosh?ee.metaKey:ee.ctrlKey)&&ee.keyCode===31).on(this.onCtrlA,this,this.disposables)}onEnter(T){T.preventDefault(),T.stopPropagation(),this.list.setSelection(this.list.getFocus(),T.browserEvent)}onUpArrow(T){T.preventDefault(),T.stopPropagation(),this.list.focusPrevious(1,!1,T.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(T){T.preventDefault(),T.stopPropagation(),this.list.focusNext(1,!1,T.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(T){T.preventDefault(),T.stopPropagation(),this.list.focusPreviousPage(T.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(T){T.preventDefault(),T.stopPropagation(),this.list.focusNextPage(T.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(T){T.preventDefault(),T.stopPropagation(),this.list.setSelection((0,k.range)(this.list.length),T.browserEvent),this.view.domNode.focus()}onEscape(T){this.list.getSelection().length&&(T.preventDefault(),T.stopPropagation(),this.list.setSelection([],T.browserEvent),this.view.domNode.focus())}dispose(){this.disposables.dispose()}}var N;(function(Z){Z[Z.Idle=0]="Idle",Z[Z.Typing=1]="Typing"})(N||(N={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(Z){return Z.ctrlKey||Z.metaKey||Z.altKey?!1:Z.keyCode>=31&&Z.keyCode<=56||Z.keyCode>=21&&Z.keyCode<=30||Z.keyCode>=93&&Z.keyCode<=102||Z.keyCode>=80&&Z.keyCode<=90}};class M{constructor(T,x,H,V){this.list=T,this.view=x,this.keyboardNavigationLabelProvider=H,this.delegate=V,this.enabled=!1,this.state=N.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new v.DisposableStore,this.disposables=new v.DisposableStore,this.updateOptions(T.options)}updateOptions(T){(typeof T.enableKeyboardNavigation=="undefined"?!0:!!T.enableKeyboardNavigation)?this.enable():this.disable(),typeof T.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=T.automaticKeyboardNavigation)}enable(){if(!this.enabled){const T=i.Event.chain((0,_.domEvent)(this.view.domNode,"keydown")).filter(V=>!b(V.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(V=>new C.StandardKeyboardEvent(V)).filter(V=>this.delegate.mightProducePrintableCharacter(V)).forEach(V=>{V.stopPropagation(),V.preventDefault()}).map(V=>V.browserEvent.key).event,x=i.Event.debounce(T,()=>null,800);i.Event.reduce(i.Event.any(T,x),(V,q)=>q===null?null:(V||"")+q)(this.onInput,this,this.enabledDisposables),x(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var T;const x=this.list.getFocus();if(x.length>0&&x[0]===this.previouslyFocused){const H=(T=this.list.options.accessibilityProvider)===null||T===void 0?void 0:T.getAriaLabel(this.list.element(x[0]));H&&(0,s.alert)(H)}this.previouslyFocused=-1}onInput(T){if(!T){this.state=N.Idle,this.triggered=!1;return}const x=this.list.getFocus(),H=x.length>0?x[0]:0,V=this.state===N.Idle?1:0;this.state=N.Typing;for(let q=0;q<this.list.length;q++){const ee=(H+q+V)%this.list.length,oe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(ee)),le=oe&&oe.toString();if(typeof le=="undefined"||(0,n.matchesPrefix)(T,le)){this.previouslyFocused=H,this.list.setFocus([ee]),this.list.reveal(ee);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class D{constructor(T,x){this.list=T,this.view=x,this.disposables=new v.DisposableStore,i.Event.chain((0,_.domEvent)(x.domNode,"keydown")).filter(V=>!b(V.target)).map(V=>new C.StandardKeyboardEvent(V)).filter(V=>V.keyCode===2&&!V.ctrlKey&&!V.metaKey&&!V.shiftKey&&!V.altKey).on(this.onTab,this,this.disposables)}onTab(T){if(T.target===this.view.domNode){const x=this.list.getFocus();if(x.length!==0){const H=this.view.domElement(x[0]);if(!!H){const V=H.querySelector("[tabIndex]");if(!(!V||!(V instanceof HTMLElement)||V.tabIndex===-1)){const q=window.getComputedStyle(V);q.visibility==="hidden"||q.display==="none"||(T.preventDefault(),T.stopPropagation(),V.focus())}}}}}dispose(){this.disposables.dispose()}}function R(Z){return S.isMacintosh?Z.browserEvent.metaKey:Z.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=R;function P(Z){return Z.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=P;function O(Z){return Z instanceof MouseEvent&&Z.button===2}const W={isSelectionSingleChangeEvent:R,isSelectionRangeChangeEvent:P};class F{constructor(T){this.list=T,this.disposables=new v.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,this.multipleSelectionSupport=T.options.multipleSelectionSupport!==!1,this.multipleSelectionSupport&&(this.multipleSelectionController=T.options.multipleSelectionController||W),this.mouseSupport=typeof T.options.mouseSupport=="undefined"||!!T.options.mouseSupport,this.mouseSupport&&(T.onMouseDown(this.onMouseDown,this,this.disposables),T.onContextMenu(this.onContextMenu,this,this.disposables),T.onMouseDblClick(this.onDoubleClick,this,this.disposables),T.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(p.Gesture.addTarget(T.getHTMLElement()))),i.Event.any(T.onMouseClick,T.onMouseMiddleClick,T.onTap)(this.onViewPointer,this,this.disposables)}isSelectionSingleChangeEvent(T){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(T):S.isMacintosh?T.browserEvent.metaKey:T.browserEvent.ctrlKey}isSelectionRangeChangeEvent(T){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(T):T.browserEvent.shiftKey}isSelectionChangeEvent(T){return this.isSelectionSingleChangeEvent(T)||this.isSelectionRangeChangeEvent(T)}onMouseDown(T){y(T.browserEvent.target)||document.activeElement!==T.browserEvent.target&&this.list.domFocus()}onContextMenu(T){if(!y(T.browserEvent.target)){const x=typeof T.index=="undefined"?[]:[T.index];this.list.setFocus(x,T.browserEvent)}}onViewPointer(T){if(!!this.mouseSupport&&!(b(T.browserEvent.target)||y(T.browserEvent.target))){const x=T.index;if(typeof x=="undefined"){this.list.setFocus([],T.browserEvent),this.list.setSelection([],T.browserEvent),this.list.setAnchor(void 0);return}if(this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(T))return this.changeSelection(T);if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(T))return this.changeSelection(T);this.list.setFocus([x],T.browserEvent),this.list.setAnchor(x),O(T.browserEvent)||this.list.setSelection([x],T.browserEvent),this._onPointer.fire(T)}}onDoubleClick(T){if(!(b(T.browserEvent.target)||y(T.browserEvent.target))&&!(this.multipleSelectionSupport&&this.isSelectionChangeEvent(T))){const x=this.list.getFocus();this.list.setSelection(x,T.browserEvent)}}changeSelection(T){const x=T.index,H=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(T)&&typeof H=="number"){const V=Math.min(H,x),q=Math.max(H,x),ee=(0,k.range)(V,q+1),oe=this.list.getSelection(),le=z(U(oe,[H]),H);if(le.length===0)return;const Y=U(ee,K(oe,le));this.list.setSelection(Y,T.browserEvent),this.list.setFocus([x],T.browserEvent)}else if(this.isSelectionSingleChangeEvent(T)){const V=this.list.getSelection(),q=V.filter(ee=>ee!==x);this.list.setFocus([x]),this.list.setAnchor(x),V.length===q.length?this.list.setSelection([...q,x],T.browserEvent):this.list.setSelection(q,T.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=F;class E{constructor(T,x){this.styleElement=T,this.selectorSuffix=x}style(T){const x=this.selectorSuffix&&`.${this.selectorSuffix}`,H=[];T.listBackground&&(T.listBackground.isOpaque()?H.push(`.monaco-list${x} .monaco-list-rows { background: ${T.listBackground}; }`):S.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),T.listFocusBackground&&(H.push(`.monaco-list${x}:focus .monaco-list-row.focused { background-color: ${T.listFocusBackground}; }`),H.push(`.monaco-list${x}:focus .monaco-list-row.focused:hover { background-color: ${T.listFocusBackground}; }`)),T.listFocusForeground&&H.push(`.monaco-list${x}:focus .monaco-list-row.focused { color: ${T.listFocusForeground}; }`),T.listActiveSelectionBackground&&(H.push(`.monaco-list${x}:focus .monaco-list-row.selected { background-color: ${T.listActiveSelectionBackground}; }`),H.push(`.monaco-list${x}:focus .monaco-list-row.selected:hover { background-color: ${T.listActiveSelectionBackground}; }`)),T.listActiveSelectionForeground&&H.push(`.monaco-list${x}:focus .monaco-list-row.selected { color: ${T.listActiveSelectionForeground}; }`),T.listFocusAndSelectionBackground&&H.push(`
				.monaco-drag-image,
				.monaco-list${x}:focus .monaco-list-row.selected.focused { background-color: ${T.listFocusAndSelectionBackground}; }
			`),T.listFocusAndSelectionForeground&&H.push(`
				.monaco-drag-image,
				.monaco-list${x}:focus .monaco-list-row.selected.focused { color: ${T.listFocusAndSelectionForeground}; }
			`),T.listInactiveFocusForeground&&(H.push(`.monaco-list${x} .monaco-list-row.focused { color:  ${T.listInactiveFocusForeground}; }`),H.push(`.monaco-list${x} .monaco-list-row.focused:hover { color:  ${T.listInactiveFocusForeground}; }`)),T.listInactiveFocusBackground&&(H.push(`.monaco-list${x} .monaco-list-row.focused { background-color:  ${T.listInactiveFocusBackground}; }`),H.push(`.monaco-list${x} .monaco-list-row.focused:hover { background-color:  ${T.listInactiveFocusBackground}; }`)),T.listInactiveSelectionBackground&&(H.push(`.monaco-list${x} .monaco-list-row.selected { background-color:  ${T.listInactiveSelectionBackground}; }`),H.push(`.monaco-list${x} .monaco-list-row.selected:hover { background-color:  ${T.listInactiveSelectionBackground}; }`)),T.listInactiveSelectionForeground&&H.push(`.monaco-list${x} .monaco-list-row.selected { color: ${T.listInactiveSelectionForeground}; }`),T.listHoverBackground&&H.push(`.monaco-list${x}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${T.listHoverBackground}; }`),T.listHoverForeground&&H.push(`.monaco-list${x} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${T.listHoverForeground}; }`),T.listSelectionOutline&&H.push(`.monaco-list${x} .monaco-list-row.selected { outline: 1px dotted ${T.listSelectionOutline}; outline-offset: -1px; }`),T.listFocusOutline&&H.push(`
				.monaco-drag-image,
				.monaco-list${x}:focus .monaco-list-row.focused { outline: 1px solid ${T.listFocusOutline}; outline-offset: -1px; }
			`),T.listInactiveFocusOutline&&H.push(`.monaco-list${x} .monaco-list-row.focused { outline: 1px dotted ${T.listInactiveFocusOutline}; outline-offset: -1px; }`),T.listHoverOutline&&H.push(`.monaco-list${x} .monaco-list-row:hover { outline: 1px dashed ${T.listHoverOutline}; outline-offset: -1px; }`),T.listDropBackground&&H.push(`
				.monaco-list${x}.drop-target,
				.monaco-list${x} .monaco-list-rows.drop-target,
				.monaco-list${x} .monaco-list-row.drop-target { background-color: ${T.listDropBackground} !important; color: inherit !important; }
			`),T.listFilterWidgetBackground&&H.push(`.monaco-list-type-filter { background-color: ${T.listFilterWidgetBackground} }`),T.listFilterWidgetOutline&&H.push(`.monaco-list-type-filter { border: 1px solid ${T.listFilterWidgetOutline}; }`),T.listFilterWidgetNoMatchesOutline&&H.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${T.listFilterWidgetNoMatchesOutline}; }`),T.listMatchesShadow&&H.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${T.listMatchesShadow}; }`),T.tableColumnsBorder&&H.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${T.tableColumnsBorder};
			}`),this.styleElement.textContent=H.join(`
`)}}e.DefaultStyleController=E;const A={listFocusBackground:l.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:l.Color.fromHex("#0E639C"),listActiveSelectionForeground:l.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:l.Color.fromHex("#094771"),listFocusAndSelectionForeground:l.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:l.Color.fromHex("#3F3F46"),listHoverBackground:l.Color.fromHex("#2A2D2E"),listDropBackground:l.Color.fromHex("#383B3D"),treeIndentGuidesStroke:l.Color.fromHex("#a9a9a9"),tableColumnsBorder:l.Color.fromHex("#cccccc").transparent(.2)},B={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function z(Z,T){const x=Z.indexOf(T);if(x===-1)return[];const H=[];let V=x-1;for(;V>=0&&Z[V]===T-(x-V);)H.push(Z[V--]);for(H.reverse(),V=x;V<Z.length&&Z[V]===T+(V-x);)H.push(Z[V++]);return H}function U(Z,T){const x=[];let H=0,V=0;for(;H<Z.length||V<T.length;)if(H>=Z.length)x.push(T[V++]);else if(V>=T.length)x.push(Z[H++]);else if(Z[H]===T[V]){x.push(Z[H]),H++,V++;continue}else Z[H]<T[V]?x.push(Z[H++]):x.push(T[V++]);return x}function K(Z,T){const x=[];let H=0,V=0;for(;H<Z.length||V<T.length;)if(H>=Z.length)x.push(T[V++]);else if(V>=T.length)x.push(Z[H++]);else if(Z[H]===T[V]){H++,V++;continue}else Z[H]<T[V]?x.push(Z[H++]):V++;return x}const G=(Z,T)=>Z-T;class J{constructor(T,x){this._templateId=T,this.renderers=x}get templateId(){return this._templateId}renderTemplate(T){return this.renderers.map(x=>x.renderTemplate(T))}renderElement(T,x,H,V){let q=0;for(const ee of this.renderers)ee.renderElement(T,x,H[q++],V)}disposeElement(T,x,H,V){let q=0;for(const ee of this.renderers)ee.disposeElement&&ee.disposeElement(T,x,H[q],V),q+=1}disposeTemplate(T){let x=0;for(const H of this.renderers)H.disposeTemplate(T[x++])}}class Q{constructor(T){this.accessibilityProvider=T,this.templateId="a18n"}renderTemplate(T){return T}renderElement(T,x,H){const V=this.accessibilityProvider.getAriaLabel(T);V?H.setAttribute("aria-label",V):H.removeAttribute("aria-label");const q=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(T);typeof q=="number"?H.setAttribute("aria-level",`${q}`):H.removeAttribute("aria-level")}disposeTemplate(T){}}class ae{constructor(T,x){this.list=T,this.dnd=x}getDragElements(T){const x=this.list.getSelectedElements();return x.indexOf(T)>-1?x:[T]}getDragURI(T){return this.dnd.getDragURI(T)}getDragLabel(T,x){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(T,x)}onDragStart(T,x){this.dnd.onDragStart&&this.dnd.onDragStart(T,x)}onDragOver(T,x,H,V){return this.dnd.onDragOver(T,x,H,V)}onDragEnd(T){this.dnd.onDragEnd&&this.dnd.onDragEnd(T)}drop(T,x,H,V){this.dnd.drop(T,x,H,V)}}class se{constructor(T,x,H,V,q=B){var ee;this.user=T,this._options=q,this.focus=new f("focused"),this.anchor=new f("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new v.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const oe=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(ee=this._options.accessibilityProvider)===null||ee===void 0?void 0:ee.getWidgetRole():"list";this.selection=new m(oe!=="listbox"),(0,c.mixin)(q,A,!1);const le=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=q.accessibilityProvider,this.accessibilityProvider&&(le.push(new Q(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),V=V.map(j=>new J(j.templateId,[...le,j]));const Y=Object.assign(Object.assign({},q),{dnd:q.dnd&&new ae(this,q.dnd)});if(this.view=new a.ListView(x,H,V,Y),this.view.domNode.setAttribute("role",oe),q.styleController)this.styleController=q.styleController(this.view.domId);else{const j=(0,t.createStyleSheet)(this.view.domNode);this.styleController=new E(j,this.view.domId)}if(this.spliceable=new d.CombinedSpliceable([new g(this.focus,this.view,q.identityProvider),new g(this.selection,this.view,q.identityProvider),new g(this.anchor,this.view,q.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=i.Event.map((0,_.domEvent)(this.view.domNode,"focus",!0),()=>null),this.onDidBlur=i.Event.map((0,_.domEvent)(this.view.domNode,"blur",!0),()=>null),this.disposables.add(new D(this,this.view)),typeof q.keyboardSupport!="boolean"||q.keyboardSupport){const j=new L(this,this.view,q);this.disposables.add(j)}if(q.keyboardNavigationLabelProvider){const j=q.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new M(this,this.view,q.keyboardNavigationLabelProvider,j),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(q),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),q.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),T=>this.toListEvent(T))}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),T=>this.toListEvent(T))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let T=!1;const x=i.Event.chain((0,_.domEvent)(this.view.domNode,"keydown")).map(q=>new C.StandardKeyboardEvent(q)).filter(q=>T=q.keyCode===58||q.shiftKey&&q.keyCode===68).map(_.stopEvent).filter(()=>!1).event,H=i.Event.chain((0,_.domEvent)(this.view.domNode,"keyup")).forEach(()=>T=!1).map(q=>new C.StandardKeyboardEvent(q)).filter(q=>q.keyCode===58||q.shiftKey&&q.keyCode===68).map(_.stopEvent).map(({browserEvent:q})=>{const ee=this.getFocus(),oe=ee.length?ee[0]:void 0,le=typeof oe!="undefined"?this.view.element(oe):void 0,Y=typeof oe!="undefined"?this.view.domElement(oe):this.view.domNode;return{index:oe,element:le,anchor:Y,browserEvent:q}}).event,V=i.Event.chain(this.view.onContextMenu).filter(q=>!T).map(({element:q,index:ee,browserEvent:oe})=>({element:q,index:ee,anchor:{x:oe.clientX+1,y:oe.clientY},browserEvent:oe})).event;return i.Event.any(x,H,V)}get onKeyDown(){return(0,_.domEvent)(this.view.domNode,"keydown")}createMouseController(T){return new F(this)}updateOptions(T={}){this._options=Object.assign(Object.assign({},this._options),T),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this.view.updateOptions(T)}get options(){return this._options}splice(T,x,H=[]){if(T<0||T>this.view.length)throw new u.ListError(this.user,`Invalid start index: ${T}`);if(x<0)throw new u.ListError(this.user,`Invalid delete count: ${x}`);x===0&&H.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(T,x,H))}rerender(){this.view.rerender()}element(T){return this.view.element(T)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(T){this.view.setScrollTop(T)}get ariaLabel(){return this._ariaLabel}set ariaLabel(T){this._ariaLabel=T,this.view.domNode.setAttribute("aria-label",T)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(T,x){this.view.layout(T,x)}setSelection(T,x){for(const H of T)if(H<0||H>=this.length)throw new u.ListError(this.user,`Invalid index ${H}`);this.selection.set(T,x)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(T=>this.view.element(T))}setAnchor(T){if(typeof T=="undefined"){this.anchor.set([]);return}if(T<0||T>=this.length)throw new u.ListError(this.user,`Invalid index ${T}`);this.anchor.set([T])}getAnchor(){return(0,k.firstOrDefault)(this.anchor.get(),void 0)}setFocus(T,x){for(const H of T)if(H<0||H>=this.length)throw new u.ListError(this.user,`Invalid index ${H}`);this.focus.set(T,x)}focusNext(T=1,x=!1,H,V){if(this.length!==0){const q=this.focus.get(),ee=this.findNextIndex(q.length>0?q[0]+T:0,x,V);ee>-1&&this.setFocus([ee],H)}}focusPrevious(T=1,x=!1,H,V){if(this.length!==0){const q=this.focus.get(),ee=this.findPreviousIndex(q.length>0?q[0]-T:0,x,V);ee>-1&&this.setFocus([ee],H)}}focusNextPage(T,x){return De(this,void 0,void 0,function*(){let H=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);H=H===0?0:H-1;const V=this.view.element(H),q=this.getFocusedElements()[0];if(q!==V){const ee=this.findPreviousIndex(H,!1,x);ee>-1&&q!==this.view.element(ee)?this.setFocus([ee],T):this.setFocus([H],T)}else{const ee=this.view.getScrollTop();this.view.setScrollTop(ee+this.view.renderHeight-this.view.elementHeight(H)),this.view.getScrollTop()!==ee&&(this.setFocus([]),yield(0,o.timeout)(0),yield this.focusNextPage(T,x))}})}focusPreviousPage(T,x){return De(this,void 0,void 0,function*(){let H;const V=this.view.getScrollTop();V===0?H=this.view.indexAt(V):H=this.view.indexAfter(V-1);const q=this.view.element(H),ee=this.getFocusedElements()[0];if(ee!==q){const oe=this.findNextIndex(H,!1,x);oe>-1&&ee!==this.view.element(oe)?this.setFocus([oe],T):this.setFocus([H],T)}else{const oe=V;this.view.setScrollTop(V-this.view.renderHeight),this.view.getScrollTop()!==oe&&(this.setFocus([]),yield(0,o.timeout)(0),yield this.focusPreviousPage(T,x))}})}focusLast(T,x){if(this.length!==0){const H=this.findPreviousIndex(this.length-1,!1,x);H>-1&&this.setFocus([H],T)}}focusFirst(T,x){this.focusNth(0,T,x)}focusNth(T,x,H){if(this.length!==0){const V=this.findNextIndex(T,!1,H);V>-1&&this.setFocus([V],x)}}findNextIndex(T,x=!1,H){for(let V=0;V<this.length;V++){if(T>=this.length&&!x)return-1;if(T=T%this.length,!H||H(this.element(T)))return T;T++}return-1}findPreviousIndex(T,x=!1,H){for(let V=0;V<this.length;V++){if(T<0&&!x)return-1;if(T=(this.length+T%this.length)%this.length,!H||H(this.element(T)))return T;T--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(T=>this.view.element(T))}reveal(T,x){if(T<0||T>=this.length)throw new u.ListError(this.user,`Invalid index ${T}`);const H=this.view.getScrollTop(),V=this.view.elementTop(T),q=this.view.elementHeight(T);if((0,I.isNumber)(x)){const ee=q-this.view.renderHeight;this.view.setScrollTop(ee*(0,r.clamp)(x,0,1)+V)}else{const ee=V+q,oe=H+this.view.renderHeight;V<H&&ee>=oe||(V<H||ee>=oe&&q>=this.view.renderHeight?this.view.setScrollTop(V):ee>=oe&&this.view.setScrollTop(ee-this.view.renderHeight))}}getRelativeTop(T){if(T<0||T>=this.length)throw new u.ListError(this.user,`Invalid index ${T}`);const x=this.view.getScrollTop(),H=this.view.elementTop(T),V=this.view.elementHeight(T);if(H<x||H+V>x+this.view.renderHeight)return null;const q=V-this.view.renderHeight;return Math.abs((x-H)/q)}getHTMLElement(){return this.view.domNode}style(T){this.styleController.style(T)}toListEvent({indexes:T,browserEvent:x}){return{indexes:T,elements:T.map(H=>this.view.element(H)),browserEvent:x}}_onFocusChange(){const T=this.focus.get();this.view.domNode.classList.toggle("element-focused",T.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var T;const x=this.focus.get();if(x.length>0){let H;((T=this.accessibilityProvider)===null||T===void 0?void 0:T.getActiveDescendantId)&&(H=this.accessibilityProvider.getActiveDescendantId(this.view.element(x[0]))),this.view.domNode.setAttribute("aria-activedescendant",H||this.view.getElementDomId(x[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const T=this.selection.get();this.view.domNode.classList.toggle("selection-none",T.length===0),this.view.domNode.classList.toggle("selection-single",T.length===1),this.view.domNode.classList.toggle("selection-multiple",T.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Me([w.memoize],se.prototype,"onDidChangeFocus",null),Me([w.memoize],se.prototype,"onDidChangeSelection",null),Me([w.memoize],se.prototype,"onContextMenu",null),e.List=se}),define(te[555],ie([0,1,2,19,98,6,24,243]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class p{constructor(a,l){this.renderer=a,this.modelProvider=l}get templateId(){return this.renderer.templateId}renderTemplate(a){return{data:this.renderer.renderTemplate(a),disposable:v.Disposable.None}}renderElement(a,l,c,d){if(c.disposable&&c.disposable.dispose(),!!c.data){const r=this.modelProvider();if(r.isResolved(a))return this.renderer.renderElement(r.get(a),a,c.data,d);const n=new S.CancellationTokenSource,s=r.resolve(a,n.token);c.disposable={dispose:()=>n.cancel()},this.renderer.renderPlaceholder(a,c.data),s.then(t=>this.renderer.renderElement(t,a,c.data,d))}}disposeTemplate(a){a.disposable&&(a.disposable.dispose(),a.disposable=void 0),a.data&&(this.renderer.disposeTemplate(a.data),a.data=void 0)}}class C{constructor(a,l){this.modelProvider=a,this.accessibilityProvider=l}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(a){const l=this.modelProvider();return l.isResolved(a)?this.accessibilityProvider.getAriaLabel(l.get(a)):null}}function i(u,a){return Object.assign(Object.assign({},a),{accessibilityProvider:a.accessibilityProvider&&new C(u,a.accessibilityProvider)})}class _{constructor(a,l,c,d,r={}){const n=()=>this.model,s=d.map(t=>new p(t,n));this.list=new k.List(a,l,c,s,i(n,r))}updateOptions(a){this.list.updateOptions(a)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return w.Event.map(this.list.onMouseDblClick,({element:a,index:l,browserEvent:c})=>({element:a===void 0?void 0:this._model.get(a),index:l,browserEvent:c}))}get onPointer(){return w.Event.map(this.list.onPointer,({element:a,index:l,browserEvent:c})=>({element:a===void 0?void 0:this._model.get(a),index:l,browserEvent:c}))}get onDidChangeSelection(){return w.Event.map(this.list.onDidChangeSelection,({elements:a,indexes:l,browserEvent:c})=>({elements:a.map(d=>this._model.get(d)),indexes:l,browserEvent:c}))}get model(){return this._model}set model(a){this._model=a,this.list.splice(0,this.list.length,(0,I.range)(a.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(a=>this.model.get(a))}style(a){this.list.style(a)}dispose(){this.list.dispose()}}e.PagedList=_}),define(te[568],ie([10]),{}),define(te[238],ie([0,1,2,6,20,100,19,114,29,54,7,63,143,568]),function($,e,v,I,k,w,S,p,C,i,_,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const l={separatorBorder:C.Color.transparent};class c{constructor(h,f,m,g){this.container=h,this.view=f,this.disposable=g,this._cachedVisibleSize=void 0,typeof m=="number"?(this._size=m,this._cachedVisibleSize=void 0,h.classList.add("visible")):(this._size=0,this._cachedVisibleSize=m.cachedVisibleSize)}set size(h){this._size=h}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(h,f){h!==this.visible&&(h?(this.size=(0,w.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof f=="number"?f:this.size,this.size=0),this.container.classList.toggle("visible",h),this.view.setVisible&&this.view.setVisible(h))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(h){this.container.style.pointerEvents=h?"":"none"}layout(h,f){this.layoutContainer(h),this.view.layout(this.size,h,f)}dispose(){return this.disposable.dispose(),this.view}}class d extends c{layoutContainer(h){this.container.style.top=`${h}px`,this.container.style.height=`${this.size}px`}}class r extends c{layoutContainer(h){this.container.style.left=`${h}px`,this.container.style.width=`${this.size}px`}}var n;(function(o){o[o.Idle=0]="Idle",o[o.Busy=1]="Busy"})(n||(n={}));var s;(function(o){o.Distribute={type:"distribute"};function h(m){return{type:"split",index:m}}o.Split=h;function f(m){return{type:"invisible",cachedVisibleSize:m}}o.Invisible=f})(s=e.Sizing||(e.Sizing={}));class t extends v.Disposable{constructor(h,f={}){var m,g;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=n.Idle,this._onDidSashChange=this._register(new I.Emitter),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new I.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=k.isUndefined(f.orientation)?0:f.orientation,this.inverseAltBehavior=!!f.inverseAltBehavior,this.proportionalLayout=k.isUndefined(f.proportionalLayout)?!0:!!f.proportionalLayout,this.getSashOrthogonalSize=f.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),h.appendChild(this.el),this.sashContainer=(0,_.append)(this.el,(0,_.$)(".sash-container")),this.viewContainer=(0,_.$)(".split-view-container"),this.scrollable=new a.Scrollable(125,_.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new u.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(m=f.scrollbarVisibility)!==null&&m!==void 0?m:1:2,horizontal:this.orientation===1?(g=f.scrollbarVisibility)!==null&&g!==void 0?g:1:2},this.scrollable)),this._register(this.scrollableElement.onScroll(b=>{this.viewContainer.scrollTop=b.scrollTop,this.viewContainer.scrollLeft=b.scrollLeft})),(0,_.append)(this.el,this.scrollableElement.getDomNode()),this.style(f.styles||l),f.descriptor&&(this.size=f.descriptor.size,f.descriptor.views.forEach((b,y)=>{const L=k.isUndefined(b.visible)||b.visible?b.size:{type:"invisible",cachedVisibleSize:b.size},N=b.view;this.doAddView(N,L,y,!0)}),this.contentSize=this.viewItems.reduce((b,y)=>b+y.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(h){for(const f of this.sashItems)f.sash.orthogonalStartSash=h;this._orthogonalStartSash=h}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(h){for(const f of this.sashItems)f.sash.orthogonalEndSash=h;this._orthogonalEndSash=h}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(h){this._startSnappingEnabled!==h&&(this._startSnappingEnabled=h,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(h){this._endSnappingEnabled!==h&&(this._endSnappingEnabled=h,this.updateSashEnablement())}style(h){h.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",h.separatorBorder.toString()))}addView(h,f,m=this.viewItems.length,g){this.doAddView(h,f,m,g)}layout(h,f){const m=Math.max(this.size,this.contentSize);if(this.size=h,this.layoutContext=f,this.proportions)for(let g=0;g<this.viewItems.length;g++){const b=this.viewItems[g];b.size=(0,w.clamp)(Math.round(this.proportions[g]*h),b.minimumSize,b.maximumSize)}else{const g=(0,S.range)(this.viewItems.length),b=g.filter(L=>this.viewItems[L].priority===1),y=g.filter(L=>this.viewItems[L].priority===2);this.resize(this.viewItems.length-1,h-m,void 0,b,y)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(h=>h.size/this.contentSize))}onSashStart({sash:h,start:f,alt:m}){for(const L of this.viewItems)L.enabled=!1;const g=this.sashItems.findIndex(L=>L.sash===h),b=(0,v.combinedDisposable)((0,i.domEvent)(document.body,"keydown")(L=>y(this.sashDragState.current,L.altKey)),(0,i.domEvent)(document.body,"keyup")(()=>y(this.sashDragState.current,!1))),y=(L,N)=>{const M=this.viewItems.map(W=>W.size);let D=Number.NEGATIVE_INFINITY,R=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(N=!N),N)if(g===this.sashItems.length-1){const F=this.viewItems[g];D=(F.minimumSize-F.size)/2,R=(F.maximumSize-F.size)/2}else{const F=this.viewItems[g+1];D=(F.size-F.maximumSize)/2,R=(F.size-F.minimumSize)/2}let P,O;if(!N){const W=(0,S.range)(g,-1),F=(0,S.range)(g+1,this.viewItems.length),E=W.reduce((Q,ae)=>Q+(this.viewItems[ae].minimumSize-M[ae]),0),A=W.reduce((Q,ae)=>Q+(this.viewItems[ae].viewMaximumSize-M[ae]),0),B=F.length===0?Number.POSITIVE_INFINITY:F.reduce((Q,ae)=>Q+(M[ae]-this.viewItems[ae].minimumSize),0),z=F.length===0?Number.NEGATIVE_INFINITY:F.reduce((Q,ae)=>Q+(M[ae]-this.viewItems[ae].viewMaximumSize),0),U=Math.max(E,z),K=Math.min(B,A),G=this.findFirstSnapIndex(W),J=this.findFirstSnapIndex(F);if(typeof G=="number"){const Q=this.viewItems[G],ae=Math.floor(Q.viewMinimumSize/2);P={index:G,limitDelta:Q.visible?U-ae:U+ae,size:Q.size}}if(typeof J=="number"){const Q=this.viewItems[J],ae=Math.floor(Q.viewMinimumSize/2);O={index:J,limitDelta:Q.visible?K+ae:K-ae,size:Q.size}}}this.sashDragState={start:L,current:L,index:g,sizes:M,minDelta:D,maxDelta:R,alt:N,snapBefore:P,snapAfter:O,disposable:b}};y(f,m)}onSashChange({current:h}){const{index:f,start:m,sizes:g,alt:b,minDelta:y,maxDelta:L,snapBefore:N,snapAfter:M}=this.sashDragState;this.sashDragState.current=h;const D=h-m,R=this.resize(f,D,g,void 0,void 0,y,L,N,M);if(b){const P=f===this.sashItems.length-1,O=this.viewItems.map(z=>z.size),W=P?f:f+1,F=this.viewItems[W],E=F.size-F.maximumSize,A=F.size-F.minimumSize,B=P?f-1:f+1;this.resize(B,-R,O,void 0,void 0,E,A)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(h){this._onDidSashChange.fire(h),this.sashDragState.disposable.dispose(),this.saveProportions();for(const f of this.viewItems)f.enabled=!0}onViewChange(h,f){const m=this.viewItems.indexOf(h);m<0||m>=this.viewItems.length||(f=typeof f=="number"?f:h.size,f=(0,w.clamp)(f,h.minimumSize,h.maximumSize),this.inverseAltBehavior&&m>0?(this.resize(m-1,Math.floor((h.size-f)/2)),this.distributeEmptySpace(),this.layoutViews()):(h.size=f,this.relayout([m],void 0)))}resizeView(h,f){if(this.state!==n.Idle)throw new Error("Cant modify splitview");if(this.state=n.Busy,!(h<0||h>=this.viewItems.length)){const m=(0,S.range)(this.viewItems.length).filter(L=>L!==h),g=[...m.filter(L=>this.viewItems[L].priority===1),h],b=m.filter(L=>this.viewItems[L].priority===2),y=this.viewItems[h];f=Math.round(f),f=(0,w.clamp)(f,y.minimumSize,Math.min(y.maximumSize,this.size)),y.size=f,this.relayout(g,b),this.state=n.Idle}}distributeViewSizes(){const h=[];let f=0;for(const L of this.viewItems)L.maximumSize-L.minimumSize>0&&(h.push(L),f+=L.size);const m=Math.floor(f/h.length);for(const L of h)L.size=(0,w.clamp)(m,L.minimumSize,L.maximumSize);const g=(0,S.range)(this.viewItems.length),b=g.filter(L=>this.viewItems[L].priority===1),y=g.filter(L=>this.viewItems[L].priority===2);this.relayout(b,y)}getViewSize(h){return h<0||h>=this.viewItems.length?-1:this.viewItems[h].size}doAddView(h,f,m=this.viewItems.length,g){if(this.state!==n.Idle)throw new Error("Cant modify splitview");this.state=n.Busy;const b=(0,_.$)(".split-view-view");m===this.viewItems.length?this.viewContainer.appendChild(b):this.viewContainer.insertBefore(b,this.viewContainer.children.item(m));const y=h.onDidChange(P=>this.onViewChange(D,P)),L=(0,v.toDisposable)(()=>this.viewContainer.removeChild(b)),N=(0,v.combinedDisposable)(y,L);let M;typeof f=="number"?M=f:f.type==="split"?M=this.getViewSize(f.index)/2:f.type==="invisible"?M={cachedVisibleSize:f.cachedVisibleSize}:M=h.minimumSize;const D=this.orientation===0?new d(b,h,M,N):new r(b,h,M,N);if(this.viewItems.splice(m,0,D),this.viewItems.length>1){let P={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const O=this.orientation===0?new p.Sash(this.sashContainer,{getHorizontalSashTop:Q=>this.getSashPosition(Q),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},P),{orientation:1})):new p.Sash(this.sashContainer,{getVerticalSashLeft:Q=>this.getSashPosition(Q),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},P),{orientation:0})),W=this.orientation===0?Q=>({sash:O,start:Q.startY,current:Q.currentY,alt:Q.altKey}):Q=>({sash:O,start:Q.startX,current:Q.currentX,alt:Q.altKey}),E=I.Event.map(O.onDidStart,W)(this.onSashStart,this),B=I.Event.map(O.onDidChange,W)(this.onSashChange,this),U=I.Event.map(O.onDidEnd,()=>this.sashItems.findIndex(Q=>Q.sash===O))(this.onSashEnd,this),K=O.onDidReset(()=>{const Q=this.sashItems.findIndex(x=>x.sash===O),ae=(0,S.range)(Q,-1),se=(0,S.range)(Q+1,this.viewItems.length),Z=this.findFirstSnapIndex(ae),T=this.findFirstSnapIndex(se);typeof Z=="number"&&!this.viewItems[Z].visible||typeof T=="number"&&!this.viewItems[T].visible||this._onDidSashReset.fire(Q)}),G=(0,v.combinedDisposable)(E,B,U,K,O),J={sash:O,disposable:G};this.sashItems.splice(m-1,0,J)}b.appendChild(h.element);let R;typeof f!="number"&&f.type==="split"&&(R=[f.index]),g||this.relayout([m],R),this.state=n.Idle,!g&&typeof f!="number"&&f.type==="distribute"&&this.distributeViewSizes()}relayout(h,f){const m=this.viewItems.reduce((g,b)=>g+b.size,0);this.resize(this.viewItems.length-1,this.size-m,void 0,h,f),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(h,f,m=this.viewItems.map(D=>D.size),g,b,y=Number.NEGATIVE_INFINITY,L=Number.POSITIVE_INFINITY,N,M){if(h<0||h>=this.viewItems.length)return 0;const D=(0,S.range)(h,-1),R=(0,S.range)(h+1,this.viewItems.length);if(b)for(const J of b)(0,S.pushToStart)(D,J),(0,S.pushToStart)(R,J);if(g)for(const J of g)(0,S.pushToEnd)(D,J),(0,S.pushToEnd)(R,J);const P=D.map(J=>this.viewItems[J]),O=D.map(J=>m[J]),W=R.map(J=>this.viewItems[J]),F=R.map(J=>m[J]),E=D.reduce((J,Q)=>J+(this.viewItems[Q].minimumSize-m[Q]),0),A=D.reduce((J,Q)=>J+(this.viewItems[Q].maximumSize-m[Q]),0),B=R.length===0?Number.POSITIVE_INFINITY:R.reduce((J,Q)=>J+(m[Q]-this.viewItems[Q].minimumSize),0),z=R.length===0?Number.NEGATIVE_INFINITY:R.reduce((J,Q)=>J+(m[Q]-this.viewItems[Q].maximumSize),0),U=Math.max(E,z,y),K=Math.min(B,A,L);let G=!1;if(N){const J=this.viewItems[N.index],Q=f>=N.limitDelta;G=Q!==J.visible,J.setVisible(Q,N.size)}if(!G&&M){const J=this.viewItems[M.index],Q=f<M.limitDelta;G=Q!==J.visible,J.setVisible(Q,M.size)}if(G)return this.resize(h,f,m,g,b,y,L);f=(0,w.clamp)(f,U,K);for(let J=0,Q=f;J<P.length;J++){const ae=P[J],se=(0,w.clamp)(O[J]+Q,ae.minimumSize,ae.maximumSize);Q-=se-O[J],ae.size=se}for(let J=0,Q=f;J<W.length;J++){const ae=W[J],se=(0,w.clamp)(F[J]-Q,ae.minimumSize,ae.maximumSize);Q+=se-F[J],ae.size=se}return f}distributeEmptySpace(h){const f=this.viewItems.reduce((L,N)=>L+N.size,0);let m=this.size-f;const g=(0,S.range)(this.viewItems.length-1,-1),b=g.filter(L=>this.viewItems[L].priority===1),y=g.filter(L=>this.viewItems[L].priority===2);for(const L of y)(0,S.pushToStart)(g,L);for(const L of b)(0,S.pushToEnd)(g,L);typeof h=="number"&&(0,S.pushToEnd)(g,h);for(let L=0;m!==0&&L<g.length;L++){const N=this.viewItems[g[L]],M=(0,w.clamp)(N.size+m,N.minimumSize,N.maximumSize);m-=M-N.size,N.size=M}}layoutViews(){this.contentSize=this.viewItems.reduce((f,m)=>f+m.size,0);let h=0;for(const f of this.viewItems)f.layout(h,this.layoutContext),h+=f.size;this.sashItems.forEach(f=>f.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let h=!1;const f=this.viewItems.map(N=>h=N.size-N.minimumSize>0||h);h=!1;const m=this.viewItems.map(N=>h=N.maximumSize-N.size>0||h),g=[...this.viewItems].reverse();h=!1;const b=g.map(N=>h=N.size-N.minimumSize>0||h).reverse();h=!1;const y=g.map(N=>h=N.maximumSize-N.size>0||h).reverse();let L=0;for(let N=0;N<this.sashItems.length;N++){const{sash:M}=this.sashItems[N];L+=this.viewItems[N].size;const R=!(f[N]&&y[N+1]),P=!(m[N]&&b[N+1]);if(R&&P){const O=(0,S.range)(N,-1),W=(0,S.range)(N+1,this.viewItems.length),F=this.findFirstSnapIndex(O),E=this.findFirstSnapIndex(W),A=typeof F=="number"&&!this.viewItems[F].visible,B=typeof E=="number"&&!this.viewItems[E].visible;A&&b[N]&&(L>0||this.startSnappingEnabled)?M.state=1:B&&f[N]&&(L<this.contentSize||this.endSnappingEnabled)?M.state=2:M.state=0}else R&&!P?M.state=1:!R&&P?M.state=2:M.state=3}}getSashPosition(h){let f=0;for(let m=0;m<this.sashItems.length;m++)if(f+=this.viewItems[m].size,this.sashItems[m].sash===h)return f;return 0}findFirstSnapIndex(h){for(const f of h){const m=this.viewItems[f];if(!!m.visible&&m.snap)return f}for(const f of h){const m=this.viewItems[f];if(m.visible&&m.maximumSize-m.minimumSize>0)return;if(!m.visible&&m.snap)return f}}dispose(){super.dispose(),this.viewItems.forEach(h=>h.dispose()),this.viewItems=[],this.sashItems.forEach(h=>h.disposable.dispose()),this.sashItems=[]}}e.SplitView=t}),define(te[580],ie([10]),{}),define(te[581],ie([0,1,98,7,238,6,580]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class S{constructor(u,a,l){this.columns=u,this.getColumnSize=l,this.templateId=S.TemplateId,this.renderedTemplates=new Set;const c=new Map(a.map(d=>[d.templateId,d]));this.renderers=[];for(const d of u){const r=c.get(d.templateId);if(!r)throw new Error(`Table cell renderer for template id ${d.templateId} not found.`);this.renderers.push(r)}}renderTemplate(u){const a=(0,I.append)(u,(0,I.$)(".monaco-table-tr")),l=[],c=[];for(let r=0;r<this.columns.length;r++){const n=this.renderers[r],s=(0,I.append)(a,(0,I.$)(".monaco-table-td",{"data-col-index":r}));s.style.width=`${this.getColumnSize(r)}px`,l.push(s),c.push(n.renderTemplate(s))}const d={container:u,cellContainers:l,cellTemplateData:c};return this.renderedTemplates.add(d),d}renderElement(u,a,l,c){for(let d=0;d<this.columns.length;d++){const n=this.columns[d].project(u);this.renderers[d].renderElement(n,a,l.cellTemplateData[d],c)}}disposeElement(u,a,l,c){for(let d=0;d<this.columns.length;d++){const r=this.renderers[d];if(r.disposeElement){const s=this.columns[d].project(u);r.disposeElement(s,a,l.cellTemplateData[d],c)}}}disposeTemplate(u){for(let a=0;a<this.columns.length;a++)this.renderers[a].disposeTemplate(u.cellTemplateData[a]);(0,I.clearNode)(u.container),this.renderedTemplates.delete(u)}layoutColumn(u,a){for(const{cellContainers:l}of this.renderedTemplates)l[u].style.width=`${a}px`}}S.TemplateId="row";function p(_){return{getHeight(u){return _.getHeight(u)},getTemplateId(){return S.TemplateId}}}class C{constructor(u,a){this.column=u,this.index=a,this._onDidLayout=new w.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,I.$)(".monaco-table-th",{"data-col-index":a,title:u.tooltip},u.label)}get minimumSize(){var u;return(u=this.column.minimumWidth)!==null&&u!==void 0?u:120}get maximumSize(){var u;return(u=this.column.maximumWidth)!==null&&u!==void 0?u:Number.POSITIVE_INFINITY}get onDidChange(){var u;return(u=this.column.onDidChangeWidthConstraints)!==null&&u!==void 0?u:w.Event.None}layout(u){this._onDidLayout.fire([this.index,u])}}class i{constructor(u,a,l,c,d,r){this.virtualDelegate=l,this.domId=`table_id_${++i.InstanceCount}`,this.cachedHeight=0,this.domNode=(0,I.append)(a,(0,I.$)(`.monaco-table.${this.domId}`));const n=c.map((o,h)=>new C(o,h)),s={size:n.reduce((o,h)=>o+h.column.weight,0),views:n.map(o=>({size:o.column.weight,view:o}))};this.splitview=new k.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:s}),this.splitview.el.style.height=`${l.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${l.headerRowHeight}px`;const t=new S(c,d,o=>this.splitview.getViewSize(o));this.list=new v.List(u,this.domNode,p(l),[t],r),this.columnLayoutDisposable=w.Event.any(...n.map(o=>o.onDidLayout))(([o,h])=>t.layoutColumn(o,h)),this.styleElement=(0,I.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(u){this.list.updateOptions(u)}splice(u,a,l=[]){this.list.splice(u,a,l)}getHTMLElement(){return this.domNode}style(u){const a=[];a.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=a.join(`
`),this.list.style(u)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}e.Table=i,i.InstanceCount=0}),define(te[588],ie([10]),{}),define(te[130],ie([10]),{}),define(te[237],ie([0,1,7,147,130]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const k={},w=new I.IdGenerator("quick-input-button-icon-");function S(p){if(!!p){let C;const i=p.dark.toString();return k[i]?C=k[i]:(C=w.nextId(),v.createCSSRule(`.${C}`,`background-image: ${v.asCSSUrl(p.light||p.dark)}`),v.createCSSRule(`.vs-dark .${C}, .hc-black .${C}`,`background-image: ${v.asCSSUrl(p.dark)}`),k[i]=C),C}}e.getIconClass=S}),define(te[627],ie([10]),{}),define(te[641],ie([10]),{}),define(te[648],ie([10]),{}),define(te[666],ie([10]),{}),define(te[669],ie([10]),{}),define(te[675],ie([10]),{}),define(te[677],ie([10]),{}),define(te[684],ie([10]),{}),define(te[277],ie([10]),{}),define(te[280],ie([10]),{}),define(te[282],ie([10]),{}),define(te[284],ie([10]),{}),define(te[288],ie([10]),{}),define(te[291],ie([10]),{}),define(te[292],ie([10]),{}),define(te[295],ie([10]),{}),define(te[298],ie([10]),{}),define(te[303],ie([10]),{}),define(te[305],ie([10]),{}),define(te[308],ie([10]),{}),define(te[309],ie([10]),{}),define(te[310],ie([10]),{}),define(te[313],ie([10]),{}),define(te[321],ie([10]),{}),define(te[338],ie([10]),{}),define(te[342],ie([10]),{}),define(te[344],ie([10]),{}),define(te[345],ie([10]),{}),define(te[373],ie([10]),{}),define(te[422],ie([10]),{}),define(te[423],ie([10]),{}),define(te[424],ie([10]),{}),define(te[426],ie([10]),{}),define(te[427],ie([10]),{}),define(te[428],ie([10]),{}),define(te[429],ie([10]),{}),define(te[430],ie([10]),{}),define(te[431],ie([10]),{}),define(te[432],ie([10]),{}),define(te[433],ie([10]),{}),define(te[434],ie([10]),{}),define(te[435],ie([10]),{}),define(te[436],ie([10]),{}),define(te[437],ie([10]),{}),define(te[439],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class v{constructor(S,p){this.chr=S,this.type=p,this.width=0}fulfill(S){this.width=S}}e.CharWidthRequest=v;class I{constructor(S,p){this._bareFontInfo=S,this._requests=p,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const S=document.createElement("div");S.style.position="absolute",S.style.top="-50000px",S.style.width="50000px";const p=document.createElement("div");p.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),p.style.fontWeight=this._bareFontInfo.fontWeight,p.style.fontSize=this._bareFontInfo.fontSize+"px",p.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,p.style.lineHeight=this._bareFontInfo.lineHeight+"px",p.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(p);const C=document.createElement("div");C.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),C.style.fontWeight="bold",C.style.fontSize=this._bareFontInfo.fontSize+"px",C.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,C.style.lineHeight=this._bareFontInfo.lineHeight+"px",C.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(C);const i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",i.style.fontStyle="italic",S.appendChild(i);const _=[];for(const u of this._requests){let a;u.type===0&&(a=p),u.type===2&&(a=C),u.type===1&&(a=i),a.appendChild(document.createElement("br"));const l=document.createElement("span");I._render(l,u),a.appendChild(l),_.push(l)}this._container=S,this._testElements=_}static _render(S,p){if(p.chr===" "){let C="\xA0";for(let i=0;i<8;i++)C+=C;S.innerText=C}else{let C=p.chr;for(let i=0;i<8;i++)C+=C;S.textContent=C}}_readFromDomElements(){for(let S=0,p=this._requests.length;S<p;S++){const C=this._requests[S],i=this._testElements[S];C.fulfill(i.offsetWidth/256)}}}function k(w,S){new I(w,S).read()}e.readCharWidths=k}),define(te[235],ie([0,1,2]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class I extends v.Disposable{constructor(w,S,p){super();this.referenceDomElement=w,this.changeCallback=p,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,S)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(w=>{w&&w[0]&&w[0].contentRect?this.observe({width:w[0].contentRect.width,height:w[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(w){this.measureReferenceDomElement(!0,w)}measureReferenceDomElement(w,S){let p=0,C=0;S?(p=S.width,C=S.height):this.referenceDomElement&&(p=this.referenceDomElement.clientWidth,C=this.referenceDomElement.clientHeight),p=Math.max(5,p),C=Math.max(5,C),(this.width!==p||this.height!==C)&&(this.width=p,this.height=C,w&&this.changeCallback())}}e.ElementSizeObserver=I}),define(te[185],ie([0,1,7,96,53,2]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createEditorPagePosition=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class S{constructor(d,r){this.x=d,this.y=r}toClientCoordinates(){return new p(this.x-v.StandardWindow.scrollX,this.y-v.StandardWindow.scrollY)}}e.PageCoordinates=S;class p{constructor(d,r){this.clientX=d,this.clientY=r}toPageCoordinates(){return new S(this.clientX+v.StandardWindow.scrollX,this.clientY+v.StandardWindow.scrollY)}}e.ClientCoordinates=p;class C{constructor(d,r,n,s){this.x=d,this.y=r,this.width=n,this.height=s}}e.EditorPagePosition=C;function i(c){const d=v.getDomNodePagePosition(c);return new C(d.left,d.top,d.width,d.height)}e.createEditorPagePosition=i;class _ extends k.StandardMouseEvent{constructor(d,r){super(d);this.pos=new S(this.posx,this.posy),this.editorPos=i(r)}}e.EditorMouseEvent=_;class u{constructor(d){this._editorViewDomNode=d}_create(d){return new _(d,this._editorViewDomNode)}onContextMenu(d,r){return v.addDisposableListener(d,"contextmenu",n=>{r(this._create(n))})}onMouseUp(d,r){return v.addDisposableListener(d,"mouseup",n=>{r(this._create(n))})}onMouseDown(d,r){return v.addDisposableListener(d,"mousedown",n=>{r(this._create(n))})}onMouseLeave(d,r){return v.addDisposableNonBubblingMouseOutListener(d,n=>{r(this._create(n))})}onMouseMoveThrottled(d,r,n,s){const t=(o,h)=>n(o,this._create(h));return v.addDisposableThrottledListener(d,"mousemove",r,t,s)}}e.EditorMouseEventFactory=u;class a{constructor(d){this._editorViewDomNode=d}_create(d){return new _(d,this._editorViewDomNode)}onPointerUp(d,r){return v.addDisposableListener(d,"pointerup",n=>{r(this._create(n))})}onPointerDown(d,r){return v.addDisposableListener(d,"pointerdown",n=>{r(this._create(n))})}onPointerLeave(d,r){return v.addDisposableNonBubblingPointerOutListener(d,n=>{r(this._create(n))})}onPointerMoveThrottled(d,r,n,s){const t=(o,h)=>n(o,this._create(h));return v.addDisposableThrottledListener(d,"pointermove",r,t,s)}}e.EditorPointerEventFactory=a;class l extends w.Disposable{constructor(d){super();this._editorViewDomNode=d,this._globalMouseMoveMonitor=this._register(new I.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(d,r,n,s,t){this._keydownListener=v.addStandardDisposableListener(document,"keydown",h=>{h.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,h.browserEvent)},!0);const o=(h,f)=>n(h,new _(f,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(d,r,o,s,h=>{this._keydownListener.dispose(),t(h)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorMouseMoveMonitor=l}),define(te[443],ie([0,1,6,2]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCodeEditorService=void 0;class k extends I.Disposable{constructor(){super();this._onCodeEditorAdd=this._register(new v.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new v.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new v.Emitter),this._onDiffEditorRemove=this._register(new v.Emitter),this._onDecorationTypeRegistered=this._register(new v.Emitter),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(S){this._codeEditors[S.getId()]=S,this._onCodeEditorAdd.fire(S)}removeCodeEditor(S){delete this._codeEditors[S.getId()]&&this._onCodeEditorRemove.fire(S)}listCodeEditors(){return Object.keys(this._codeEditors).map(S=>this._codeEditors[S])}addDiffEditor(S){this._diffEditors[S.getId()]=S,this._onDiffEditorAdd.fire(S)}removeDiffEditor(S){delete this._diffEditors[S.getId()]&&this._onDiffEditorRemove.fire(S)}listDiffEditors(){return Object.keys(this._diffEditors).map(S=>this._diffEditors[S])}getFocusedCodeEditor(){let S=null;const p=this.listCodeEditors();for(const C of p){if(C.hasTextFocus())return C;C.hasWidgetFocus()&&(S=C)}return S}setModelProperty(S,p,C){const i=S.toString();let _;this._modelProperties.has(i)?_=this._modelProperties.get(i):(_=new Map,this._modelProperties.set(i,_)),_.set(p,C)}getModelProperty(S,p){const C=S.toString();if(this._modelProperties.has(C))return this._modelProperties.get(C).get(p)}}e.AbstractCodeEditorService=k}),define(te[233],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const I=[];for(let k=32;k<=126;k++)I.push(k);return I.push(65533),I})();const v=(I,k)=>(I-=32,I<0||I>96?k<=2?(I+96)%96:96-1:I);e.getCharIndex=v}),define(te[446],ie([0,1,233,142]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class k{constructor(S,p){this.scale=p,this.charDataNormal=k.soften(S,12/15),this.charDataLight=k.soften(S,50/60)}static soften(S,p){let C=new Uint8ClampedArray(S.length);for(let i=0,_=S.length;i<_;i++)C[i]=(0,I.toUint8)(S[i]*p);return C}renderChar(S,p,C,i,_,u,a,l,c){const d=1*this.scale,r=2*this.scale,n=c?1:r;if(p+d>S.width||C+n>S.height){console.warn("bad render request outside image data");return}const s=l?this.charDataLight:this.charDataNormal,t=(0,v.getCharIndex)(i,a),o=S.width*4,h=u.r,f=u.g,m=u.b,g=_.r-h,b=_.g-f,y=_.b-m,L=S.data;let N=t*d*r,M=C*o+p*4;for(let D=0;D<n;D++){let R=M;for(let P=0;P<d;P++){const O=s[N++]/255;L[R++]=h+g*O,L[R++]=f+b*O,L[R++]=m+y*O,R++}M+=o}}blockRenderChar(S,p,C,i,_,u,a){const l=1*this.scale,c=2*this.scale,d=a?1:c;if(p+l>S.width||C+d>S.height){console.warn("bad render request outside image data");return}const r=S.width*4,n=.5,s=_.r,t=_.g,o=_.b,h=i.r-s,f=i.g-t,m=i.b-o,g=s+h*n,b=t+f*n,y=o+m*n,L=S.data;let N=C*r+p*4;for(let M=0;M<d;M++){let D=N;for(let R=0;R<l;R++)L[D++]=g,L[D++]=b,L[D++]=y,D++;N+=r}}}e.MinimapCharRenderer=k}),define(te[447],ie([0,1,90]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const I={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},k=w=>{const S=new Uint8ClampedArray(w.length/2);for(let p=0;p<w.length;p+=2)S[p>>1]=I[w[p]]<<4|I[w[p+1]]&15;return S};e.prebakedMiniMaps={1:(0,v.once)(()=>k("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,v.once)(()=>k("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(te[448],ie([0,1,446,233,447,142]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(C,i){if(this.lastCreated&&C===this.lastCreated.scale&&i===this.lastFontFamily)return this.lastCreated;let _;return k.prebakedMiniMaps[C]?_=new v.MinimapCharRenderer(k.prebakedMiniMaps[C](),C):_=S.createFromSampleData(S.createSampleData(i).data,C),this.lastFontFamily=i,this.lastCreated=_,_}static createSampleData(C){const i=document.createElement("canvas"),_=i.getContext("2d");i.style.height=`${16}px`,i.height=16,i.width=96*10,i.style.width=96*10+"px",_.fillStyle="#ffffff",_.font=`bold ${16}px ${C}`,_.textBaseline="middle";let u=0;for(const a of I.allCharCodes)_.fillText(String.fromCharCode(a),u,16/2),u+=10;return _.getImageData(0,0,96*10,16)}static createFromSampleData(C,i){const _=16*10*4*96;if(C.length!==_)throw new Error("Unexpected source in MinimapCharRenderer");let u=S._downsample(C,i);return new v.MinimapCharRenderer(u,i)}static _downsampleChar(C,i,_,u,a){const l=1*a,c=2*a;let d=u,r=0;for(let n=0;n<c;n++){const s=n/c*16,t=(n+1)/c*16;for(let o=0;o<l;o++){const h=o/l*10,f=(o+1)/l*10;let m=0,g=0;for(let y=s;y<t;y++){const L=i+Math.floor(y)*3840,N=1-(y-Math.floor(y));for(let M=h;M<f;M++){const D=1-(M-Math.floor(M)),R=L+Math.floor(M)*4,P=D*N;g+=P,m+=C[R]*C[R+3]/255*P}}const b=m/g;r=Math.max(r,b),_[d++]=(0,w.toUint8)(b)}}return r}static _downsample(C,i){const _=2*i*1*i,u=_*96,a=new Uint8ClampedArray(u);let l=0,c=0,d=0;for(let r=0;r<96;r++)d=Math.max(d,this._downsampleChar(C,c,a,l,i)),l+=_,c+=10*4;if(d>0){const r=255/d;for(let n=0;n<u;n++)a[n]*=r}return a}}e.MinimapCharRendererFactory=S}),define(te[129],ie([0,1,6]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new v.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(I){I=Math.min(Math.max(-5,I),20),this._zoomLevel!==I&&(this._zoomLevel=I,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(te[190],ie([0,1,17,129]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const k=v.isMacintosh?1.5:1.35,w=8;class S{constructor(i){this.zoomLevel=i.zoomLevel,this.pixelRatio=i.pixelRatio,this.fontFamily=String(i.fontFamily),this.fontWeight=String(i.fontWeight),this.fontSize=i.fontSize,this.fontFeatureSettings=i.fontFeatureSettings,this.lineHeight=i.lineHeight|0,this.letterSpacing=i.letterSpacing}static createFromValidatedSettings(i,_,u,a){const l=i.get(39),c=i.get(43),d=i.get(42),r=i.get(41),n=i.get(55),s=i.get(52);return S._create(l,c,d,r,n,s,_,u,a)}static _create(i,_,u,a,l,c,d,r,n){l===0?l=Math.round(k*u):l<w&&(l=w);const s=1+(n?0:I.EditorZoom.getZoomLevel()*.1);return u*=s,l*=s,new S({zoomLevel:d,pixelRatio:r,fontFamily:i,fontWeight:_,fontSize:u,fontFeatureSettings:a,lineHeight:l,letterSpacing:c})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}e.BareFontInfo=S,e.SERIALIZED_FONT_INFO_VERSION=1;class p extends S{constructor(i,_){super(i);this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=_,this.isMonospace=i.isMonospace,this.typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=i.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.maxDigitWidth=i.maxDigitWidth}equals(i){return this.fontFamily===i.fontFamily&&this.fontWeight===i.fontWeight&&this.fontSize===i.fontSize&&this.fontFeatureSettings===i.fontFeatureSettings&&this.lineHeight===i.lineHeight&&this.letterSpacing===i.letterSpacing&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===i.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.maxDigitWidth===i.maxDigitWidth}}e.FontInfo=p}),define(te[93],ie([0,1,142]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class I{constructor(S){let p=(0,v.toUint8)(S);this._defaultValue=p,this._asciiMap=I._createAsciiMap(p),this._map=new Map}static _createAsciiMap(S){let p=new Uint8Array(256);for(let C=0;C<256;C++)p[C]=S;return p}set(S,p){let C=(0,v.toUint8)(p);S>=0&&S<256?this._asciiMap[S]=C:this._map.set(S,C)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}}e.CharacterClassifier=I;class k{constructor(){this._actual=new I(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}}e.CharacterSet=k}),define(te[109],ie([0,1,93]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class I extends v.CharacterClassifier{constructor(S){super(0);for(let p=0,C=S.length;p<C;p++)this.set(S.charCodeAt(p),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=I;function k(w){let S={};return p=>(S.hasOwnProperty(p)||(S[p]=w(p)),S[p])}e.getMapForWordSeparators=k(w=>new I(w))}),define(te[14],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class v{constructor(k,w){this.lineNumber=k,this.column=w}with(k=this.lineNumber,w=this.column){return k===this.lineNumber&&w===this.column?this:new v(k,w)}delta(k=0,w=0){return this.with(this.lineNumber+k,this.column+w)}equals(k){return v.equals(this,k)}static equals(k,w){return!k&&!w?!0:!!k&&!!w&&k.lineNumber===w.lineNumber&&k.column===w.column}isBefore(k){return v.isBefore(this,k)}static isBefore(k,w){return k.lineNumber<w.lineNumber?!0:w.lineNumber<k.lineNumber?!1:k.column<w.column}isBeforeOrEqual(k){return v.isBeforeOrEqual(this,k)}static isBeforeOrEqual(k,w){return k.lineNumber<w.lineNumber?!0:w.lineNumber<k.lineNumber?!1:k.column<=w.column}static compare(k,w){let S=k.lineNumber|0,p=w.lineNumber|0;if(S===p){let C=k.column|0,i=w.column|0;return C-i}return S-p}clone(){return new v(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(k){return new v(k.lineNumber,k.column)}static isIPosition(k){return k&&typeof k.lineNumber=="number"&&typeof k.column=="number"}}e.Position=v}),define(te[3],ie([0,1,14]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class I{constructor(w,S,p,C){w>p||w===p&&S>C?(this.startLineNumber=p,this.startColumn=C,this.endLineNumber=w,this.endColumn=S):(this.startLineNumber=w,this.startColumn=S,this.endLineNumber=p,this.endColumn=C)}isEmpty(){return I.isEmpty(this)}static isEmpty(w){return w.startLineNumber===w.endLineNumber&&w.startColumn===w.endColumn}containsPosition(w){return I.containsPosition(this,w)}static containsPosition(w,S){return!(S.lineNumber<w.startLineNumber||S.lineNumber>w.endLineNumber||S.lineNumber===w.startLineNumber&&S.column<w.startColumn||S.lineNumber===w.endLineNumber&&S.column>w.endColumn)}containsRange(w){return I.containsRange(this,w)}static containsRange(w,S){return!(S.startLineNumber<w.startLineNumber||S.endLineNumber<w.startLineNumber||S.startLineNumber>w.endLineNumber||S.endLineNumber>w.endLineNumber||S.startLineNumber===w.startLineNumber&&S.startColumn<w.startColumn||S.endLineNumber===w.endLineNumber&&S.endColumn>w.endColumn)}strictContainsRange(w){return I.strictContainsRange(this,w)}static strictContainsRange(w,S){return!(S.startLineNumber<w.startLineNumber||S.endLineNumber<w.startLineNumber||S.startLineNumber>w.endLineNumber||S.endLineNumber>w.endLineNumber||S.startLineNumber===w.startLineNumber&&S.startColumn<=w.startColumn||S.endLineNumber===w.endLineNumber&&S.endColumn>=w.endColumn)}plusRange(w){return I.plusRange(this,w)}static plusRange(w,S){let p,C,i,_;return S.startLineNumber<w.startLineNumber?(p=S.startLineNumber,C=S.startColumn):S.startLineNumber===w.startLineNumber?(p=S.startLineNumber,C=Math.min(S.startColumn,w.startColumn)):(p=w.startLineNumber,C=w.startColumn),S.endLineNumber>w.endLineNumber?(i=S.endLineNumber,_=S.endColumn):S.endLineNumber===w.endLineNumber?(i=S.endLineNumber,_=Math.max(S.endColumn,w.endColumn)):(i=w.endLineNumber,_=w.endColumn),new I(p,C,i,_)}intersectRanges(w){return I.intersectRanges(this,w)}static intersectRanges(w,S){let p=w.startLineNumber,C=w.startColumn,i=w.endLineNumber,_=w.endColumn,u=S.startLineNumber,a=S.startColumn,l=S.endLineNumber,c=S.endColumn;return p<u?(p=u,C=a):p===u&&(C=Math.max(C,a)),i>l?(i=l,_=c):i===l&&(_=Math.min(_,c)),p>i||p===i&&C>_?null:new I(p,C,i,_)}equalsRange(w){return I.equalsRange(this,w)}static equalsRange(w,S){return!!w&&!!S&&w.startLineNumber===S.startLineNumber&&w.startColumn===S.startColumn&&w.endLineNumber===S.endLineNumber&&w.endColumn===S.endColumn}getEndPosition(){return I.getEndPosition(this)}static getEndPosition(w){return new v.Position(w.endLineNumber,w.endColumn)}getStartPosition(){return I.getStartPosition(this)}static getStartPosition(w){return new v.Position(w.startLineNumber,w.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(w,S){return new I(this.startLineNumber,this.startColumn,w,S)}setStartPosition(w,S){return new I(w,S,this.endLineNumber,this.endColumn)}collapseToStart(){return I.collapseToStart(this)}static collapseToStart(w){return new I(w.startLineNumber,w.startColumn,w.startLineNumber,w.startColumn)}static fromPositions(w,S=w){return new I(w.lineNumber,w.column,S.lineNumber,S.column)}static lift(w){return w?new I(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn):null}static isIRange(w){return w&&typeof w.startLineNumber=="number"&&typeof w.startColumn=="number"&&typeof w.endLineNumber=="number"&&typeof w.endColumn=="number"}static areIntersectingOrTouching(w,S){return!(w.endLineNumber<S.startLineNumber||w.endLineNumber===S.startLineNumber&&w.endColumn<S.startColumn||S.endLineNumber<w.startLineNumber||S.endLineNumber===w.startLineNumber&&S.endColumn<w.startColumn)}static areIntersecting(w,S){return!(w.endLineNumber<S.startLineNumber||w.endLineNumber===S.startLineNumber&&w.endColumn<=S.startColumn||S.endLineNumber<w.startLineNumber||S.endLineNumber===w.startLineNumber&&S.endColumn<=w.startColumn)}static compareRangesUsingStarts(w,S){if(w&&S){const i=w.startLineNumber|0,_=S.startLineNumber|0;if(i===_){const u=w.startColumn|0,a=S.startColumn|0;if(u===a){const l=w.endLineNumber|0,c=S.endLineNumber|0;if(l===c){const d=w.endColumn|0,r=S.endColumn|0;return d-r}return l-c}return u-a}return i-_}return(w?1:0)-(S?1:0)}static compareRangesUsingEnds(w,S){return w.endLineNumber===S.endLineNumber?w.endColumn===S.endColumn?w.startLineNumber===S.startLineNumber?w.startColumn-S.startColumn:w.startLineNumber-S.startLineNumber:w.endColumn-S.endColumn:w.endLineNumber-S.endLineNumber}static spansMultipleLines(w){return w.endLineNumber>w.startLineNumber}}e.Range=I}),define(te[232],ie([0,1,8,14,3]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class w{constructor(C,i,_,u,a){this.value=C,this.selectionStart=i,this.selectionEnd=_,this.selectionStartPosition=u,this.selectionEndPosition=a}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(C){return new w(C.getValue(),C.getSelectionStart(),C.getSelectionEnd(),null,null)}collapseSelection(){return new w(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(C,i,_){e._debugComposition&&console.log("writeToTextArea "+C+": "+this.toString()),i.setValue(C,this.value),_&&i.setSelectionRange(C,this.selectionStart,this.selectionEnd)}deduceEditorPosition(C){if(C<=this.selectionStart){const u=this.value.substring(C,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,u,-1)}if(C>=this.selectionEnd){const u=this.value.substring(this.selectionEnd,C);return this._finishDeduceEditorPosition(this.selectionEndPosition,u,1)}const i=this.value.substring(this.selectionStart,C);if(i.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,i,1);const _=this.value.substring(C,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,_,-1)}_finishDeduceEditorPosition(C,i,_){let u=0,a=-1;for(;(a=i.indexOf(`
`,a+1))!==-1;)u++;return[C,_*i.length,u]}static selectedText(C){return new w(C,0,C.length,null,null)}static deduceInput(C,i,_){if(!C)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+C.toString()),console.log("CURRENT STATE: "+i.toString()));let u=C.value,a=C.selectionStart,l=C.selectionEnd,c=i.value,d=i.selectionStart,r=i.selectionEnd;const n=u.substring(l),s=c.substring(r),t=v.commonSuffixLength(n,s);c=c.substring(0,c.length-t),u=u.substring(0,u.length-t);const o=u.substring(0,a),h=c.substring(0,d),f=v.commonPrefixLength(o,h);if(c=c.substring(f),u=u.substring(f),d-=f,a-=f,r-=f,l-=f,e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+u+">, selectionStart: "+a+", selectionEnd: "+l),console.log("AFTER DIFFING CURRENT STATE: <"+c+">, selectionStart: "+d+", selectionEnd: "+r)),_&&d===r&&u.length>0){let g=null;if(d===c.length?c.startsWith(u)&&(g=c.substring(u.length)):c.endsWith(u)&&(g=c.substring(0,c.length-u.length)),g!==null&&g.length>0&&(/\uFE0F/.test(g)||v.containsEmoji(g)))return{text:g,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(d===r){if(u===c&&a===0&&l===u.length&&d===c.length&&c.indexOf(`
`)===-1&&v.containsFullWidthCharacter(c))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const g=o.length-f;return e._debugComposition&&console.log("REMOVE PREVIOUS: "+(o.length-f)+" chars"),{text:c,replacePrevCharCnt:g,replaceNextCharCnt:0,positionDelta:0}}const m=l-a;return{text:c,replacePrevCharCnt:m,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(C,i){if(!C)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+C.toString()),console.log("CURRENT STATE: "+i.toString())),C.value===i.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:i.selectionEnd-C.selectionEnd};const _=Math.min(v.commonPrefixLength(C.value,i.value),C.selectionEnd),u=Math.min(v.commonSuffixLength(C.value,i.value),C.value.length-C.selectionEnd),a=C.value.substring(_,C.value.length-u),l=i.value.substring(_,i.value.length-u),c=C.selectionStart-_,d=C.selectionEnd-_,r=i.selectionStart-_,n=i.selectionEnd-_;return e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+a+">, selectionStart: "+c+", selectionEnd: "+d),console.log("AFTER DIFFING CURRENT STATE: <"+l+">, selectionStart: "+r+", selectionEnd: "+n)),{text:l,replacePrevCharCnt:d,replaceNextCharCnt:a.length-d,positionDelta:n-l.length}}}e.TextAreaState=w,w.EMPTY=new w("",0,0,null,null);class S{static _getPageOfLine(C,i){return Math.floor((C-1)/i)}static _getRangeForPage(C,i){const _=C*i,u=_+1,a=_+i;return new k.Range(u,1,a+1,1)}static fromEditorSelection(C,i,_,u,a){const l=S._getPageOfLine(_.startLineNumber,u),c=S._getRangeForPage(l,u),d=S._getPageOfLine(_.endLineNumber,u),r=S._getRangeForPage(d,u),n=c.intersectRanges(new k.Range(1,1,_.startLineNumber,_.startColumn));let s=i.getValueInRange(n,1);const t=i.getLineCount(),o=i.getLineMaxColumn(t),h=r.intersectRanges(new k.Range(_.endLineNumber,_.endColumn,t,o));let f=i.getValueInRange(h,1),m;if(l===d||l+1===d)m=i.getValueInRange(_,1);else{const g=c.intersectRanges(_),b=r.intersectRanges(_);m=i.getValueInRange(g,1)+String.fromCharCode(8230)+i.getValueInRange(b,1)}if(a){const g=500;s.length>g&&(s=s.substring(s.length-g,s.length)),f.length>g&&(f=f.substring(0,g)),m.length>2*g&&(m=m.substring(0,g)+String.fromCharCode(8230)+m.substring(m.length-g,m.length))}return new w(s+m+f,s.length,s.length+m.length,new I.Position(_.startLineNumber,_.startColumn),new I.Position(_.endLineNumber,_.endColumn))}}e.PagedScreenReaderStrategy=S}),define(te[231],ie([0,1,265,6,2,43,3]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const p={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class C extends k.Disposable{constructor(_,u={}){super();this._onDidUpdate=this._register(new I.Emitter),this._editor=_,this._options=w.mixin(u,p,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(a=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(a=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(_){this.ranges=[],_&&_.forEach(u=>{!this._options.ignoreCharChanges&&u.charChanges?u.charChanges.forEach(a=>{this.ranges.push({rhs:!0,range:new S.Range(a.modifiedStartLineNumber,a.modifiedStartColumn,a.modifiedEndLineNumber,a.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new S.Range(u.modifiedStartLineNumber,1,u.modifiedStartLineNumber,1)})}),this.ranges.sort((u,a)=>u.range.getStartPosition().isBeforeOrEqual(a.range.getStartPosition())?-1:a.range.getStartPosition().isBeforeOrEqual(u.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(_){let u=!1,a=this._editor.getPosition();if(!a){this.nextIdx=0;return}for(let l=0,c=this.ranges.length;l<c&&!u;l++){let d=this.ranges[l].range;a.isBeforeOrEqual(d.getStartPosition())&&(this.nextIdx=l+(_?0:-1),u=!0)}u||(this.nextIdx=_?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(_,u){if(v.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!!this.canNavigate()){this.nextIdx===-1?this._initIdx(_):_?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let a=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let l=a.range.getStartPosition();this._editor.setPosition(l),this._editor.revealPositionInCenter(l,u)}finally{this.ignoreSelectionChange=!1}}}canNavigate(){return this.ranges&&this.ranges.length>0}next(_=0){this._move(!0,_)}previous(_=0){this._move(!1,_)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=C}),define(te[61],ie([0,1,3]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class I{static insert(w,S){return{range:new v.Range(w.lineNumber,w.column,w.lineNumber,w.column),text:S,forceMoveMarkers:!0}}static delete(w){return{range:w,text:null}}static replace(w,S){return{range:w,text:S}}static replaceMove(w,S){return{range:w,text:S,forceMoveMarkers:!0}}}e.EditOperation=I}),define(te[466],ie([0,1,8,61,3]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class w{constructor(C,i){this._selection=C,this._cursors=i,this._selectionId=null}getEditOperations(C,i){let _=S(C,this._cursors);for(let u=0,a=_.length;u<a;u++){let l=_[u];i.addEditOperation(l.range,l.text)}this._selectionId=i.trackSelection(this._selection)}computeCursorState(C,i){return i.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=w;function S(p,C){C.sort((l,c)=>l.lineNumber===c.lineNumber?l.column-c.column:l.lineNumber-c.lineNumber);for(let l=C.length-2;l>=0;l--)C[l].lineNumber===C[l+1].lineNumber&&C.splice(l,1);let i=[],_=0,u=0,a=C.length;for(let l=1,c=p.getLineCount();l<=c;l++){let d=p.getLineContent(l),r=d.length+1,n=0;if(!(u<a&&C[u].lineNumber===l&&(n=C[u].column,u++,n===r))&&d.length!==0){let s=v.lastNonWhitespaceIndex(d),t=0;if(s===-1)t=1;else if(s!==d.length-1)t=s+2;else continue;t=Math.max(n,t),i[_++]=I.EditOperation.delete(new k.Range(l,t,l,r))}}return i}e.trimTrailingWhitespace=S}),define(te[230],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class v{constructor(k,w,S,p){this.r=v._clamp(k),this.g=v._clamp(w),this.b=v._clamp(S),this.a=v._clamp(p)}equals(k){return this.r===k.r&&this.g===k.g&&this.b===k.b&&this.a===k.a}static _clamp(k){return k<0?0:k>255?255:k|0}}e.RGBA8=v,v.Empty=new v(0,0,0,0)}),define(te[21],ie([0,1,14,3]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class k extends I.Range{constructor(S,p,C,i){super(S,p,C,i);this.selectionStartLineNumber=S,this.selectionStartColumn=p,this.positionLineNumber=C,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return k.selectionsEqual(this,S)}static selectionsEqual(S,p){return S.selectionStartLineNumber===p.selectionStartLineNumber&&S.selectionStartColumn===p.selectionStartColumn&&S.positionLineNumber===p.positionLineNumber&&S.positionColumn===p.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,p){return this.getDirection()===0?new k(this.startLineNumber,this.startColumn,S,p):new k(S,p,this.startLineNumber,this.startColumn)}getPosition(){return new v.Position(this.positionLineNumber,this.positionColumn)}setStartPosition(S,p){return this.getDirection()===0?new k(S,p,this.endLineNumber,this.endColumn):new k(this.endLineNumber,this.endColumn,S,p)}static fromPositions(S,p=S){return new k(S.lineNumber,S.column,p.lineNumber,p.column)}static liftSelection(S){return new k(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,p){if(S&&!p||!S&&p)return!1;if(!S&&!p)return!0;if(S.length!==p.length)return!1;for(let C=0,i=S.length;C<i;C++)if(!this.selectionsEqual(S[C],p[C]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,p,C,i,_){return _===0?new k(S,p,C,i):new k(C,i,S,p)}}e.Selection=k}),define(te[168],ie([0,1,36,7,15,6,2,17,8,232,14,21]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var a;(function(n){n.Tap="-monaco-textarea-synthetic-tap"})(a=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class l{constructor(){this._lastState=null}set(s,t){this._lastState={lastCopiedValue:s,data:t}}get(s){return this._lastState&&this._lastState.lastCopiedValue===s?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=l,l.INSTANCE=new l;class c extends S.Disposable{constructor(s,t){super();this.textArea=t,this._onFocus=this._register(new w.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new w.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new w.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new w.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new w.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new w.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new w.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new w.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new w.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=s,this._textArea=this._register(new r(t)),this._asyncTriggerCut=this._register(new k.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new k.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=i.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let o=null;this._register(I.addStandardDisposableListener(t.domNode,"keydown",g=>{(g.keyCode===109||this._isDoingComposition&&g.keyCode===1)&&g.stopPropagation(),g.equals(9)&&g.preventDefault(),o=g,this._onKeyDown.fire(g)})),this._register(I.addStandardDisposableListener(t.domNode,"keyup",g=>{this._onKeyUp.fire(g)})),this._register(I.addDisposableListener(t.domNode,"compositionstart",g=>{if(i._debugComposition&&console.log("[compositionstart]",g),!this._isDoingComposition){if(this._isDoingComposition=!0,p.isMacintosh&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===g.data&&(o&&o.equals(109)&&(o.code==="ArrowRight"||o.code==="ArrowLeft")||v.isFirefox)){i._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",g),this._textAreaState=new i.TextAreaState(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new _.Position(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(v.isAndroid){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._setAndWriteTextAreaState("compositionstart",i.TextAreaState.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const h=g=>{const b=this._textAreaState,y=i.TextAreaState.readFromTextArea(this._textArea);return[y,i.TextAreaState.deduceInput(b,y,g)]},f=()=>{const g=this._textAreaState,b=i.TextAreaState.readFromTextArea(this._textArea);return[b,i.TextAreaState.deduceAndroidCompositionInput(g,b)]},m=g=>{const b=this._textAreaState,y=i.TextAreaState.selectedText(g),L={text:y.value,replacePrevCharCnt:b.selectionEnd-b.selectionStart,replaceNextCharCnt:0,positionDelta:0};return[y,L]};this._register(I.addDisposableListener(t.domNode,"compositionupdate",g=>{if(i._debugComposition&&console.log("[compositionupdate]",g),v.isAndroid){const[L,N]=f();this._textAreaState=L,this._onType.fire(N),this._onCompositionUpdate.fire(g);return}const[b,y]=m(g.data||"");this._textAreaState=b,this._onType.fire(y),this._onCompositionUpdate.fire(g)})),this._register(I.addDisposableListener(t.domNode,"compositionend",g=>{if(i._debugComposition&&console.log("[compositionend]",g),!!this._isDoingComposition){if(this._isDoingComposition=!1,v.isAndroid){const[L,N]=f();this._textAreaState=L,this._onType.fire(N),this._onCompositionEnd.fire();return}const[b,y]=m(g.data||"");this._textAreaState=b,this._onType.fire(y),(v.isChrome||v.isFirefox)&&(this._textAreaState=i.TextAreaState.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()}})),this._register(I.addDisposableListener(t.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),!this._isDoingComposition){const[g,b]=h(p.isMacintosh);b.replacePrevCharCnt===0&&b.text.length===1&&C.isHighSurrogate(b.text.charCodeAt(0))||(this._textAreaState=g,this._nextCommand===0?(b.text!==""||b.replacePrevCharCnt!==0)&&this._onType.fire(b):((b.text!==""||b.replacePrevCharCnt!==0)&&this._firePaste(b.text,null),this._nextCommand=0))}})),this._register(I.addDisposableListener(t.domNode,"cut",g=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(g),this._asyncTriggerCut.schedule()})),this._register(I.addDisposableListener(t.domNode,"copy",g=>{this._ensureClipboardGetsEditorSelection(g)})),this._register(I.addDisposableListener(t.domNode,"paste",g=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),d.canUseTextData(g)){const[b,y]=d.getTextData(g);b!==""&&this._firePaste(b,y)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",i.TextAreaState.EMPTY),this._nextCommand=1})),this._register(I.addDisposableListener(t.domNode,"focus",()=>{const g=this._hasFocus;this._setHasFocus(!0),v.isSafari&&!g&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(I.addDisposableListener(t.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(I.addDisposableListener(t.domNode,a.Tap,()=>{v.isAndroid&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let s=0;return I.addDisposableListener(document,"selectionchange",t=>{if(!!this._hasFocus&&!this._isDoingComposition&&!!v.isChrome){const o=Date.now(),h=o-s;if(s=o,!(h<5)){const f=o-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),!(f<100)&&!(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)){const m=this._textArea.getValue();if(this._textAreaState.value===m){const g=this._textArea.getSelectionStart(),b=this._textArea.getSelectionEnd();if(!(this._textAreaState.selectionStart===g&&this._textAreaState.selectionEnd===b)){const y=this._textAreaState.deduceEditorPosition(g),L=this._host.deduceModelPosition(y[0],y[1],y[2]),N=this._textAreaState.deduceEditorPosition(b),M=this._host.deduceModelPosition(N[0],N[1],N[2]),D=new u.Selection(L.lineNumber,L.column,M.lineNumber,M.column);this._onSelectionChangeRequest.fire(D)}}}}}})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const s=I.getShadowRoot(this.textArea.domNode);s?this._setHasFocus(s.activeElement===this.textArea.domNode):I.isInDOM(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(s){this._hasFocus!==s&&(this._hasFocus=s,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(s,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(s,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(s){this._isDoingComposition||this._setAndWriteTextAreaState(s,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(s){const t=this._host.getDataToCopy(d.canUseTextData(s)),o={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};if(l.INSTANCE.set(v.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,o),!d.canUseTextData(s)){this._setAndWriteTextAreaState("copy or cut",i.TextAreaState.selectedText(t.text));return}d.setTextData(s,t.text,t.html,o)}_firePaste(s,t){t||(t=l.INSTANCE.get(s)),this._onPaste.fire({text:s,metadata:t})}}e.TextAreaInput=c;class d{static canUseTextData(s){return!!(s.clipboardData||window.clipboardData)}static getTextData(s){if(s.clipboardData){s.preventDefault();const t=s.clipboardData.getData("text/plain");let o=null;const h=s.clipboardData.getData("vscode-editor-data");if(typeof h=="string")try{o=JSON.parse(h),o.version!==1&&(o=null)}catch(f){}return[t,o]}if(window.clipboardData)return s.preventDefault(),[window.clipboardData.getData("Text"),null];throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(s,t,o,h){if(s.clipboardData){s.clipboardData.setData("text/plain",t),typeof o=="string"&&s.clipboardData.setData("text/html",o),s.clipboardData.setData("vscode-editor-data",JSON.stringify(h)),s.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",t),s.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class r extends S.Disposable{constructor(s){super();this._actual=s,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(s){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(s,t){const o=this._actual.domNode;o.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),o.value=t)}getSelectionStart(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(s,t,o){const h=this._actual.domNode;let f=null;const m=I.getShadowRoot(h);m?f=m.activeElement:f=document.activeElement;const g=f===h,b=h.selectionStart,y=h.selectionEnd;if(g&&b===t&&y===o){v.isFirefox&&window.parent!==window&&h.focus();return}if(g){this.setIgnoreSelectionChangeTime("setSelectionRange"),h.setSelectionRange(t,o),v.isFirefox&&window.parent!==window&&h.focus();return}try{const L=I.saveParentsScrollTop(h);this.setIgnoreSelectionChangeTime("setSelectionRange"),h.focus(),h.setSelectionRange(t,o),I.restoreParentsScrollTop(h,L)}catch(L){}}}}),define(te[97],ie([0,1,21]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class I{constructor(i,_,u=!1){this._range=i,this._text=_,this.insertsAutoWhitespace=u}getEditOperations(i,_){_.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,_){let a=_.getInverseEditOperations()[0].range;return new v.Selection(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn)}}e.ReplaceCommand=I;class k{constructor(i,_){this._range=i,this._text=_}getEditOperations(i,_){_.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,_){const a=_.getInverseEditOperations()[0].range;return new v.Selection(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn)}}e.ReplaceCommandThatSelectsText=k;class w{constructor(i,_,u=!1){this._range=i,this._text=_,this.insertsAutoWhitespace=u}getEditOperations(i,_){_.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,_){let a=_.getInverseEditOperations()[0].range;return new v.Selection(a.startLineNumber,a.startColumn,a.startLineNumber,a.startColumn)}}e.ReplaceCommandWithoutChangingPosition=w;class S{constructor(i,_,u,a,l=!1){this._range=i,this._text=_,this._columnDeltaOffset=a,this._lineNumberDeltaOffset=u,this.insertsAutoWhitespace=l}getEditOperations(i,_){_.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,_){let a=_.getInverseEditOperations()[0].range;return new v.Selection(a.endLineNumber+this._lineNumberDeltaOffset,a.endColumn+this._columnDeltaOffset,a.endLineNumber+this._lineNumberDeltaOffset,a.endColumn+this._columnDeltaOffset)}}e.ReplaceCommandWithOffsetCursorState=S;class p{constructor(i,_,u,a=!1){this._range=i,this._text=_,this._initialSelection=u,this._forceMoveMarkers=a,this._selectionId=null}getEditOperations(i,_){_.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=_.trackSelection(this._initialSelection)}computeCursorState(i,_){return _.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=p}),define(te[471],ie([0,1,3,21]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class k{constructor(S,p,C){this._range=S,this._charBeforeSelection=p,this._charAfterSelection=C}getEditOperations(S,p){p.addTrackedEditOperation(new v.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),p.addTrackedEditOperation(new v.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(S,p){let C=p.getInverseEditOperations(),i=C[0].range,_=C[1].range;return new I.Selection(i.endLineNumber,i.endColumn,_.endLineNumber,_.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=k}),define(te[92],ie([0,1,8,17,101]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let w;function S(){return w||(w=new TextDecoder("UTF-16LE")),w}let p;function C(){return p||(p=new TextDecoder("UTF-16BE")),p}let i;function _(){return i||(i=I.isLittleEndian()?S():C()),i}e.getPlatformTextDecoder=_,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=d=>new l(d),e.decodeUTF16LE=u):(e.createStringBuilder=d=>new c,e.decodeUTF16LE=a);function u(d,r,n){const s=new Uint16Array(d.buffer,r,n);return n>0&&(s[0]===65279||s[0]===65534)?a(d,r,n):S().decode(s)}function a(d,r,n){let s=[],t=0;for(let o=0;o<n;o++){const h=k.readUInt16LE(d,r);r+=2,s[t++]=String.fromCharCode(h)}return s.join("")}class l{constructor(r){this._capacity=r|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const r=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return _().decode(r)}_flushBuffer(){const r=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[r]:this._completedStrings[this._completedStrings.length]=r}write1(r){const n=this._capacity-this._bufferLength;n<=1&&(n===0||v.isHighSurrogate(r))&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCII(r){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCIIString(r){const n=r.length;if(this._bufferLength+n>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=r;return}for(let s=0;s<n;s++)this._buffer[this._bufferLength++]=r.charCodeAt(s)}}class c{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(r){this._pieces[this._piecesLen++]=String.fromCharCode(r)}appendASCII(r){this._pieces[this._piecesLen++]=String.fromCharCode(r)}appendASCIIString(r){this._pieces[this._piecesLen++]=r}}}),define(te[174],ie([0,1,30,92]),function($,e,v,I){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class w{constructor(i){this._createLine=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,_){this._lines=_,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const _=i-this._rendLineNumberStart;if(_<0||_>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[_]}onLinesDeleted(i,_){if(this.getCount()===0)return null;const u=this.getStartLineNumber(),a=this.getEndLineNumber();if(_<u){const r=_-i+1;return this._rendLineNumberStart-=r,null}if(i>a)return null;let l=0,c=0;for(let r=u;r<=a;r++){const n=r-this._rendLineNumberStart;i<=r&&r<=_&&(c===0?(l=n,c=1):c++)}if(i<u){let r=0;_<u?r=_-i+1:r=u-i,this._rendLineNumberStart-=r}return this._lines.splice(l,c)}onLinesChanged(i,_){if(this.getCount()===0)return!1;const u=this.getStartLineNumber(),a=this.getEndLineNumber();let l=!1;for(let c=i;c<=_;c++)c>=u&&c<=a&&(this._lines[c-this._rendLineNumberStart].onContentChanged(),l=!0);return l}onLinesInserted(i,_){if(this.getCount()===0)return null;const u=_-i+1,a=this.getStartLineNumber(),l=this.getEndLineNumber();if(i<=a)return this._rendLineNumberStart+=u,null;if(i>l)return null;if(u+i>l)return this._lines.splice(i-this._rendLineNumberStart,l-i+1);const c=[];for(let t=0;t<u;t++)c[t]=this._createLine();const d=i-this._rendLineNumberStart,r=this._lines.slice(0,d),n=this._lines.slice(d,this._lines.length-u),s=this._lines.slice(this._lines.length-u,this._lines.length);return this._lines=r.concat(c).concat(n),s}onTokensChanged(i){if(this.getCount()===0)return!1;const _=this.getStartLineNumber(),u=this.getEndLineNumber();let a=!1;for(let l=0,c=i.length;l<c;l++){const d=i[l];if(!(d.toLineNumber<_||d.fromLineNumber>u)){const r=Math.max(_,d.fromLineNumber),n=Math.min(u,d.toLineNumber);for(let s=r;s<=n;s++){const t=s-this._rendLineNumberStart;this._lines[t].onTokensChanged(),a=!0}}}return a}}e.RenderedLinesCollection=w;class S{constructor(i){this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new w(()=>this._host.createVisibleLine())}_createDomNode(){const i=(0,v.createFastDomNode)(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(126)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.toLineNumber)}onLinesDeleted(i){const _=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(_)for(let u=0,a=_.length;u<a;u++){const l=_[u].getDomNode();l&&this.domNode.domNode.removeChild(l)}return!0}onLinesInserted(i){const _=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(_)for(let u=0,a=_.length;u<a;u++){const l=_[u].getDomNode();l&&this.domNode.domNode.removeChild(l)}return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const _=this._linesCollection._get(),u=new p(this.domNode.domNode,this._host,i),a={rendLineNumberStart:_.rendLineNumberStart,lines:_.lines,linesLength:_.lines.length},l=u.render(a,i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set(l.rendLineNumberStart,l.lines)}}e.VisibleLinesCollection=S;class p{constructor(i,_,u){this.domNode=i,this.host=_,this.viewportData=u}render(i,_,u,a){const l={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if(l.rendLineNumberStart+l.linesLength-1<_||u<l.rendLineNumberStart){l.rendLineNumberStart=_,l.linesLength=u-_+1,l.lines=[];for(let c=_;c<=u;c++)l.lines[c-_]=this.host.createVisibleLine();return this._finishRendering(l,!0,a),l}if(this._renderUntouchedLines(l,Math.max(_-l.rendLineNumberStart,0),Math.min(u-l.rendLineNumberStart,l.linesLength-1),a,_),l.rendLineNumberStart>_){const c=_,d=Math.min(u,l.rendLineNumberStart-1);c<=d&&(this._insertLinesBefore(l,c,d,a,_),l.linesLength+=d-c+1)}else if(l.rendLineNumberStart<_){const c=Math.min(l.linesLength,_-l.rendLineNumberStart);c>0&&(this._removeLinesBefore(l,c),l.linesLength-=c)}if(l.rendLineNumberStart=_,l.rendLineNumberStart+l.linesLength-1<u){const c=l.rendLineNumberStart+l.linesLength,d=u;c<=d&&(this._insertLinesAfter(l,c,d,a,_),l.linesLength+=d-c+1)}else if(l.rendLineNumberStart+l.linesLength-1>u){const c=Math.max(0,u-l.rendLineNumberStart+1),r=l.linesLength-1-c+1;r>0&&(this._removeLinesAfter(l,r),l.linesLength-=r)}return this._finishRendering(l,!1,a),l}_renderUntouchedLines(i,_,u,a,l){const c=i.rendLineNumberStart,d=i.lines;for(let r=_;r<=u;r++){const n=c+r;d[r].layoutLine(n,a[n-l])}}_insertLinesBefore(i,_,u,a,l){const c=[];let d=0;for(let r=_;r<=u;r++)c[d++]=this.host.createVisibleLine();i.lines=c.concat(i.lines)}_removeLinesBefore(i,_){for(let u=0;u<_;u++){const a=i.lines[u].getDomNode();a&&this.domNode.removeChild(a)}i.lines.splice(0,_)}_insertLinesAfter(i,_,u,a,l){const c=[];let d=0;for(let r=_;r<=u;r++)c[d++]=this.host.createVisibleLine();i.lines=i.lines.concat(c)}_removeLinesAfter(i,_){const u=i.linesLength-_;for(let a=0;a<_;a++){const l=i.lines[u+a].getDomNode();l&&this.domNode.removeChild(l)}i.lines.splice(u,_)}_finishRenderingNewLines(i,_,u,a){p._ttPolicy&&(u=p._ttPolicy.createHTML(u));const l=this.domNode.lastChild;_||!l?this.domNode.innerHTML=u:l.insertAdjacentHTML("afterend",u);let c=this.domNode.lastChild;for(let d=i.linesLength-1;d>=0;d--){const r=i.lines[d];a[d]&&(r.setDomNode(c),c=c.previousSibling)}}_finishRenderingInvalidLines(i,_,u){const a=document.createElement("div");p._ttPolicy&&(_=p._ttPolicy.createHTML(_)),a.innerHTML=_;for(let l=0;l<i.linesLength;l++){const c=i.lines[l];if(u[l]){const d=a.firstChild,r=c.getDomNode();r.parentNode.replaceChild(d,r),c.setDomNode(d)}}}_finishRendering(i,_,u){const a=p._sb,l=i.linesLength,c=i.lines,d=i.rendLineNumberStart,r=[];{a.reset();let n=!1;for(let s=0;s<l;s++){const t=c[s];r[s]=!1,!t.getDomNode()&&(!t.renderLine(s+d,u[s],this.viewportData,a)||(r[s]=!0,n=!0))}n&&this._finishRenderingNewLines(i,_,a.build(),r)}{a.reset();let n=!1;const s=[];for(let t=0;t<l;t++){const o=c[t];s[t]=!1,!r[t]&&(!o.renderLine(t+d,u[t],this.viewportData,a)||(s[t]=!0,n=!0))}n&&this._finishRenderingInvalidLines(i,a.build(),s)}}}p._ttPolicy=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("editorViewLayer",{createHTML:C=>C}),p._sb=(0,I.createStringBuilder)(1e5)}),define(te[128],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationResult2=e.TokenizationResult=e.Token=void 0;class v{constructor(S,p,C){this.offset=S|0,this.type=p,this.language=C}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=v;class I{constructor(S,p){this.tokens=S,this.endState=p}}e.TokenizationResult=I;class k{constructor(S,p){this.tokens=S,this.endState=p}}e.TokenizationResult2=k}),define(te[480],ie([0,1,162,8]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const k=3;function w(d,r,n,s){return new v.LcsDiff(d,r,n).ComputeDiff(s)}class S{constructor(r){const n=[],s=[];for(let t=0,o=r.length;t<o;t++)n[t]=a(r[t],1),s[t]=l(r[t],1);this.lines=r,this._startColumns=n,this._endColumns=s}getElements(){const r=[];for(let n=0,s=this.lines.length;n<s;n++)r[n]=this.lines[n].substring(this._startColumns[n]-1,this._endColumns[n]-1);return r}getStartLineNumber(r){return r+1}getEndLineNumber(r){return r+1}createCharSequence(r,n,s){const t=[],o=[],h=[];let f=0;for(let m=n;m<=s;m++){const g=this.lines[m],b=r?this._startColumns[m]:1,y=r?this._endColumns[m]:g.length+1;for(let L=b;L<y;L++)t[f]=g.charCodeAt(L-1),o[f]=m+1,h[f]=L,f++}return new p(t,o,h)}}class p{constructor(r,n,s){this._charCodes=r,this._lineNumbers=n,this._columns=s}getElements(){return this._charCodes}getStartLineNumber(r){return this._lineNumbers[r]}getStartColumn(r){return this._columns[r]}getEndLineNumber(r){return this._lineNumbers[r]}getEndColumn(r){return this._columns[r]+1}}class C{constructor(r,n,s,t,o,h,f,m){this.originalStartLineNumber=r,this.originalStartColumn=n,this.originalEndLineNumber=s,this.originalEndColumn=t,this.modifiedStartLineNumber=o,this.modifiedStartColumn=h,this.modifiedEndLineNumber=f,this.modifiedEndColumn=m}static createFromDiffChange(r,n,s){let t,o,h,f,m,g,b,y;return r.originalLength===0?(t=0,o=0,h=0,f=0):(t=n.getStartLineNumber(r.originalStart),o=n.getStartColumn(r.originalStart),h=n.getEndLineNumber(r.originalStart+r.originalLength-1),f=n.getEndColumn(r.originalStart+r.originalLength-1)),r.modifiedLength===0?(m=0,g=0,b=0,y=0):(m=s.getStartLineNumber(r.modifiedStart),g=s.getStartColumn(r.modifiedStart),b=s.getEndLineNumber(r.modifiedStart+r.modifiedLength-1),y=s.getEndColumn(r.modifiedStart+r.modifiedLength-1)),new C(t,o,h,f,m,g,b,y)}}function i(d){if(d.length<=1)return d;const r=[d[0]];let n=r[0];for(let s=1,t=d.length;s<t;s++){const o=d[s],h=o.originalStart-(n.originalStart+n.originalLength),f=o.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(h,f)<k?(n.originalLength=o.originalStart+o.originalLength-n.originalStart,n.modifiedLength=o.modifiedStart+o.modifiedLength-n.modifiedStart):(r.push(o),n=o)}return r}class _{constructor(r,n,s,t,o){this.originalStartLineNumber=r,this.originalEndLineNumber=n,this.modifiedStartLineNumber=s,this.modifiedEndLineNumber=t,this.charChanges=o}static createFromDiffResult(r,n,s,t,o,h,f){let m,g,b,y,L;if(n.originalLength===0?(m=s.getStartLineNumber(n.originalStart)-1,g=0):(m=s.getStartLineNumber(n.originalStart),g=s.getEndLineNumber(n.originalStart+n.originalLength-1)),n.modifiedLength===0?(b=t.getStartLineNumber(n.modifiedStart)-1,y=0):(b=t.getStartLineNumber(n.modifiedStart),y=t.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),h&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&o()){const N=s.createCharSequence(r,n.originalStart,n.originalStart+n.originalLength-1),M=t.createCharSequence(r,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);let D=w(N,M,o,!0).changes;f&&(D=i(D)),L=[];for(let R=0,P=D.length;R<P;R++)L.push(C.createFromDiffChange(D[R],N,M))}return new _(m,g,b,y,L)}}class u{constructor(r,n,s){this.shouldComputeCharChanges=s.shouldComputeCharChanges,this.shouldPostProcessCharChanges=s.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=s.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=s.shouldMakePrettyDiff,this.originalLines=r,this.modifiedLines=n,this.original=new S(r),this.modified=new S(n),this.continueLineDiff=c(s.maxComputationTime),this.continueCharDiff=c(s.maxComputationTime===0?0:Math.min(s.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const r=w(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),n=r.changes,s=r.quitEarly;if(this.shouldIgnoreTrimWhitespace){const f=[];for(let m=0,g=n.length;m<g;m++)f.push(_.createFromDiffResult(this.shouldIgnoreTrimWhitespace,n[m],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:s,changes:f}}const t=[];let o=0,h=0;for(let f=-1,m=n.length;f<m;f++){const g=f+1<m?n[f+1]:null,b=g?g.originalStart:this.originalLines.length,y=g?g.modifiedStart:this.modifiedLines.length;for(;o<b&&h<y;){const L=this.originalLines[o],N=this.modifiedLines[h];if(L!==N){{let M=a(L,1),D=a(N,1);for(;M>1&&D>1;){const R=L.charCodeAt(M-2),P=N.charCodeAt(D-2);if(R!==P)break;M--,D--}(M>1||D>1)&&this._pushTrimWhitespaceCharChange(t,o+1,1,M,h+1,1,D)}{let M=l(L,1),D=l(N,1);const R=L.length+1,P=N.length+1;for(;M<R&&D<P;){const O=L.charCodeAt(M-1),W=L.charCodeAt(D-1);if(O!==W)break;M++,D++}(M<R||D<P)&&this._pushTrimWhitespaceCharChange(t,o+1,M,R,h+1,D,P)}}o++,h++}g&&(t.push(_.createFromDiffResult(this.shouldIgnoreTrimWhitespace,g,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=g.originalLength,h+=g.modifiedLength)}return{quitEarly:s,changes:t}}_pushTrimWhitespaceCharChange(r,n,s,t,o,h,f){if(!this._mergeTrimWhitespaceCharChange(r,n,s,t,o,h,f)){let m;this.shouldComputeCharChanges&&(m=[new C(n,s,n,t,o,h,o,f)]),r.push(new _(n,n,o,o,m))}}_mergeTrimWhitespaceCharChange(r,n,s,t,o,h,f){const m=r.length;if(m===0)return!1;const g=r[m-1];return g.originalEndLineNumber===0||g.modifiedEndLineNumber===0?!1:g.originalEndLineNumber+1===n&&g.modifiedEndLineNumber+1===o?(g.originalEndLineNumber=n,g.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&g.charChanges&&g.charChanges.push(new C(n,s,n,t,o,h,o,f)),!0):!1}}e.DiffComputer=u;function a(d,r){const n=I.firstNonWhitespaceIndex(d);return n===-1?r:n+1}function l(d,r){const n=I.lastNonWhitespaceIndex(d);return n===-1?r:n+2}function c(d){if(d===0)return()=>!0;const r=Date.now();return()=>Date.now()-r<d}}),define(te[229],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class v{constructor(k,w,S,p,C,i){this.id=k,this.label=w,this.alias=S,this._precondition=p,this._run=C,this._contextKeyService=i}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=v}),define(te[104],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=e.isThemeColor=void 0;function v(I){return I&&typeof I.id=="string"}e.isThemeColor=v,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(te[105],ie([0,1,104]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function I(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===v.EditorType.ICodeEditor:!1}e.isCodeEditor=I;function k(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===v.EditorType.IDiffEditor:!1}e.isDiffEditor=k;function w(S){return I(S)?S:k(S)?S.getModifiedEditor():null}e.getCodeEditor=w}),define(te[50],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.MinimapPosition=e.OverviewRulerLane=void 0;var v;(function(C){C[C.Left=1]="Left",C[C.Center=2]="Center",C[C.Right=4]="Right",C[C.Full=7]="Full"})(v=e.OverviewRulerLane||(e.OverviewRulerLane={}));var I;(function(C){C[C.Inline=1]="Inline",C[C.Gutter=2]="Gutter"})(I=e.MinimapPosition||(e.MinimapPosition={}));class k{constructor(i){this.tabSize=Math.max(1,i.tabSize|0),this.indentSize=i.tabSize|0,this.insertSpaces=Boolean(i.insertSpaces),this.defaultEOL=i.defaultEOL|0,this.trimAutoWhitespace=Boolean(i.trimAutoWhitespace)}equals(i){return this.tabSize===i.tabSize&&this.indentSize===i.indentSize&&this.insertSpaces===i.insertSpaces&&this.defaultEOL===i.defaultEOL&&this.trimAutoWhitespace===i.trimAutoWhitespace}createChangeEvent(i){return{tabSize:this.tabSize!==i.tabSize,indentSize:this.indentSize!==i.indentSize,insertSpaces:this.insertSpaces!==i.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==i.trimAutoWhitespace}}}e.TextModelResolvedOptions=k;class w{constructor(i,_){this.range=i,this.matches=_}}e.FindMatch=w;class S{constructor(i,_,u,a,l,c){this.identifier=i,this.range=_,this.text=u,this.forceMoveMarkers=a,this.isAutoWhitespaceEdit=l,this._isTracked=c}}e.ValidAnnotatedEditOperation=S;class p{constructor(i,_,u){this.reverseEdits=i,this.changes=_,this.trimAutoWhitespaceLineNumbers=u}}e.ApplyEditsResult=p}),define(te[488],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class v{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function I(w,S,p,C,i){i.spacesDiff=0,i.looksLikeAlignment=!1;let _;for(_=0;_<S&&_<C;_++){let n=w.charCodeAt(_),s=p.charCodeAt(_);if(n!==s)break}let u=0,a=0;for(let n=_;n<S;n++)w.charCodeAt(n)===32?u++:a++;let l=0,c=0;for(let n=_;n<C;n++)p.charCodeAt(n)===32?l++:c++;if(!(u>0&&a>0)&&!(l>0&&c>0)){let d=Math.abs(a-c),r=Math.abs(u-l);if(d===0){i.spacesDiff=r,r>0&&0<=l-1&&l-1<w.length&&l<p.length&&p.charCodeAt(l)!==32&&w.charCodeAt(l-1)===32&&w.charCodeAt(w.length-1)===44&&(i.looksLikeAlignment=!0);return}if(r%d==0){i.spacesDiff=r/d;return}}}function k(w,S,p){const C=Math.min(w.getLineCount(),1e4);let i=0,_=0,u="",a=0;const l=[2,4,6,8,3,5,7],c=8;let d=[0,0,0,0,0,0,0,0,0],r=new v;for(let t=1;t<=C;t++){let o=w.getLineLength(t),h=w.getLineContent(t);const f=o<=65536;let m=!1,g=0,b=0,y=0;for(let N=0,M=o;N<M;N++){let D=f?h.charCodeAt(N):w.getLineCharCode(t,N);if(D===9)y++;else if(D===32)b++;else{m=!0,g=N;break}}if(!!m&&(y>0?i++:b>1&&_++,I(u,a,h,g,r),!(r.looksLikeAlignment&&!(p&&S===r.spacesDiff)))){let L=r.spacesDiff;L<=c&&d[L]++,u=h,a=g}}let n=p;i!==_&&(n=i<_);let s=S;if(n){let t=n?0:.1*C;l.forEach(o=>{let h=d[o];h>t&&(t=h,s=o)}),s===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(s=2)}return{insertSpaces:n,tabSize:s}}e.guessIndentation=k}),define(te[489],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeIsInOverviewRuler=e.getNodeColor=void 0;function v(E){return(E.metadata&1)>>>0}e.getNodeColor=v;function I(E,A){E.metadata=E.metadata&254|A<<0}function k(E){return(E.metadata&2)>>>1==1}function w(E,A){E.metadata=E.metadata&253|(A?1:0)<<1}function S(E){return(E.metadata&4)>>>2==1}function p(E,A){E.metadata=E.metadata&251|(A?1:0)<<2}function C(E){return(E.metadata&8)>>>3==1}e.getNodeIsInOverviewRuler=C;function i(E,A){E.metadata=E.metadata&247|(A?1:0)<<3}function _(E){return(E.metadata&48)>>>4}function u(E,A){E.metadata=E.metadata&207|A<<4}function a(E){return(E.metadata&64)>>>6==1}function l(E,A){E.metadata=E.metadata&191|(A?1:0)<<6}class c{constructor(A,B,z){this.metadata=0,this.parent=this,this.left=this,this.right=this,I(this,1),this.start=B,this.end=z,this.delta=0,this.maxEnd=z,this.id=A,this.ownerId=0,this.options=null,p(this,!1),u(this,1),i(this,!1),l(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=z,this.range=null,w(this,!1)}reset(A,B,z,U){this.start=B,this.end=z,this.maxEnd=z,this.cachedVersionId=A,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=z,this.range=U}setOptions(A){this.options=A;let B=this.options.className;p(this,B==="squiggly-error"||B==="squiggly-warning"||B==="squiggly-info"),u(this,this.options.stickiness),i(this,!!(this.options.overviewRuler&&this.options.overviewRuler.color)),l(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(A,B,z){this.cachedVersionId!==z&&(this.range=null),this.cachedVersionId=z,this.cachedAbsoluteStart=A,this.cachedAbsoluteEnd=B}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=c,e.SENTINEL=new c(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,I(e.SENTINEL,0);class d{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(A,B,z,U,K){return this.root===e.SENTINEL?[]:g(this,A,B,z,U,K)}search(A,B,z){return this.root===e.SENTINEL?[]:m(this,A,B,z)}collectNodesFromOwner(A){return h(this,A)}collectNodesPostOrder(){return f(this)}insert(A){b(this,A),this._normalizeDeltaIfNecessary()}delete(A){L(this,A),this._normalizeDeltaIfNecessary()}resolveNode(A,B){const z=A;let U=0;for(;A!==this.root;)A===A.parent.right&&(U+=A.parent.delta),A=A.parent;const K=z.start+U,G=z.end+U;z.setCachedOffsets(K,G,B)}acceptReplace(A,B,z,U){const K=t(this,A,A+B);for(let G=0,J=K.length;G<J;G++){const Q=K[G];L(this,Q)}this._normalizeDeltaIfNecessary(),o(this,A,A+B,z),this._normalizeDeltaIfNecessary();for(let G=0,J=K.length;G<J;G++){const Q=K[G];Q.start=Q.cachedAbsoluteStart,Q.end=Q.cachedAbsoluteEnd,s(Q,A,A+B,z,U),Q.maxEnd=Q.end,b(this,Q)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,r(this))}}e.IntervalTree=d;function r(E){let A=E.root,B=0;for(;A!==e.SENTINEL;){if(A.left!==e.SENTINEL&&!k(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!k(A.right)){B+=A.delta,A=A.right;continue}A.start=B+A.start,A.end=B+A.end,A.delta=0,O(A),w(A,!0),w(A.left,!1),w(A.right,!1),A===A.parent.right&&(B-=A.parent.delta),A=A.parent}w(E.root,!1)}function n(E,A,B,z){return E<B?!0:E>B||z===1?!1:z===2?!0:A}function s(E,A,B,z,U){const K=_(E),G=K===0||K===2,J=K===1||K===2,Q=B-A,ae=z,se=Math.min(Q,ae),Z=E.start;let T=!1;const x=E.end;let H=!1;A<=Z&&x<=B&&a(E)&&(E.start=A,T=!0,E.end=A,H=!0);{const q=U?1:Q>0?2:0;!T&&n(Z,G,A,q)&&(T=!0),!H&&n(x,J,A,q)&&(H=!0)}if(se>0&&!U){const q=Q>ae?2:0;!T&&n(Z,G,A+se,q)&&(T=!0),!H&&n(x,J,A+se,q)&&(H=!0)}{const q=U?1:0;!T&&n(Z,G,B,q)&&(E.start=A+ae,T=!0),!H&&n(x,J,B,q)&&(E.end=A+ae,H=!0)}const V=ae-Q;T||(E.start=Math.max(0,Z+V)),H||(E.end=Math.max(0,x+V)),E.start>E.end&&(E.end=E.start)}e.nodeAcceptEdit=s;function t(E,A,B){let z=E.root,U=0,K=0,G=0,J=0,Q=[],ae=0;for(;z!==e.SENTINEL;){if(k(z)){w(z.left,!1),w(z.right,!1),z===z.parent.right&&(U-=z.parent.delta),z=z.parent;continue}if(!k(z.left)){if(K=U+z.maxEnd,K<A){w(z,!0);continue}if(z.left!==e.SENTINEL){z=z.left;continue}}if(G=U+z.start,G>B){w(z,!0);continue}if(J=U+z.end,J>=A&&(z.setCachedOffsets(G,J,0),Q[ae++]=z),w(z,!0),z.right!==e.SENTINEL&&!k(z.right)){U+=z.delta,z=z.right;continue}}return w(E.root,!1),Q}function o(E,A,B,z){let U=E.root,K=0,G=0,J=0;const Q=z-(B-A);for(;U!==e.SENTINEL;){if(k(U)){w(U.left,!1),w(U.right,!1),U===U.parent.right&&(K-=U.parent.delta),O(U),U=U.parent;continue}if(!k(U.left)){if(G=K+U.maxEnd,G<A){w(U,!0);continue}if(U.left!==e.SENTINEL){U=U.left;continue}}if(J=K+U.start,J>B){U.start+=Q,U.end+=Q,U.delta+=Q,(U.delta<-1073741824||U.delta>1073741824)&&(E.requestNormalizeDelta=!0),w(U,!0);continue}if(w(U,!0),U.right!==e.SENTINEL&&!k(U.right)){K+=U.delta,U=U.right;continue}}w(E.root,!1)}function h(E,A){let B=E.root,z=[],U=0;for(;B!==e.SENTINEL;){if(k(B)){w(B.left,!1),w(B.right,!1),B=B.parent;continue}if(B.left!==e.SENTINEL&&!k(B.left)){B=B.left;continue}if(B.ownerId===A&&(z[U++]=B),w(B,!0),B.right!==e.SENTINEL&&!k(B.right)){B=B.right;continue}}return w(E.root,!1),z}function f(E){let A=E.root,B=[],z=0;for(;A!==e.SENTINEL;){if(k(A)){w(A.left,!1),w(A.right,!1),A=A.parent;continue}if(A.left!==e.SENTINEL&&!k(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!k(A.right)){A=A.right;continue}B[z++]=A,w(A,!0)}return w(E.root,!1),B}function m(E,A,B,z){let U=E.root,K=0,G=0,J=0,Q=[],ae=0;for(;U!==e.SENTINEL;){if(k(U)){w(U.left,!1),w(U.right,!1),U===U.parent.right&&(K-=U.parent.delta),U=U.parent;continue}if(U.left!==e.SENTINEL&&!k(U.left)){U=U.left;continue}G=K+U.start,J=K+U.end,U.setCachedOffsets(G,J,z);let se=!0;if(A&&U.ownerId&&U.ownerId!==A&&(se=!1),B&&S(U)&&(se=!1),se&&(Q[ae++]=U),w(U,!0),U.right!==e.SENTINEL&&!k(U.right)){K+=U.delta,U=U.right;continue}}return w(E.root,!1),Q}function g(E,A,B,z,U,K){let G=E.root,J=0,Q=0,ae=0,se=0,Z=[],T=0;for(;G!==e.SENTINEL;){if(k(G)){w(G.left,!1),w(G.right,!1),G===G.parent.right&&(J-=G.parent.delta),G=G.parent;continue}if(!k(G.left)){if(Q=J+G.maxEnd,Q<A){w(G,!0);continue}if(G.left!==e.SENTINEL){G=G.left;continue}}if(ae=J+G.start,ae>B){w(G,!0);continue}if(se=J+G.end,se>=A){G.setCachedOffsets(ae,se,K);let x=!0;z&&G.ownerId&&G.ownerId!==z&&(x=!1),U&&S(G)&&(x=!1),x&&(Z[T++]=G)}if(w(G,!0),G.right!==e.SENTINEL&&!k(G.right)){J+=G.delta,G=G.right;continue}}return w(E.root,!1),Z}function b(E,A){if(E.root===e.SENTINEL)return A.parent=e.SENTINEL,A.left=e.SENTINEL,A.right=e.SENTINEL,I(A,0),E.root=A,E.root;y(E,A),W(A.parent);let B=A;for(;B!==E.root&&v(B.parent)===1;)if(B.parent===B.parent.parent.left){const z=B.parent.parent.right;v(z)===1?(I(B.parent,0),I(z,0),I(B.parent.parent,1),B=B.parent.parent):(B===B.parent.right&&(B=B.parent,D(E,B)),I(B.parent,0),I(B.parent.parent,1),R(E,B.parent.parent))}else{const z=B.parent.parent.left;v(z)===1?(I(B.parent,0),I(z,0),I(B.parent.parent,1),B=B.parent.parent):(B===B.parent.left&&(B=B.parent,R(E,B)),I(B.parent,0),I(B.parent.parent,1),D(E,B.parent.parent))}return I(E.root,0),A}function y(E,A){let B=0,z=E.root;const U=A.start,K=A.end;for(;;)if(F(U,K,z.start+B,z.end+B)<0)if(z.left===e.SENTINEL){A.start-=B,A.end-=B,A.maxEnd-=B,z.left=A;break}else z=z.left;else if(z.right===e.SENTINEL){A.start-=B+z.delta,A.end-=B+z.delta,A.maxEnd-=B+z.delta,z.right=A;break}else B+=z.delta,z=z.right;A.parent=z,A.left=e.SENTINEL,A.right=e.SENTINEL,I(A,1)}function L(E,A){let B,z;if(A.left===e.SENTINEL?(B=A.right,z=A,B.delta+=A.delta,(B.delta<-1073741824||B.delta>1073741824)&&(E.requestNormalizeDelta=!0),B.start+=A.delta,B.end+=A.delta):A.right===e.SENTINEL?(B=A.left,z=A):(z=N(A.right),B=z.right,B.start+=z.delta,B.end+=z.delta,B.delta+=z.delta,(B.delta<-1073741824||B.delta>1073741824)&&(E.requestNormalizeDelta=!0),z.start+=A.delta,z.end+=A.delta,z.delta=A.delta,(z.delta<-1073741824||z.delta>1073741824)&&(E.requestNormalizeDelta=!0)),z===E.root){E.root=B,I(B,0),A.detach(),M(),O(B),E.root.parent=e.SENTINEL;return}let U=v(z)===1;if(z===z.parent.left?z.parent.left=B:z.parent.right=B,z===A?B.parent=z.parent:(z.parent===A?B.parent=z:B.parent=z.parent,z.left=A.left,z.right=A.right,z.parent=A.parent,I(z,v(A)),A===E.root?E.root=z:A===A.parent.left?A.parent.left=z:A.parent.right=z,z.left!==e.SENTINEL&&(z.left.parent=z),z.right!==e.SENTINEL&&(z.right.parent=z)),A.detach(),U){W(B.parent),z!==A&&(W(z),W(z.parent)),M();return}W(B),W(B.parent),z!==A&&(W(z),W(z.parent));let K;for(;B!==E.root&&v(B)===0;)B===B.parent.left?(K=B.parent.right,v(K)===1&&(I(K,0),I(B.parent,1),D(E,B.parent),K=B.parent.right),v(K.left)===0&&v(K.right)===0?(I(K,1),B=B.parent):(v(K.right)===0&&(I(K.left,0),I(K,1),R(E,K),K=B.parent.right),I(K,v(B.parent)),I(B.parent,0),I(K.right,0),D(E,B.parent),B=E.root)):(K=B.parent.left,v(K)===1&&(I(K,0),I(B.parent,1),R(E,B.parent),K=B.parent.left),v(K.left)===0&&v(K.right)===0?(I(K,1),B=B.parent):(v(K.left)===0&&(I(K.right,0),I(K,1),D(E,K),K=B.parent.left),I(K,v(B.parent)),I(B.parent,0),I(K.left,0),R(E,B.parent),B=E.root));I(B,0),M()}function N(E){for(;E.left!==e.SENTINEL;)E=E.left;return E}function M(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function D(E,A){const B=A.right;B.delta+=A.delta,(B.delta<-1073741824||B.delta>1073741824)&&(E.requestNormalizeDelta=!0),B.start+=A.delta,B.end+=A.delta,A.right=B.left,B.left!==e.SENTINEL&&(B.left.parent=A),B.parent=A.parent,A.parent===e.SENTINEL?E.root=B:A===A.parent.left?A.parent.left=B:A.parent.right=B,B.left=A,A.parent=B,O(A),O(B)}function R(E,A){const B=A.left;A.delta-=B.delta,(A.delta<-1073741824||A.delta>1073741824)&&(E.requestNormalizeDelta=!0),A.start-=B.delta,A.end-=B.delta,A.left=B.right,B.right!==e.SENTINEL&&(B.right.parent=A),B.parent=A.parent,A.parent===e.SENTINEL?E.root=B:A===A.parent.right?A.parent.right=B:A.parent.left=B,B.right=A,A.parent=B,O(A),O(B)}function P(E){let A=E.end;if(E.left!==e.SENTINEL){const B=E.left.maxEnd;B>A&&(A=B)}if(E.right!==e.SENTINEL){const B=E.right.maxEnd+E.delta;B>A&&(A=B)}return A}function O(E){E.maxEnd=P(E)}e.recomputeMaxEnd=O;function W(E){for(;E!==e.SENTINEL;){const A=P(E);if(E.maxEnd===A)return;E.maxEnd=A,E=E.parent}}function F(E,A,B,z){return E===B?A-z:E-B}e.intervalCompare=F}),define(te[492],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class v{constructor(d,r){this.piece=d,this.color=r,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return I(this.right);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.left!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}prev(){if(this.left!==e.SENTINEL)return k(this.left);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.right!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=v,e.SENTINEL=new v(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function I(c){for(;c.left!==e.SENTINEL;)c=c.left;return c}e.leftest=I;function k(c){for(;c.right!==e.SENTINEL;)c=c.right;return c}e.righttest=k;function w(c){return c===e.SENTINEL?0:c.size_left+c.piece.length+w(c.right)}e.calculateSize=w;function S(c){return c===e.SENTINEL?0:c.lf_left+c.piece.lineFeedCnt+S(c.right)}e.calculateLF=S;function p(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=p;function C(c,d){let r=d.right;r.size_left+=d.size_left+(d.piece?d.piece.length:0),r.lf_left+=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),d.right=r.left,r.left!==e.SENTINEL&&(r.left.parent=d),r.parent=d.parent,d.parent===e.SENTINEL?c.root=r:d.parent.left===d?d.parent.left=r:d.parent.right=r,r.left=d,d.parent=r}e.leftRotate=C;function i(c,d){let r=d.left;d.left=r.right,r.right!==e.SENTINEL&&(r.right.parent=d),r.parent=d.parent,d.size_left-=r.size_left+(r.piece?r.piece.length:0),d.lf_left-=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),d.parent===e.SENTINEL?c.root=r:d===d.parent.right?d.parent.right=r:d.parent.left=r,r.right=d,d.parent=r}e.rightRotate=i;function _(c,d){let r,n;if(d.left===e.SENTINEL?(n=d,r=n.right):d.right===e.SENTINEL?(n=d,r=n.left):(n=I(d.right),r=n.right),n===c.root){c.root=r,r.color=0,d.detach(),p(),c.root.parent=e.SENTINEL;return}let s=n.color===1;if(n===n.parent.left?n.parent.left=r:n.parent.right=r,n===d?(r.parent=n.parent,l(c,r)):(n.parent===d?r.parent=n:r.parent=n.parent,l(c,r),n.left=d.left,n.right=d.right,n.parent=d.parent,n.color=d.color,d===c.root?c.root=n:d===d.parent.left?d.parent.left=n:d.parent.right=n,n.left!==e.SENTINEL&&(n.left.parent=n),n.right!==e.SENTINEL&&(n.right.parent=n),n.size_left=d.size_left,n.lf_left=d.lf_left,l(c,n)),d.detach(),r.parent.left===r){let o=w(r),h=S(r);if(o!==r.parent.size_left||h!==r.parent.lf_left){let f=o-r.parent.size_left,m=h-r.parent.lf_left;r.parent.size_left=o,r.parent.lf_left=h,a(c,r.parent,f,m)}}if(l(c,r.parent),s){p();return}let t;for(;r!==c.root&&r.color===0;)r===r.parent.left?(t=r.parent.right,t.color===1&&(t.color=0,r.parent.color=1,C(c,r.parent),t=r.parent.right),t.left.color===0&&t.right.color===0?(t.color=1,r=r.parent):(t.right.color===0&&(t.left.color=0,t.color=1,i(c,t),t=r.parent.right),t.color=r.parent.color,r.parent.color=0,t.right.color=0,C(c,r.parent),r=c.root)):(t=r.parent.left,t.color===1&&(t.color=0,r.parent.color=1,i(c,r.parent),t=r.parent.left),t.left.color===0&&t.right.color===0?(t.color=1,r=r.parent):(t.left.color===0&&(t.right.color=0,t.color=1,C(c,t),t=r.parent.left),t.color=r.parent.color,r.parent.color=0,t.left.color=0,i(c,r.parent),r=c.root));r.color=0,p()}e.rbDelete=_;function u(c,d){for(l(c,d);d!==c.root&&d.parent.color===1;)if(d.parent===d.parent.parent.left){const r=d.parent.parent.right;r.color===1?(d.parent.color=0,r.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.right&&(d=d.parent,C(c,d)),d.parent.color=0,d.parent.parent.color=1,i(c,d.parent.parent))}else{const r=d.parent.parent.left;r.color===1?(d.parent.color=0,r.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.left&&(d=d.parent,i(c,d)),d.parent.color=0,d.parent.parent.color=1,C(c,d.parent.parent))}c.root.color=0}e.fixInsert=u;function a(c,d,r,n){for(;d!==c.root&&d!==e.SENTINEL;)d.parent.left===d&&(d.parent.size_left+=r,d.parent.lf_left+=n),d=d.parent}e.updateTreeMetadata=a;function l(c,d){let r=0,n=0;if(d!==c.root){if(r===0){for(;d!==c.root&&d===d.parent.right;)d=d.parent;if(d===c.root)return;d=d.parent,r=w(d.left)-d.size_left,n=S(d.left)-d.lf_left,d.size_left+=r,d.lf_left+=n}for(;d!==c.root&&(r!==0||n!==0);)d.parent.left===d&&(d.parent.size_left+=r,d.parent.lf_left+=n),d=d.parent}}e.recomputeTreeMetadata=l}),define(te[228],ie([0,1,101,92]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function k(C){return C.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class w{constructor(i,_,u,a){this.oldPosition=i,this.oldText=_,this.newPosition=u,this.newText=a}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${k(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${k(this.oldText)}")`:`(replace@${this.oldPosition} "${k(this.oldText)}" with "${k(this.newText)}")`}static _writeStringSize(i){return 4+2*i.length}static _writeString(i,_,u){const a=_.length;v.writeUInt32BE(i,a,u),u+=4;for(let l=0;l<a;l++)v.writeUInt16LE(i,_.charCodeAt(l),u),u+=2;return u}static _readString(i,_){const u=v.readUInt32BE(i,_);return _+=4,(0,I.decodeUTF16LE)(i,_,u)}writeSize(){return 4+4+w._writeStringSize(this.oldText)+w._writeStringSize(this.newText)}write(i,_){return v.writeUInt32BE(i,this.oldPosition,_),_+=4,v.writeUInt32BE(i,this.newPosition,_),_+=4,_=w._writeString(i,this.oldText,_),_=w._writeString(i,this.newText,_),_}static read(i,_,u){const a=v.readUInt32BE(i,_);_+=4;const l=v.readUInt32BE(i,_);_+=4;const c=w._readString(i,_);_+=w._writeStringSize(c);const d=w._readString(i,_);return _+=w._writeStringSize(d),u.push(new w(a,c,l,d)),_}}e.TextChange=w;function S(C,i){return C===null||C.length===0?i:new p(C,i).compress()}e.compressConsecutiveTextChanges=S;class p{constructor(i,_){this._prevEdits=i,this._currEdits=_,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let i=0,_=0,u=this._getPrev(i),a=this._getCurr(_);for(;i<this._prevLen||_<this._currLen;){if(u===null){this._acceptCurr(a),a=this._getCurr(++_);continue}if(a===null){this._acceptPrev(u),u=this._getPrev(++i);continue}if(a.oldEnd<=u.newPosition){this._acceptCurr(a),a=this._getCurr(++_);continue}if(u.newEnd<=a.oldPosition){this._acceptPrev(u),u=this._getPrev(++i);continue}if(a.oldPosition<u.newPosition){const[n,s]=p._splitCurr(a,u.newPosition-a.oldPosition);this._acceptCurr(n),a=s;continue}if(u.newPosition<a.oldPosition){const[n,s]=p._splitPrev(u,a.oldPosition-u.newPosition);this._acceptPrev(n),u=s;continue}let d,r;if(a.oldEnd===u.newEnd)d=u,r=a,u=this._getPrev(++i),a=this._getCurr(++_);else if(a.oldEnd<u.newEnd){const[n,s]=p._splitPrev(u,a.oldLength);d=n,r=a,u=s,a=this._getCurr(++_)}else{const[n,s]=p._splitCurr(a,u.newLength);d=u,r=n,u=this._getPrev(++i),a=s}this._result[this._resultLen++]=new w(d.oldPosition,d.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=d.newLength-d.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const l=p._merge(this._result);return p._removeNoOps(l)}_acceptCurr(i){this._result[this._resultLen++]=p._rebaseCurr(this._prevDeltaOffset,i),this._currDeltaOffset+=i.newLength-i.oldLength}_getCurr(i){return i<this._currLen?this._currEdits[i]:null}_acceptPrev(i){this._result[this._resultLen++]=p._rebasePrev(this._currDeltaOffset,i),this._prevDeltaOffset+=i.newLength-i.oldLength}_getPrev(i){return i<this._prevLen?this._prevEdits[i]:null}static _rebaseCurr(i,_){return new w(_.oldPosition-i,_.oldText,_.newPosition,_.newText)}static _rebasePrev(i,_){return new w(_.oldPosition,_.oldText,_.newPosition+i,_.newText)}static _splitPrev(i,_){const u=i.newText.substr(0,_),a=i.newText.substr(_);return[new w(i.oldPosition,i.oldText,i.newPosition,u),new w(i.oldEnd,"",i.newPosition+_,a)]}static _splitCurr(i,_){const u=i.oldText.substr(0,_),a=i.oldText.substr(_);return[new w(i.oldPosition,u,i.newPosition,i.newText),new w(i.oldPosition+_,a,i.newEnd,"")]}static _merge(i){if(i.length===0)return i;let _=[],u=0,a=i[0];for(let l=1;l<i.length;l++){const c=i[l];a.oldEnd===c.oldPosition?a=new w(a.oldPosition,a.oldText+c.oldText,a.newPosition,a.newText+c.newText):(_[u++]=a,a=c)}return _[u++]=a,_}static _removeNoOps(i){if(i.length===0)return i;let _=[],u=0;for(let a=0;a<i.length;a++){const l=i[a];l.oldText!==l.newText&&(_[u++]=l)}return _}}}),define(te[495],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.ModelRawFlush=void 0;class v{constructor(){this.changeType=1}}e.ModelRawFlush=v;class I{constructor(_,u){this.changeType=2,this.lineNumber=_,this.detail=u}}e.ModelRawLineChanged=I;class k{constructor(_,u){this.changeType=3,this.fromLineNumber=_,this.toLineNumber=u}}e.ModelRawLinesDeleted=k;class w{constructor(_,u,a){this.changeType=4,this.fromLineNumber=_,this.toLineNumber=u,this.detail=a}}e.ModelRawLinesInserted=w;class S{constructor(){this.changeType=5}}e.ModelRawEOLChanged=S;class p{constructor(_,u,a,l){this.changes=_,this.versionId=u,this.isUndoing=a,this.isRedoing=l,this.resultingSelection=null}containsEvent(_){for(let u=0,a=this.changes.length;u<a;u++)if(this.changes[u].changeType===_)return!0;return!1}static merge(_,u){const a=[].concat(_.changes).concat(u.changes),l=u.versionId,c=_.isUndoing||u.isUndoing,d=_.isRedoing||u.isRedoing;return new p(a,l,c,d)}}e.ModelRawContentChangedEvent=p;class C{constructor(_,u){this.rawContentChangedEvent=_,this.contentChangedEvent=u}merge(_){const u=p.merge(this.rawContentChangedEvent,_.rawContentChangedEvent),a=C._mergeChangeEvents(this.contentChangedEvent,_.contentChangedEvent);return new C(u,a)}static _mergeChangeEvents(_,u){const a=[].concat(_.changes).concat(u.changes),l=u.eol,c=u.versionId,d=_.isUndoing||u.isUndoing,r=_.isRedoing||u.isRedoing,n=_.isFlush||u.isFlush;return{changes:a,eol:l,versionId:c,isUndoing:d,isRedoing:r,isFlush:n}}}e.InternalModelContentChangeEvent=C}),define(te[187],ie([0,1,8,109,14,3,50]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const p=999;class C{constructor(t,o,h,f){this.searchString=t,this.isRegex=o,this.matchCase=h,this.wordSeparators=f}parseSearchRequest(){if(this.searchString==="")return null;let t;this.isRegex?t=i(this.searchString):t=this.searchString.indexOf(`
`)>=0;let o=null;try{o=v.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0,unicode:!0})}catch(f){return null}if(!o)return null;let h=!this.isRegex&&!t;return h&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(h=this.matchCase),new _(o,this.wordSeparators?(0,I.getMapForWordSeparators)(this.wordSeparators):null,h?this.searchString:null)}}e.SearchParams=C;function i(s){if(!s||s.length===0)return!1;for(let t=0,o=s.length;t<o;t++)if(s.charCodeAt(t)===92){if(t++,t>=o)break;const f=s.charCodeAt(t);if(f===110||f===114||f===87||f===119)return!0}return!1}e.isMultilineRegexSource=i;class _{constructor(t,o,h){this.regex=t,this.wordSeparators=o,this.simpleSearch=h}}e.SearchData=_;function u(s,t,o){if(!o)return new S.FindMatch(s,null);let h=[];for(let f=0,m=t.length;f<m;f++)h[f]=t[f];return new S.FindMatch(s,h)}e.createFindMatch=u;class a{constructor(t){let o=[],h=0;for(let f=0,m=t.length;f<m;f++)t.charCodeAt(f)===10&&(o[h++]=f);this._lineFeedsOffsets=o}findLineFeedCountBeforeOffset(t){const o=this._lineFeedsOffsets;let h=0,f=o.length-1;if(f===-1||t<=o[0])return 0;for(;h<f;){const m=h+((f-h)/2>>0);o[m]>=t?f=m-1:o[m+1]>=t?(h=m,f=m):h=m+1}return h+1}}class l{static findMatches(t,o,h,f,m){const g=o.parseSearchRequest();return g?g.regex.multiline?this._doFindMatchesMultiline(t,h,new n(g.wordSeparators,g.regex),f,m):this._doFindMatchesLineByLine(t,h,g,f,m):[]}static _getMultilineMatchRange(t,o,h,f,m,g){let b,y=0;f?(y=f.findLineFeedCountBeforeOffset(m),b=o+m+y):b=o+m;let L;if(f){let R=f.findLineFeedCountBeforeOffset(m+g.length)-y;L=b+g.length+R}else L=b+g.length;const N=t.getPositionAt(b),M=t.getPositionAt(L);return new w.Range(N.lineNumber,N.column,M.lineNumber,M.column)}static _doFindMatchesMultiline(t,o,h,f,m){const g=t.getOffsetAt(o.getStartPosition()),b=t.getValueInRange(o,1),y=t.getEOL()===`\r
`?new a(b):null,L=[];let N=0,M;for(h.reset(0);M=h.next(b);)if(L[N++]=u(this._getMultilineMatchRange(t,g,b,y,M.index,M[0]),M,f),N>=m)return L;return L}static _doFindMatchesLineByLine(t,o,h,f,m){const g=[];let b=0;if(o.startLineNumber===o.endLineNumber){const L=t.getLineContent(o.startLineNumber).substring(o.startColumn-1,o.endColumn-1);return b=this._findMatchesInLine(h,L,o.startLineNumber,o.startColumn-1,b,g,f,m),g}const y=t.getLineContent(o.startLineNumber).substring(o.startColumn-1);b=this._findMatchesInLine(h,y,o.startLineNumber,o.startColumn-1,b,g,f,m);for(let L=o.startLineNumber+1;L<o.endLineNumber&&b<m;L++)b=this._findMatchesInLine(h,t.getLineContent(L),L,0,b,g,f,m);if(b<m){const L=t.getLineContent(o.endLineNumber).substring(0,o.endColumn-1);b=this._findMatchesInLine(h,L,o.endLineNumber,0,b,g,f,m)}return g}static _findMatchesInLine(t,o,h,f,m,g,b,y){const L=t.wordSeparators;if(!b&&t.simpleSearch){const D=t.simpleSearch,R=D.length,P=o.length;let O=-R;for(;(O=o.indexOf(D,O+R))!==-1;)if((!L||r(L,o,P,O,R))&&(g[m++]=new S.FindMatch(new w.Range(h,O+1+f,h,O+1+R+f),null),m>=y))return m;return m}const N=new n(t.wordSeparators,t.regex);let M;N.reset(0);do if(M=N.next(o),M&&(g[m++]=u(new w.Range(h,M.index+1+f,h,M.index+1+M[0].length+f),M,b),m>=y))return m;while(M);return m}static findNextMatch(t,o,h,f){const m=o.parseSearchRequest();if(!m)return null;const g=new n(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindNextMatchMultiline(t,h,g,f):this._doFindNextMatchLineByLine(t,h,g,f)}static _doFindNextMatchMultiline(t,o,h,f){const m=new k.Position(o.lineNumber,1),g=t.getOffsetAt(m),b=t.getLineCount(),y=t.getValueInRange(new w.Range(m.lineNumber,m.column,b,t.getLineMaxColumn(b)),1),L=t.getEOL()===`\r
`?new a(y):null;h.reset(o.column-1);let N=h.next(y);return N?u(this._getMultilineMatchRange(t,g,y,L,N.index,N[0]),N,f):o.lineNumber!==1||o.column!==1?this._doFindNextMatchMultiline(t,new k.Position(1,1),h,f):null}static _doFindNextMatchLineByLine(t,o,h,f){const m=t.getLineCount(),g=o.lineNumber,b=t.getLineContent(g),y=this._findFirstMatchInLine(h,b,g,o.column,f);if(y)return y;for(let L=1;L<=m;L++){const N=(g+L-1)%m,M=t.getLineContent(N+1),D=this._findFirstMatchInLine(h,M,N+1,1,f);if(D)return D}return null}static _findFirstMatchInLine(t,o,h,f,m){t.reset(f-1);const g=t.next(o);return g?u(new w.Range(h,g.index+1,h,g.index+1+g[0].length),g,m):null}static findPreviousMatch(t,o,h,f){const m=o.parseSearchRequest();if(!m)return null;const g=new n(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindPreviousMatchMultiline(t,h,g,f):this._doFindPreviousMatchLineByLine(t,h,g,f)}static _doFindPreviousMatchMultiline(t,o,h,f){const m=this._doFindMatchesMultiline(t,new w.Range(1,1,o.lineNumber,o.column),h,f,10*p);if(m.length>0)return m[m.length-1];const g=t.getLineCount();return o.lineNumber!==g||o.column!==t.getLineMaxColumn(g)?this._doFindPreviousMatchMultiline(t,new k.Position(g,t.getLineMaxColumn(g)),h,f):null}static _doFindPreviousMatchLineByLine(t,o,h,f){const m=t.getLineCount(),g=o.lineNumber,b=t.getLineContent(g).substring(0,o.column-1),y=this._findLastMatchInLine(h,b,g,f);if(y)return y;for(let L=1;L<=m;L++){const N=(m+g-L-1)%m,M=t.getLineContent(N+1),D=this._findLastMatchInLine(h,M,N+1,f);if(D)return D}return null}static _findLastMatchInLine(t,o,h,f){let m=null,g;for(t.reset(0);g=t.next(o);)m=u(new w.Range(h,g.index+1,h,g.index+1+g[0].length),g,f);return m}}e.TextModelSearch=l;function c(s,t,o,h,f){if(h===0)return!0;const m=t.charCodeAt(h-1);if(s.get(m)!==0||m===13||m===10)return!0;if(f>0){const g=t.charCodeAt(h);if(s.get(g)!==0)return!0}return!1}function d(s,t,o,h,f){if(h+f===o)return!0;const m=t.charCodeAt(h+f);if(s.get(m)!==0||m===13||m===10)return!0;if(f>0){const g=t.charCodeAt(h+f-1);if(s.get(g)!==0)return!0}return!1}function r(s,t,o,h,f){return c(s,t,o,h,f)&&d(s,t,o,h,f)}e.isValidMatch=r;class n{constructor(t,o){this._wordSeparators=t,this._searchRegex=o,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(t){const o=t.length;let h;do{if(this._prevMatchStartIndex+this._prevMatchLength===o||(h=this._searchRegex.exec(t),!h))return null;const f=h.index,m=h[0].length;if(f===this._prevMatchStartIndex&&m===this._prevMatchLength){if(m===0){v.getNextCodePoint(t,o,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=f,this._prevMatchLength=m,!this._wordSeparators||r(this._wordSeparators,t,o,f,m))return h}while(h);return null}}e.Searcher=n}),define(te[227],ie([0,1,14,3,50,492,187]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function p(r){let n;return r[r.length-1]<65536?n=new Uint16Array(r.length):n=new Uint32Array(r.length),n.set(r,0),n}e.createUintArray=p;class C{constructor(n,s,t,o,h){this.lineStarts=n,this.cr=s,this.lf=t,this.crlf=o,this.isBasicASCII=h}}e.LineStarts=C;function i(r,n=!0){let s=[0],t=1;for(let o=0,h=r.length;o<h;o++){const f=r.charCodeAt(o);f===13?o+1<h&&r.charCodeAt(o+1)===10?(s[t++]=o+2,o++):s[t++]=o+1:f===10&&(s[t++]=o+1)}return n?p(s):s}e.createLineStartsFast=i;function _(r,n){r.length=0,r[0]=0;let s=1,t=0,o=0,h=0,f=!0;for(let g=0,b=n.length;g<b;g++){const y=n.charCodeAt(g);y===13?g+1<b&&n.charCodeAt(g+1)===10?(h++,r[s++]=g+2,g++):(t++,r[s++]=g+1):y===10?(o++,r[s++]=g+1):f&&y!==9&&(y<32||y>126)&&(f=!1)}const m=new C(p(r),t,o,h,f);return r.length=0,m}e.createLineStarts=_;class u{constructor(n,s,t,o,h){this.bufferIndex=n,this.start=s,this.end=t,this.lineFeedCnt=o,this.length=h}}e.Piece=u;class a{constructor(n,s){this.buffer=n,this.lineStarts=s}}e.StringBuffer=a;class l{constructor(n,s){this._pieces=[],this._tree=n,this._BOM=s,this._index=0,n.root!==w.SENTINEL&&n.iterate(n.root,t=>(t!==w.SENTINEL&&this._pieces.push(t.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class c{constructor(n){this._limit=n,this._cache=[]}get(n){for(let s=this._cache.length-1;s>=0;s--){let t=this._cache[s];if(t.nodeStartOffset<=n&&t.nodeStartOffset+t.node.piece.length>=n)return t}return null}get2(n){for(let s=this._cache.length-1;s>=0;s--){let t=this._cache[s];if(t.nodeStartLineNumber&&t.nodeStartLineNumber<n&&t.nodeStartLineNumber+t.node.piece.lineFeedCnt>=n)return t}return null}set(n){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(n)}validate(n){let s=!1,t=this._cache;for(let o=0;o<t.length;o++){let h=t[o];if(h.node.parent===null||h.nodeStartOffset>=n){t[o]=null,s=!0;continue}}if(s){let o=[];for(const h of t)h!==null&&o.push(h);this._cache=o}}}class d{constructor(n,s,t){this.create(n,s,t)}create(n,s,t){this._buffers=[new a("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=w.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=s,this._EOLLength=s.length,this._EOLNormalized=t;let o=null;for(let h=0,f=n.length;h<f;h++)if(n[h].buffer.length>0){n[h].lineStarts||(n[h].lineStarts=i(n[h].buffer));let m=new u(h+1,{line:0,column:0},{line:n[h].lineStarts.length-1,column:n[h].buffer.length-n[h].lineStarts[n[h].lineStarts.length-1]},n[h].lineStarts.length-1,n[h].buffer.length);this._buffers.push(n[h]),o=this.rbInsertRight(o,m)}this._searchCache=new c(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(n){let s=e.AverageBufferSize,t=s-Math.floor(s/3),o=t*2,h="",f=0,m=[];if(this.iterate(this.root,g=>{let b=this.getNodeContent(g),y=b.length;if(f<=t||f+y<o)return h+=b,f+=y,!0;let L=h.replace(/\r\n|\r|\n/g,n);return m.push(new a(L,i(L))),h=b,f=y,!0}),f>0){let g=h.replace(/\r\n|\r|\n/g,n);m.push(new a(g,i(g)))}this.create(m,n,!0)}getEOL(){return this._EOL}setEOL(n){this._EOL=n,this._EOLLength=this._EOL.length,this.normalizeEOL(n)}createSnapshot(n){return new l(this,n)}getOffsetAt(n,s){let t=0,o=this.root;for(;o!==w.SENTINEL;)if(o.left!==w.SENTINEL&&o.lf_left+1>=n)o=o.left;else{if(o.lf_left+o.piece.lineFeedCnt+1>=n)return t+=o.size_left,t+=this.getAccumulatedValue(o,n-o.lf_left-2)+s-1;n-=o.lf_left+o.piece.lineFeedCnt,t+=o.size_left+o.piece.length,o=o.right}return t}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let s=this.root,t=0,o=n;for(;s!==w.SENTINEL;)if(s.size_left!==0&&s.size_left>=n)s=s.left;else if(s.size_left+s.piece.length>=n){let h=this.getIndexOf(s,n-s.size_left);if(t+=s.lf_left+h.index,h.index===0){let f=this.getOffsetAt(t+1,1),m=o-f;return new v.Position(t+1,m+1)}return new v.Position(t+1,h.remainder+1)}else if(n-=s.size_left+s.piece.length,t+=s.lf_left+s.piece.lineFeedCnt,s.right===w.SENTINEL){let h=this.getOffsetAt(t+1,1),f=o-n-h;return new v.Position(t+1,f+1)}else s=s.right;return new v.Position(1,1)}getValueInRange(n,s){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";let t=this.nodeAt2(n.startLineNumber,n.startColumn),o=this.nodeAt2(n.endLineNumber,n.endColumn),h=this.getValueInRange2(t,o);return s?s!==this._EOL||!this._EOLNormalized?h.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this._EOLNormalized?h:h.replace(/\r\n|\r|\n/g,s):h}getValueInRange2(n,s){if(n.node===s.node){let m=n.node,g=this._buffers[m.piece.bufferIndex].buffer,b=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);return g.substring(b+n.remainder,b+s.remainder)}let t=n.node,o=this._buffers[t.piece.bufferIndex].buffer,h=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),f=o.substring(h+n.remainder,h+t.piece.length);for(t=t.next();t!==w.SENTINEL;){let m=this._buffers[t.piece.bufferIndex].buffer,g=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(t===s.node){f+=m.substring(g,g+s.remainder);break}else f+=m.substr(g,t.piece.length);t=t.next()}return f}getLinesContent(){let n=[],s=0,t="",o=!1;return this.iterate(this.root,h=>{if(h===w.SENTINEL)return!0;const f=h.piece;let m=f.length;if(m===0)return!0;const g=this._buffers[f.bufferIndex].buffer,b=this._buffers[f.bufferIndex].lineStarts,y=f.start.line,L=f.end.line;let N=b[y]+f.start.column;if(o&&(g.charCodeAt(N)===10&&(N++,m--),n[s++]=t,t="",o=!1,m===0))return!0;if(y===L)return!this._EOLNormalized&&g.charCodeAt(N+m-1)===13?(o=!0,t+=g.substr(N,m-1)):t+=g.substr(N,m),!0;t+=this._EOLNormalized?g.substring(N,Math.max(N,b[y+1]-this._EOLLength)):g.substring(N,b[y+1]).replace(/(\r\n|\r|\n)$/,""),n[s++]=t;for(let M=y+1;M<L;M++)t=this._EOLNormalized?g.substring(b[M],b[M+1]-this._EOLLength):g.substring(b[M],b[M+1]).replace(/(\r\n|\r|\n)$/,""),n[s++]=t;return!this._EOLNormalized&&g.charCodeAt(b[L]+f.end.column-1)===13?(o=!0,f.end.column===0?s--:t=g.substr(b[L],f.end.column-1)):t=g.substr(b[L],f.end.column),!0}),o&&(n[s++]=t,t=""),n[s++]=t,n}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(n){return this._lastVisitedLine.lineNumber===n?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=n,n===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(n):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(n,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(n){if(n.remainder===n.node.piece.length){let s=n.node.next();if(!s)return 0;let t=this._buffers[s.piece.bufferIndex],o=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return t.buffer.charCodeAt(o)}else{let s=this._buffers[n.node.piece.bufferIndex],o=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return s.buffer.charCodeAt(o)}}getLineCharCode(n,s){let t=this.nodeAt2(n,s+1);return this._getCharCode(t)}getLineLength(n){if(n===this.getLineCount()){let s=this.getOffsetAt(n,1);return this.getLength()-s}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this._EOLLength}findMatchesInNode(n,s,t,o,h,f,m,g,b,y,L){let N=this._buffers[n.piece.bufferIndex],M=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),D=this.offsetInBuffer(n.piece.bufferIndex,h),R=this.offsetInBuffer(n.piece.bufferIndex,f),P,O={line:0,column:0},W,F;s._wordSeparators?(W=N.buffer.substring(D,R),F=E=>E+D,s.reset(0)):(W=N.buffer,F=E=>E,s.reset(D));do if(P=s.next(W),P){if(F(P.index)>=R)return y;this.positionInBuffer(n,F(P.index)-M,O);let E=this.getLineFeedCnt(n.piece.bufferIndex,h,O),A=O.line===h.line?O.column-h.column+o:O.column+1,B=A+P[0].length;if(L[y++]=(0,S.createFindMatch)(new I.Range(t+E,A,t+E,B),P,g),F(P.index)+P[0].length>=R||y>=b)return y}while(P);return y}findMatchesLineByLine(n,s,t,o){const h=[];let f=0;const m=new S.Searcher(s.wordSeparators,s.regex);let g=this.nodeAt2(n.startLineNumber,n.startColumn);if(g===null)return[];let b=this.nodeAt2(n.endLineNumber,n.endColumn);if(b===null)return[];let y=this.positionInBuffer(g.node,g.remainder),L=this.positionInBuffer(b.node,b.remainder);if(g.node===b.node)return this.findMatchesInNode(g.node,m,n.startLineNumber,n.startColumn,y,L,s,t,o,f,h),h;let N=n.startLineNumber,M=g.node;for(;M!==b.node;){let R=this.getLineFeedCnt(M.piece.bufferIndex,y,M.piece.end);if(R>=1){let O=this._buffers[M.piece.bufferIndex].lineStarts,W=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start),F=O[y.line+R],E=N===n.startLineNumber?n.startColumn:1;if(f=this.findMatchesInNode(M,m,N,E,y,this.positionInBuffer(M,F-W),s,t,o,f,h),f>=o)return h;N+=R}let P=N===n.startLineNumber?n.startColumn-1:0;if(N===n.endLineNumber){const O=this.getLineContent(N).substring(P,n.endColumn-1);return f=this._findMatchesInLine(s,m,O,n.endLineNumber,P,f,h,t,o),h}if(f=this._findMatchesInLine(s,m,this.getLineContent(N).substr(P),N,P,f,h,t,o),f>=o)return h;N++,g=this.nodeAt2(N,1),M=g.node,y=this.positionInBuffer(g.node,g.remainder)}if(N===n.endLineNumber){let R=N===n.startLineNumber?n.startColumn-1:0;const P=this.getLineContent(N).substring(R,n.endColumn-1);return f=this._findMatchesInLine(s,m,P,n.endLineNumber,R,f,h,t,o),h}let D=N===n.startLineNumber?n.startColumn:1;return f=this.findMatchesInNode(b.node,m,N,D,y,L,s,t,o,f,h),h}_findMatchesInLine(n,s,t,o,h,f,m,g,b){const y=n.wordSeparators;if(!g&&n.simpleSearch){const N=n.simpleSearch,M=N.length,D=t.length;let R=-M;for(;(R=t.indexOf(N,R+M))!==-1;)if((!y||(0,S.isValidMatch)(y,t,D,R,M))&&(m[f++]=new k.FindMatch(new I.Range(o,R+1+h,o,R+1+M+h),null),f>=b))return f;return f}let L;s.reset(0);do if(L=s.next(t),L&&(m[f++]=(0,S.createFindMatch)(new I.Range(o,L.index+1+h,o,L.index+1+L[0].length+h),L,g),f>=b))return f;while(L);return f}insert(n,s,t=!1){if(this._EOLNormalized=this._EOLNormalized&&t,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==w.SENTINEL){let{node:o,remainder:h,nodeStartOffset:f}=this.nodeAt(n),m=o.piece,g=m.bufferIndex,b=this.positionInBuffer(o,h);if(o.piece.bufferIndex===0&&m.end.line===this._lastChangeBufferPos.line&&m.end.column===this._lastChangeBufferPos.column&&f+m.length===n&&s.length<e.AverageBufferSize){this.appendToNode(o,s),this.computeBufferMetadata();return}if(f===n)this.insertContentToNodeLeft(s,o),this._searchCache.validate(n);else if(f+o.piece.length>n){let y=[],L=new u(m.bufferIndex,b,m.end,this.getLineFeedCnt(m.bufferIndex,b,m.end),this.offsetInBuffer(g,m.end)-this.offsetInBuffer(g,b));if(this.shouldCheckCRLF()&&this.endWithCR(s)&&this.nodeCharCodeAt(o,h)===10){let R={line:L.start.line+1,column:0};L=new u(L.bufferIndex,R,L.end,this.getLineFeedCnt(L.bufferIndex,R,L.end),L.length-1),s+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(s))if(this.nodeCharCodeAt(o,h-1)===13){let R=this.positionInBuffer(o,h-1);this.deleteNodeTail(o,R),s="\r"+s,o.piece.length===0&&y.push(o)}else this.deleteNodeTail(o,b);else this.deleteNodeTail(o,b);let N=this.createNewPieces(s);L.length>0&&this.rbInsertRight(o,L);let M=o;for(let D=0;D<N.length;D++)M=this.rbInsertRight(M,N[D]);this.deleteNodes(y)}else this.insertContentToNodeRight(s,o)}else{let o=this.createNewPieces(s),h=this.rbInsertLeft(null,o[0]);for(let f=1;f<o.length;f++)h=this.rbInsertRight(h,o[f])}this.computeBufferMetadata()}delete(n,s){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(s<=0||this.root===w.SENTINEL)){let t=this.nodeAt(n),o=this.nodeAt(n+s),h=t.node,f=o.node;if(h===f){let N=this.positionInBuffer(h,t.remainder),M=this.positionInBuffer(h,o.remainder);if(t.nodeStartOffset===n){if(s===h.piece.length){let D=h.next();(0,w.rbDelete)(this,h),this.validateCRLFWithPrevNode(D),this.computeBufferMetadata();return}this.deleteNodeHead(h,M),this._searchCache.validate(n),this.validateCRLFWithPrevNode(h),this.computeBufferMetadata();return}if(t.nodeStartOffset+h.piece.length===n+s){this.deleteNodeTail(h,N),this.validateCRLFWithNextNode(h),this.computeBufferMetadata();return}this.shrinkNode(h,N,M),this.computeBufferMetadata();return}let m=[],g=this.positionInBuffer(h,t.remainder);this.deleteNodeTail(h,g),this._searchCache.validate(n),h.piece.length===0&&m.push(h);let b=this.positionInBuffer(f,o.remainder);this.deleteNodeHead(f,b),f.piece.length===0&&m.push(f);let y=h.next();for(let N=y;N!==w.SENTINEL&&N!==f;N=N.next())m.push(N);let L=h.piece.length===0?h.prev():h;this.deleteNodes(m),this.validateCRLFWithNextNode(L),this.computeBufferMetadata()}}insertContentToNodeLeft(n,s){let t=[];if(this.shouldCheckCRLF()&&this.endWithCR(n)&&this.startWithLF(s)){let f=s.piece,m={line:f.start.line+1,column:0},g=new u(f.bufferIndex,m,f.end,this.getLineFeedCnt(f.bufferIndex,m,f.end),f.length-1);s.piece=g,n+=`
`,(0,w.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&t.push(s)}let o=this.createNewPieces(n),h=this.rbInsertLeft(s,o[o.length-1]);for(let f=o.length-2;f>=0;f--)h=this.rbInsertLeft(h,o[f]);this.validateCRLFWithPrevNode(h),this.deleteNodes(t)}insertContentToNodeRight(n,s){this.adjustCarriageReturnFromNext(n,s)&&(n+=`
`);let t=this.createNewPieces(n),o=this.rbInsertRight(s,t[0]),h=o;for(let f=1;f<t.length;f++)h=this.rbInsertRight(h,t[f]);this.validateCRLFWithPrevNode(o)}positionInBuffer(n,s,t){let o=n.piece,h=n.piece.bufferIndex,f=this._buffers[h].lineStarts,g=f[o.start.line]+o.start.column+s,b=o.start.line,y=o.end.line,L=0,N=0,M=0;for(;b<=y&&(L=b+(y-b)/2|0,M=f[L],L!==y);)if(N=f[L+1],g<M)y=L-1;else if(g>=N)b=L+1;else break;return t?(t.line=L,t.column=g-M,null):{line:L,column:g-M}}getLineFeedCnt(n,s,t){if(t.column===0)return t.line-s.line;let o=this._buffers[n].lineStarts;if(t.line===o.length-1)return t.line-s.line;let h=o[t.line+1],f=o[t.line]+t.column;if(h>f+1)return t.line-s.line;let m=f-1;return this._buffers[n].buffer.charCodeAt(m)===13?t.line-s.line+1:t.line-s.line}offsetInBuffer(n,s){return this._buffers[n].lineStarts[s.line]+s.column}deleteNodes(n){for(let s=0;s<n.length;s++)(0,w.rbDelete)(this,n[s])}createNewPieces(n){if(n.length>e.AverageBufferSize){let y=[];for(;n.length>e.AverageBufferSize;){const N=n.charCodeAt(e.AverageBufferSize-1);let M;N===13||N>=55296&&N<=56319?(M=n.substring(0,e.AverageBufferSize-1),n=n.substring(e.AverageBufferSize-1)):(M=n.substring(0,e.AverageBufferSize),n=n.substring(e.AverageBufferSize));let D=i(M);y.push(new u(this._buffers.length,{line:0,column:0},{line:D.length-1,column:M.length-D[D.length-1]},D.length-1,M.length)),this._buffers.push(new a(M,D))}let L=i(n);return y.push(new u(this._buffers.length,{line:0,column:0},{line:L.length-1,column:n.length-L[L.length-1]},L.length-1,n.length)),this._buffers.push(new a(n,L)),y}let s=this._buffers[0].buffer.length;const t=i(n,!1);let o=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===s&&s!==0&&this.startWithLF(n)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},o=this._lastChangeBufferPos;for(let y=0;y<t.length;y++)t[y]+=s+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+="_"+n,s+=1}else{if(s!==0)for(let y=0;y<t.length;y++)t[y]+=s;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+=n}const h=this._buffers[0].buffer.length;let f=this._buffers[0].lineStarts.length-1,m=h-this._buffers[0].lineStarts[f],g={line:f,column:m},b=new u(0,o,g,this.getLineFeedCnt(0,o,g),h-s);return this._lastChangeBufferPos=g,[b]}getLineRawContent(n,s=0){let t=this.root,o="",h=this._searchCache.get2(n);if(h){t=h.node;let f=this.getAccumulatedValue(t,n-h.nodeStartLineNumber-1),m=this._buffers[t.piece.bufferIndex].buffer,g=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(h.nodeStartLineNumber+t.piece.lineFeedCnt===n)o=m.substring(g+f,g+t.piece.length);else{let b=this.getAccumulatedValue(t,n-h.nodeStartLineNumber);return m.substring(g+f,g+b-s)}}else{let f=0;const m=n;for(;t!==w.SENTINEL;)if(t.left!==w.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let g=this.getAccumulatedValue(t,n-t.lf_left-2),b=this.getAccumulatedValue(t,n-t.lf_left-1),y=this._buffers[t.piece.bufferIndex].buffer,L=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return f+=t.size_left,this._searchCache.set({node:t,nodeStartOffset:f,nodeStartLineNumber:m-(n-1-t.lf_left)}),y.substring(L+g,L+b-s)}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let g=this.getAccumulatedValue(t,n-t.lf_left-2),b=this._buffers[t.piece.bufferIndex].buffer,y=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);o=b.substring(y+g,y+t.piece.length);break}else n-=t.lf_left+t.piece.lineFeedCnt,f+=t.size_left+t.piece.length,t=t.right}for(t=t.next();t!==w.SENTINEL;){let f=this._buffers[t.piece.bufferIndex].buffer;if(t.piece.lineFeedCnt>0){let m=this.getAccumulatedValue(t,0),g=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return o+=f.substring(g,g+m-s),o}else{let m=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);o+=f.substr(m,t.piece.length)}t=t.next()}return o}computeBufferMetadata(){let n=this.root,s=1,t=0;for(;n!==w.SENTINEL;)s+=n.lf_left+n.piece.lineFeedCnt,t+=n.size_left+n.piece.length,n=n.right;this._lineCnt=s,this._length=t,this._searchCache.validate(this._length)}getIndexOf(n,s){let t=n.piece,o=this.positionInBuffer(n,s),h=o.line-t.start.line;if(this.offsetInBuffer(t.bufferIndex,t.end)-this.offsetInBuffer(t.bufferIndex,t.start)===s){let f=this.getLineFeedCnt(n.piece.bufferIndex,t.start,o);if(f!==h)return{index:f,remainder:0}}return{index:h,remainder:o.column}}getAccumulatedValue(n,s){if(s<0)return 0;let t=n.piece,o=this._buffers[t.bufferIndex].lineStarts,h=t.start.line+s+1;return h>t.end.line?o[t.end.line]+t.end.column-o[t.start.line]-t.start.column:o[h]-o[t.start.line]-t.start.column}deleteNodeTail(n,s){const t=n.piece,o=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.end),f=s,m=this.offsetInBuffer(t.bufferIndex,f),g=this.getLineFeedCnt(t.bufferIndex,t.start,f),b=g-o,y=m-h,L=t.length+y;n.piece=new u(t.bufferIndex,t.start,f,g,L),(0,w.updateTreeMetadata)(this,n,y,b)}deleteNodeHead(n,s){const t=n.piece,o=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.start),f=s,m=this.getLineFeedCnt(t.bufferIndex,f,t.end),g=this.offsetInBuffer(t.bufferIndex,f),b=m-o,y=h-g,L=t.length+y;n.piece=new u(t.bufferIndex,f,t.end,m,L),(0,w.updateTreeMetadata)(this,n,y,b)}shrinkNode(n,s,t){const o=n.piece,h=o.start,f=o.end,m=o.length,g=o.lineFeedCnt,b=s,y=this.getLineFeedCnt(o.bufferIndex,o.start,b),L=this.offsetInBuffer(o.bufferIndex,s)-this.offsetInBuffer(o.bufferIndex,h);n.piece=new u(o.bufferIndex,o.start,b,y,L),(0,w.updateTreeMetadata)(this,n,L-m,y-g);let N=new u(o.bufferIndex,t,f,this.getLineFeedCnt(o.bufferIndex,t,f),this.offsetInBuffer(o.bufferIndex,f)-this.offsetInBuffer(o.bufferIndex,t)),M=this.rbInsertRight(n,N);this.validateCRLFWithPrevNode(M)}appendToNode(n,s){this.adjustCarriageReturnFromNext(s,n)&&(s+=`
`);const t=this.shouldCheckCRLF()&&this.startWithLF(s)&&this.endWithCR(n),o=this._buffers[0].buffer.length;this._buffers[0].buffer+=s;const h=i(s,!1);for(let M=0;M<h.length;M++)h[M]+=o;if(t){let M=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:o-M}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(h.slice(1));const f=this._buffers[0].lineStarts.length-1,m=this._buffers[0].buffer.length-this._buffers[0].lineStarts[f],g={line:f,column:m},b=n.piece.length+s.length,y=n.piece.lineFeedCnt,L=this.getLineFeedCnt(0,n.piece.start,g),N=L-y;n.piece=new u(n.piece.bufferIndex,n.piece.start,g,L,b),this._lastChangeBufferPos=g,(0,w.updateTreeMetadata)(this,n,s.length,N)}nodeAt(n){let s=this.root,t=this._searchCache.get(n);if(t)return{node:t.node,nodeStartOffset:t.nodeStartOffset,remainder:n-t.nodeStartOffset};let o=0;for(;s!==w.SENTINEL;)if(s.size_left>n)s=s.left;else if(s.size_left+s.piece.length>=n){o+=s.size_left;let h={node:s,remainder:n-s.size_left,nodeStartOffset:o};return this._searchCache.set(h),h}else n-=s.size_left+s.piece.length,o+=s.size_left+s.piece.length,s=s.right;return null}nodeAt2(n,s){let t=this.root,o=0;for(;t!==w.SENTINEL;)if(t.left!==w.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let h=this.getAccumulatedValue(t,n-t.lf_left-2),f=this.getAccumulatedValue(t,n-t.lf_left-1);return o+=t.size_left,{node:t,remainder:Math.min(h+s-1,f),nodeStartOffset:o}}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let h=this.getAccumulatedValue(t,n-t.lf_left-2);if(h+s-1<=t.piece.length)return{node:t,remainder:h+s-1,nodeStartOffset:o};s-=t.piece.length-h;break}else n-=t.lf_left+t.piece.lineFeedCnt,o+=t.size_left+t.piece.length,t=t.right;for(t=t.next();t!==w.SENTINEL;){if(t.piece.lineFeedCnt>0){let h=this.getAccumulatedValue(t,0),f=this.offsetOfNode(t);return{node:t,remainder:Math.min(s-1,h),nodeStartOffset:f}}else if(t.piece.length>=s-1){let h=this.offsetOfNode(t);return{node:t,remainder:s-1,nodeStartOffset:h}}else s-=t.piece.length;t=t.next()}return null}nodeCharCodeAt(n,s){if(n.piece.lineFeedCnt<1)return-1;let t=this._buffers[n.piece.bufferIndex],o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start)+s;return t.buffer.charCodeAt(o)}offsetOfNode(n){if(!n)return 0;let s=n.size_left;for(;n!==this.root;)n.parent.right===n&&(s+=n.parent.size_left+n.parent.piece.length),n=n.parent;return s}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===w.SENTINEL||n.piece.lineFeedCnt===0)return!1;let s=n.piece,t=this._buffers[s.bufferIndex].lineStarts,o=s.start.line,h=t[o]+s.start.column;return o===t.length-1||t[o+1]>h+1?!1:this._buffers[s.bufferIndex].buffer.charCodeAt(h)===10}endWithCR(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===w.SENTINEL||n.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(n,n.piece.length-1)===13}validateCRLFWithPrevNode(n){if(this.shouldCheckCRLF()&&this.startWithLF(n)){let s=n.prev();this.endWithCR(s)&&this.fixCRLF(s,n)}}validateCRLFWithNextNode(n){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let s=n.next();this.startWithLF(s)&&this.fixCRLF(n,s)}}fixCRLF(n,s){let t=[],o=this._buffers[n.piece.bufferIndex].lineStarts,h;n.piece.end.column===0?h={line:n.piece.end.line-1,column:o[n.piece.end.line]-o[n.piece.end.line-1]-1}:h={line:n.piece.end.line,column:n.piece.end.column-1};const f=n.piece.length-1,m=n.piece.lineFeedCnt-1;n.piece=new u(n.piece.bufferIndex,n.piece.start,h,m,f),(0,w.updateTreeMetadata)(this,n,-1,-1),n.piece.length===0&&t.push(n);let g={line:s.piece.start.line+1,column:0};const b=s.piece.length-1,y=this.getLineFeedCnt(s.piece.bufferIndex,g,s.piece.end);s.piece=new u(s.piece.bufferIndex,g,s.piece.end,y,b),(0,w.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&t.push(s);let L=this.createNewPieces(`\r
`);this.rbInsertRight(n,L[0]);for(let N=0;N<t.length;N++)(0,w.rbDelete)(this,t[N])}adjustCarriageReturnFromNext(n,s){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let t=s.next();if(this.startWithLF(t)){if(n+=`
`,t.piece.length===1)(0,w.rbDelete)(this,t);else{const o=t.piece,h={line:o.start.line+1,column:0},f=o.length-1,m=this.getLineFeedCnt(o.bufferIndex,h,o.end);t.piece=new u(o.bufferIndex,h,o.end,m,f),(0,w.updateTreeMetadata)(this,t,-1,-1)}return!0}}return!1}iterate(n,s){if(n===w.SENTINEL)return s(w.SENTINEL);let t=this.iterate(n.left,s);return t&&s(n)&&this.iterate(n.right,s)}getNodeContent(n){if(n===w.SENTINEL)return"";let s=this._buffers[n.piece.bufferIndex],t,o=n.piece,h=this.offsetInBuffer(o.bufferIndex,o.start),f=this.offsetInBuffer(o.bufferIndex,o.end);return t=s.buffer.substring(h,f),t}getPieceContent(n){let s=this._buffers[n.bufferIndex],t=this.offsetInBuffer(n.bufferIndex,n.start),o=this.offsetInBuffer(n.bufferIndex,n.end);return s.buffer.substring(t,o)}rbInsertRight(n,s){let t=new w.TreeNode(s,1);if(t.left=w.SENTINEL,t.right=w.SENTINEL,t.parent=w.SENTINEL,t.size_left=0,t.lf_left=0,this.root===w.SENTINEL)this.root=t,t.color=0;else if(n.right===w.SENTINEL)n.right=t,t.parent=n;else{let h=(0,w.leftest)(n.right);h.left=t,t.parent=h}return(0,w.fixInsert)(this,t),t}rbInsertLeft(n,s){let t=new w.TreeNode(s,1);if(t.left=w.SENTINEL,t.right=w.SENTINEL,t.parent=w.SENTINEL,t.size_left=0,t.lf_left=0,this.root===w.SENTINEL)this.root=t,t.color=0;else if(n.left===w.SENTINEL)n.left=t,t.parent=n;else{let o=(0,w.righttest)(n.left);o.right=t,t.parent=o}return(0,w.fixInsert)(this,t),t}}e.PieceTreeBase=d}),define(te[126],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function v(p=""){let C="(-?\\d*\\.\\d\\w*)|([^";for(const i of e.USUAL_WORD_SEPARATORS)p.indexOf(i)>=0||(C+="\\"+i);return C+="\\s]+)",new RegExp(C,"g")}e.DEFAULT_WORD_REGEXP=v();function I(p){let C=e.DEFAULT_WORD_REGEXP;if(p&&p instanceof RegExp)if(p.global)C=p;else{let i="g";p.ignoreCase&&(i+="i"),p.multiline&&(i+="m"),p.unicode&&(i+="u"),C=new RegExp(p.source,i)}return C.lastIndex=0,C}e.ensureValidWordDefinition=I;const k={maxLen:1e3,windowSize:15,timeBudget:150};function w(p,C,i,_,u=k){if(i.length>u.maxLen){let r=p-u.maxLen/2;return r<0?r=0:_+=r,i=i.substring(r,p+u.maxLen/2),w(p,C,i,_,u)}const a=Date.now(),l=p-1-_;let c=-1,d=null;for(let r=1;!(Date.now()-a>=u.timeBudget);r++){const n=l-u.windowSize*r;C.lastIndex=Math.max(0,n);const s=S(C,i,l,c);if(!s&&d||(d=s,n<=0))break;c=n}if(d){let r={word:d[0],startColumn:_+1+d.index,endColumn:_+1+d.index+d[0].length};return C.lastIndex=0,r}return null}e.getWordAtText=w;function S(p,C,i,_){let u;for(;u=p.exec(C);){const a=u.index||0;if(a<=i&&p.lastIndex>=i)return u;if(_>0&&a>_)return null}return null}}),define(te[502],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrankensteinMode=void 0;class v{constructor(k){this._languageIdentifier=k}getId(){return this._languageIdentifier.language}}e.FrankensteinMode=v}),define(te[111],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var v;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(v=e.IndentAction||(e.IndentAction={}));class I{constructor(p){if(this.open=p.open,this.close=p.close,this._standardTokenMask=0,Array.isArray(p.notIn))for(let C=0,i=p.notIn.length;C<i;C++)switch(p.notIn[C]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(p){return(this._standardTokenMask&p)==0}}e.StandardAutoClosingPairConditional=I;class k{constructor(p){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const C of p)w(this.autoClosingPairsOpenByStart,C.open.charAt(0),C),w(this.autoClosingPairsOpenByEnd,C.open.charAt(C.open.length-1),C),w(this.autoClosingPairsCloseByStart,C.close.charAt(0),C),w(this.autoClosingPairsCloseByEnd,C.close.charAt(C.close.length-1),C),C.close.length===1&&C.open.length===1&&w(this.autoClosingPairsCloseSingleChar,C.close,C)}}e.AutoClosingPairs=k;function w(S,p,C){S.has(p)?S.get(p).push(C):S.set(p,[C])}}),define(te[504],ie([0,1,259,74]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function k(w,S,p,C){if(Array.isArray(w)){let i=0;for(const _ of w){const u=k(_,S,p,C);if(u===10)return u;u>i&&(i=u)}return i}else{if(typeof w=="string")return C?w==="*"?5:w===p?10:0:0;if(w){const{language:i,pattern:_,scheme:u,hasAccessToAllModels:a}=w;if(!C&&!a)return 0;let l=0;if(u)if(u===S.scheme)l=10;else if(u==="*")l=5;else return 0;if(i)if(i===p)l=10;else if(i==="*")l=Math.max(l,5);else return 0;if(_){let c;if(typeof _=="string"?c=_:c=Object.assign(Object.assign({},_),{base:(0,I.normalize)(_.base)}),c===S.fsPath||(0,v.match)(c,S.fsPath))l=10;else return 0}return l}else return 0}}e.score=k}),define(te[507],ie([0,1,93]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class I{constructor(a,l,c){const d=new Uint8Array(a*l);for(let r=0,n=a*l;r<n;r++)d[r]=c;this._data=d,this.rows=a,this.cols=l}get(a,l){return this._data[a*this.cols+l]}set(a,l,c){this._data[a*this.cols+l]=c}}e.Uint8Matrix=I;class k{constructor(a){let l=0,c=0;for(let r=0,n=a.length;r<n;r++){let[s,t,o]=a[r];t>l&&(l=t),s>c&&(c=s),o>c&&(c=o)}l++,c++;let d=new I(c,l,0);for(let r=0,n=a.length;r<n;r++){let[s,t,o]=a[r];d.set(s,t,o)}this._states=d,this._maxCharCode=l}nextState(a,l){return l<0||l>=this._maxCharCode?0:this._states.get(a,l)}}e.StateMachine=k;let w=null;function S(){return w===null&&(w=new k([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),w}let p=null;function C(){if(p===null){p=new v.CharacterClassifier(0);const u=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u3011\u300F\u300D\u300B\u3009\u201D\u2019\uFF40\uFF5E\u2026`;for(let l=0;l<u.length;l++)p.set(u.charCodeAt(l),1);const a=".,;";for(let l=0;l<a.length;l++)p.set(a.charCodeAt(l),2)}return p}class i{static _createLink(a,l,c,d,r){let n=r-1;do{const s=l.charCodeAt(n);if(a.get(s)!==2)break;n--}while(n>d);if(d>0){const s=l.charCodeAt(d-1),t=l.charCodeAt(n);(s===40&&t===41||s===91&&t===93||s===123&&t===125)&&n--}return{range:{startLineNumber:c,startColumn:d+1,endLineNumber:c,endColumn:n+2},url:l.substring(d,n+1)}}static computeLinks(a,l=S()){const c=C();let d=[];for(let r=1,n=a.getLineCount();r<=n;r++){const s=a.getLineContent(r),t=s.length;let o=0,h=0,f=0,m=1,g=!1,b=!1,y=!1,L=!1;for(;o<t;){let N=!1;const M=s.charCodeAt(o);if(m===13){let D;switch(M){case 40:g=!0,D=0;break;case 41:D=g?0:1;break;case 91:y=!0,b=!0,D=0;break;case 93:y=!1,D=b?0:1;break;case 123:L=!0,D=0;break;case 125:D=L?0:1;break;case 39:D=f===34||f===96?0:1;break;case 34:D=f===39||f===96?0:1;break;case 96:D=f===39||f===34?0:1;break;case 42:D=f===42?1:0;break;case 124:D=f===124?1:0;break;case 32:D=y?0:1;break;default:D=c.get(M)}D===1&&(d.push(i._createLink(c,s,r,h,o)),N=!0)}else if(m===12){let D;M===91?(b=!0,D=0):D=c.get(M),D===1?N=!0:m=13}else m=l.nextState(m,M),m===0&&(N=!0);N&&(m=1,g=!1,b=!1,L=!1,h=o+1,f=M),o++}m===13&&d.push(i._createLink(c,s,r,h,t))}return d}}e.LinkComputer=i;function _(u){return!u||typeof u.getLineCount!="function"||typeof u.getLineContent!="function"?[]:i.computeLinks(u)}e.computeLinks=_}),define(te[193],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function v(w,S){let p=w.getCount(),C=w.findTokenIndexAtOffset(S),i=w.getLanguageId(C),_=C;for(;_+1<p&&w.getLanguageId(_+1)===i;)_++;let u=C;for(;u>0&&w.getLanguageId(u-1)===i;)u--;return new I(w,i,u,_+1,w.getStartOffset(u),w.getEndOffset(_))}e.createScopedLineTokens=v;class I{constructor(S,p,C,i,_,u){this._actual=S,this.languageId=p,this._firstTokenIndex=C,this._lastTokenIndex=i,this.firstCharOffset=_,this._lastCharOffset=u}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=I;function k(w){return(w&7)!=0}e.ignoreBracketsInToken=k}),define(te[510],ie([0,1,111]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class I{constructor(w){if(w.autoClosingPairs?this._autoClosingPairs=w.autoClosingPairs.map(S=>new v.StandardAutoClosingPairConditional(S)):w.brackets?this._autoClosingPairs=w.brackets.map(S=>new v.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],w.__electricCharacterSupport&&w.__electricCharacterSupport.docComment){const S=w.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new v.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBefore=typeof w.autoCloseBefore=="string"?w.autoCloseBefore:I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=w.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(w,S,p){if(S.getTokenCount()===0)return!0;const C=S.findTokenIndexAtOffset(p-2),i=S.getStandardTokenType(C);return w.isOK(i)}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=I,I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(te[511],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function v(k){return k.global&&(k.lastIndex=0),!0}class I{constructor(w){this._indentationRules=w}shouldIncrease(w){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&v(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(w))}shouldDecrease(w){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&v(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(w))}shouldIndentNextLine(w){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&v(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(w))}shouldIgnore(w){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&v(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(w))}getIndentMetadata(w){let S=0;return this.shouldIncrease(w)&&(S+=1),this.shouldDecrease(w)&&(S+=2),this.shouldIndentNextLine(w)&&(S+=4),this.shouldIgnore(w)&&(S+=8),S}}e.IndentRulesSupport=I}),define(te[512],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class v{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(k,w,S,p,C){if(k&&w){let i=this.doNavigateValueSet(w,C);if(i)return{range:k,value:i}}if(S&&p){let i=this.doNavigateValueSet(p,C);if(i)return{range:S,value:i}}return null}doNavigateValueSet(k,w){let S=this.numberReplace(k,w);return S!==null?S:this.textReplace(k,w)}numberReplace(k,w){let S=Math.pow(10,k.length-(k.lastIndexOf(".")+1)),p=Number(k),C=parseFloat(k);return!isNaN(p)&&!isNaN(C)&&p===C?p===0&&!w?null:(p=Math.floor(p*S),p+=w?S:-S,String(p/S)):null}textReplace(k,w){return this.valueSetsReplace(this._defaultValueSet,k,w)}valueSetsReplace(k,w,S){let p=null;for(let C=0,i=k.length;p===null&&C<i;C++)p=this.valueSetReplace(k[C],w,S);return p}valueSetReplace(k,w,S){let p=k.indexOf(w);return p>=0?(p+=S?1:-1,p<0?p=k.length-1:p%=k.length,k[p]):null}}e.BasicInplaceReplace=v,v.INSTANCE=new v}),define(te[514],ie([0,1,11,8,111]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class w{constructor(p){p=p||{},p.brackets=p.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],p.brackets.forEach(C=>{const i=w._createOpenBracketRegExp(C[0]),_=w._createCloseBracketRegExp(C[1]);i&&_&&this._brackets.push({open:C[0],openRegExp:i,close:C[1],closeRegExp:_})}),this._regExpRules=p.onEnterRules||[]}onEnter(p,C,i,_){if(p>=3)for(let u=0,a=this._regExpRules.length;u<a;u++){let l=this._regExpRules[u];if([{reg:l.beforeText,text:i},{reg:l.afterText,text:_},{reg:l.previousLineText,text:C}].every(d=>d.reg?d.reg.test(d.text):!0))return l.action}if(p>=2&&i.length>0&&_.length>0)for(let u=0,a=this._brackets.length;u<a;u++){let l=this._brackets[u];if(l.openRegExp.test(i)&&l.closeRegExp.test(_))return{indentAction:k.IndentAction.IndentOutdent}}if(p>=2&&i.length>0){for(let u=0,a=this._brackets.length;u<a;u++)if(this._brackets[u].openRegExp.test(i))return{indentAction:k.IndentAction.Indent}}return null}static _createOpenBracketRegExp(p){let C=I.escapeRegExpCharacters(p);return/\B/.test(C.charAt(0))||(C="\\b"+C),C+="\\s*$",w._safeRegExp(C)}static _createCloseBracketRegExp(p){let C=I.escapeRegExpCharacters(p);return/\B/.test(C.charAt(C.length-1))||(C=C+"\\b"),C="^\\s*"+C,w._safeRegExp(C)}static _safeRegExp(p){try{return new RegExp(p)}catch(C){return(0,v.onUnexpectedError)(C),null}}}e.OnEnterSupport=w}),define(te[150],ie([0,1,8,92,3]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class w{constructor(o,h,f,m,g,b){this.languageIdentifier=o,this.index=h,this.open=f,this.close=m,this.forwardRegex=g,this.reversedRegex=b,this._openSet=w._toSet(this.open),this._closeSet=w._toSet(this.close)}isOpen(o){return this._openSet.has(o)}isClose(o){return this._closeSet.has(o)}static _toSet(o){const h=new Set;for(const f of o)h.add(f);return h}}e.RichEditBracket=w;function S(t){const o=t.length;t=t.map(b=>[b[0].toLowerCase(),b[1].toLowerCase()]);const h=[];for(let b=0;b<o;b++)h[b]=b;const f=(b,y)=>{const[L,N]=b,[M,D]=y;return L===M||L===D||N===M||N===D},m=(b,y)=>{const L=Math.min(b,y),N=Math.max(b,y);for(let M=0;M<o;M++)h[M]===N&&(h[M]=L)};for(let b=0;b<o;b++){const y=t[b];for(let L=b+1;L<o;L++){const N=t[L];f(y,N)&&m(h[b],h[L])}}const g=[];for(let b=0;b<o;b++){let y=[],L=[];for(let N=0;N<o;N++)if(h[N]===b){const[M,D]=t[N];y.push(M),L.push(D)}y.length>0&&g.push({open:y,close:L})}return g}class p{constructor(o,h){const f=S(h);this.brackets=f.map((m,g)=>new w(o,g,m.open,m.close,u(m.open,m.close,f,g),a(m.open,m.close,f,g))),this.forwardRegex=l(this.brackets),this.reversedRegex=c(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const m of this.brackets){for(const g of m.open)this.textIsBracket[g]=m,this.textIsOpenBracket[g]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,g.length);for(const g of m.close)this.textIsBracket[g]=m,this.textIsOpenBracket[g]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,g.length)}}}e.RichEditBrackets=p;function C(t,o,h,f){for(let m=0,g=o.length;m<g;m++)if(m!==h){const b=o[m];for(const y of b.open)y.indexOf(t)>=0&&f.push(y);for(const y of b.close)y.indexOf(t)>=0&&f.push(y)}}function i(t,o){return t.length-o.length}function _(t){if(t.length<=1)return t;const o=[],h=new Set;for(const f of t)h.has(f)||(o.push(f),h.add(f));return o}function u(t,o,h,f){let m=[];m=m.concat(t),m=m.concat(o);for(let g=0,b=m.length;g<b;g++)C(m[g],h,f,m);return m=_(m),m.sort(i),m.reverse(),r(m)}function a(t,o,h,f){let m=[];m=m.concat(t),m=m.concat(o);for(let g=0,b=m.length;g<b;g++)C(m[g],h,f,m);return m=_(m),m.sort(i),m.reverse(),r(m.map(n))}function l(t){let o=[];for(const h of t){for(const f of h.open)o.push(f);for(const f of h.close)o.push(f)}return o=_(o),r(o)}function c(t){let o=[];for(const h of t){for(const f of h.open)o.push(f);for(const f of h.close)o.push(f)}return o=_(o),r(o.map(n))}function d(t){const o=/^[\w ]+$/.test(t);return t=v.escapeRegExpCharacters(t),o?`\\b${t}\\b`:t}function r(t){let o=`(${t.map(d).join(")|(")})`;return v.createRegExp(o,!0)}const n=function(){function t(f){if(I.hasTextDecoder){const m=new Uint16Array(f.length);let g=0;for(let b=f.length-1;b>=0;b--)m[g++]=f.charCodeAt(b);return I.getPlatformTextDecoder().decode(m)}else{let m=[],g=0;for(let b=f.length-1;b>=0;b--)m[g++]=f.charAt(b);return m.join("")}}let o=null,h=null;return function(m){return o!==m&&(o=m,h=t(o)),h}}();class s{static _findPrevBracketInText(o,h,f,m){let g=f.match(o);if(!g)return null;let b=f.length-(g.index||0),y=g[0].length,L=m+b;return new k.Range(h,L-y+1,h,L+1)}static findPrevBracketInRange(o,h,f,m,g){const y=n(f).substring(f.length-g,f.length-m);return this._findPrevBracketInText(o,h,y,m)}static findNextBracketInText(o,h,f,m){let g=f.match(o);if(!g)return null;let b=g.index||0,y=g[0].length;if(y===0)return null;let L=m+b;return new k.Range(h,L+1,h,L+1+y)}static findNextBracketInRange(o,h,f,m,g){const b=f.substring(m,g);return this.findNextBracketInText(o,h,b,m)}}e.BracketsUtils=s}),define(te[516],ie([0,1,193,150]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class k{constructor(S){this._richEditBrackets=S}getElectricCharacters(){let S=[];if(this._richEditBrackets)for(const p of this._richEditBrackets.brackets)for(const C of p.close){const i=C.charAt(C.length-1);S.push(i)}return S=S.filter((p,C,i)=>i.indexOf(p)===C),S}onElectricCharacter(S,p,C){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const i=p.findTokenIndexAtOffset(C-1);if((0,v.ignoreBracketsInToken)(p.getStandardTokenType(i)))return null;const _=this._richEditBrackets.reversedRegex,u=p.getLineContent().substring(0,C-1)+S,a=I.BracketsUtils.findPrevBracketInRange(_,1,u,0,u.length);if(!a)return null;const l=u.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const d=p.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:l}:null}}e.BracketElectricCharacterSupport=k}),define(te[42],ie([0,1,6,2,8,126,111,193,510,516,511,514,150]),function($,e,v,I,k,w,S,p,C,i,_,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.RichEditSupport=void 0;class l{constructor(t,o){this._languageIdentifier=t,this._brackets=null,this._electricCharacter=null,this._conf=o,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new u.OnEnterSupport(this._conf):null,this.comments=l._handleComments(this._conf),this.characterPair=new C.CharacterPairSupport(this._conf),this.wordDefinition=this._conf.wordPattern||w.DEFAULT_WORD_REGEXP,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new _.IndentRulesSupport(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new a.RichEditBrackets(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new i.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(t,o,h,f){return this._onEnterSupport?this._onEnterSupport.onEnter(t,o,h,f):null}static _handleComments(t){let o=t.comments;if(!o)return null;let h={};if(o.lineComment&&(h.lineCommentToken=o.lineComment),o.blockComment){let[f,m]=o.blockComment;h.blockCommentStartToken=f,h.blockCommentEndToken=m}return h}}e.RichEditSupport=l;class c{constructor(t){this.languageIdentifier=t}}e.LanguageConfigurationChangeEvent=c;class d{constructor(t,o,h){this.configuration=t,this.priority=o,this.order=h}static cmp(t,o){return t.priority===o.priority?t.order-o.order:t.priority-o.priority}}class r{constructor(t){this.languageIdentifier=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(t,o){const h=new d(t,o,++this._order);return this._entries.push(h),this._resolved=null,(0,I.toDisposable)(()=>{for(let f=0;f<this._entries.length;f++)if(this._entries[f]===h){this._entries.splice(f,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const t=this._resolve();t&&(this._resolved=new l(this.languageIdentifier,t))}return this._resolved}_resolve(){if(this._entries.length===0)return null;this._entries.sort(d.cmp);const t={};for(const o of this._entries){const h=o.configuration;t.comments=h.comments||t.comments,t.brackets=h.brackets||t.brackets,t.wordPattern=h.wordPattern||t.wordPattern,t.indentationRules=h.indentationRules||t.indentationRules,t.onEnterRules=h.onEnterRules||t.onEnterRules,t.autoClosingPairs=h.autoClosingPairs||t.autoClosingPairs,t.surroundingPairs=h.surroundingPairs||t.surroundingPairs,t.autoCloseBefore=h.autoCloseBefore||t.autoCloseBefore,t.folding=h.folding||t.folding,t.__electricCharacterSupport=h.__electricCharacterSupport||t.__electricCharacterSupport}return t}}class n{constructor(){this._entries2=new Map,this._onDidChange=new v.Emitter,this.onDidChange=this._onDidChange.event}register(t,o,h=0){let f=this._entries2.get(t.id);f||(f=new r(t),this._entries2.set(t.id,f));const m=f.register(o,h);return this._onDidChange.fire(new c(t)),(0,I.toDisposable)(()=>{m.dispose(),this._onDidChange.fire(new c(t))})}_getRichEditSupport(t){const o=this._entries2.get(t);return o?o.getRichEditSupport():null}getIndentationRules(t){const o=this._getRichEditSupport(t);return o&&o.indentationRules||null}_getElectricCharacterSupport(t){let o=this._getRichEditSupport(t);return o&&o.electricCharacter||null}getElectricCharacters(t){let o=this._getElectricCharacterSupport(t);return o?o.getElectricCharacters():[]}onElectricCharacter(t,o,h){let f=(0,p.createScopedLineTokens)(o,h-1),m=this._getElectricCharacterSupport(f.languageId);return m?m.onElectricCharacter(t,f,h-f.firstCharOffset):null}getComments(t){let o=this._getRichEditSupport(t);return o&&o.comments||null}_getCharacterPairSupport(t){let o=this._getRichEditSupport(t);return o&&o.characterPair||null}getAutoClosingPairs(t){const o=this._getCharacterPairSupport(t);return new S.AutoClosingPairs(o?o.getAutoClosingPairs():[])}getAutoCloseBeforeSet(t){let o=this._getCharacterPairSupport(t);return o?o.getAutoCloseBeforeSet():C.CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(t){let o=this._getCharacterPairSupport(t);return o?o.getSurroundingPairs():[]}shouldAutoClosePair(t,o,h){const f=(0,p.createScopedLineTokens)(o,h-1);return C.CharacterPairSupport.shouldAutoClosePair(t,f,h-f.firstCharOffset)}getWordDefinition(t){let o=this._getRichEditSupport(t);return o?(0,w.ensureValidWordDefinition)(o.wordDefinition||null):(0,w.ensureValidWordDefinition)(null)}getFoldingRules(t){let o=this._getRichEditSupport(t);return o?o.foldingRules:{}}getIndentRulesSupport(t){let o=this._getRichEditSupport(t);return o&&o.indentRulesSupport||null}getPrecedingValidLine(t,o,h){let f=t.getLanguageIdAtPosition(o,0);if(o>1){let m,g=-1;for(m=o-1;m>=1;m--){if(t.getLanguageIdAtPosition(m,0)!==f)return g;let b=t.getLineContent(m);if(h.shouldIgnore(b)||/^\s+$/.test(b)||b===""){g=m;continue}return m}}return-1}getInheritIndentForLine(t,o,h,f=!0){if(t<4)return null;const m=this.getIndentRulesSupport(o.getLanguageIdentifier().id);if(!m)return null;if(h<=1)return{indentation:"",action:null};const g=this.getPrecedingValidLine(o,h,m);if(g<0)return null;if(g<1)return{indentation:"",action:null};const b=o.getLineContent(g);if(m.shouldIncrease(b)||m.shouldIndentNextLine(b))return{indentation:k.getLeadingWhitespace(b),action:S.IndentAction.Indent,line:g};if(m.shouldDecrease(b))return{indentation:k.getLeadingWhitespace(b),action:null,line:g};{if(g===1)return{indentation:k.getLeadingWhitespace(o.getLineContent(g)),action:null,line:g};const y=g-1,L=m.getIndentMetadata(o.getLineContent(y));if(!(L&(1|2))&&L&4){let N=0;for(let M=y-1;M>0;M--)if(!m.shouldIndentNextLine(o.getLineContent(M))){N=M;break}return{indentation:k.getLeadingWhitespace(o.getLineContent(N+1)),action:null,line:N+1}}if(f)return{indentation:k.getLeadingWhitespace(o.getLineContent(g)),action:null,line:g};for(let N=g;N>0;N--){const M=o.getLineContent(N);if(m.shouldIncrease(M))return{indentation:k.getLeadingWhitespace(M),action:S.IndentAction.Indent,line:N};if(m.shouldIndentNextLine(M)){let D=0;for(let R=N-1;R>0;R--)if(!m.shouldIndentNextLine(o.getLineContent(N))){D=R;break}return{indentation:k.getLeadingWhitespace(o.getLineContent(D+1)),action:null,line:D+1}}else if(m.shouldDecrease(M))return{indentation:k.getLeadingWhitespace(M),action:null,line:N}}return{indentation:k.getLeadingWhitespace(o.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(t,o,h,f,m){if(t<4)return null;const g=this._getRichEditSupport(h);if(!g)return null;const b=this.getIndentRulesSupport(h);if(!b)return null;const y=this.getInheritIndentForLine(t,o,f),L=o.getLineContent(f);if(y){const N=y.line;if(N!==void 0){const M=g.onEnter(t,"",o.getLineContent(N),"");if(M){let D=k.getLeadingWhitespace(o.getLineContent(N));return M.removeText&&(D=D.substring(0,D.length-M.removeText)),M.indentAction===S.IndentAction.Indent||M.indentAction===S.IndentAction.IndentOutdent?D=m.shiftIndent(D):M.indentAction===S.IndentAction.Outdent&&(D=m.unshiftIndent(D)),b.shouldDecrease(L)&&(D=m.unshiftIndent(D)),M.appendText&&(D+=M.appendText),k.getLeadingWhitespace(D)}}return b.shouldDecrease(L)?y.action===S.IndentAction.Indent?y.indentation:m.unshiftIndent(y.indentation):y.action===S.IndentAction.Indent?m.shiftIndent(y.indentation):y.indentation}return null}getIndentForEnter(t,o,h,f){if(t<4)return null;o.forceTokenization(h.startLineNumber);const m=o.getLineTokens(h.startLineNumber),g=(0,p.createScopedLineTokens)(m,h.startColumn-1),b=g.getLineContent();let y=!1,L;g.firstCharOffset>0&&m.getLanguageId(0)!==g.languageId?(y=!0,L=b.substr(0,h.startColumn-1-g.firstCharOffset)):L=m.getLineContent().substring(0,h.startColumn-1);let N;h.isEmpty()?N=b.substr(h.startColumn-1-g.firstCharOffset):N=this.getScopedLineTokens(o,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-g.firstCharOffset);const M=this.getIndentRulesSupport(g.languageId);if(!M)return null;const D=L,R=k.getLeadingWhitespace(L),P={getLineTokens:E=>o.getLineTokens(E),getLanguageIdentifier:()=>o.getLanguageIdentifier(),getLanguageIdAtPosition:(E,A)=>o.getLanguageIdAtPosition(E,A),getLineContent:E=>E===h.startLineNumber?D:o.getLineContent(E)},O=k.getLeadingWhitespace(m.getLineContent()),W=this.getInheritIndentForLine(t,P,h.startLineNumber+1);if(!W){const E=y?O:R;return{beforeEnter:E,afterEnter:E}}let F=y?O:W.indentation;return W.action===S.IndentAction.Indent&&(F=f.shiftIndent(F)),M.shouldDecrease(N)&&(F=f.unshiftIndent(F)),{beforeEnter:y?O:R,afterEnter:F}}getIndentActionForType(t,o,h,f,m){if(t<4)return null;const g=this.getScopedLineTokens(o,h.startLineNumber,h.startColumn);if(g.firstCharOffset)return null;const b=this.getIndentRulesSupport(g.languageId);if(!b)return null;const y=g.getLineContent(),L=y.substr(0,h.startColumn-1-g.firstCharOffset);let N;if(h.isEmpty()?N=y.substr(h.startColumn-1-g.firstCharOffset):N=this.getScopedLineTokens(o,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-g.firstCharOffset),!b.shouldDecrease(L+N)&&b.shouldDecrease(L+f+N)){const M=this.getInheritIndentForLine(t,o,h.startLineNumber,!1);if(!M)return null;let D=M.indentation;return M.action!==S.IndentAction.Indent&&(D=m.unshiftIndent(D)),D}return null}getIndentMetadata(t,o){const h=this.getIndentRulesSupport(t.getLanguageIdentifier().id);return!h||o<1||o>t.getLineCount()?null:h.getIndentMetadata(t.getLineContent(o))}getEnterAction(t,o,h){const f=this.getScopedLineTokens(o,h.startLineNumber,h.startColumn),m=this._getRichEditSupport(f.languageId);if(!m)return null;const g=f.getLineContent(),b=g.substr(0,h.startColumn-1-f.firstCharOffset);let y;h.isEmpty()?y=g.substr(h.startColumn-1-f.firstCharOffset):y=this.getScopedLineTokens(o,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-f.firstCharOffset);let L="";if(h.startLineNumber>1&&f.firstCharOffset===0){const O=this.getScopedLineTokens(o,h.startLineNumber-1);O.languageId===f.languageId&&(L=O.getLineContent())}const N=m.onEnter(t,L,b,y);if(!N)return null;const M=N.indentAction;let D=N.appendText;const R=N.removeText||0;D?M===S.IndentAction.Indent&&(D="	"+D):M===S.IndentAction.Indent||M===S.IndentAction.IndentOutdent?D="	":D="";let P=this.getIndentationAtPosition(o,h.startLineNumber,h.startColumn);return R&&(P=P.substring(0,P.length-R)),{indentAction:M,appendText:D,removeText:R,indentation:P}}getIndentationAtPosition(t,o,h){const f=t.getLineContent(o);let m=k.getLeadingWhitespace(f);return m.length>h-1&&(m=m.substring(0,h-1)),m}getScopedLineTokens(t,o,h){t.forceTokenization(o);const f=t.getLineTokens(o),m=typeof h=="undefined"?t.getLineMaxColumn(o)-1:h-1;return(0,p.createScopedLineTokens)(f,m)}getBracketsSupport(t){const o=this._getRichEditSupport(t);return o&&o.brackets||null}}e.LanguageConfigurationRegistryImpl=n,e.LanguageConfigurationRegistry=new n}),define(te[523],ie([0,1,29]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class I{constructor(r,n,s,t,o){this.token=r,this.index=n,this.fontStyle=s,this.foreground=t,this.background=o}}e.ParsedTokenThemeRule=I;function k(d){if(!d||!Array.isArray(d))return[];let r=[],n=0;for(let s=0,t=d.length;s<t;s++){let o=d[s],h=-1;if(typeof o.fontStyle=="string"){h=0;let g=o.fontStyle.split(" ");for(let b=0,y=g.length;b<y;b++)switch(g[b]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break}}let f=null;typeof o.foreground=="string"&&(f=o.foreground);let m=null;typeof o.background=="string"&&(m=o.background),r[n++]=new I(o.token||"",s,h,f,m)}return r}e.parseTokenTheme=k;function w(d,r){d.sort((b,y)=>{let L=u(b.token,y.token);return L!==0?L:b.index-y.index});let n=0,s="000000",t="ffffff";for(;d.length>=1&&d[0].token==="";){let b=d.shift();b.fontStyle!==-1&&(n=b.fontStyle),b.foreground!==null&&(s=b.foreground),b.background!==null&&(t=b.background)}let o=new p;for(let b of r)o.getId(b);let h=o.getId(s),f=o.getId(t),m=new a(n,h,f),g=new l(m);for(let b=0,y=d.length;b<y;b++){let L=d[b];g.insert(L.token,L.fontStyle,o.getId(L.foreground),o.getId(L.background))}return new C(o,g)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class p{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(r){if(r===null)return 0;const n=r.match(S);if(!n)throw new Error("Illegal value for token color: "+r);r=n[1].toUpperCase();let s=this._color2id.get(r);return s||(s=++this._lastColorId,this._color2id.set(r,s),this._id2color[s]=v.Color.fromHex("#"+r),s)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=p;class C{constructor(r,n){this._colorMap=r,this._root=n,this._cache=new Map}static createFromRawTokenTheme(r,n){return this.createFromParsedTokenTheme(k(r),n)}static createFromParsedTokenTheme(r,n){return w(r,n)}getColorMap(){return this._colorMap.getColorMap()}_match(r){return this._root.match(r)}match(r,n){let s=this._cache.get(n);if(typeof s=="undefined"){let t=this._match(n),o=_(n);s=(t.metadata|o<<8)>>>0,this._cache.set(n,s)}return(s|r<<0)>>>0}}e.TokenTheme=C;const i=/\b(comment|string|regex|regexp)\b/;function _(d){let r=d.match(i);if(!r)return 0;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=_;function u(d,r){return d<r?-1:d>r?1:0}e.strcmp=u;class a{constructor(r,n,s){this._fontStyle=r,this._foreground=n,this._background=s,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new a(this._fontStyle,this._foreground,this._background)}acceptOverwrite(r,n,s){r!==-1&&(this._fontStyle=r),n!==0&&(this._foreground=n),s!==0&&(this._background=s),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=a;class l{constructor(r){this._mainRule=r,this._children=new Map}match(r){if(r==="")return this._mainRule;let n=r.indexOf("."),s,t;n===-1?(s=r,t=""):(s=r.substring(0,n),t=r.substring(n+1));let o=this._children.get(s);return typeof o!="undefined"?o.match(t):this._mainRule}insert(r,n,s,t){if(r===""){this._mainRule.acceptOverwrite(n,s,t);return}let o=r.indexOf("."),h,f;o===-1?(h=r,f=""):(h=r.substring(0,o),f=r.substring(o+1));let m=this._children.get(h);typeof m=="undefined"&&(m=new l(this._mainRule.clone()),this._children.set(h,m)),m.insert(f,n,s,t)}}e.ThemeTrieElement=l;function c(d){let r=[];for(let n=1,s=d.length;n<s;n++){let t=d[n];r[n]=`.mtk${n} { color: ${t}; }`}return r.push(".mtki { font-style: italic; }"),r.push(".mtkb { font-weight: bold; }"),r.push(".mtku { text-decoration: underline; text-underline-position: under; }"),r.join(`
`)}e.generateTokensCSSForColorMap=c}),define(te[527],ie([0,1,6,2]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class k{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new v.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(S){this._onDidChange.fire({changedLanguages:S,changedColorMap:!1})}register(S,p){return this._map.set(S,p),this.fire([S]),(0,I.toDisposable)(()=>{this._map.get(S)===p&&(this._map.delete(S),this.fire([S]))})}registerPromise(S,p){let C=null,i=!1;return this._promises.set(S,p.then(_=>{this._promises.delete(S),!(i||!_)&&(C=this.register(S,_))})),(0,I.toDisposable)(()=>{i=!0,C&&C.dispose()})}getPromise(S){const p=this.get(S);if(p)return Promise.resolve(p);const C=this._promises.get(S);return C?C.then(i=>this.get(S)):null}get(S){return this._map.get(S)||null}setColorMap(S){this._colorMap=S,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=k}),define(te[529],ie([0,1,101,17]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function k(C){for(let i=0,_=C.length;i<_;i+=4){const u=C[i+0],a=C[i+1],l=C[i+2],c=C[i+3];C[i+0]=c,C[i+1]=l,C[i+2]=a,C[i+3]=u}}function w(C){const i=new Uint8Array(C.buffer,C.byteOffset,C.length*4);return I.isLittleEndian()||k(i),v.VSBuffer.wrap(i)}function S(C){const i=new Uint32Array(p(C));let _=0;if(i[_++]=C.id,C.type==="full")i[_++]=1,i[_++]=C.data.length,i.set(C.data,_),_+=C.data.length;else{i[_++]=2,i[_++]=C.deltas.length;for(const u of C.deltas)i[_++]=u.start,i[_++]=u.deleteCount,u.data?(i[_++]=u.data.length,i.set(u.data,_),_+=u.data.length):i[_++]=0}return w(i)}e.encodeSemanticTokensDto=S;function p(C){let i=0;if(i+=1+1,C.type==="full")i+=1+C.data.length;else{i+=1,i+=(1+1+1)*C.deltas.length;for(const _ of C.deltas)_.data&&(i+=_.data.length)}return i}}),define(te[152],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineHintKind=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var v;(function(E){E[E.Unknown=0]="Unknown",E[E.Disabled=1]="Disabled",E[E.Enabled=2]="Enabled"})(v=e.AccessibilitySupport||(e.AccessibilitySupport={}));var I;(function(E){E[E.KeepWhitespace=1]="KeepWhitespace",E[E.InsertAsSnippet=4]="InsertAsSnippet"})(I=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var k;(function(E){E[E.Method=0]="Method",E[E.Function=1]="Function",E[E.Constructor=2]="Constructor",E[E.Field=3]="Field",E[E.Variable=4]="Variable",E[E.Class=5]="Class",E[E.Struct=6]="Struct",E[E.Interface=7]="Interface",E[E.Module=8]="Module",E[E.Property=9]="Property",E[E.Event=10]="Event",E[E.Operator=11]="Operator",E[E.Unit=12]="Unit",E[E.Value=13]="Value",E[E.Constant=14]="Constant",E[E.Enum=15]="Enum",E[E.EnumMember=16]="EnumMember",E[E.Keyword=17]="Keyword",E[E.Text=18]="Text",E[E.Color=19]="Color",E[E.File=20]="File",E[E.Reference=21]="Reference",E[E.Customcolor=22]="Customcolor",E[E.Folder=23]="Folder",E[E.TypeParameter=24]="TypeParameter",E[E.User=25]="User",E[E.Issue=26]="Issue",E[E.Snippet=27]="Snippet"})(k=e.CompletionItemKind||(e.CompletionItemKind={}));var w;(function(E){E[E.Deprecated=1]="Deprecated"})(w=e.CompletionItemTag||(e.CompletionItemTag={}));var S;(function(E){E[E.Invoke=0]="Invoke",E[E.TriggerCharacter=1]="TriggerCharacter",E[E.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(S=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var p;(function(E){E[E.EXACT=0]="EXACT",E[E.ABOVE=1]="ABOVE",E[E.BELOW=2]="BELOW"})(p=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var C;(function(E){E[E.NotSet=0]="NotSet",E[E.ContentFlush=1]="ContentFlush",E[E.RecoverFromMarkers=2]="RecoverFromMarkers",E[E.Explicit=3]="Explicit",E[E.Paste=4]="Paste",E[E.Undo=5]="Undo",E[E.Redo=6]="Redo"})(C=e.CursorChangeReason||(e.CursorChangeReason={}));var i;(function(E){E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(i=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var _;(function(E){E[E.Text=0]="Text",E[E.Read=1]="Read",E[E.Write=2]="Write"})(_=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var u;(function(E){E[E.None=0]="None",E[E.Keep=1]="Keep",E[E.Brackets=2]="Brackets",E[E.Advanced=3]="Advanced",E[E.Full=4]="Full"})(u=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var a;(function(E){E[E.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",E[E.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",E[E.accessibilitySupport=2]="accessibilitySupport",E[E.accessibilityPageSize=3]="accessibilityPageSize",E[E.ariaLabel=4]="ariaLabel",E[E.autoClosingBrackets=5]="autoClosingBrackets",E[E.autoClosingDelete=6]="autoClosingDelete",E[E.autoClosingOvertype=7]="autoClosingOvertype",E[E.autoClosingQuotes=8]="autoClosingQuotes",E[E.autoIndent=9]="autoIndent",E[E.automaticLayout=10]="automaticLayout",E[E.autoSurround=11]="autoSurround",E[E.codeLens=12]="codeLens",E[E.codeLensFontFamily=13]="codeLensFontFamily",E[E.codeLensFontSize=14]="codeLensFontSize",E[E.colorDecorators=15]="colorDecorators",E[E.columnSelection=16]="columnSelection",E[E.comments=17]="comments",E[E.contextmenu=18]="contextmenu",E[E.copyWithSyntaxHighlighting=19]="copyWithSyntaxHighlighting",E[E.cursorBlinking=20]="cursorBlinking",E[E.cursorSmoothCaretAnimation=21]="cursorSmoothCaretAnimation",E[E.cursorStyle=22]="cursorStyle",E[E.cursorSurroundingLines=23]="cursorSurroundingLines",E[E.cursorSurroundingLinesStyle=24]="cursorSurroundingLinesStyle",E[E.cursorWidth=25]="cursorWidth",E[E.disableLayerHinting=26]="disableLayerHinting",E[E.disableMonospaceOptimizations=27]="disableMonospaceOptimizations",E[E.domReadOnly=28]="domReadOnly",E[E.dragAndDrop=29]="dragAndDrop",E[E.emptySelectionClipboard=30]="emptySelectionClipboard",E[E.extraEditorClassName=31]="extraEditorClassName",E[E.fastScrollSensitivity=32]="fastScrollSensitivity",E[E.find=33]="find",E[E.fixedOverflowWidgets=34]="fixedOverflowWidgets",E[E.folding=35]="folding",E[E.foldingStrategy=36]="foldingStrategy",E[E.foldingHighlight=37]="foldingHighlight",E[E.unfoldOnClickAfterEndOfLine=38]="unfoldOnClickAfterEndOfLine",E[E.fontFamily=39]="fontFamily",E[E.fontInfo=40]="fontInfo",E[E.fontLigatures=41]="fontLigatures",E[E.fontSize=42]="fontSize",E[E.fontWeight=43]="fontWeight",E[E.formatOnPaste=44]="formatOnPaste",E[E.formatOnType=45]="formatOnType",E[E.glyphMargin=46]="glyphMargin",E[E.gotoLocation=47]="gotoLocation",E[E.hideCursorInOverviewRuler=48]="hideCursorInOverviewRuler",E[E.highlightActiveIndentGuide=49]="highlightActiveIndentGuide",E[E.hover=50]="hover",E[E.inDiffEditor=51]="inDiffEditor",E[E.letterSpacing=52]="letterSpacing",E[E.lightbulb=53]="lightbulb",E[E.lineDecorationsWidth=54]="lineDecorationsWidth",E[E.lineHeight=55]="lineHeight",E[E.lineNumbers=56]="lineNumbers",E[E.lineNumbersMinChars=57]="lineNumbersMinChars",E[E.linkedEditing=58]="linkedEditing",E[E.links=59]="links",E[E.matchBrackets=60]="matchBrackets",E[E.minimap=61]="minimap",E[E.mouseStyle=62]="mouseStyle",E[E.mouseWheelScrollSensitivity=63]="mouseWheelScrollSensitivity",E[E.mouseWheelZoom=64]="mouseWheelZoom",E[E.multiCursorMergeOverlapping=65]="multiCursorMergeOverlapping",E[E.multiCursorModifier=66]="multiCursorModifier",E[E.multiCursorPaste=67]="multiCursorPaste",E[E.occurrencesHighlight=68]="occurrencesHighlight",E[E.overviewRulerBorder=69]="overviewRulerBorder",E[E.overviewRulerLanes=70]="overviewRulerLanes",E[E.padding=71]="padding",E[E.parameterHints=72]="parameterHints",E[E.peekWidgetDefaultFocus=73]="peekWidgetDefaultFocus",E[E.definitionLinkOpensInPeek=74]="definitionLinkOpensInPeek",E[E.quickSuggestions=75]="quickSuggestions",E[E.quickSuggestionsDelay=76]="quickSuggestionsDelay",E[E.readOnly=77]="readOnly",E[E.renameOnType=78]="renameOnType",E[E.renderControlCharacters=79]="renderControlCharacters",E[E.renderIndentGuides=80]="renderIndentGuides",E[E.renderFinalNewline=81]="renderFinalNewline",E[E.renderLineHighlight=82]="renderLineHighlight",E[E.renderLineHighlightOnlyWhenFocus=83]="renderLineHighlightOnlyWhenFocus",E[E.renderValidationDecorations=84]="renderValidationDecorations",E[E.renderWhitespace=85]="renderWhitespace",E[E.revealHorizontalRightPadding=86]="revealHorizontalRightPadding",E[E.roundedSelection=87]="roundedSelection",E[E.rulers=88]="rulers",E[E.scrollbar=89]="scrollbar",E[E.scrollBeyondLastColumn=90]="scrollBeyondLastColumn",E[E.scrollBeyondLastLine=91]="scrollBeyondLastLine",E[E.scrollPredominantAxis=92]="scrollPredominantAxis",E[E.selectionClipboard=93]="selectionClipboard",E[E.selectionHighlight=94]="selectionHighlight",E[E.selectOnLineNumbers=95]="selectOnLineNumbers",E[E.showFoldingControls=96]="showFoldingControls",E[E.showUnused=97]="showUnused",E[E.snippetSuggestions=98]="snippetSuggestions",E[E.smartSelect=99]="smartSelect",E[E.smoothScrolling=100]="smoothScrolling",E[E.stickyTabStops=101]="stickyTabStops",E[E.stopRenderingLineAfter=102]="stopRenderingLineAfter",E[E.suggest=103]="suggest",E[E.suggestFontSize=104]="suggestFontSize",E[E.suggestLineHeight=105]="suggestLineHeight",E[E.suggestOnTriggerCharacters=106]="suggestOnTriggerCharacters",E[E.suggestSelection=107]="suggestSelection",E[E.tabCompletion=108]="tabCompletion",E[E.tabIndex=109]="tabIndex",E[E.unusualLineTerminators=110]="unusualLineTerminators",E[E.useTabStops=111]="useTabStops",E[E.wordSeparators=112]="wordSeparators",E[E.wordWrap=113]="wordWrap",E[E.wordWrapBreakAfterCharacters=114]="wordWrapBreakAfterCharacters",E[E.wordWrapBreakBeforeCharacters=115]="wordWrapBreakBeforeCharacters",E[E.wordWrapColumn=116]="wordWrapColumn",E[E.wordWrapOverride1=117]="wordWrapOverride1",E[E.wordWrapOverride2=118]="wordWrapOverride2",E[E.wrappingIndent=119]="wrappingIndent",E[E.wrappingStrategy=120]="wrappingStrategy",E[E.showDeprecated=121]="showDeprecated",E[E.inlineHints=122]="inlineHints",E[E.editorClassName=123]="editorClassName",E[E.pixelRatio=124]="pixelRatio",E[E.tabFocusMode=125]="tabFocusMode",E[E.layoutInfo=126]="layoutInfo",E[E.wrappingInfo=127]="wrappingInfo"})(a=e.EditorOption||(e.EditorOption={}));var l;(function(E){E[E.TextDefined=0]="TextDefined",E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(l=e.EndOfLinePreference||(e.EndOfLinePreference={}));var c;(function(E){E[E.LF=0]="LF",E[E.CRLF=1]="CRLF"})(c=e.EndOfLineSequence||(e.EndOfLineSequence={}));var d;(function(E){E[E.None=0]="None",E[E.Indent=1]="Indent",E[E.IndentOutdent=2]="IndentOutdent",E[E.Outdent=3]="Outdent"})(d=e.IndentAction||(e.IndentAction={}));var r;(function(E){E[E.Other=0]="Other",E[E.Type=1]="Type",E[E.Parameter=2]="Parameter"})(r=e.InlineHintKind||(e.InlineHintKind={}));var n;(function(E){E[E.DependsOnKbLayout=-1]="DependsOnKbLayout",E[E.Unknown=0]="Unknown",E[E.Backspace=1]="Backspace",E[E.Tab=2]="Tab",E[E.Enter=3]="Enter",E[E.Shift=4]="Shift",E[E.Ctrl=5]="Ctrl",E[E.Alt=6]="Alt",E[E.PauseBreak=7]="PauseBreak",E[E.CapsLock=8]="CapsLock",E[E.Escape=9]="Escape",E[E.Space=10]="Space",E[E.PageUp=11]="PageUp",E[E.PageDown=12]="PageDown",E[E.End=13]="End",E[E.Home=14]="Home",E[E.LeftArrow=15]="LeftArrow",E[E.UpArrow=16]="UpArrow",E[E.RightArrow=17]="RightArrow",E[E.DownArrow=18]="DownArrow",E[E.Insert=19]="Insert",E[E.Delete=20]="Delete",E[E.KEY_0=21]="KEY_0",E[E.KEY_1=22]="KEY_1",E[E.KEY_2=23]="KEY_2",E[E.KEY_3=24]="KEY_3",E[E.KEY_4=25]="KEY_4",E[E.KEY_5=26]="KEY_5",E[E.KEY_6=27]="KEY_6",E[E.KEY_7=28]="KEY_7",E[E.KEY_8=29]="KEY_8",E[E.KEY_9=30]="KEY_9",E[E.KEY_A=31]="KEY_A",E[E.KEY_B=32]="KEY_B",E[E.KEY_C=33]="KEY_C",E[E.KEY_D=34]="KEY_D",E[E.KEY_E=35]="KEY_E",E[E.KEY_F=36]="KEY_F",E[E.KEY_G=37]="KEY_G",E[E.KEY_H=38]="KEY_H",E[E.KEY_I=39]="KEY_I",E[E.KEY_J=40]="KEY_J",E[E.KEY_K=41]="KEY_K",E[E.KEY_L=42]="KEY_L",E[E.KEY_M=43]="KEY_M",E[E.KEY_N=44]="KEY_N",E[E.KEY_O=45]="KEY_O",E[E.KEY_P=46]="KEY_P",E[E.KEY_Q=47]="KEY_Q",E[E.KEY_R=48]="KEY_R",E[E.KEY_S=49]="KEY_S",E[E.KEY_T=50]="KEY_T",E[E.KEY_U=51]="KEY_U",E[E.KEY_V=52]="KEY_V",E[E.KEY_W=53]="KEY_W",E[E.KEY_X=54]="KEY_X",E[E.KEY_Y=55]="KEY_Y",E[E.KEY_Z=56]="KEY_Z",E[E.Meta=57]="Meta",E[E.ContextMenu=58]="ContextMenu",E[E.F1=59]="F1",E[E.F2=60]="F2",E[E.F3=61]="F3",E[E.F4=62]="F4",E[E.F5=63]="F5",E[E.F6=64]="F6",E[E.F7=65]="F7",E[E.F8=66]="F8",E[E.F9=67]="F9",E[E.F10=68]="F10",E[E.F11=69]="F11",E[E.F12=70]="F12",E[E.F13=71]="F13",E[E.F14=72]="F14",E[E.F15=73]="F15",E[E.F16=74]="F16",E[E.F17=75]="F17",E[E.F18=76]="F18",E[E.F19=77]="F19",E[E.NumLock=78]="NumLock",E[E.ScrollLock=79]="ScrollLock",E[E.US_SEMICOLON=80]="US_SEMICOLON",E[E.US_EQUAL=81]="US_EQUAL",E[E.US_COMMA=82]="US_COMMA",E[E.US_MINUS=83]="US_MINUS",E[E.US_DOT=84]="US_DOT",E[E.US_SLASH=85]="US_SLASH",E[E.US_BACKTICK=86]="US_BACKTICK",E[E.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",E[E.US_BACKSLASH=88]="US_BACKSLASH",E[E.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",E[E.US_QUOTE=90]="US_QUOTE",E[E.OEM_8=91]="OEM_8",E[E.OEM_102=92]="OEM_102",E[E.NUMPAD_0=93]="NUMPAD_0",E[E.NUMPAD_1=94]="NUMPAD_1",E[E.NUMPAD_2=95]="NUMPAD_2",E[E.NUMPAD_3=96]="NUMPAD_3",E[E.NUMPAD_4=97]="NUMPAD_4",E[E.NUMPAD_5=98]="NUMPAD_5",E[E.NUMPAD_6=99]="NUMPAD_6",E[E.NUMPAD_7=100]="NUMPAD_7",E[E.NUMPAD_8=101]="NUMPAD_8",E[E.NUMPAD_9=102]="NUMPAD_9",E[E.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",E[E.NUMPAD_ADD=104]="NUMPAD_ADD",E[E.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",E[E.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",E[E.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",E[E.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",E[E.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",E[E.ABNT_C1=110]="ABNT_C1",E[E.ABNT_C2=111]="ABNT_C2",E[E.MAX_VALUE=112]="MAX_VALUE"})(n=e.KeyCode||(e.KeyCode={}));var s;(function(E){E[E.Hint=1]="Hint",E[E.Info=2]="Info",E[E.Warning=4]="Warning",E[E.Error=8]="Error"})(s=e.MarkerSeverity||(e.MarkerSeverity={}));var t;(function(E){E[E.Unnecessary=1]="Unnecessary",E[E.Deprecated=2]="Deprecated"})(t=e.MarkerTag||(e.MarkerTag={}));var o;(function(E){E[E.Inline=1]="Inline",E[E.Gutter=2]="Gutter"})(o=e.MinimapPosition||(e.MinimapPosition={}));var h;(function(E){E[E.UNKNOWN=0]="UNKNOWN",E[E.TEXTAREA=1]="TEXTAREA",E[E.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",E[E.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",E[E.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",E[E.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",E[E.CONTENT_TEXT=6]="CONTENT_TEXT",E[E.CONTENT_EMPTY=7]="CONTENT_EMPTY",E[E.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",E[E.CONTENT_WIDGET=9]="CONTENT_WIDGET",E[E.OVERVIEW_RULER=10]="OVERVIEW_RULER",E[E.SCROLLBAR=11]="SCROLLBAR",E[E.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",E[E.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(h=e.MouseTargetType||(e.MouseTargetType={}));var f;(function(E){E[E.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",E[E.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",E[E.TOP_CENTER=2]="TOP_CENTER"})(f=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var m;(function(E){E[E.Left=1]="Left",E[E.Center=2]="Center",E[E.Right=4]="Right",E[E.Full=7]="Full"})(m=e.OverviewRulerLane||(e.OverviewRulerLane={}));var g;(function(E){E[E.Off=0]="Off",E[E.On=1]="On",E[E.Relative=2]="Relative",E[E.Interval=3]="Interval",E[E.Custom=4]="Custom"})(g=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var b;(function(E){E[E.None=0]="None",E[E.Text=1]="Text",E[E.Blocks=2]="Blocks"})(b=e.RenderMinimap||(e.RenderMinimap={}));var y;(function(E){E[E.Smooth=0]="Smooth",E[E.Immediate=1]="Immediate"})(y=e.ScrollType||(e.ScrollType={}));var L;(function(E){E[E.Auto=1]="Auto",E[E.Hidden=2]="Hidden",E[E.Visible=3]="Visible"})(L=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var N;(function(E){E[E.LTR=0]="LTR",E[E.RTL=1]="RTL"})(N=e.SelectionDirection||(e.SelectionDirection={}));var M;(function(E){E[E.Invoke=1]="Invoke",E[E.TriggerCharacter=2]="TriggerCharacter",E[E.ContentChange=3]="ContentChange"})(M=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var D;(function(E){E[E.File=0]="File",E[E.Module=1]="Module",E[E.Namespace=2]="Namespace",E[E.Package=3]="Package",E[E.Class=4]="Class",E[E.Method=5]="Method",E[E.Property=6]="Property",E[E.Field=7]="Field",E[E.Constructor=8]="Constructor",E[E.Enum=9]="Enum",E[E.Interface=10]="Interface",E[E.Function=11]="Function",E[E.Variable=12]="Variable",E[E.Constant=13]="Constant",E[E.String=14]="String",E[E.Number=15]="Number",E[E.Boolean=16]="Boolean",E[E.Array=17]="Array",E[E.Object=18]="Object",E[E.Key=19]="Key",E[E.Null=20]="Null",E[E.EnumMember=21]="EnumMember",E[E.Struct=22]="Struct",E[E.Event=23]="Event",E[E.Operator=24]="Operator",E[E.TypeParameter=25]="TypeParameter"})(D=e.SymbolKind||(e.SymbolKind={}));var R;(function(E){E[E.Deprecated=1]="Deprecated"})(R=e.SymbolTag||(e.SymbolTag={}));var P;(function(E){E[E.Hidden=0]="Hidden",E[E.Blink=1]="Blink",E[E.Smooth=2]="Smooth",E[E.Phase=3]="Phase",E[E.Expand=4]="Expand",E[E.Solid=5]="Solid"})(P=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var O;(function(E){E[E.Line=1]="Line",E[E.Block=2]="Block",E[E.Underline=3]="Underline",E[E.LineThin=4]="LineThin",E[E.BlockOutline=5]="BlockOutline",E[E.UnderlineThin=6]="UnderlineThin"})(O=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var W;(function(E){E[E.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",E[E.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",E[E.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",E[E.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(W=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var F;(function(E){E[E.None=0]="None",E[E.Same=1]="Same",E[E.Indent=2]="Indent",E[E.DeepIndent=3]="DeepIndent"})(F=e.WrappingIndent||(e.WrappingIndent={}))}),define(te[226],ie([0,1,24,6,41,23,14,3,21,128,152]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class u{static chord(c,d){return(0,k.KeyChord)(c,d)}}e.KeyMod=u,u.CtrlCmd=2048,u.Shift=1024,u.Alt=512,u.WinCtrl=256;function a(){return{editor:void 0,languages:void 0,CancellationTokenSource:v.CancellationTokenSource,Emitter:I.Emitter,KeyCode:_.KeyCode,KeyMod:u,Position:S.Position,Range:p.Range,Selection:C.Selection,SelectionDirection:_.SelectionDirection,MarkerSeverity:_.MarkerSeverity,MarkerTag:_.MarkerTag,Uri:w.URI,Token:i.Token}}e.createMonacoBaseAPI=a}),define(te[225],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class v{constructor(S,p,C){this.from=S|0,this.to=p|0,this.colorId=C|0}static compare(S,p){return S.colorId===p.colorId?S.from===p.from?S.to-p.to:S.from-p.from:S.colorId-p.colorId}}e.ColorZone=v;class I{constructor(S,p,C){this.startLineNumber=S,this.endLineNumber=p,this.color=C,this._colorZone=null}static compare(S,p){return S.color===p.color?S.startLineNumber===p.startLineNumber?S.endLineNumber-p.endLineNumber:S.startLineNumber-p.startLineNumber:S.color<p.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=I;class k{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(I.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,p=Math.floor(this._lineHeight),C=Math.floor(this.getCanvasHeight()),i=Math.floor(this._outerHeight),_=C/i,u=Math.floor(4*this._pixelRatio/2);let a=[];for(let l=0,c=this._zones.length;l<c;l++){const d=this._zones[l];if(!S){const m=d.getColorZones();if(m){a.push(m);continue}}const r=Math.floor(_*this._getVerticalOffsetForLine(d.startLineNumber)),n=Math.floor(_*(this._getVerticalOffsetForLine(d.endLineNumber)+p));let s=Math.floor((r+n)/2),t=n-s;t<u&&(t=u),s-t<0&&(s=t),s+t>C&&(s=C-t);const o=d.color;let h=this._color2Id[o];h||(h=++this._lastAssignedId,this._color2Id[o]=h,this._id2Color[h]=o);const f=new v(s-t,s+t,h);d.setColorZone(f),a.push(f)}return this._colorZonesInvalid=!1,a.sort(v.compare),a}}e.OverviewZoneManager=k}),define(te[115],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class v{constructor(i,_){this._viewLayout=i,this.viewportData=_,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const u=this._viewLayout.getCurrentViewport();this.scrollTop=u.top,this.scrollLeft=u.left,this.viewportWidth=u.width,this.viewportHeight=u.height}getScrolledTopFromAbsoluteTop(i){return i-this.scrollTop}getVerticalOffsetForLineNumber(i){return this._viewLayout.getVerticalOffsetForLineNumber(i)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=v;class I extends v{constructor(i,_,u){super(i,_);this._viewLines=u}linesVisibleRangesForRange(i,_){return this._viewLines.linesVisibleRangesForRange(i,_)}visibleRangeForPosition(i){return this._viewLines.visibleRangeForPosition(i)}}e.RenderingContext=I;class k{constructor(i,_,u){this.outsideRenderedLine=i,this.lineNumber=_,this.ranges=u}}e.LineVisibleRanges=k;class w{constructor(i,_){this.left=Math.round(i),this.width=Math.round(_)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=w;class S{constructor(i,_){this.outsideRenderedLine=i,this.left=Math.round(_)}}e.HorizontalPosition=S;class p{constructor(i,_){this.outsideRenderedLine=i,this.ranges=_}}e.VisibleRanges=p}),define(te[542],ie([0,1,115]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class I{constructor(S,p){this.left=S,this.width=p}toString(){return`[${this.left},${this.width}]`}static compare(S,p){return S.left-p.left}}class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(S,p){S.selectNodeContents(p)}static _readClientRects(S,p,C,i,_){const u=this._createRange();try{return u.setStart(S,p),u.setEnd(C,i),u.getClientRects()}catch(a){return null}finally{this._detachRange(u,_)}}static _mergeAdjacentRanges(S){if(S.length===1)return[new v.HorizontalRange(S[0].left,S[0].width)];S.sort(I.compare);let p=[],C=0,i=S[0].left,_=S[0].width;for(let u=1,a=S.length;u<a;u++){const l=S[u],c=l.left,d=l.width;i+_+.9>=c?_=Math.max(_,c+d-i):(p[C++]=new v.HorizontalRange(i,_),i=c,_=d)}return p[C++]=new v.HorizontalRange(i,_),p}static _createHorizontalRangesFromClientRects(S,p){if(!S||S.length===0)return null;const C=[];for(let i=0,_=S.length;i<_;i++){const u=S[i];C[i]=new I(Math.max(0,u.left-p),u.width)}return this._mergeAdjacentRanges(C)}static readHorizontalRanges(S,p,C,i,_,u,a){const l=0,c=S.children.length-1;if(l>c)return null;if(p=Math.min(c,Math.max(l,p)),i=Math.min(c,Math.max(l,i)),p===i&&C===_&&C===0&&!S.children[p].firstChild){const s=S.children[p].getClientRects();return this._createHorizontalRangesFromClientRects(s,u)}p!==i&&i>0&&_===0&&(i--,_=1073741824);let d=S.children[p].firstChild,r=S.children[i].firstChild;if((!d||!r)&&(!d&&C===0&&p>0&&(d=S.children[p-1].firstChild,C=1073741824),!r&&_===0&&i>0&&(r=S.children[i-1].firstChild,_=1073741824)),!d||!r)return null;C=Math.min(d.textContent.length,Math.max(0,C)),_=Math.min(r.textContent.length,Math.max(0,_));const n=this._readClientRects(d,C,r,_,a);return this._createHorizontalRangesFromClientRects(n,u)}}e.RangeUtil=k}),define(te[543],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class v{constructor(w){this._theme=w}get type(){return this._theme.type}update(w){this._theme=w}getColor(w){return this._theme.getColor(w)}}e.EditorTheme=v;class I{constructor(w,S,p){this.configuration=w,this.theme=new v(S),this.model=p,this.viewLayout=p.viewLayout}addEventHandler(w){this.model.addViewEventHandler(w)}removeEventHandler(w){this.model.removeViewEventHandler(w)}}e.ViewContext=I}),define(te[158],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class v{constructor(){this.type=0}}e.ViewCompositionStartEvent=v;class I{constructor(){this.type=1}}e.ViewCompositionEndEvent=I;class k{constructor(h){this.type=2,this._source=h}hasChanged(h){return this._source.hasChanged(h)}}e.ViewConfigurationChangedEvent=k;class w{constructor(h,f){this.type=3,this.selections=h,this.modelSelections=f}}e.ViewCursorStateChangedEvent=w;class S{constructor(h){this.type=4,h?(this.affectsMinimap=h.affectsMinimap,this.affectsOverviewRuler=h.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=S;class p{constructor(){this.type=5}}e.ViewFlushedEvent=p;class C{constructor(h){this.type=6,this.isFocused=h}}e.ViewFocusChangedEvent=C;class i{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=i;class _{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=_;class u{constructor(h,f){this.type=9,this.fromLineNumber=h,this.toLineNumber=f}}e.ViewLinesChangedEvent=u;class a{constructor(h,f){this.type=10,this.fromLineNumber=h,this.toLineNumber=f}}e.ViewLinesDeletedEvent=a;class l{constructor(h,f){this.type=11,this.fromLineNumber=h,this.toLineNumber=f}}e.ViewLinesInsertedEvent=l;class c{constructor(h,f,m,g,b,y){this.type=12,this.source=h,this.range=f,this.selections=m,this.verticalType=g,this.revealHorizontal=b,this.scrollType=y}}e.ViewRevealRangeRequestEvent=c;class d{constructor(h){this.type=13,this.scrollWidth=h.scrollWidth,this.scrollLeft=h.scrollLeft,this.scrollHeight=h.scrollHeight,this.scrollTop=h.scrollTop,this.scrollWidthChanged=h.scrollWidthChanged,this.scrollLeftChanged=h.scrollLeftChanged,this.scrollHeightChanged=h.scrollHeightChanged,this.scrollTopChanged=h.scrollTopChanged}}e.ViewScrollChangedEvent=d;class r{constructor(){this.type=14}}e.ViewThemeChangedEvent=r;class n{constructor(h){this.type=15,this.ranges=h}}e.ViewTokensChangedEvent=n;class s{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=s;class t{constructor(){this.type=17}}e.ViewZonesChangedEvent=t}),define(te[159],ie([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class I{constructor(C,i,_,u){this.startColumn=C,this.endColumn=i,this.className=_,this.type=u}static _equals(C,i){return C.startColumn===i.startColumn&&C.endColumn===i.endColumn&&C.className===i.className&&C.type===i.type}static equalsArr(C,i){const _=C.length,u=i.length;if(_!==u)return!1;for(let a=0;a<_;a++)if(!I._equals(C[a],i[a]))return!1;return!0}static extractWrapped(C,i,_){if(C.length===0)return C;const u=i+1,a=_+1,l=_-i,c=[];let d=0;for(const r of C)r.endColumn<=u||r.startColumn>=a||(c[d++]=new I(Math.max(1,r.startColumn-u+1),Math.min(l+1,r.endColumn-u+1),r.className,r.type));return c}static filter(C,i,_,u){if(C.length===0)return[];let a=[],l=0;for(let c=0,d=C.length;c<d;c++){const r=C[c],n=r.range;if(!(n.endLineNumber<i||n.startLineNumber>i)&&!(n.isEmpty()&&(r.type===0||r.type===3))){const s=n.startLineNumber===i?n.startColumn:_,t=n.endLineNumber===i?n.endColumn:u;a[l++]=new I(s,t,r.inlineClassName,r.type)}}return a}static _typeCompare(C,i){const _=[2,0,1,3];return _[C]-_[i]}static compare(C,i){if(C.startColumn===i.startColumn){if(C.endColumn===i.endColumn){const _=I._typeCompare(C.type,i.type);return _===0?C.className<i.className?-1:C.className>i.className?1:0:_}return C.endColumn-i.endColumn}return C.startColumn-i.startColumn}}e.LineDecoration=I;class k{constructor(C,i,_,u){this.startOffset=C,this.endOffset=i,this.className=_,this.metadata=u}}e.DecorationSegment=k;class w{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(C){let i=0;for(let _=0,u=C.length;_<u;_++)i|=C[_];return i}consumeLowerThan(C,i,_){for(;this.count>0&&this.stopOffsets[0]<C;){let u=0;for(;u+1<this.count&&this.stopOffsets[u]===this.stopOffsets[u+1];)u++;_.push(new k(i,this.stopOffsets[u],this.classNames.join(" "),w._metadata(this.metadata))),i=this.stopOffsets[u]+1,this.stopOffsets.splice(0,u+1),this.classNames.splice(0,u+1),this.metadata.splice(0,u+1),this.count-=u+1}return this.count>0&&i<C&&(_.push(new k(i,C-1,this.classNames.join(" "),w._metadata(this.metadata))),i=C),i}insert(C,i,_){if(this.count===0||this.stopOffsets[this.count-1]<=C)this.stopOffsets.push(C),this.classNames.push(i),this.metadata.push(_);else for(let u=0;u<this.count;u++)if(this.stopOffsets[u]>=C){this.stopOffsets.splice(u,0,C),this.classNames.splice(u,0,i),this.metadata.splice(u,0,_);break}this.count++}}class S{static normalize(C,i){if(i.length===0)return[];let _=[];const u=new w;let a=0;for(let l=0,c=i.length;l<c;l++){const d=i[l];let r=d.startColumn,n=d.endColumn;const s=d.className,t=d.type===1?2:d.type===2?4:0;if(r>1){const f=C.charCodeAt(r-2);v.isHighSurrogate(f)&&r--}if(n>1){const f=C.charCodeAt(n-2);v.isHighSurrogate(f)&&n--}const o=r-1,h=n-2;a=u.consumeLowerThan(o,a,_),u.count===0&&(a=o),u.insert(h,s,t)}return u.consumeLowerThan(1073741824,a,_),_}}e.LineDecorationsNormalizer=S}),define(te[549],ie([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class I{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(p){this._hasPending=!0,this._inserts.push(p)}change(p){this._hasPending=!0,this._changes.push(p)}remove(p){this._hasPending=!0,this._removes.push(p)}mustCommit(){return this._hasPending}commit(p){if(!!this._hasPending){const C=this._inserts,i=this._changes,_=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],p._commitPendingChanges(C,i,_)}}}class k{constructor(p,C,i,_,u){this.id=p,this.afterLineNumber=C,this.ordinal=i,this.height=_,this.minWidth=u,this.prefixSum=0}}e.EditorWhitespace=k;class w{constructor(p,C,i,_){this._instanceId=v.singleLetterHash(++w.INSTANCE_COUNT),this._pendingChanges=new I,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=p,this._lineHeight=C,this._paddingTop=i,this._paddingBottom=_}static findInsertionIndex(p,C,i){let _=0,u=p.length;for(;_<u;){const a=_+u>>>1;C===p[a].afterLineNumber?i<p[a].ordinal?u=a:_=a+1:C<p[a].afterLineNumber?u=a:_=a+1}return _}setLineHeight(p){this._checkPendingChanges(),this._lineHeight=p}setPadding(p,C){this._paddingTop=p,this._paddingBottom=C}onFlushed(p){this._checkPendingChanges(),this._lineCount=p}changeWhitespace(p){let C=!1;try{p({insertWhitespace:(_,u,a,l)=>{C=!0,_=_|0,u=u|0,a=a|0,l=l|0;const c=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new k(c,_,u,a,l)),c},changeOneWhitespace:(_,u,a)=>{C=!0,u=u|0,a=a|0,this._pendingChanges.change({id:_,newAfterLineNumber:u,newHeight:a})},removeWhitespace:_=>{C=!0,this._pendingChanges.remove({id:_})}})}finally{this._pendingChanges.commit(this)}return C}_commitPendingChanges(p,C,i){if((p.length>0||i.length>0)&&(this._minWidth=-1),p.length+C.length+i.length<=1){for(const c of p)this._insertWhitespace(c);for(const c of C)this._changeOneWhitespace(c.id,c.newAfterLineNumber,c.newHeight);for(const c of i){const d=this._findWhitespaceIndex(c.id);d!==-1&&this._removeWhitespace(d)}return}const _=new Set;for(const c of i)_.add(c.id);const u=new Map;for(const c of C)u.set(c.id,c);const a=c=>{let d=[];for(const r of c)if(!_.has(r.id)){if(u.has(r.id)){const n=u.get(r.id);r.afterLineNumber=n.newAfterLineNumber,r.height=n.newHeight}d.push(r)}return d},l=a(this._arr).concat(a(p));l.sort((c,d)=>c.afterLineNumber===d.afterLineNumber?c.ordinal-d.ordinal:c.afterLineNumber-d.afterLineNumber),this._arr=l,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(p){const C=w.findInsertionIndex(this._arr,p.afterLineNumber,p.ordinal);this._arr.splice(C,0,p),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)}_findWhitespaceIndex(p){const C=this._arr;for(let i=0,_=C.length;i<_;i++)if(C[i].id===p)return i;return-1}_changeOneWhitespace(p,C,i){const _=this._findWhitespaceIndex(p);if(_!==-1&&(this._arr[_].height!==i&&(this._arr[_].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)),this._arr[_].afterLineNumber!==C)){const u=this._arr[_];this._removeWhitespace(_),u.afterLineNumber=C,this._insertWhitespace(u)}}_removeWhitespace(p){this._arr.splice(p,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)}onLinesDeleted(p,C){this._checkPendingChanges(),p=p|0,C=C|0,this._lineCount-=C-p+1;for(let i=0,_=this._arr.length;i<_;i++){const u=this._arr[i].afterLineNumber;p<=u&&u<=C?this._arr[i].afterLineNumber=p-1:u>C&&(this._arr[i].afterLineNumber-=C-p+1)}}onLinesInserted(p,C){this._checkPendingChanges(),p=p|0,C=C|0,this._lineCount+=C-p+1;for(let i=0,_=this._arr.length;i<_;i++){const u=this._arr[i].afterLineNumber;p<=u&&(this._arr[i].afterLineNumber+=C-p+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(p){this._checkPendingChanges(),p=p|0;let C=Math.max(0,this._prefixSumValidIndex+1);C===0&&(this._arr[0].prefixSum=this._arr[0].height,C++);for(let i=C;i<=p;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,p),this._arr[p].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const p=this._lineHeight*this._lineCount,C=this.getWhitespacesTotalHeight();return p+C+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(p){this._checkPendingChanges(),p=p|0;const C=this._findLastWhitespaceBeforeLineNumber(p);return C===-1?0:this.getWhitespacesAccumulatedHeight(C)}_findLastWhitespaceBeforeLineNumber(p){p=p|0;const C=this._arr;let i=0,_=C.length-1;for(;i<=_;){const a=(_-i|0)/2|0,l=i+a|0;if(C[l].afterLineNumber<p){if(l+1>=C.length||C[l+1].afterLineNumber>=p)return l;i=l+1|0}else _=l-1|0}return-1}_findFirstWhitespaceAfterLineNumber(p){p=p|0;const i=this._findLastWhitespaceBeforeLineNumber(p)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(p){return this._checkPendingChanges(),p=p|0,this._findFirstWhitespaceAfterLineNumber(p)}getVerticalOffsetForLineNumber(p){this._checkPendingChanges(),p=p|0;let C;p>1?C=this._lineHeight*(p-1):C=0;const i=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p);return C+i+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let p=0;for(let C=0,i=this._arr.length;C<i;C++)p=Math.max(p,this._arr[C].minWidth);this._minWidth=p}return this._minWidth}isAfterLines(p){this._checkPendingChanges();const C=this.getLinesTotalHeight();return p>C}isInTopPadding(p){return this._paddingTop===0?!1:(this._checkPendingChanges(),p<this._paddingTop)}isInBottomPadding(p){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const C=this.getLinesTotalHeight();return p>=C-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(p){if(this._checkPendingChanges(),p=p|0,p<0)return 1;const C=this._lineCount|0,i=this._lineHeight;let _=1,u=C;for(;_<u;){const a=(_+u)/2|0,l=this.getVerticalOffsetForLineNumber(a)|0;if(p>=l+i)_=a+1;else{if(p>=l)return a;u=a}}return _>C?C:_}getLinesViewportData(p,C){this._checkPendingChanges(),p=p|0,C=C|0;const i=this._lineHeight,_=this.getLineNumberAtOrAfterVerticalOffset(p)|0,u=this.getVerticalOffsetForLineNumber(_)|0;let a=this._lineCount|0,l=this.getFirstWhitespaceIndexAfterLineNumber(_)|0;const c=this.getWhitespacesCount()|0;let d,r;l===-1?(l=c,r=a+1,d=0):(r=this.getAfterLineNumberForWhitespaceIndex(l)|0,d=this.getHeightForWhitespaceIndex(l)|0);let n=u,s=n;const t=5e5;let o=0;u>=t&&(o=Math.floor(u/t)*t,o=Math.floor(o/i)*i,s-=o);const h=[],f=p+(C-p)/2;let m=-1;for(let L=_;L<=a;L++){if(m===-1){const N=n,M=n+i;(N<=f&&f<M||N>f)&&(m=L)}for(n+=i,h[L-_]=s,s+=i;r===L;)s+=d,n+=d,l++,l>=c?r=a+1:(r=this.getAfterLineNumberForWhitespaceIndex(l)|0,d=this.getHeightForWhitespaceIndex(l)|0);if(n>=C){a=L;break}}m===-1&&(m=a);const g=this.getVerticalOffsetForLineNumber(a)|0;let b=_,y=a;return b<y&&u<p&&b++,b<y&&g+i>C&&y--,{bigNumbersDelta:o,startLineNumber:_,endLineNumber:a,relativeVerticalOffset:h,centeredLineNumber:m,completelyVisibleStartLineNumber:b,completelyVisibleEndLineNumber:y}}getVerticalOffsetForWhitespaceIndex(p){this._checkPendingChanges(),p=p|0;const C=this.getAfterLineNumberForWhitespaceIndex(p);let i;C>=1?i=this._lineHeight*C:i=0;let _;return p>0?_=this.getWhitespacesAccumulatedHeight(p-1):_=0,i+_+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(p){this._checkPendingChanges(),p=p|0;let C=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const _=this.getVerticalOffsetForWhitespaceIndex(i),u=this.getHeightForWhitespaceIndex(i);if(p>=_+u)return-1;for(;C<i;){const a=Math.floor((C+i)/2),l=this.getVerticalOffsetForWhitespaceIndex(a),c=this.getHeightForWhitespaceIndex(a);if(p>=l+c)C=a+1;else{if(p>=l)return a;i=a}}return C}getWhitespaceAtVerticalOffset(p){this._checkPendingChanges(),p=p|0;const C=this.getWhitespaceIndexAtOrAfterVerticallOffset(p);if(C<0||C>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(C);if(i>p)return null;const _=this.getHeightForWhitespaceIndex(C),u=this.getIdForWhitespaceIndex(C),a=this.getAfterLineNumberForWhitespaceIndex(C);return{id:u,afterLineNumber:a,verticalOffset:i,height:_}}getWhitespaceViewportData(p,C){this._checkPendingChanges(),p=p|0,C=C|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(p),_=this.getWhitespacesCount()-1;if(i<0)return[];let u=[];for(let a=i;a<=_;a++){const l=this.getVerticalOffsetForWhitespaceIndex(a),c=this.getHeightForWhitespaceIndex(a);if(l>=C)break;u.push({id:this.getIdForWhitespaceIndex(a),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(a),verticalOffset:l,height:c})}return u}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].id}getAfterLineNumberForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].afterLineNumber}getHeightForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].height}}e.LinesLayout=w,w.INSTANCE_COUNT=0}),define(te[125],ie([0,1,8,92,159]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.RenderLineInput=e.LineRange=void 0;class w{constructor(h,f,m){this.endIndex=h,this.type=f,this.metadata=m}isWhitespace(){return!!(this.metadata&1)}}class S{constructor(h,f){this.startOffset=h,this.endOffset=f}equals(h){return this.startOffset===h.startOffset&&this.endOffset===h.endOffset}}e.LineRange=S;class p{constructor(h,f,m,g,b,y,L,N,M,D,R,P,O,W,F,E,A,B,z){this.useMonospaceOptimizations=h,this.canUseHalfwidthRightwardsArrow=f,this.lineContent=m,this.continuesWithWrappedLine=g,this.isBasicASCII=b,this.containsRTL=y,this.fauxIndentLength=L,this.lineTokens=N,this.lineDecorations=M.sort(k.LineDecoration.compare),this.tabSize=D,this.startVisibleColumn=R,this.spaceWidth=P,this.stopRenderingLineAfter=F,this.renderWhitespace=E==="all"?4:E==="boundary"?1:E==="selection"?2:E==="trailing"?3:0,this.renderControlCharacters=A,this.fontLigatures=B,this.selectionsOnLine=z&&z.sort((G,J)=>G.startOffset<J.startOffset?-1:1);const U=Math.abs(W-P),K=Math.abs(O-P);U<K?(this.renderSpaceWidth=W,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=O,this.renderSpaceCharCode=183)}sameSelection(h){if(this.selectionsOnLine===null)return h===null;if(h===null||h.length!==this.selectionsOnLine.length)return!1;for(let f=0;f<this.selectionsOnLine.length;f++)if(!this.selectionsOnLine[f].equals(h[f]))return!1;return!0}equals(h){return this.useMonospaceOptimizations===h.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===h.canUseHalfwidthRightwardsArrow&&this.lineContent===h.lineContent&&this.continuesWithWrappedLine===h.continuesWithWrappedLine&&this.isBasicASCII===h.isBasicASCII&&this.containsRTL===h.containsRTL&&this.fauxIndentLength===h.fauxIndentLength&&this.tabSize===h.tabSize&&this.startVisibleColumn===h.startVisibleColumn&&this.spaceWidth===h.spaceWidth&&this.renderSpaceWidth===h.renderSpaceWidth&&this.renderSpaceCharCode===h.renderSpaceCharCode&&this.stopRenderingLineAfter===h.stopRenderingLineAfter&&this.renderWhitespace===h.renderWhitespace&&this.renderControlCharacters===h.renderControlCharacters&&this.fontLigatures===h.fontLigatures&&k.LineDecoration.equalsArr(this.lineDecorations,h.lineDecorations)&&this.lineTokens.equals(h.lineTokens)&&this.sameSelection(h.selectionsOnLine)}}e.RenderLineInput=p;class C{constructor(h,f){this.length=h,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(h){return(h&4294901760)>>>16}static getCharIndex(h){return(h&65535)>>>0}setPartData(h,f,m,g){let b=(f<<16|m<<0)>>>0;this._data[h]=b,this._absoluteOffsets[h]=g+m}getAbsoluteOffsets(){return this._absoluteOffsets}charOffsetToPartData(h){return this.length===0?0:h<0?this._data[0]:h>=this.length?this._data[this.length-1]:this._data[h]}partDataToCharOffset(h,f,m){if(this.length===0)return 0;let g=(h<<16|m<<0)>>>0,b=0,y=this.length-1;for(;b+1<y;){let F=b+y>>>1,E=this._data[F];if(E===g)return F;E>g?y=F:b=F}if(b===y)return b;let L=this._data[b],N=this._data[y];if(L===g)return b;if(N===g)return y;let M=C.getPartIndex(L),D=C.getCharIndex(L),R=C.getPartIndex(N),P;M!==R?P=f:P=C.getCharIndex(N);let O=m-D,W=P-m;return O<=W?b:y}}e.CharacterMapping=C;class i{constructor(h,f,m){this.characterMapping=h,this.containsRTL=f,this.containsForeignElements=m}}e.RenderLineOutput=i;function _(o,h){if(o.lineContent.length===0){if(o.lineDecorations.length>0){h.appendASCIIString("<span>");let f=0,m=0,g=0;for(const y of o.lineDecorations)(y.type===1||y.type===2)&&(h.appendASCIIString('<span class="'),h.appendASCIIString(y.className),h.appendASCIIString('"></span>'),y.type===1&&(g|=1,f++),y.type===2&&(g|=2,m++));h.appendASCIIString("</span>");const b=new C(1,f+m);return b.setPartData(0,f,0,0),new i(b,!1,g)}return h.appendASCIIString("<span><span></span></span>"),new i(new C(0,0),!1,0)}return t(c(o),h)}e.renderViewLine=_;class u{constructor(h,f,m,g){this.characterMapping=h,this.html=f,this.containsRTL=m,this.containsForeignElements=g}}e.RenderLineOutput2=u;function a(o){let h=(0,I.createStringBuilder)(1e4),f=_(o,h);return new u(f.characterMapping,h.build(),f.containsRTL,f.containsForeignElements)}e.renderViewLine2=a;class l{constructor(h,f,m,g,b,y,L,N,M,D,R,P,O,W,F){this.fontIsMonospace=h,this.canUseHalfwidthRightwardsArrow=f,this.lineContent=m,this.len=g,this.isOverflowing=b,this.parts=y,this.containsForeignElements=L,this.fauxIndentLength=N,this.tabSize=M,this.startVisibleColumn=D,this.containsRTL=R,this.spaceWidth=P,this.renderSpaceCharCode=O,this.renderWhitespace=W,this.renderControlCharacters=F}}function c(o){const h=o.lineContent;let f,m;o.stopRenderingLineAfter!==-1&&o.stopRenderingLineAfter<h.length?(f=!0,m=o.stopRenderingLineAfter):(f=!1,m=h.length);let g=d(o.lineTokens,o.fauxIndentLength,m);(o.renderWhitespace===4||o.renderWhitespace===1||o.renderWhitespace===2&&!!o.selectionsOnLine||o.renderWhitespace===3)&&(g=n(o,h,m,g));let b=0;if(o.lineDecorations.length>0){for(let y=0,L=o.lineDecorations.length;y<L;y++){const N=o.lineDecorations[y];N.type===3||N.type===1?b|=1:N.type===2&&(b|=2)}g=s(h,m,g,o.lineDecorations)}return o.containsRTL||(g=r(h,g,!o.isBasicASCII||o.fontLigatures)),new l(o.useMonospaceOptimizations,o.canUseHalfwidthRightwardsArrow,h,m,f,g,b,o.fauxIndentLength,o.tabSize,o.startVisibleColumn,o.containsRTL,o.spaceWidth,o.renderSpaceCharCode,o.renderWhitespace,o.renderControlCharacters)}function d(o,h,f){let m=[],g=0;h>0&&(m[g++]=new w(h,"",0));for(let b=0,y=o.getCount();b<y;b++){const L=o.getEndOffset(b);if(!(L<=h)){const N=o.getClassName(b);if(L>=f){m[g++]=new w(f,N,0);break}m[g++]=new w(L,N,0)}}return m}function r(o,h,f){let m=0,g=[],b=0;if(f)for(let y=0,L=h.length;y<L;y++){const N=h[y],M=N.endIndex;if(m+50<M){const D=N.type,R=N.metadata;let P=-1,O=m;for(let W=m;W<M;W++)o.charCodeAt(W)===32&&(P=W),P!==-1&&W-O>=50&&(g[b++]=new w(P+1,D,R),O=P+1,P=-1);O!==M&&(g[b++]=new w(M,D,R))}else g[b++]=N;m=M}else for(let y=0,L=h.length;y<L;y++){const N=h[y],M=N.endIndex;let D=M-m;if(D>50){const R=N.type,P=N.metadata,O=Math.ceil(D/50);for(let W=1;W<O;W++){let F=m+W*50;g[b++]=new w(F,R,P)}g[b++]=new w(M,R,P)}else g[b++]=N;m=M}return g}function n(o,h,f,m){const g=o.continuesWithWrappedLine,b=o.fauxIndentLength,y=o.tabSize,L=o.startVisibleColumn,N=o.useMonospaceOptimizations,M=o.selectionsOnLine,D=o.renderWhitespace===1,R=o.renderWhitespace===3,P=o.renderSpaceWidth!==o.spaceWidth;let O=[],W=0,F=0,E=m[F].type,A=m[F].endIndex;const B=m.length;let z=!1,U=v.firstNonWhitespaceIndex(h),K;U===-1?(z=!0,U=f,K=f):K=v.lastNonWhitespaceIndex(h);let G=!1,J=0,Q=M&&M[J],ae=L%y;for(let Z=b;Z<f;Z++){const T=h.charCodeAt(Z);Q&&Z>=Q.endOffset&&(J++,Q=M&&M[J]);let x;if(Z<U||Z>K)x=!0;else if(T===9)x=!0;else if(T===32)if(D)if(G)x=!0;else{const H=Z+1<f?h.charCodeAt(Z+1):0;x=H===32||H===9}else x=!0;else x=!1;if(x&&M&&(x=!!Q&&Q.startOffset<=Z&&Q.endOffset>Z),x&&R&&(x=z||Z>K),G){if(!x||!N&&ae>=y){if(P){const H=W>0?O[W-1].endIndex:b;for(let V=H+1;V<=Z;V++)O[W++]=new w(V,"mtkw",1)}else O[W++]=new w(Z,"mtkw",1);ae=ae%y}}else(Z===A||x&&Z>b)&&(O[W++]=new w(Z,E,0),ae=ae%y);for(T===9?ae=y:v.isFullWidthCharacter(T)?ae+=2:ae++,G=x;Z===A;)F++,F<B&&(E=m[F].type,A=m[F].endIndex)}let se=!1;if(G)if(g&&D){let Z=f>0?h.charCodeAt(f-1):0,T=f>1?h.charCodeAt(f-2):0;Z===32&&T!==32&&T!==9||(se=!0)}else se=!0;if(se)if(P){const Z=W>0?O[W-1].endIndex:b;for(let T=Z+1;T<=f;T++)O[W++]=new w(T,"mtkw",1)}else O[W++]=new w(f,"mtkw",1);else O[W++]=new w(f,E,0);return O}function s(o,h,f,m){m.sort(k.LineDecoration.compare);const g=k.LineDecorationsNormalizer.normalize(o,m),b=g.length;let y=0,L=[],N=0,M=0;for(let R=0,P=f.length;R<P;R++){const O=f[R],W=O.endIndex,F=O.type,E=O.metadata;for(;y<b&&g[y].startOffset<W;){const A=g[y];if(A.startOffset>M&&(M=A.startOffset,L[N++]=new w(M,F,E)),A.endOffset+1<=W)M=A.endOffset+1,L[N++]=new w(M,F+" "+A.className,E|A.metadata),y++;else{M=W,L[N++]=new w(M,F+" "+A.className,E|A.metadata);break}}W>M&&(M=W,L[N++]=new w(M,F,E))}const D=f[f.length-1].endIndex;if(y<b&&g[y].startOffset===D){let R=[],P=0;for(;y<b&&g[y].startOffset===D;)R.push(g[y].className),P|=g[y].metadata,y++;L[N++]=new w(M,R.join(" "),P)}return L}function t(o,h){const f=o.fontIsMonospace,m=o.canUseHalfwidthRightwardsArrow,g=o.containsForeignElements,b=o.lineContent,y=o.len,L=o.isOverflowing,N=o.parts,M=o.fauxIndentLength,D=o.tabSize,R=o.startVisibleColumn,P=o.containsRTL,O=o.spaceWidth,W=o.renderSpaceCharCode,F=o.renderWhitespace,E=o.renderControlCharacters,A=new C(y+1,N.length);let B=0,z=R,U=0,K=0,G=0,J=0;P?h.appendASCIIString('<span dir="ltr">'):h.appendASCIIString("<span>");for(let Q=0,ae=N.length;Q<ae;Q++){J+=G;const se=N[Q],Z=se.endIndex,T=se.type,x=F!==0&&se.isWhitespace(),H=x&&!f&&(T==="mtkw"||!g),V=B===Z&&se.metadata===4;if(U=0,h.appendASCIIString('<span class="'),h.appendASCIIString(H?"mtkz":T),h.appendASCII(34),x){let q=0;{let ee=B,oe=z;for(;ee<Z;ee++){const Y=(b.charCodeAt(ee)===9?D-oe%D:1)|0;q+=Y,ee>=M&&(oe+=Y)}}for(H&&(h.appendASCIIString(' style="width:'),h.appendASCIIString(String(O*q)),h.appendASCIIString('px"')),h.appendASCII(62);B<Z;B++){A.setPartData(B,Q-K,U,J),K=0;const ee=b.charCodeAt(B);let oe;if(ee===9){oe=D-z%D|0,!m||oe>1?h.write1(8594):h.write1(65515);for(let le=2;le<=oe;le++)h.write1(160)}else oe=1,h.write1(W);U+=oe,B>=M&&(z+=oe)}G=q}else{let q=0;for(h.appendASCII(62);B<Z;B++){A.setPartData(B,Q-K,U,J),K=0;const ee=b.charCodeAt(B);let oe=1,le=1;switch(ee){case 9:oe=D-z%D,le=oe;for(let Y=1;Y<=oe;Y++)h.write1(160);break;case 32:h.write1(160);break;case 60:h.appendASCIIString("&lt;");break;case 62:h.appendASCIIString("&gt;");break;case 38:h.appendASCIIString("&amp;");break;case 0:E?h.write1(9216):h.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:h.write1(65533);break;default:v.isFullWidthCharacter(ee)&&le++,E&&ee<32?h.write1(9216+ee):E&&ee===127?h.write1(9249):h.write1(ee)}U+=oe,q+=oe,B>=M&&(z+=le)}G=q}V?K++:K=0,h.appendASCIIString("</span>")}return A.setPartData(y,N.length-1,U,J),L&&h.appendASCIIString("<span>&hellip;</span>"),h.appendASCIIString("</span>"),new i(A,P,g)}}),define(te[558],ie([0,1,3]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class I{constructor(w,S,p,C){this.selections=w,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=p,this._model=C,this.visibleRange=new v.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(w){return this._model.getViewLineRenderingData(this.visibleRange,w)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=I}),define(te[224],ie([0,1,142]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumComputer=e.PrefixSumIndexOfResult=void 0;class I{constructor(S,p){this.index=S,this.remainder=p}}e.PrefixSumIndexOfResult=I;class k{constructor(S){this.values=S,this.prefixSum=new Uint32Array(S.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(S,p){S=(0,v.toUint32)(S);const C=this.values,i=this.prefixSum,_=p.length;return _===0?!1:(this.values=new Uint32Array(C.length+_),this.values.set(C.subarray(0,S),0),this.values.set(C.subarray(S),S+_),this.values.set(p,S),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(S,p){return S=(0,v.toUint32)(S),p=(0,v.toUint32)(p),this.values[S]===p?!1:(this.values[S]=p,S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),!0)}removeValues(S,p){S=(0,v.toUint32)(S),p=(0,v.toUint32)(p);const C=this.values,i=this.prefixSum;if(S>=C.length)return!1;let _=C.length-S;return p>=_&&(p=_),p===0?!1:(this.values=new Uint32Array(C.length-p),this.values.set(C.subarray(0,S),0),this.values.set(C.subarray(S+p),S),this.prefixSum=new Uint32Array(this.values.length),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalValue(){return this.values.length===0?0:this._getAccumulatedValue(this.values.length-1)}getAccumulatedValue(S){return S<0?0:(S=(0,v.toUint32)(S),this._getAccumulatedValue(S))}_getAccumulatedValue(S){if(S<=this.prefixSumValidIndex[0])return this.prefixSum[S];let p=this.prefixSumValidIndex[0]+1;p===0&&(this.prefixSum[0]=this.values[0],p++),S>=this.values.length&&(S=this.values.length-1);for(let C=p;C<=S;C++)this.prefixSum[C]=this.prefixSum[C-1]+this.values[C];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],S),this.prefixSum[S]}getIndexOf(S){S=Math.floor(S),this.getTotalValue();let p=0,C=this.values.length-1,i=0,_=0,u=0;for(;p<=C;)if(i=p+(C-p)/2|0,_=this.prefixSum[i],u=_-this.values[i],S<u)C=i-1;else if(S>=_)p=i+1;else break;return new I(i,S-u)}}e.PrefixSumComputer=k}),define(te[572],ie([0,1,8,14,224]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class w{constructor(p,C,i,_){this._uri=p,this._lines=C,this._eol=i,this._versionId=_,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(p){p.eol&&p.eol!==this._eol&&(this._eol=p.eol,this._lineStarts=null);const C=p.changes;for(const i of C)this._acceptDeleteRange(i.range),this._acceptInsertText(new I.Position(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=p.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const p=this._eol.length,C=this._lines.length,i=new Uint32Array(C);for(let _=0;_<C;_++)i[_]=this._lines[_].length+p;this._lineStarts=new k.PrefixSumComputer(i)}}_setLineText(p,C){this._lines[p]=C,this._lineStarts&&this._lineStarts.changeValue(p,this._lines[p].length+this._eol.length)}_acceptDeleteRange(p){if(p.startLineNumber===p.endLineNumber){if(p.startColumn===p.endColumn)return;this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.startLineNumber-1].substring(p.endColumn-1));return}this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.endLineNumber-1].substring(p.endColumn-1)),this._lines.splice(p.startLineNumber,p.endLineNumber-p.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(p.startLineNumber,p.endLineNumber-p.startLineNumber)}_acceptInsertText(p,C){if(C.length!==0){let i=(0,v.splitLines)(C);if(i.length===1){this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+i[0]+this._lines[p.lineNumber-1].substring(p.column-1));return}i[i.length-1]+=this._lines[p.lineNumber-1].substring(p.column-1),this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+i[0]);let _=new Uint32Array(i.length-1);for(let u=1;u<i.length;u++)this._lines.splice(p.lineNumber+u-1,0,i[u]),_[u-1]=i[u].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(p.lineNumber,_)}}}e.MirrorTextModel=w}),define(te[576],ie([0,1,162,17,23,14,3,480,572,126,507,512,226,20,82]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class d extends C.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,o){let h=(0,i.getWordAtText)(t.column,(0,i.ensureValidWordDefinition)(o),this._lines[t.lineNumber-1],0);return h?new S.Range(t.lineNumber,h.startColumn,t.lineNumber,h.endColumn):null}words(t){const o=this._lines,h=this._wordenize.bind(this);let f=0,m="",g=0,b=[];return{*[Symbol.iterator](){for(;;)if(g<b.length){const y=m.substring(b[g].start,b[g].end);g+=1,yield y}else if(f<o.length)m=o[f],b=h(m,t),g=0,f+=1;else break}}}getLineWords(t,o){let h=this._lines[t-1],f=this._wordenize(h,o),m=[];for(const g of f)m.push({word:h.substring(g.start,g.end),startColumn:g.start+1,endColumn:g.end+1});return m}_wordenize(t,o){const h=[];let f;for(o.lastIndex=0;(f=o.exec(t))&&f[0].length!==0;)h.push({start:f.index,end:f.index+f[0].length});return h}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);let o=this._eol,h=t.startLineNumber-1,f=t.endLineNumber-1,m=[];m.push(this._lines[h].substring(t.startColumn-1));for(let g=h+1;g<f;g++)m.push(this._lines[g]);return m.push(this._lines[f].substring(0,t.endColumn-1)),m.join(o)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();let o=this._lineStarts.getIndexOf(t),h=this._lines[o.index].length;return{lineNumber:1+o.index,column:1+Math.min(o.remainder,h)}}_validateRange(t){const o=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),h=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return o.lineNumber!==t.startLineNumber||o.column!==t.startColumn||h.lineNumber!==t.endLineNumber||h.column!==t.endColumn?{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:h.lineNumber,endColumn:h.column}:t}_validatePosition(t){if(!w.Position.isIPosition(t))throw new Error("bad position");let{lineNumber:o,column:h}=t,f=!1;if(o<1)o=1,h=1,f=!0;else if(o>this._lines.length)o=this._lines.length,h=this._lines[o-1].length+1,f=!0;else{let m=this._lines[o-1].length+1;h<1?(h=1,f=!0):h>m&&(h=m,f=!0)}return f?{lineNumber:o,column:h}:t}}class r{constructor(t,o){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=o,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){let t=[];return Object.keys(this._models).forEach(o=>t.push(this._models[o])),t}acceptNewModel(t){this._models[t.url]=new d(k.URI.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,o){!this._models[t]||this._models[t].onEvents(o)}acceptRemovedModel(t){!this._models[t]||delete this._models[t]}computeDiff(t,o,h,f){return De(this,void 0,void 0,function*(){const m=this._getModel(t),g=this._getModel(o);if(!m||!g)return null;const b=m.getLinesContent(),y=g.getLinesContent(),N=new p.DiffComputer(b,y,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:h,shouldMakePrettyDiff:!0,maxComputationTime:f}).computeDiff(),M=N.changes.length>0?!1:this._modelsAreIdentical(m,g);return{quitEarly:N.quitEarly,identical:M,changes:N.changes}})}_modelsAreIdentical(t,o){const h=t.getLineCount(),f=o.getLineCount();if(h!==f)return!1;for(let m=1;m<=h;m++){const g=t.getLineContent(m),b=o.getLineContent(m);if(g!==b)return!1}return!0}computeMoreMinimalEdits(t,o){return De(this,void 0,void 0,function*(){const h=this._getModel(t);if(!h)return o;const f=[];let m;o=o.slice(0).sort((g,b)=>{if(g.range&&b.range)return S.Range.compareRangesUsingStarts(g.range,b.range);let y=g.range?0:1,L=b.range?0:1;return y-L});for(let{range:g,text:b,eol:y}of o)if(typeof y=="number"&&(m=y),!(S.Range.isEmpty(g)&&!b)){const L=h.getValueInRange(g);if(b=b.replace(/\r\n|\n|\r/g,h.eol),L!==b){if(Math.max(b.length,L.length)>r._diffLimit){f.push({range:g,text:b});continue}const N=(0,v.stringDiff)(L,b,!1),M=h.offsetAt(S.Range.lift(g).getStartPosition());for(const D of N){const R=h.positionAt(M+D.originalStart),P=h.positionAt(M+D.originalStart+D.originalLength),O={text:b.substr(D.modifiedStart,D.modifiedLength),range:{startLineNumber:R.lineNumber,startColumn:R.column,endLineNumber:P.lineNumber,endColumn:P.column}};h.getValueInRange(O.range)!==O.text&&f.push(O)}}}return typeof m=="number"&&f.push({eol:m,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),f})}computeLinks(t){return De(this,void 0,void 0,function*(){let o=this._getModel(t);return o?(0,_.computeLinks)(o):null})}textualSuggest(t,o,h,f){return De(this,void 0,void 0,function*(){const m=new c.StopWatch(!0),g=new RegExp(h,f),b=new Set;e:for(let y of t){const L=this._getModel(y);if(!!L){for(let N of L.words(g))if(!(N===o||!isNaN(Number(N)))&&(b.add(N),b.size>r._suggestionsLimit))break e}}return{words:Array.from(b),duration:m.elapsed()}})}computeWordRanges(t,o,h,f){return De(this,void 0,void 0,function*(){let m=this._getModel(t);if(!m)return Object.create(null);const g=new RegExp(h,f),b=Object.create(null);for(let y=o.startLineNumber;y<o.endLineNumber;y++){let L=m.getLineWords(y,g);for(const N of L)if(!!isNaN(Number(N.word))){let M=b[N.word];M||(M=[],b[N.word]=M),M.push({startLineNumber:y,startColumn:N.startColumn,endLineNumber:y,endColumn:N.endColumn})}}return b})}navigateValueSet(t,o,h,f,m){return De(this,void 0,void 0,function*(){let g=this._getModel(t);if(!g)return null;let b=new RegExp(f,m);o.startColumn===o.endColumn&&(o={startLineNumber:o.startLineNumber,startColumn:o.startColumn,endLineNumber:o.endLineNumber,endColumn:o.endColumn+1});let y=g.getValueInRange(o),L=g.getWordAtPosition({lineNumber:o.startLineNumber,column:o.startColumn},b);if(!L)return null;let N=g.getValueInRange(L);return u.BasicInplaceReplace.INSTANCE.navigateValueSet(o,y,L,N,h)})}loadForeignModule(t,o,h){const f=(b,y)=>this._host.fhr(b,y);let g={host:l.createProxyObject(h,f),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(g,o),Promise.resolve(l.getAllMethodNames(this._foreignModule))):new Promise((b,y)=>{$([t],L=>{this._foreignModule=L.create(g,o),b(l.getAllMethodNames(this._foreignModule))},y)})}fmr(t,o){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,o))}catch(h){return Promise.reject(h)}}}e.EditorSimpleWorker=r,r._diffLimit=1e5,r._suggestionsLimit=1e4;function n(s){return new r(s,null)}e.create=n,typeof importScripts=="function"&&(I.globals.monaco=(0,a.createMonacoBaseAPI)())}),define(te[118],ie([0,1,2]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class I extends v.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(w){return!1}onCompositionEnd(w){return!1}onConfigurationChanged(w){return!1}onCursorStateChanged(w){return!1}onDecorationsChanged(w){return!1}onFlushed(w){return!1}onFocusChanged(w){return!1}onLanguageConfigurationChanged(w){return!1}onLineMappingChanged(w){return!1}onLinesChanged(w){return!1}onLinesDeleted(w){return!1}onLinesInserted(w){return!1}onRevealRangeRequest(w){return!1}onScrollChanged(w){return!1}onThemeChanged(w){return!1}onTokensChanged(w){return!1}onTokensColorsChanged(w){return!1}onZonesChanged(w){return!1}handleEvents(w){let S=!1;for(let p=0,C=w.length;p<C;p++){let i=w[p];switch(i.type){case 0:this.onCompositionStart(i)&&(S=!0);break;case 1:this.onCompositionEnd(i)&&(S=!0);break;case 2:this.onConfigurationChanged(i)&&(S=!0);break;case 3:this.onCursorStateChanged(i)&&(S=!0);break;case 4:this.onDecorationsChanged(i)&&(S=!0);break;case 5:this.onFlushed(i)&&(S=!0);break;case 6:this.onFocusChanged(i)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(S=!0);break;case 8:this.onLineMappingChanged(i)&&(S=!0);break;case 9:this.onLinesChanged(i)&&(S=!0);break;case 10:this.onLinesDeleted(i)&&(S=!0);break;case 11:this.onLinesInserted(i)&&(S=!0);break;case 12:this.onRevealRangeRequest(i)&&(S=!0);break;case 13:this.onScrollChanged(i)&&(S=!0);break;case 15:this.onTokensChanged(i)&&(S=!0);break;case 14:this.onThemeChanged(i)&&(S=!0);break;case 16:this.onTokensColorsChanged(i)&&(S=!0);break;case 17:this.onZonesChanged(i)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(i)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=I}),define(te[89],ie([0,1,118]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class I extends v.ViewEventHandler{}e.DynamicViewOverlay=I}),define(te[47],ie([0,1,30,118]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends I.ViewEventHandler{constructor(p){super();this._context=p,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class w{static write(p,C){p instanceof v.FastDomNode,p.setAttribute("data-mprt",String(C))}static read(p){const C=p.getAttribute("data-mprt");return C===null?0:parseInt(C,10)}static collect(p,C){let i=[],_=0;for(;p&&p!==document.body&&p!==C;)p.nodeType===p.ELEMENT_NODE&&(i[_++]=this.read(p)),p=p.parentElement;const u=new Uint8Array(_);for(let a=0;a<_;a++)u[a]=i[_-a-1];return u}}e.PartFingerprints=w}),define(te[583],ie([0,1,7,30,47]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class w{constructor(_,u){this.top=_,this.left=u}}class S extends k.ViewPart{constructor(_,u){super(_);this._viewDomNode=u,this._widgets={},this.domNode=(0,I.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,I.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(_){const u=Object.keys(this._widgets);for(const a of u)this._widgets[a].onConfigurationChanged(_);return!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLineMappingChanged(_){const u=Object.keys(this._widgets);for(const a of u)this._widgets[a].onLineMappingChanged(_);return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return!0}onZonesChanged(_){return!0}addWidget(_){const u=new p(this._context,this._viewDomNode,_);this._widgets[u.id]=u,u.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(u.domNode):this.domNode.appendChild(u.domNode),this.setShouldRender()}setWidgetPosition(_,u,a){this._widgets[_.getId()].setPosition(u,a),this.setShouldRender()}removeWidget(_){const u=_.getId();if(this._widgets.hasOwnProperty(u)){const a=this._widgets[u];delete this._widgets[u];const l=a.domNode.domNode;l.parentNode.removeChild(l),l.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(_){return this._widgets.hasOwnProperty(_)?this._widgets[_].suppressMouseDown:!1}onBeforeRender(_){const u=Object.keys(this._widgets);for(const a of u)this._widgets[a].onBeforeRender(_)}prepareRender(_){const u=Object.keys(this._widgets);for(const a of u)this._widgets[a].prepareRender(_)}render(_){const u=Object.keys(this._widgets);for(const a of u)this._widgets[a].render(_)}}e.ViewContentWidgets=S;class p{constructor(_,u,a){this._context=_,this._viewDomNode=u,this._actual=a,this.domNode=(0,I.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const l=this._context.configuration.options,c=l.get(126);this._fixedOverflowWidgets=l.get(34),this._contentWidth=c.contentWidth,this._contentLeft=c.contentLeft,this._lineHeight=l.get(55),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(_){const u=this._context.configuration.options;if(this._lineHeight=u.get(55),_.hasChanged(126)){const a=u.get(126);this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(_){this._setPosition(this._range)}_setPosition(_){if(this._range=_,this._viewRange=null,this._range){const u=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(u.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(u.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(u))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(_,u){this._setPosition(_),this._preference=u,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(_,u,a,l,c){const d=_.top,r=d,n=u.top+this._lineHeight,s=c.viewportHeight-n,t=d-l,o=r>=l,h=n,f=s>=l;let m=_.left,g=u.left;return m+a>c.scrollLeft+c.viewportWidth&&(m=c.scrollLeft+c.viewportWidth-a),g+a>c.scrollLeft+c.viewportWidth&&(g=c.scrollLeft+c.viewportWidth-a),m<c.scrollLeft&&(m=c.scrollLeft),g<c.scrollLeft&&(g=c.scrollLeft),{fitsAbove:o,aboveTop:t,aboveLeft:m,fitsBelow:f,belowTop:h,belowLeft:g}}_layoutHorizontalSegmentInPage(_,u,a,l){const c=Math.max(0,u.left-l),d=Math.min(u.left+u.width+l,_.width);let r=u.left+a-v.StandardWindow.scrollX;if(r+l>d){const n=r-(d-l);r-=n,a-=n}if(r<c){const n=r-c;r-=n,a-=n}return[a,r]}_layoutBoxInPage(_,u,a,l,c){const d=_.top-l,r=u.top+this._lineHeight,n=v.getDomNodePagePosition(this._viewDomNode.domNode),s=n.top+d-v.StandardWindow.scrollY,t=n.top+r-v.StandardWindow.scrollY,o=v.getClientArea(document.body),[h,f]=this._layoutHorizontalSegmentInPage(o,n,_.left-c.scrollLeft+this._contentLeft,a),[m,g]=this._layoutHorizontalSegmentInPage(o,n,u.left-c.scrollLeft+this._contentLeft,a),b=22,y=22,L=s>=b,N=t+l<=o.height-y;return this._fixedOverflowWidgets?{fitsAbove:L,aboveTop:Math.max(s,b),aboveLeft:f,fitsBelow:N,belowTop:t,belowLeft:g}:{fitsAbove:L,aboveTop:d,aboveLeft:h,fitsBelow:N,belowTop:r,belowLeft:m}}_prepareRenderWidgetAtExactPositionOverflowing(_){return new w(_.top,_.left+this._contentLeft)}_getTopAndBottomLeft(_){if(!this._viewRange)return[null,null];const u=_.linesVisibleRangesForRange(this._viewRange,!1);if(!u||u.length===0)return[null,null];let a=u[0],l=u[0];for(const o of u)o.lineNumber<a.lineNumber&&(a=o),o.lineNumber>l.lineNumber&&(l=o);let c=1073741824;for(const o of a.ranges)o.left<c&&(c=o.left);let d=1073741824;for(const o of l.ranges)o.left<d&&(d=o.left);const r=_.getVerticalOffsetForLineNumber(a.lineNumber)-_.scrollTop,n=new w(r,c),s=_.getVerticalOffsetForLineNumber(l.lineNumber)-_.scrollTop,t=new w(s,d);return[n,t]}_prepareRenderWidget(_){const[u,a]=this._getTopAndBottomLeft(_);if(!u||!a)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let c=null;if(typeof this._actual.beforeRender=="function"&&(c=C(this._actual.beforeRender,this._actual)),c)this._cachedDomNodeClientWidth=c.width,this._cachedDomNodeClientHeight=c.height;else{const d=this.domNode.domNode;this._cachedDomNodeClientWidth=d.clientWidth,this._cachedDomNodeClientHeight=d.clientHeight}}let l;if(this.allowEditorOverflow?l=this._layoutBoxInPage(u,a,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,_):l=this._layoutBoxInViewport(u,a,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,_),this._preference)for(let c=1;c<=2;c++)for(const d of this._preference)if(d===1){if(!l)return null;if(c===2||l.fitsAbove)return{coordinate:new w(l.aboveTop,l.aboveLeft),position:1}}else if(d===2){if(!l)return null;if(c===2||l.fitsBelow)return{coordinate:new w(l.belowTop,l.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(u),position:0}:{coordinate:u,position:0};return null}onBeforeRender(_){!this._viewRange||!this._preference||this._viewRange.endLineNumber<_.startLineNumber||this._viewRange.startLineNumber>_.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(_){this._renderData=this._prepareRenderWidget(_)}render(_){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+_.scrollTop-_.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,this._renderData.position)}}function C(i,_,...u){try{return i.call(_,...u)}catch(a){return null}}}),define(te[587],ie([0,1,89,3,115,648]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class w extends v.DynamicViewOverlay{constructor(p){super();this._context=p;const C=this._context.configuration.options;this._lineHeight=C.get(55),this._typicalHalfwidthCharacterWidth=C.get(40).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const C=this._context.configuration.options;return this._lineHeight=C.get(55),this._typicalHalfwidthCharacterWidth=C.get(40).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}prepareRender(p){const C=p.getDecorationsInViewport();let i=[],_=0;for(let c=0,d=C.length;c<d;c++){const r=C[c];r.options.className&&(i[_++]=r)}i=i.sort((c,d)=>{if(c.options.zIndex<d.options.zIndex)return-1;if(c.options.zIndex>d.options.zIndex)return 1;const r=c.options.className,n=d.options.className;return r<n?-1:r>n?1:I.Range.compareRangesUsingStarts(c.range,d.range)});const u=p.visibleRange.startLineNumber,a=p.visibleRange.endLineNumber,l=[];for(let c=u;c<=a;c++){const d=c-u;l[d]=""}this._renderWholeLineDecorations(p,i,l),this._renderNormalDecorations(p,i,l),this._renderResult=l}_renderWholeLineDecorations(p,C,i){const _=String(this._lineHeight),u=p.visibleRange.startLineNumber,a=p.visibleRange.endLineNumber;for(let l=0,c=C.length;l<c;l++){const d=C[l];if(!!d.options.isWholeLine){const r='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+_+'px;"></div>',n=Math.max(d.range.startLineNumber,u),s=Math.min(d.range.endLineNumber,a);for(let t=n;t<=s;t++){const o=t-u;i[o]+=r}}}}_renderNormalDecorations(p,C,i){const _=String(this._lineHeight),u=p.visibleRange.startLineNumber;let a=null,l=!1,c=null;for(let d=0,r=C.length;d<r;d++){const n=C[d];if(!n.options.isWholeLine){const s=n.options.className,t=Boolean(n.options.showIfCollapsed);let o=n.range;if(t&&o.endColumn===1&&o.endLineNumber!==o.startLineNumber&&(o=new I.Range(o.startLineNumber,o.startColumn,o.endLineNumber-1,this._context.model.getLineMaxColumn(o.endLineNumber-1))),a===s&&l===t&&I.Range.areIntersectingOrTouching(c,o)){c=I.Range.plusRange(c,o);continue}a!==null&&this._renderNormalDecoration(p,c,a,l,_,u,i),a=s,l=t,c=o}}a!==null&&this._renderNormalDecoration(p,c,a,l,_,u,i)}_renderNormalDecoration(p,C,i,_,u,a,l){const c=p.linesVisibleRangesForRange(C,i==="findMatch");if(!!c)for(let d=0,r=c.length;d<r;d++){const n=c[d];if(!n.outsideRenderedLine){const s=n.lineNumber-a;if(_&&n.ranges.length===1){const t=n.ranges[0];t.width===0&&(n.ranges[0]=new k.HorizontalRange(t.left,this._typicalHalfwidthCharacterWidth))}for(let t=0,o=n.ranges.length;t<o;t++){const h=n.ranges[t],f='<div class="cdr '+i+'" style="left:'+String(h.left)+"px;width:"+String(h.width)+"px;height:"+u+'px;"></div>';l[s]+=f}}}}render(p,C){if(!this._renderResult)return"";const i=C-p;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.DecorationsOverlay=w}),define(te[165],ie([0,1,89,666]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class I{constructor(p,C,i){this.startLineNumber=+p,this.endLineNumber=+C,this.className=String(i)}}e.DecorationToRender=I;class k extends v.DynamicViewOverlay{_render(p,C,i){const _=[];for(let l=p;l<=C;l++){const c=l-p;_[c]=[]}if(i.length===0)return _;i.sort((l,c)=>l.className===c.className?l.startLineNumber===c.startLineNumber?l.endLineNumber-c.endLineNumber:l.startLineNumber-c.startLineNumber:l.className<c.className?-1:1);let u=null,a=0;for(let l=0,c=i.length;l<c;l++){const d=i[l],r=d.className;let n=Math.max(d.startLineNumber,p)-p;const s=Math.min(d.endLineNumber,C)-p;u===r?(n=Math.max(a+1,n),a=Math.max(a,s)):(u=r,a=s);for(let t=n;t<=a;t++)_[t].push(u)}return _}}e.DedupOverlay=k;class w extends k{constructor(p){super();this._context=p;const C=this._context.configuration.options,i=C.get(126);this._lineHeight=C.get(55),this._glyphMargin=C.get(46),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const C=this._context.configuration.options,i=C.get(126);return this._lineHeight=C.get(55),this._glyphMargin=C.get(46),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged}onZonesChanged(p){return!0}_getDecorations(p){const C=p.getDecorationsInViewport();let i=[],_=0;for(let u=0,a=C.length;u<a;u++){const l=C[u],c=l.options.glyphMarginClassName;c&&(i[_++]=new I(l.range.startLineNumber,l.range.endLineNumber,c))}return i}prepareRender(p){if(!this._glyphMargin){this._renderResult=null;return}const C=p.visibleRange.startLineNumber,i=p.visibleRange.endLineNumber,_=this._render(C,i,this._getDecorations(p)),u=this._lineHeight.toString(),a=this._glyphMarginLeft.toString(),l=this._glyphMarginWidth.toString(),c='" style="left:'+a+"px;width:"+l+"px;height:"+u+'px;"></div>',d=[];for(let r=C;r<=i;r++){const n=r-C,s=_[n];s.length===0?d[n]="":d[n]='<div class="cgmr codicon '+s.join(" ")+c}this._renderResult=d}render(p,C){if(!this._renderResult)return"";const i=C-p;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.GlyphMarginOverlay=w}),define(te[594],ie([0,1,165,684]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class I extends v.DedupOverlay{constructor(w){super();this._context=w;const p=this._context.configuration.options.get(126);this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(w){const p=this._context.configuration.options.get(126);return this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,!0}onDecorationsChanged(w){return!0}onFlushed(w){return!0}onLinesChanged(w){return!0}onLinesDeleted(w){return!0}onLinesInserted(w){return!0}onScrollChanged(w){return w.scrollTopChanged}onZonesChanged(w){return!0}_getDecorations(w){const S=w.getDecorationsInViewport();let p=[],C=0;for(let i=0,_=S.length;i<_;i++){const u=S[i],a=u.options.linesDecorationsClassName;a&&(p[C++]=new v.DecorationToRender(u.range.startLineNumber,u.range.endLineNumber,a));const l=u.options.firstLineDecorationClassName;l&&(p[C++]=new v.DecorationToRender(u.range.startLineNumber,u.range.startLineNumber,l))}return p}prepareRender(w){const S=w.visibleRange.startLineNumber,p=w.visibleRange.endLineNumber,C=this._render(S,p,this._getDecorations(w)),i=this._decorationsLeft.toString(),_=this._decorationsWidth.toString(),u='" style="left:'+i+"px;width:"+_+'px;"></div>',a=[];for(let l=S;l<=p;l++){const c=l-S,d=C[c];let r="";for(let n=0,s=d.length;n<s;n++)r+='<div class="cldr '+d[n]+u;a[c]=r}this._renderResult=a}render(w,S){return this._renderResult?this._renderResult[S-w]:""}}e.LinesDecorationsOverlay=I}),define(te[223],ie([0,1,30,47]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class k extends I.ViewPart{constructor(S){super(S);const p=this._context.configuration.options,C=p.get(126);this._canUseLayerHinting=!p.get(26),this._contentLeft=C.contentLeft,this._glyphMarginLeft=C.glyphMarginLeft,this._glyphMarginWidth=C.glyphMarginWidth,this._domNode=(0,v.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(k.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,v.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(k.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const p=this._context.configuration.options,C=p.get(126);return this._canUseLayerHinting=!p.get(26),this._contentLeft=C.contentLeft,this._glyphMarginLeft=C.glyphMarginLeft,this._glyphMarginWidth=C.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const p=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-p);const C=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(C),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(C)}}e.Margin=k,k.CLASS_NAME="glyph-margin",k.OUTER_CLASS_NAME="margin"}),define(te[604],ie([0,1,165,277]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class I extends v.DedupOverlay{constructor(w){super();this._context=w,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(w){return!0}onDecorationsChanged(w){return!0}onFlushed(w){return!0}onLinesChanged(w){return!0}onLinesDeleted(w){return!0}onLinesInserted(w){return!0}onScrollChanged(w){return w.scrollTopChanged}onZonesChanged(w){return!0}_getDecorations(w){const S=w.getDecorationsInViewport();let p=[],C=0;for(let i=0,_=S.length;i<_;i++){const u=S[i],a=u.options.marginClassName;a&&(p[C++]=new v.DecorationToRender(u.range.startLineNumber,u.range.endLineNumber,a))}return p}prepareRender(w){const S=w.visibleRange.startLineNumber,p=w.visibleRange.endLineNumber,C=this._render(S,p,this._getDecorations(w)),i=[];for(let _=S;_<=p;_++){const u=_-S,a=C[u];let l="";for(let c=0,d=a.length;c<d;c++)l+='<div class="cmdr '+a[c]+'" style=""></div>';i[u]=l}this._renderResult=i}render(w,S){return this._renderResult?this._renderResult[S-w]:""}}e.MarginViewLineDecorationsOverlay=I}),define(te[606],ie([0,1,30,47,282]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class k extends I.ViewPart{constructor(S){super(S);const C=this._context.configuration.options.get(126);this._widgets={},this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,this._domNode=(0,v.createFastDomNode)(document.createElement("div")),I.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const C=this._context.configuration.options.get(126);return this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,!0}addWidget(S){const p=(0,v.createFastDomNode)(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:p},p.setPosition("absolute"),p.setAttribute("widgetId",S.getId()),this._domNode.appendChild(p),this.setShouldRender()}setWidgetPosition(S,p){const C=this._widgets[S.getId()];return C.preference===p?!1:(C.preference=p,this.setShouldRender(),!0)}removeWidget(S){const p=S.getId();if(this._widgets.hasOwnProperty(p)){const i=this._widgets[p].domNode.domNode;delete this._widgets[p],i.parentNode.removeChild(i),this.setShouldRender()}}_renderWidget(S){const p=S.domNode;if(S.preference===null){p.unsetTop();return}if(S.preference===0)p.setTop(0),p.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const C=p.domNode.clientHeight;p.setTop(this._editorHeight-C-2*this._horizontalScrollbarHeight),p.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(p.setTop(0),p.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const p=Object.keys(this._widgets);for(let C=0,i=p.length;C<i;C++){const _=p[C];this._renderWidget(this._widgets[_])}}}e.ViewOverlayWidgets=k}),define(te[616],ie([0,1,30,225,118]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class w extends k.ViewEventHandler{constructor(p,C){super();this._context=p;const i=this._context.configuration.options;this._domNode=(0,v.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(C),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new I.OverviewZoneManager(_=>this._context.viewLayout.getVerticalOffsetForLineNumber(_)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(55)),this._zoneManager.setPixelRatio(i.get(124)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(p){const C=this._context.configuration.options;return p.hasChanged(55)&&(this._zoneManager.setLineHeight(C.get(55)),this._render()),p.hasChanged(124)&&(this._zoneManager.setPixelRatio(C.get(124)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(p){return this._render(),!0}onScrollChanged(p){return p.scrollHeightChanged&&(this._zoneManager.setOuterHeight(p.scrollHeight),this._render()),!0}onZonesChanged(p){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(p){this._domNode.setTop(p.top),this._domNode.setRight(p.right);let C=!1;C=this._zoneManager.setDOMWidth(p.width)||C,C=this._zoneManager.setDOMHeight(p.height)||C,C&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(p){this._zoneManager.setZones(p),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const p=this._zoneManager.getCanvasWidth(),C=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),_=this._zoneManager.getId2Color(),u=this._domNode.domNode.getContext("2d");return u.clearRect(0,0,p,C),i.length>0&&this._renderOneLane(u,i,_,p),!0}_renderOneLane(p,C,i,_){let u=0,a=0,l=0;for(const c of C){const d=c.colorId,r=c.from,n=c.to;d!==u?(p.fillRect(0,a,_,l-a),u=d,p.fillStyle=i[u],a=r,l=n):l>=r?l=Math.max(l,n):(p.fillRect(0,a,_,l-a),a=r,l=n)}p.fillRect(0,a,_,l-a)}}e.OverviewRuler=w}),define(te[618],ie([0,1,30,11,47,14]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class p extends k.ViewPart{constructor(_){super(_);const u=this._context.configuration.options,a=u.get(126);this._lineHeight=u.get(55),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,this.domNode=(0,v.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,v.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const _=this._context.viewLayout.getWhitespaces(),u=new Map;for(const l of _)u.set(l.id,l);let a=!1;return this._context.model.changeWhitespace(l=>{const c=Object.keys(this._zones);for(let d=0,r=c.length;d<r;d++){const n=c[d],s=this._zones[n],t=this._computeWhitespaceProps(s.delegate),o=u.get(n);o&&(o.afterLineNumber!==t.afterViewLineNumber||o.height!==t.heightInPx)&&(l.changeOneWhitespace(n,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(s.delegate,t.heightInPx),a=!0)}}),a}onConfigurationChanged(_){const u=this._context.configuration.options,a=u.get(126);return this._lineHeight=u.get(55),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,_.hasChanged(55)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(_){return this._recomputeWhitespacesProps()}onLinesDeleted(_){return!0}onScrollChanged(_){return _.scrollTopChanged||_.scrollWidthChanged}onZonesChanged(_){return!0}onLinesInserted(_){return!0}_getZoneOrdinal(_){return typeof _.afterColumn!="undefined"?_.afterColumn:1e4}_computeWhitespaceProps(_){if(_.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(_),minWidthInPx:this._minWidthInPixels(_)};let u;if(typeof _.afterColumn!="undefined")u=this._context.model.validateModelPosition({lineNumber:_.afterLineNumber,column:_.afterColumn});else{const d=this._context.model.validateModelPosition({lineNumber:_.afterLineNumber,column:1}).lineNumber;u=new w.Position(d,this._context.model.getModelLineMaxColumn(d))}let a;u.column===this._context.model.getModelLineMaxColumn(u.lineNumber)?a=this._context.model.validateModelPosition({lineNumber:u.lineNumber+1,column:1}):a=this._context.model.validateModelPosition({lineNumber:u.lineNumber,column:u.column+1});const l=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(u),c=this._context.model.coordinatesConverter.modelPositionIsVisible(a);return{afterViewLineNumber:l.lineNumber,heightInPx:c?this._heightInPixels(_):0,minWidthInPx:this._minWidthInPixels(_)}}changeViewZones(_){let u=!1;return this._context.model.changeWhitespace(a=>{const l={addZone:c=>(u=!0,this._addZone(a,c)),removeZone:c=>{!c||(u=this._removeZone(a,c)||u)},layoutZone:c=>{!c||(u=this._layoutZone(a,c)||u)}};C(_,l),l.addZone=S,l.removeZone=S,l.layoutZone=S}),u}_addZone(_,u){const a=this._computeWhitespaceProps(u),c={whitespaceId:_.insertWhitespace(a.afterViewLineNumber,this._getZoneOrdinal(u),a.heightInPx,a.minWidthInPx),delegate:u,isVisible:!1,domNode:(0,v.createFastDomNode)(u.domNode),marginDomNode:u.marginDomNode?(0,v.createFastDomNode)(u.marginDomNode):null};return this._safeCallOnComputedHeight(c.delegate,a.heightInPx),c.domNode.setPosition("absolute"),c.domNode.domNode.style.width="100%",c.domNode.setDisplay("none"),c.domNode.setAttribute("monaco-view-zone",c.whitespaceId),this.domNode.appendChild(c.domNode),c.marginDomNode&&(c.marginDomNode.setPosition("absolute"),c.marginDomNode.domNode.style.width="100%",c.marginDomNode.setDisplay("none"),c.marginDomNode.setAttribute("monaco-view-zone",c.whitespaceId),this.marginDomNode.appendChild(c.marginDomNode)),this._zones[c.whitespaceId]=c,this.setShouldRender(),c.whitespaceId}_removeZone(_,u){if(this._zones.hasOwnProperty(u)){const a=this._zones[u];return delete this._zones[u],_.removeWhitespace(a.whitespaceId),a.domNode.removeAttribute("monaco-visible-view-zone"),a.domNode.removeAttribute("monaco-view-zone"),a.domNode.domNode.parentNode.removeChild(a.domNode.domNode),a.marginDomNode&&(a.marginDomNode.removeAttribute("monaco-visible-view-zone"),a.marginDomNode.removeAttribute("monaco-view-zone"),a.marginDomNode.domNode.parentNode.removeChild(a.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(_,u){if(this._zones.hasOwnProperty(u)){const a=this._zones[u],l=this._computeWhitespaceProps(a.delegate);return _.changeOneWhitespace(a.whitespaceId,l.afterViewLineNumber,l.heightInPx),this._safeCallOnComputedHeight(a.delegate,l.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(_){if(this._zones.hasOwnProperty(_)){const u=this._zones[_];return Boolean(u.delegate.suppressMouseDown)}return!1}_heightInPixels(_){return typeof _.heightInPx=="number"?_.heightInPx:typeof _.heightInLines=="number"?this._lineHeight*_.heightInLines:this._lineHeight}_minWidthInPixels(_){return typeof _.minWidthInPx=="number"?_.minWidthInPx:0}_safeCallOnComputedHeight(_,u){if(typeof _.onComputedHeight=="function")try{_.onComputedHeight(u)}catch(a){(0,I.onUnexpectedError)(a)}}_safeCallOnDomNodeTop(_,u){if(typeof _.onDomNodeTop=="function")try{_.onDomNodeTop(u)}catch(a){(0,I.onUnexpectedError)(a)}}prepareRender(_){}render(_){const u=_.viewportData.whitespaceViewportData,a={};let l=!1;for(let d=0,r=u.length;d<r;d++)a[u[d].id]=u[d],l=!0;const c=Object.keys(this._zones);for(let d=0,r=c.length;d<r;d++){const n=c[d],s=this._zones[n];let t=0,o=0,h="none";a.hasOwnProperty(n)?(t=a[n].verticalOffset-_.bigNumbersDelta,o=a[n].height,h="block",s.isVisible||(s.domNode.setAttribute("monaco-visible-view-zone","true"),s.isVisible=!0),this._safeCallOnDomNodeTop(s.delegate,_.getScrolledTopFromAbsoluteTop(a[n].verticalOffset))):(s.isVisible&&(s.domNode.removeAttribute("monaco-visible-view-zone"),s.isVisible=!1),this._safeCallOnDomNodeTop(s.delegate,_.getScrolledTopFromAbsoluteTop(-1e6))),s.domNode.setTop(t),s.domNode.setHeight(o),s.domNode.setDisplay(h),s.marginDomNode&&(s.marginDomNode.setTop(t),s.marginDomNode.setHeight(o),s.marginDomNode.setDisplay(h))}l&&(this.domNode.setWidth(Math.max(_.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=p;function C(i,_){try{return i(_)}catch(u){(0,I.onUnexpectedError)(u)}}}),define(te[64],ie([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.LineBreakData=e.OutputPosition=e.Viewport=void 0;class I{constructor(a,l,c,d){this.top=a|0,this.left=l|0,this.width=c|0,this.height=d|0}}e.Viewport=I;class k{constructor(a,l){this.outputLineIndex=a,this.outputOffset=l}}e.OutputPosition=k;class w{constructor(a,l,c){this.breakOffsets=a,this.breakOffsetsVisibleColumn=l,this.wrappedTextIndentLength=c}static getInputOffsetOfOutputPosition(a,l,c){return l===0?c:a[l-1]+c}static getOutputPositionOfInputOffset(a,l){let c=0,d=a.length-1,r=0,n=0;for(;c<=d;){r=c+(d-c)/2|0;const s=a[r];if(n=r>0?a[r-1]:0,l<n)d=r-1;else if(l>=s)c=r+1;else break}return new k(r,l-n)}}e.LineBreakData=w;class S{constructor(a,l){this.tabSize=a,this.data=l}}e.MinimapLinesRenderingData=S;class p{constructor(a,l,c,d,r,n){this.content=a,this.continuesWithWrappedLine=l,this.minColumn=c,this.maxColumn=d,this.startVisibleColumn=r,this.tokens=n}}e.ViewLineData=p;class C{constructor(a,l,c,d,r,n,s,t,o,h){this.minColumn=a,this.maxColumn=l,this.content=c,this.continuesWithWrappedLine=d,this.isBasicASCII=C.isBasicASCII(c,n),this.containsRTL=C.containsRTL(c,this.isBasicASCII,r),this.tokens=s,this.inlineDecorations=t,this.tabSize=o,this.startVisibleColumn=h}static isBasicASCII(a,l){return l?v.isBasicASCII(a):!0}static containsRTL(a,l,c){return!l&&c?v.containsRTL(a):!1}}e.ViewLineRenderingData=C;class i{constructor(a,l,c){this.range=a,this.inlineClassName=l,this.type=c}}e.InlineDecoration=i;class _{constructor(a,l){this.range=a,this.options=l}}e.ViewModelDecoration=_}),define(te[623],ie([0,1,8,93,64]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class w extends I.CharacterClassifier{constructor(r,n){super(0);for(let s=0;s<r.length;s++)this.set(r.charCodeAt(s),1);for(let s=0;s<n.length;s++)this.set(n.charCodeAt(s),2)}get(r){return r>=0&&r<256?this._asciiMap[r]:r>=12352&&r<=12543||r>=13312&&r<=19903||r>=19968&&r<=40959?3:this._map.get(r)||this._defaultValue}}let S=[],p=[];class C{constructor(r,n){this.classifier=new w(r,n)}static create(r){return new C(r.get(115),r.get(114))}createLineBreaksComputer(r,n,s,t){n=n|0,s=+s;let o=[],h=[];return{addRequest:(f,m)=>{o.push(f),h.push(m)},finalize:()=>{const f=r.typicalFullwidthCharacterWidth/r.typicalHalfwidthCharacterWidth;let m=[];for(let g=0,b=o.length;g<b;g++){const y=h[g];y?m[g]=i(this.classifier,y,o[g],n,s,f,t):m[g]=_(this.classifier,o[g],n,s,f,t)}return S.length=0,p.length=0,m}}}}e.MonospaceLineBreaksComputerFactory=C;function i(d,r,n,s,t,o,h){if(t===-1)return null;const f=n.length;if(f<=1)return null;const m=r.breakOffsets,g=r.breakOffsetsVisibleColumn,b=c(n,s,t,o,h),y=t-b;let L=S,N=p,M=0,D=0,R=0,P=t;const O=m.length;let W=0;if(W>=0){let F=Math.abs(g[W]-P);for(;W+1<O;){const E=Math.abs(g[W+1]-P);if(E>=F)break;F=E,W++}}for(;W<O;){let F=W<0?0:m[W],E=W<0?0:g[W];D>F&&(F=D,E=R);let A=0,B=0,z=0,U=0;if(E<=P){let G=E,J=F===0?0:n.charCodeAt(F-1),Q=F===0?0:d.get(J),ae=!0;for(let se=F;se<f;se++){const Z=se,T=n.charCodeAt(se);let x,H;if(v.isHighSurrogate(T)?(se++,x=0,H=2):(x=d.get(T),H=u(T,G,s,o)),Z>D&&l(J,Q,T,x)&&(A=Z,B=G),G+=H,G>P){Z>D?(z=Z,U=G-H):(z=se+1,U=G),G-B>y&&(A=0),ae=!1;break}J=T,Q=x}if(ae){M>0&&(L[M]=m[m.length-1],N[M]=g[m.length-1],M++);break}}if(A===0){let G=E,J=n.charCodeAt(F),Q=d.get(J),ae=!1;for(let se=F-1;se>=D;se--){const Z=se+1,T=n.charCodeAt(se);if(T===9){ae=!0;break}let x,H;if(v.isLowSurrogate(T)?(se--,x=0,H=2):(x=d.get(T),H=v.isFullWidthCharacter(T)?o:1),G<=P){if(z===0&&(z=Z,U=G),G<=P-y)break;if(l(T,x,J,Q)){A=Z,B=G;break}}G-=H,J=T,Q=x}if(A!==0){const se=y-(U-B);if(se<=s){const Z=n.charCodeAt(z);let T;v.isHighSurrogate(Z)?T=2:T=u(Z,U,s,o),se-T<0&&(A=0)}}if(ae){W--;continue}}if(A===0&&(A=z,B=U),A<=D){const G=n.charCodeAt(D);v.isHighSurrogate(G)?(A=D+2,B=R+2):(A=D+1,B=R+u(G,R,s,o))}for(D=A,L[M]=A,R=B,N[M]=B,M++,P=B+y;W<0||W<O&&g[W]<B;)W++;let K=Math.abs(g[W]-P);for(;W+1<O;){const G=Math.abs(g[W+1]-P);if(G>=K)break;K=G,W++}}return M===0?null:(L.length=M,N.length=M,S=r.breakOffsets,p=r.breakOffsetsVisibleColumn,r.breakOffsets=L,r.breakOffsetsVisibleColumn=N,r.wrappedTextIndentLength=b,r)}function _(d,r,n,s,t,o){if(s===-1)return null;const h=r.length;if(h<=1)return null;const f=c(r,n,s,t,o),m=s-f;let g=[],b=[],y=0,L=0,N=0,M=s,D=r.charCodeAt(0),R=d.get(D),P=u(D,0,n,t),O=1;v.isHighSurrogate(D)&&(P+=1,D=r.charCodeAt(1),R=d.get(D),O++);for(let W=O;W<h;W++){const F=W,E=r.charCodeAt(W);let A,B;v.isHighSurrogate(E)?(W++,A=0,B=2):(A=d.get(E),B=u(E,P,n,t)),l(D,R,E,A)&&(L=F,N=P),P+=B,P>M&&((L===0||P-N>m)&&(L=F,N=P-B),g[y]=L,b[y]=N,y++,M=N+m,L=0),D=E,R=A}return y===0?null:(g[y]=h,b[y]=P,new k.LineBreakData(g,b,f))}function u(d,r,n,s){return d===9?n-r%n:v.isFullWidthCharacter(d)||d<32?s:1}function a(d,r){return r-d%r}function l(d,r,n,s){return n!==32&&(r===2||r===3&&s!==2||s===1||s===3&&r!==1)}function c(d,r,n,s,t){let o=0;if(t!==0){const h=v.firstNonWhitespaceIndex(d);if(h!==-1){for(let m=0;m<h;m++)o+=d.charCodeAt(m)===9?a(o,r):1;const f=t===3?2:t===2?1:0;for(let m=0;m<f;m++)o+=a(o,r);o+s>n&&(o=0)}}return o}}),define(te[169],ie([0,1,6,2]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class k extends I.Disposable{constructor(){super();this._onEvent=this._register(new v.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(l){this._addOutgoingEvent(l),this._emitOugoingEvents()}_addOutgoingEvent(l){for(let c=0,d=this._outgoingEvents.length;c<d;c++)if(this._outgoingEvents[c].kind===l.kind){this._outgoingEvents[c]=this._outgoingEvents[c].merge(l);return}this._outgoingEvents.push(l)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const l=this._outgoingEvents.shift();l.isNoOp()||this._onEvent.fire(l)}}addViewEventHandler(l){for(let c=0,d=this._eventHandlers.length;c<d;c++)this._eventHandlers[c]===l&&console.warn("Detected duplicate listener in ViewEventDispatcher",l);this._eventHandlers.push(l)}removeViewEventHandler(l){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===l){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new w),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const l=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const d of l)this._addOutgoingEvent(d);c.length>0&&this._emitMany(c)}this._emitOugoingEvents()}emitSingleViewEvent(l){try{this.beginEmitViewEvents().emitViewEvent(l)}finally{this.endEmitViewEvents()}}_emitMany(l){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(l):this._viewEventQueue=l,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const l=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const d of c)d.handleEvents(l)}}}e.ViewModelEventDispatcher=k;class w{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(l){this.viewEvents.push(l)}emitOutgoingEvent(l){this.outgoingEvents.push(l)}}e.ViewModelEventsCollector=w;class S{constructor(l,c,d,r){this.kind=0,this._oldContentWidth=l,this._oldContentHeight=c,this.contentWidth=d,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(l){return l.kind!==0?this:new S(this._oldContentWidth,this._oldContentHeight,l.contentWidth,l.contentHeight)}}e.ContentSizeChangedEvent=S;class p{constructor(l,c){this.kind=1,this.oldHasFocus=l,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(l){return l.kind!==1?this:new p(this.oldHasFocus,l.hasFocus)}}e.FocusChangedEvent=p;class C{constructor(l,c,d,r,n,s,t,o){this.kind=2,this._oldScrollWidth=l,this._oldScrollLeft=c,this._oldScrollHeight=d,this._oldScrollTop=r,this.scrollWidth=n,this.scrollLeft=s,this.scrollHeight=t,this.scrollTop=o,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(l){return l.kind!==2?this:new C(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,l.scrollWidth,l.scrollLeft,l.scrollHeight,l.scrollTop)}}e.ScrollChangedEvent=C;class i{constructor(){this.kind=3}isNoOp(){return!1}merge(l){return this}}e.ViewZonesChangedEvent=i;class _{constructor(l,c,d,r,n,s,t){this.kind=5,this.oldSelections=l,this.selections=c,this.oldModelVersionId=d,this.modelVersionId=r,this.source=n,this.reason=s,this.reachedMaxCursorCount=t}static _selectionsAreEqual(l,c){if(!l&&!c)return!0;if(!l||!c)return!1;const d=l.length,r=c.length;if(d!==r)return!1;for(let n=0;n<d;n++)if(!l[n].equalsSelection(c[n]))return!1;return!0}isNoOp(){return _._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(l){return l.kind!==5?this:new _(this.oldSelections,l.selections,this.oldModelVersionId,l.modelVersionId,l.source,l.reason,this.reachedMaxCursorCount||l.reachedMaxCursorCount)}}e.CursorStateChangedEvent=_;class u{constructor(){this.kind=4}isNoOp(){return!1}merge(l){return this}}e.ReadOnlyEditAttemptEvent=u}),define(te[636],ie([0,1,6,2,143,549,64,169]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const C=125;class i{constructor(l,c,d,r){l=l|0,c=c|0,d=d|0,r=r|0,l<0&&(l=0),c<0&&(c=0),d<0&&(d=0),r<0&&(r=0),this.width=l,this.contentWidth=c,this.scrollWidth=Math.max(l,c),this.height=d,this.contentHeight=r,this.scrollHeight=Math.max(d,r)}equals(l){return this.width===l.width&&this.contentWidth===l.contentWidth&&this.height===l.height&&this.contentHeight===l.contentHeight}}class _ extends I.Disposable{constructor(l,c){super();this._onDidContentSizeChange=this._register(new v.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new i(0,0,0,0),this._scrollable=this._register(new k.Scrollable(l,c)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(l){this._scrollable.setSmoothScrollDuration(l)}validateScrollPosition(l){return this._scrollable.validateScrollPosition(l)}getScrollDimensions(){return this._dimensions}setScrollDimensions(l){if(!this._dimensions.equals(l)){const c=this._dimensions;this._dimensions=l,this._scrollable.setScrollDimensions({width:l.width,scrollWidth:l.scrollWidth,height:l.height,scrollHeight:l.scrollHeight},!0);const d=c.contentWidth!==l.contentWidth,r=c.contentHeight!==l.contentHeight;(d||r)&&this._onDidContentSizeChange.fire(new p.ContentSizeChangedEvent(c.contentWidth,c.contentHeight,l.contentWidth,l.contentHeight))}}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(l){this._scrollable.setScrollPositionNow(l)}setScrollPositionSmooth(l){this._scrollable.setScrollPositionSmooth(l)}}class u extends I.Disposable{constructor(l,c,d){super();this._configuration=l;const r=this._configuration.options,n=r.get(126),s=r.get(71);this._linesLayout=new w.LinesLayout(c,r.get(55),s.top,s.bottom),this._scrollable=this._register(new _(0,d)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new i(n.contentWidth,0,n.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(100)?C:0)}onConfigurationChanged(l){const c=this._configuration.options;if(l.hasChanged(55)&&this._linesLayout.setLineHeight(c.get(55)),l.hasChanged(71)){const d=c.get(71);this._linesLayout.setPadding(d.top,d.bottom)}if(l.hasChanged(126)){const d=c.get(126),r=d.contentWidth,n=d.height,s=this._scrollable.getScrollDimensions(),t=s.contentWidth;this._scrollable.setScrollDimensions(new i(r,s.contentWidth,n,this._getContentHeight(r,n,t)))}else this._updateHeight();l.hasChanged(100)&&this._configureSmoothScrollDuration()}onFlushed(l){this._linesLayout.onFlushed(l)}onLinesDeleted(l,c){this._linesLayout.onLinesDeleted(l,c)}onLinesInserted(l,c){this._linesLayout.onLinesInserted(l,c)}_getHorizontalScrollbarHeight(l,c){const r=this._configuration.options.get(89);return r.horizontal===2||l>=c?0:r.horizontalScrollbarSize}_getContentHeight(l,c,d){const r=this._configuration.options;let n=this._linesLayout.getLinesTotalHeight();return r.get(91)?n+=Math.max(0,c-r.get(55)-r.get(71).bottom):n+=this._getHorizontalScrollbarHeight(l,d),n}_updateHeight(){const l=this._scrollable.getScrollDimensions(),c=l.width,d=l.height,r=l.contentWidth;this._scrollable.setScrollDimensions(new i(c,l.contentWidth,d,this._getContentHeight(c,d,r)))}getCurrentViewport(){const l=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new S.Viewport(c.scrollTop,c.scrollLeft,l.width,l.height)}getFutureViewport(){const l=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new S.Viewport(c.scrollTop,c.scrollLeft,l.width,l.height)}_computeContentWidth(l){const c=this._configuration.options,d=c.get(127),r=c.get(40);if(d.isViewportWrapping){const n=c.get(126),s=c.get(61);return l>n.contentWidth+r.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?l+n.verticalScrollbarWidth:l}else{const n=c.get(90)*r.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(l+n,s)}}setMaxLineWidth(l){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new i(c.width,this._computeContentWidth(l),c.height,c.contentHeight)),this._updateHeight()}saveState(){const l=this._scrollable.getFutureScrollPosition();let c=l.scrollTop,d=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(d);return{scrollTop:c,scrollTopWithoutViewZones:c-r,scrollLeft:l.scrollLeft}}changeWhitespace(l){const c=this._linesLayout.changeWhitespace(l);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(l){return this._linesLayout.getVerticalOffsetForLineNumber(l)}isAfterLines(l){return this._linesLayout.isAfterLines(l)}isInTopPadding(l){return this._linesLayout.isInTopPadding(l)}isInBottomPadding(l){return this._linesLayout.isInBottomPadding(l)}getLineNumberAtVerticalOffset(l){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(l)}getWhitespaceAtVerticalOffset(l){return this._linesLayout.getWhitespaceAtVerticalOffset(l)}getLinesViewportData(){const l=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(l.top,l.top+l.height)}getLinesViewportDataAtScrollTop(l){const c=this._scrollable.getScrollDimensions();return l+c.height>c.scrollHeight&&(l=c.scrollHeight-c.height),l<0&&(l=0),this._linesLayout.getLinesViewportData(l,l+c.height)}getWhitespaceViewportData(){const l=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(l.top,l.top+l.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(l){return this._scrollable.validateScrollPosition(l)}setScrollPosition(l,c){c===1?this._scrollable.setScrollPositionNow(l):this._scrollable.setScrollPositionSmooth(l)}deltaScrollNow(l,c){const d=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:d.scrollLeft+l,scrollTop:d.scrollTop+c})}}e.ViewLayout=u}),define(te[637],ie([0,1,3,21]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class k{constructor(S,p){this._selection=S,this._isMovingLeft=p}getEditOperations(S,p){if(!(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())){const C=this._selection.startLineNumber,i=this._selection.startColumn,_=this._selection.endColumn;if(!(this._isMovingLeft&&i===1)&&!(!this._isMovingLeft&&_===S.getLineMaxColumn(C)))if(this._isMovingLeft){const u=new v.Range(C,i-1,C,i),a=S.getValueInRange(u);p.addEditOperation(u,null),p.addEditOperation(new v.Range(C,_,C,_),a)}else{const u=new v.Range(C,_,C,_+1),a=S.getValueInRange(u);p.addEditOperation(u,null),p.addEditOperation(new v.Range(C,i,C,i),a)}}}computeCursorState(S,p){return this._isMovingLeft?new I.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new I.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=k}),define(te[124],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class v{constructor(C){this.value=C}equals(C){return this.value===C.value}contains(C){return this.equals(C)||this.value===""||C.value.startsWith(this.value+v.sep)}intersects(C){return this.contains(C)||C.contains(this)}append(C){return new v(this.value+v.sep+C)}}e.CodeActionKind=v,v.sep=".",v.None=new v("@@none@@"),v.Empty=new v(""),v.QuickFix=new v("quickfix"),v.Refactor=new v("refactor"),v.Source=new v("source"),v.SourceOrganizeImports=v.Source.append("organizeImports"),v.SourceFixAll=v.Source.append("fixAll");function I(p,C){return!(p.include&&!p.include.intersects(C)||p.excludes&&p.excludes.some(i=>w(C,i,p.include))||!p.includeSourceActions&&v.Source.contains(C))}e.mayIncludeActionsOfKind=I;function k(p,C){const i=C.kind?new v(C.kind):void 0;return!(p.include&&(!i||!p.include.contains(i))||p.excludes&&i&&p.excludes.some(_=>w(i,_,p.include))||!p.includeSourceActions&&i&&v.Source.contains(i)||p.onlyIncludePreferredActions&&!C.isPreferred)}e.filtersAction=k;function w(p,C,i){return!(!C.contains(p)||i&&C.contains(i))}class S{constructor(C,i,_){this.kind=C,this.apply=i,this.preferred=_}static fromUser(C,i){return!C||typeof C!="object"?new S(i.kind,i.apply,!1):new S(S.getKindFromUser(C,i.kind),S.getApplyFromUser(C,i.apply),S.getPreferredUser(C))}static getApplyFromUser(C,i){switch(typeof C.apply=="string"?C.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}static getKindFromUser(C,i){return typeof C.kind=="string"?new v(C.kind):i}static getPreferredUser(C){return typeof C.preferred=="boolean"?C.preferred:!1}}e.CodeActionCommandArgs=S}),define(te[646],ie([0,1,6]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class I{constructor(w,S,p){this.presentationIndex=p,this._onColorFlushed=new v.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new v.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new v.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=w,this._color=w,this._colorPresentations=S}get color(){return this._color}set color(w){this._color.equals(w)||(this._color=w,this._onDidChangeColor.fire(w))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(w){this._colorPresentations=w,this.presentationIndex>w.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(w,S){for(let p=0;p<this.colorPresentations.length;p++)if(S.toLowerCase()===this.colorPresentations[p].label){this.presentationIndex=p,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=I}),define(te[222],ie([0,1,61,14,3,21,42]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class p{constructor(i,_){this._selection=i,this._insertSpace=_,this._usedEndToken=null}static _haystackHasNeedleAtOffset(i,_,u){if(u<0)return!1;const a=_.length,l=i.length;if(u+a>l)return!1;for(let c=0;c<a;c++){const d=i.charCodeAt(u+c),r=_.charCodeAt(c);if(d!==r&&!(d>=65&&d<=90&&d+32===r)&&!(r>=65&&r<=90&&r+32===d))return!1}return!0}_createOperationsForBlockComment(i,_,u,a,l,c){const d=i.startLineNumber,r=i.startColumn,n=i.endLineNumber,s=i.endColumn,t=l.getLineContent(d),o=l.getLineContent(n);let h=t.lastIndexOf(_,r-1+_.length),f=o.indexOf(u,s-1-u.length);if(h!==-1&&f!==-1)if(d===n)t.substring(h+_.length,f).indexOf(u)>=0&&(h=-1,f=-1);else{const g=t.substring(h+_.length),b=o.substring(0,f);(g.indexOf(u)>=0||b.indexOf(u)>=0)&&(h=-1,f=-1)}let m;h!==-1&&f!==-1?(a&&h+_.length<t.length&&t.charCodeAt(h+_.length)===32&&(_=_+" "),a&&f>0&&o.charCodeAt(f-1)===32&&(u=" "+u,f-=1),m=p._createRemoveBlockCommentOperations(new k.Range(d,h+_.length+1,n,f+1),_,u)):(m=p._createAddBlockCommentOperations(i,_,u,this._insertSpace),this._usedEndToken=m.length===1?u:null);for(const g of m)c.addTrackedEditOperation(g.range,g.text)}static _createRemoveBlockCommentOperations(i,_,u){let a=[];return k.Range.isEmpty(i)?a.push(v.EditOperation.delete(new k.Range(i.startLineNumber,i.startColumn-_.length,i.endLineNumber,i.endColumn+u.length))):(a.push(v.EditOperation.delete(new k.Range(i.startLineNumber,i.startColumn-_.length,i.startLineNumber,i.startColumn))),a.push(v.EditOperation.delete(new k.Range(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn+u.length)))),a}static _createAddBlockCommentOperations(i,_,u,a){let l=[];return k.Range.isEmpty(i)?l.push(v.EditOperation.replace(new k.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),_+"  "+u)):(l.push(v.EditOperation.insert(new I.Position(i.startLineNumber,i.startColumn),_+(a?" ":""))),l.push(v.EditOperation.insert(new I.Position(i.endLineNumber,i.endColumn),(a?" ":"")+u))),l}getEditOperations(i,_){const u=this._selection.startLineNumber,a=this._selection.startColumn;i.tokenizeIfCheap(u);const l=i.getLanguageIdAtPosition(u,a),c=S.LanguageConfigurationRegistry.getComments(l);!c||!c.blockCommentStartToken||!c.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,c.blockCommentStartToken,c.blockCommentEndToken,this._insertSpace,i,_)}computeCursorState(i,_){const u=_.getInverseEditOperations();if(u.length===2){const a=u[0],l=u[1];return new w.Selection(a.range.endLineNumber,a.range.endColumn,l.range.startLineNumber,l.range.startColumn)}else{const a=u[0].range,l=this._usedEndToken?-this._usedEndToken.length-1:0;return new w.Selection(a.endLineNumber,a.endColumn+l,a.endLineNumber,a.endColumn+l)}}}e.BlockCommentCommand=p}),define(te[650],ie([0,1,8,61,14,3,21,42,222]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class i{constructor(u,a,l,c,d,r){this._selection=u,this._tabSize=a,this._type=l,this._insertSpace=c,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=d,this._ignoreFirstLine=r||!1}static _gatherPreflightCommentStrings(u,a,l){u.tokenizeIfCheap(a);const c=u.getLanguageIdAtPosition(a,1),d=p.LanguageConfigurationRegistry.getComments(c),r=d?d.lineCommentToken:null;if(!r)return null;let n=[];for(let s=0,t=l-a+1;s<t;s++)n[s]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return n}static _analyzeLines(u,a,l,c,d,r,n){let s=!0,t;u===0?t=!0:u===1?t=!1:t=!0;for(let o=0,h=c.length;o<h;o++){const f=c[o],m=d+o;if(m===d&&n){f.ignore=!0;continue}const g=l.getLineContent(m),b=v.firstNonWhitespaceIndex(g);if(b===-1){f.ignore=r,f.commentStrOffset=g.length;continue}if(s=!1,f.ignore=!1,f.commentStrOffset=b,t&&!C.BlockCommentCommand._haystackHasNeedleAtOffset(g,f.commentStr,b)&&(u===0?t=!1:u===1||(f.ignore=!0)),t&&a){const y=b+f.commentStrLength;y<g.length&&g.charCodeAt(y)===32&&(f.commentStrLength+=1)}}if(u===0&&s){t=!1;for(let o=0,h=c.length;o<h;o++)c[o].ignore=!1}return{supported:!0,shouldRemoveComments:t,lines:c}}static _gatherPreflightData(u,a,l,c,d,r,n){const s=i._gatherPreflightCommentStrings(l,c,d);return s===null?{supported:!1}:i._analyzeLines(u,a,l,s,c,r,n)}_executeLineComments(u,a,l,c){let d;l.shouldRemoveComments?d=i._createRemoveLineCommentsOperations(l.lines,c.startLineNumber):(i._normalizeInsertionPoint(u,l.lines,c.startLineNumber,this._tabSize),d=this._createAddLineCommentsOperations(l.lines,c.startLineNumber));const r=new k.Position(c.positionLineNumber,c.positionColumn);for(let n=0,s=d.length;n<s;n++)a.addEditOperation(d[n].range,d[n].text),w.Range.isEmpty(d[n].range)&&w.Range.getStartPosition(d[n].range).equals(r)&&u.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(d[n].text||"").length);this._selectionId=a.trackSelection(c)}_attemptRemoveBlockComment(u,a,l,c){let d=a.startLineNumber,r=a.endLineNumber,n=c.length+Math.max(u.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.startColumn),s=u.getLineContent(d).lastIndexOf(l,n-1),t=u.getLineContent(r).indexOf(c,a.endColumn-1-l.length);return s!==-1&&t===-1&&(t=u.getLineContent(d).indexOf(c,s+l.length),r=d),s===-1&&t!==-1&&(s=u.getLineContent(r).lastIndexOf(l,t),d=r),a.isEmpty()&&(s===-1||t===-1)&&(s=u.getLineContent(d).indexOf(l),s!==-1&&(t=u.getLineContent(d).indexOf(c,s+l.length))),s!==-1&&u.getLineContent(d).charCodeAt(s+l.length)===32&&(l+=" "),t!==-1&&u.getLineContent(r).charCodeAt(t-1)===32&&(c=" "+c,t-=1),s!==-1&&t!==-1?C.BlockCommentCommand._createRemoveBlockCommentOperations(new w.Range(d,s+l.length+1,r,t+1),l,c):null}_executeBlockComment(u,a,l){u.tokenizeIfCheap(l.startLineNumber);let c=u.getLanguageIdAtPosition(l.startLineNumber,1),d=p.LanguageConfigurationRegistry.getComments(c);if(!(!d||!d.blockCommentStartToken||!d.blockCommentEndToken)){const r=d.blockCommentStartToken,n=d.blockCommentEndToken;let s=this._attemptRemoveBlockComment(u,l,r,n);if(!s){if(l.isEmpty()){const t=u.getLineContent(l.startLineNumber);let o=v.firstNonWhitespaceIndex(t);o===-1&&(o=t.length),s=C.BlockCommentCommand._createAddBlockCommentOperations(new w.Range(l.startLineNumber,o+1,l.startLineNumber,t.length+1),r,n,this._insertSpace)}else s=C.BlockCommentCommand._createAddBlockCommentOperations(new w.Range(l.startLineNumber,u.getLineFirstNonWhitespaceColumn(l.startLineNumber),l.endLineNumber,u.getLineMaxColumn(l.endLineNumber)),r,n,this._insertSpace);s.length===1&&(this._deltaColumn=r.length+1)}this._selectionId=a.trackSelection(l);for(const t of s)a.addEditOperation(t.range,t.text)}}getEditOperations(u,a){let l=this._selection;if(this._moveEndPositionDown=!1,l.startLineNumber===l.endLineNumber&&this._ignoreFirstLine){a.addEditOperation(new w.Range(l.startLineNumber,u.getLineMaxColumn(l.startLineNumber),l.startLineNumber+1,1),l.startLineNumber===u.getLineCount()?"":`
`),this._selectionId=a.trackSelection(l);return}l.startLineNumber<l.endLineNumber&&l.endColumn===1&&(this._moveEndPositionDown=!0,l=l.setEndPosition(l.endLineNumber-1,u.getLineMaxColumn(l.endLineNumber-1)));const c=i._gatherPreflightData(this._type,this._insertSpace,u,l.startLineNumber,l.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return c.supported?this._executeLineComments(u,a,c,l):this._executeBlockComment(u,a,l)}computeCursorState(u,a){let l=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(l=l.setEndPosition(l.endLineNumber+1,1)),new S.Selection(l.selectionStartLineNumber,l.selectionStartColumn+this._deltaColumn,l.positionLineNumber,l.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(u,a){let l=[];for(let c=0,d=u.length;c<d;c++){const r=u[c];r.ignore||l.push(I.EditOperation.delete(new w.Range(a+c,r.commentStrOffset+1,a+c,r.commentStrOffset+r.commentStrLength+1)))}return l}_createAddLineCommentsOperations(u,a){let l=[];const c=this._insertSpace?" ":"";for(let d=0,r=u.length;d<r;d++){const n=u[d];n.ignore||l.push(I.EditOperation.insert(new k.Position(a+d,n.commentStrOffset+1),n.commentStr+c))}return l}static nextVisibleColumn(u,a,l,c){return l?u+(a-u%a):u+c}static _normalizeInsertionPoint(u,a,l,c){let d=1073741824,r,n;for(let s=0,t=a.length;s<t;s++)if(!a[s].ignore){const o=u.getLineContent(l+s);let h=0;for(let f=0,m=a[s].commentStrOffset;h<d&&f<m;f++)h=i.nextVisibleColumn(h,c,o.charCodeAt(f)===9,1);h<d&&(d=h)}d=Math.floor(d/c)*c;for(let s=0,t=a.length;s<t;s++)if(!a[s].ignore){const o=u.getLineContent(l+s);let h=0;for(r=0,n=a[s].commentStrOffset;h<d&&r<n;r++)h=i.nextVisibleColumn(h,c,o.charCodeAt(r)===9,1);h>d?a[s].commentStrOffset=r-1:a[s].commentStrOffset=r}}}e.LineCommentCommand=i}),define(te[653],ie([0,1,21,3]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class k{constructor(S,p,C){this.selection=S,this.targetPosition=p,this.copy=C,this.targetSelection=null}getEditOperations(S,p){let C=S.getValueInRange(this.selection);if(this.copy||p.addEditOperation(this.selection,null),p.addEditOperation(new I.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),C),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new v.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new v.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new v.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new v.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new v.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,p){return this.targetSelection}}e.DragAndDropCommand=k}),define(te[663],ie([0,1,3]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class I{constructor(w,S,p){this._editorSelection=w,this._ranges=S,this._replaceStrings=p,this._trackedEditorSelectionId=null}getEditOperations(w,S){if(this._ranges.length>0){let p=[];for(let _=0;_<this._ranges.length;_++)p.push({range:this._ranges[_],text:this._replaceStrings[_]});p.sort((_,u)=>v.Range.compareRangesUsingStarts(_.range,u.range));let C=[],i=p[0];for(let _=1;_<p.length;_++)i.range.endLineNumber===p[_].range.startLineNumber&&i.range.endColumn===p[_].range.startColumn?(i.range=i.range.plusRange(p[_].range),i.text=i.text+p[_].text):(C.push(i),i=p[_]);C.push(i);for(const _ of C)S.addEditOperation(_.range,_.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(w,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=I}),define(te[664],ie([0,1,442]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class I{constructor(_){this.staticValue=_,this.kind=0}}class k{constructor(_){this.pieces=_,this.kind=1}}class w{constructor(_){!_||_.length===0?this._state=new I(""):_.length===1&&_[0].staticValue!==null?this._state=new I(_[0].staticValue):this._state=new k(_)}static fromStaticValue(_){return new w([S.staticValue(_)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(_,u){if(this._state.kind===0)return u?(0,v.buildReplaceStringWithCasePreserved)(_,this._state.staticValue):this._state.staticValue;let a="";for(let l=0,c=this._state.pieces.length;l<c;l++){let d=this._state.pieces[l];if(d.staticValue!==null){a+=d.staticValue;continue}let r=w._substitute(d.matchIndex,_);if(d.caseOps!==null&&d.caseOps.length>0){let n=[],s=d.caseOps.length,t=0;for(let o=0,h=r.length;o<h;o++){if(t>=s){n.push(r.slice(o));break}switch(d.caseOps[t]){case"U":n.push(r[o].toUpperCase());break;case"u":n.push(r[o].toUpperCase()),t++;break;case"L":n.push(r[o].toLowerCase());break;case"l":n.push(r[o].toLowerCase()),t++;break;default:n.push(r[o])}}r=n.join("")}a+=r}return a}static _substitute(_,u){if(u===null)return"";if(_===0)return u[0];let a="";for(;_>0;){if(_<u.length)return(u[_]||"")+a;a=String(_%10)+a,_=Math.floor(_/10)}return"$"+a}}e.ReplacePattern=w;class S{constructor(_,u,a){this.staticValue=_,this.matchIndex=u,!a||a.length===0?this.caseOps=null:this.caseOps=a.slice(0)}static staticValue(_){return new S(_,-1,null)}static caseOps(_,u){return new S(null,_,u)}}e.ReplacePiece=S;class p{constructor(_){this._source=_,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(_){this._emitStatic(this._source.substring(this._lastCharIndex,_)),this._lastCharIndex=_}emitStatic(_,u){this._emitStatic(_),this._lastCharIndex=u}_emitStatic(_){_.length!==0&&(this._currentStaticPiece+=_)}emitMatchIndex(_,u,a){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(_,a),this._lastCharIndex=u}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new w(this._result)}}function C(i){if(!i||i.length===0)return new w(null);let _=[],u=new p(i);for(let a=0,l=i.length;a<l;a++){let c=i.charCodeAt(a);if(c===92){if(a++,a>=l)break;let d=i.charCodeAt(a);switch(d){case 92:u.emitUnchanged(a-1),u.emitStatic("\\",a+1);break;case 110:u.emitUnchanged(a-1),u.emitStatic(`
`,a+1);break;case 116:u.emitUnchanged(a-1),u.emitStatic("	",a+1);break;case 117:case 85:case 108:case 76:u.emitUnchanged(a-1),u.emitStatic("",a+1),_.push(String.fromCharCode(d));break}continue}if(c===36){if(a++,a>=l)break;let d=i.charCodeAt(a);if(d===36){u.emitUnchanged(a-1),u.emitStatic("$",a+1);continue}if(d===48||d===38){u.emitUnchanged(a-1),u.emitMatchIndex(0,a+1,_),_.length=0;continue}if(49<=d&&d<=57){let r=d-48;if(a+1<l){let n=i.charCodeAt(a+1);if(48<=n&&n<=57){a++,r=r*10+(n-48),u.emitUnchanged(a-2),u.emitMatchIndex(r,a+1,_),_.length=0;continue}}u.emitUnchanged(a-1),u.emitMatchIndex(r,a+1,_),_.length=0;continue}}}return u.finalize()}e.parseReplaceString=C}),define(te[172],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const v=4278190080;class I{constructor(S,p,C){if(S.length!==p.length||S.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=S,this._endIndexes=p,this._collapseStates=new Uint32Array(Math.ceil(S.length/32)),this._types=C,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let S=[],p=(C,i)=>{let _=S[S.length-1];return this.getStartLineNumber(_)<=C&&this.getEndLineNumber(_)>=i};for(let C=0,i=this._startIndexes.length;C<i;C++){let _=this._startIndexes[C],u=this._endIndexes[C];if(_>e.MAX_LINE_NUMBER||u>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;S.length>0&&!p(_,u);)S.pop();let a=S.length>0?S[S.length-1]:-1;S.push(C),this._startIndexes[C]=_+((a&255)<<24),this._endIndexes[C]=u+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(S){return this._startIndexes[S]&e.MAX_LINE_NUMBER}getEndLineNumber(S){return this._endIndexes[S]&e.MAX_LINE_NUMBER}getType(S){return this._types?this._types[S]:void 0}hasTypes(){return!!this._types}isCollapsed(S){let p=S/32|0,C=S%32;return(this._collapseStates[p]&1<<C)!=0}setCollapsed(S,p){let C=S/32|0,i=S%32,_=this._collapseStates[C];p?this._collapseStates[C]=_|1<<i:this._collapseStates[C]=_&~(1<<i)}toRegion(S){return new k(this,S)}getParentIndex(S){this.ensureParentIndices();let p=((this._startIndexes[S]&v)>>>24)+((this._endIndexes[S]&v)>>>16);return p===e.MAX_FOLDING_REGIONS?-1:p}contains(S,p){return this.getStartLineNumber(S)<=p&&this.getEndLineNumber(S)>=p}findIndex(S){let p=0,C=this._startIndexes.length;if(C===0)return-1;for(;p<C;){let i=Math.floor((p+C)/2);S<this.getStartLineNumber(i)?C=i:p=i+1}return p-1}findRange(S){let p=this.findIndex(S);if(p>=0){if(this.getEndLineNumber(p)>=S)return p;for(p=this.getParentIndex(p);p!==-1;){if(this.contains(p,S))return p;p=this.getParentIndex(p)}}return-1}toString(){let S=[];for(let p=0;p<this.length;p++)S[p]=`[${this.isCollapsed(p)?"+":"-"}] ${this.getStartLineNumber(p)}/${this.getEndLineNumber(p)}`;return S.join(", ")}}e.FoldingRegions=I;class k{constructor(S,p){this.ranges=S,this.index=p}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(S){return S.startLineNumber<=this.startLineNumber&&S.endLineNumber>=this.endLineNumber}containsLine(S){return this.startLineNumber<=S&&S<=this.endLineNumber}}e.FoldingRegion=k}),define(te[667],ie([0,1,6,172]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class k{constructor(c,d){this._updateEventEmitter=new v.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=c,this._decorationProvider=d,this._regions=new I.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(c){if(!!c.length){c=c.sort((r,n)=>r.regionIndex-n.regionIndex);const d={};this._decorationProvider.changeDecorations(r=>{let n=0,s=-1,t=-1;const o=h=>{for(;n<h;){const f=this._regions.getEndLineNumber(n),m=this._regions.isCollapsed(n);f<=s&&r.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(m,f<=t)),m&&f>t&&(t=f),n++}};for(let h of c){let f=h.regionIndex,m=this._editorDecorationIds[f];if(m&&!d[m]){d[m]=!0,o(f);let g=!this._regions.isCollapsed(f);this._regions.setCollapsed(f,g),s=Math.max(s,this._regions.getEndLineNumber(f))}}o(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:c})}}update(c,d=[]){let r=[],n=(g,b)=>{for(let y of d)if(g<y&&y<=b)return!0;return!1},s=-1,t=(g,b)=>{const y=c.getStartLineNumber(g),L=c.getEndLineNumber(g);b&&n(y,L)&&(b=!1),c.setCollapsed(g,b);const N=this._textModel.getLineMaxColumn(y),M={startLineNumber:y,startColumn:Math.max(N-1,1),endLineNumber:y,endColumn:N};r.push({range:M,options:this._decorationProvider.getDecorationOption(b,L<=s)}),b&&L>s&&(s=L)},o=0,h=()=>{for(;o<this._regions.length;){let g=this._regions.isCollapsed(o);if(o++,g)return o-1}return-1},f=0,m=h();for(;m!==-1&&f<c.length;){let g=this._textModel.getDecorationRange(this._editorDecorationIds[m]);if(g){let b=g.startLineNumber;if(g.startColumn===Math.max(g.endColumn-1,1)&&this._textModel.getLineMaxColumn(b)===g.endColumn)for(;f<c.length;){let y=c.getStartLineNumber(f);if(b>=y)t(f,b===y),f++;else break}}m=h()}for(;f<c.length;)t(f,!1),f++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,r),this._regions=c,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let c=[];for(let d=0;d<this._regions.length;d++)if(this._regions.isCollapsed(d)){let r=this._textModel.getDecorationRange(this._editorDecorationIds[d]);if(r){let n=r.startLineNumber,s=r.endLineNumber+this._regions.getEndLineNumber(d)-this._regions.getStartLineNumber(d);c.push({startLineNumber:n,endLineNumber:s})}}if(c.length>0)return c}applyMemento(c){if(!!Array.isArray(c)){let d=[];for(let r of c){let n=this.getRegionAtLine(r.startLineNumber);n&&!n.isCollapsed&&d.push(n)}this.toggleCollapseState(d)}}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(c,d){let r=[];if(this._regions){let n=this._regions.findRange(c),s=1;for(;n>=0;){let t=this._regions.toRegion(n);(!d||d(t,s))&&r.push(t),s++,n=t.parentIndex}}return r}getRegionAtLine(c){if(this._regions){let d=this._regions.findRange(c);if(d>=0)return this._regions.toRegion(d)}return null}getRegionsInside(c,d){let r=[],n=c?c.regionIndex+1:0,s=c?c.endLineNumber:Number.MAX_VALUE;if(d&&d.length===2){const t=[];for(let o=n,h=this._regions.length;o<h;o++){let f=this._regions.toRegion(o);if(this._regions.getStartLineNumber(o)<s){for(;t.length>0&&!f.containedBy(t[t.length-1]);)t.pop();t.push(f),d(f,t.length)&&r.push(f)}else break}}else for(let t=n,o=this._regions.length;t<o;t++){let h=this._regions.toRegion(t);if(this._regions.getStartLineNumber(t)<s)(!d||d(h))&&r.push(h);else break}return r}}e.FoldingModel=k;function w(l,c,d){let r=[];for(let n of d){let s=l.getRegionAtLine(n);if(s){const t=!s.isCollapsed;if(r.push(s),c>1){let o=l.getRegionsInside(s,(h,f)=>h.isCollapsed!==t&&f<c);r.push(...o)}}}l.toggleCollapseState(r)}e.toggleCollapseState=w;function S(l,c,d=Number.MAX_VALUE,r){let n=[];if(r&&r.length>0)for(let s of r){let t=l.getRegionAtLine(s);if(t&&(t.isCollapsed!==c&&n.push(t),d>1)){let o=l.getRegionsInside(t,(h,f)=>h.isCollapsed!==c&&f<d);n.push(...o)}}else{let s=l.getRegionsInside(null,(t,o)=>t.isCollapsed!==c&&o<d);n.push(...s)}l.toggleCollapseState(n)}e.setCollapseStateLevelsDown=S;function p(l,c,d,r){let n=[];for(let s of r){let t=l.getAllRegionsAtLine(s,(o,h)=>o.isCollapsed!==c&&h<=d);n.push(...t)}l.toggleCollapseState(n)}e.setCollapseStateLevelsUp=p;function C(l,c,d){let r=[];for(let n of d){let s=l.getAllRegionsAtLine(n,t=>t.isCollapsed!==c);s.length>0&&r.push(s[0])}l.toggleCollapseState(r)}e.setCollapseStateUp=C;function i(l,c,d,r){let n=(t,o)=>o===c&&t.isCollapsed!==d&&!r.some(h=>t.containsLine(h)),s=l.getRegionsInside(null,n);l.toggleCollapseState(s)}e.setCollapseStateAtLevel=i;function _(l,c,d){let r=[];for(let t of d)r.push(l.getAllRegionsAtLine(t,void 0)[0]);let n=t=>r.every(o=>!o.containedBy(t)&&!t.containedBy(o))&&t.isCollapsed!==c,s=l.getRegionsInside(null,n);l.toggleCollapseState(s)}e.setCollapseStateForRest=_;function u(l,c,d){let r=l.textModel,n=l.regions,s=[];for(let t=n.length-1;t>=0;t--)if(d!==n.isCollapsed(t)){let o=n.getStartLineNumber(t);c.test(r.getLineContent(o))&&s.push(n.toRegion(t))}l.toggleCollapseState(s)}e.setCollapseStateForMatchingLines=u;function a(l,c,d){let r=l.regions,n=[];for(let s=r.length-1;s>=0;s--)d!==r.isCollapsed(s)&&c===r.getType(s)&&n.push(r.toRegion(s));l.toggleCollapseState(n)}e.setCollapseStateForType=a}),define(te[668],ie([0,1,6,3,19]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class w{constructor(i){this._updateEventEmitter=new v.Emitter,this._foldingModel=i,this._foldingModelListener=i.onDidChange(_=>this.updateHiddenRanges()),this._hiddenRanges=[],i.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let i=!1,_=[],u=0,a=0,l=Number.MAX_VALUE,c=-1,d=this._foldingModel.regions;for(;u<d.length;u++)if(!!d.isCollapsed(u)){let r=d.getStartLineNumber(u)+1,n=d.getEndLineNumber(u);l<=r&&n<=c||(!i&&a<this._hiddenRanges.length&&this._hiddenRanges[a].startLineNumber===r&&this._hiddenRanges[a].endLineNumber===n?(_.push(this._hiddenRanges[a]),a++):(i=!0,_.push(new I.Range(r,1,n,1))),l=r,c=n)}(i||a<this._hiddenRanges.length)&&this.applyHiddenRanges(_)}applyMemento(i){if(!Array.isArray(i)||i.length===0)return!1;let _=[];for(let u of i){if(!u.startLineNumber||!u.endLineNumber)return!1;_.push(new I.Range(u.startLineNumber+1,1,u.endLineNumber,1))}return this.applyHiddenRanges(_),!0}getMemento(){return this._hiddenRanges.map(i=>({startLineNumber:i.startLineNumber-1,endLineNumber:i.endLineNumber}))}applyHiddenRanges(i){this._hiddenRanges=i,this._updateEventEmitter.fire(i)}hasRanges(){return this._hiddenRanges.length>0}isHidden(i){return p(this._hiddenRanges,i)!==null}adjustSelections(i){let _=!1,u=this._foldingModel.textModel,a=null,l=c=>((!a||!S(c,a))&&(a=p(this._hiddenRanges,c)),a?a.startLineNumber-1:null);for(let c=0,d=i.length;c<d;c++){let r=i[c],n=l(r.startLineNumber);n&&(r=r.setStartPosition(n,u.getLineMaxColumn(n)),_=!0);let s=l(r.endLineNumber);s&&(r=r.setEndPosition(s,u.getLineMaxColumn(s)),_=!0),i[c]=r}return _}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=w;function S(C,i){return C>=i.startLineNumber&&C<=i.endLineNumber}function p(C,i){let _=(0,k.findFirstInSorted)(C,u=>i<u.startLineNumber)-1;return _>=0&&C[_].endLineNumber>=i?C[_]:null}}),define(te[221],ie([0,1,11,172,2]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const w=5e3,S={};e.ID_SYNTAX_PROVIDER="syntax";class p{constructor(a,l,c,d=w){this.editorModel=a,this.providers=l,this.limit=d,this.id=e.ID_SYNTAX_PROVIDER;for(const r of l)typeof r.onDidChange=="function"&&(this.disposables||(this.disposables=new k.DisposableStore),this.disposables.add(r.onDidChange(c)))}compute(a){return C(this.providers,this.editorModel,a).then(l=>l?_(l,this.limit):null)}dispose(){var a;(a=this.disposables)===null||a===void 0||a.dispose()}}e.SyntaxRangeProvider=p;function C(u,a,l){let c=null,d=u.map((r,n)=>Promise.resolve(r.provideFoldingRanges(a,S,l)).then(s=>{if(!l.isCancellationRequested&&Array.isArray(s)){Array.isArray(c)||(c=[]);let t=a.getLineCount();for(let o of s)o.start>0&&o.end>o.start&&o.end<=t&&c.push({start:o.start,end:o.end,rank:n,kind:o.kind})}},v.onUnexpectedExternalError));return Promise.all(d).then(r=>c)}class i{constructor(a){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=a}add(a,l,c,d){if(!(a>I.MAX_LINE_NUMBER||l>I.MAX_LINE_NUMBER)){let r=this._length;this._startIndexes[r]=a,this._endIndexes[r]=l,this._nestingLevels[r]=d,this._types[r]=c,this._length++,d<30&&(this._nestingLevelCounts[d]=(this._nestingLevelCounts[d]||0)+1)}}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let a=new Uint32Array(this._length),l=new Uint32Array(this._length);for(let c=0;c<this._length;c++)a[c]=this._startIndexes[c],l[c]=this._endIndexes[c];return new I.FoldingRegions(a,l,this._types)}else{let a=0,l=this._nestingLevelCounts.length;for(let n=0;n<this._nestingLevelCounts.length;n++){let s=this._nestingLevelCounts[n];if(s){if(s+a>this._foldingRangesLimit){l=n;break}a+=s}}let c=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit),r=[];for(let n=0,s=0;n<this._length;n++){let t=this._nestingLevels[n];(t<l||t===l&&a++<this._foldingRangesLimit)&&(c[s]=this._startIndexes[n],d[s]=this._endIndexes[n],r[s]=this._types[n],s++)}return new I.FoldingRegions(c,d,r)}}}e.RangesCollector=i;function _(u,a){let l=u.sort((n,s)=>{let t=n.start-s.start;return t===0&&(t=n.rank-s.rank),t}),c=new i(a),d,r=[];for(let n of l)if(!d)d=n,c.add(n.start,n.end,n.kind&&n.kind.value,r.length);else if(n.start>d.start)if(n.end<=d.end)r.push(d),d=n,c.add(n.start,n.end,n.kind&&n.kind.value,r.length);else{if(n.start>d.end){do d=r.pop();while(d&&n.start>d.end);d&&r.push(d),d=n}c.add(n.start,n.end,n.kind&&n.kind.value,r.length)}return c.toIndentRanges()}e.sanitizeRanges=_}),define(te[674],ie([0,1,221]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class I{constructor(w,S,p,C){if(this.editorModel=w,this.id=e.ID_INIT_PROVIDER,S.length){let i=_=>({range:{startLineNumber:_.startLineNumber,startColumn:0,endLineNumber:_.endLineNumber,endColumn:w.getLineLength(_.endLineNumber)},options:{stickiness:1}});this.decorationIds=w.deltaDecorations([],S.map(i)),this.timeout=setTimeout(p,C)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(w){let S=[];if(this.decorationIds)for(let p of this.decorationIds){let C=this.editorModel.getDecorationRange(p);C&&S.push({start:C.startLineNumber,end:C.endLineNumber,rank:1})}return Promise.resolve((0,v.sanitizeRanges)(S,Number.MAX_VALUE))}}e.InitializingRangeProvider=I}),define(te[220],ie([0,1,61,3]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class k{static _handleEolEdits(S,p){let C,i=[];for(let _ of p)typeof _.eol=="number"&&(C=_.eol),_.range&&typeof _.text=="string"&&i.push(_);return typeof C=="number"&&S.hasModel()&&S.getModel().pushEOL(C),i}static _isFullModelReplaceEdit(S,p){if(!S.hasModel())return!1;const C=S.getModel(),i=C.validateRange(p.range);return C.getFullModelRange().equalsRange(i)}static execute(S,p,C){C&&S.pushUndoStop();const i=k._handleEolEdits(S,p);i.length===1&&k._isFullModelReplaceEdit(S,i[0])?S.executeEdits("formatEditsCommand",i.map(_=>v.EditOperation.replace(I.Range.lift(_.range),_.text))):S.executeEdits("formatEditsCommand",i.map(_=>v.EditOperation.replaceMove(I.Range.lift(_.range),_.text))),C&&S.pushUndoStop()}}e.FormattingEdit=k}),define(te[274],ie([0,1,2,6,17]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function w(u,a){return!!u[a]}class S{constructor(a,l){this.target=a.target,this.hasTriggerModifier=w(a.event,l.triggerModifier),this.hasSideBySideModifier=w(a.event,l.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=a.event.detail<=1}}e.ClickLinkMouseEvent=S;class p{constructor(a,l){this.keyCodeIsTriggerKey=a.keyCode===l.triggerKey,this.keyCodeIsSideBySideKey=a.keyCode===l.triggerSideBySideKey,this.hasTriggerModifier=w(a,l.triggerModifier)}}e.ClickLinkKeyboardEvent=p;class C{constructor(a,l,c,d){this.triggerKey=a,this.triggerModifier=l,this.triggerSideBySideKey=c,this.triggerSideBySideModifier=d}equals(a){return this.triggerKey===a.triggerKey&&this.triggerModifier===a.triggerModifier&&this.triggerSideBySideKey===a.triggerSideBySideKey&&this.triggerSideBySideModifier===a.triggerSideBySideModifier}}e.ClickLinkOptions=C;function i(u){return u==="altKey"?k.isMacintosh?new C(57,"metaKey",6,"altKey"):new C(5,"ctrlKey",6,"altKey"):k.isMacintosh?new C(6,"altKey",57,"metaKey"):new C(6,"altKey",5,"ctrlKey")}class _ extends v.Disposable{constructor(a){super();this._onMouseMoveOrRelevantKeyDown=this._register(new I.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new I.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new I.Emitter),this.onCancel=this._onCancel.event,this._editor=a,this._opts=i(this._editor.getOption(66)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(l=>{if(l.hasChanged(66)){const c=i(this._editor.getOption(66));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(l=>this._onEditorMouseMove(new S(l,this._opts)))),this._register(this._editor.onMouseDown(l=>this._onEditorMouseDown(new S(l,this._opts)))),this._register(this._editor.onMouseUp(l=>this._onEditorMouseUp(new S(l,this._opts)))),this._register(this._editor.onKeyDown(l=>this._onEditorKeyDown(new p(l,this._opts)))),this._register(this._editor.onKeyUp(l=>this._onEditorKeyUp(new p(l,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(l=>this._onDidChangeCursorSelection(l))),this._register(this._editor.onDidChangeModel(l=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(l=>{(l.scrollTopChanged||l.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(a){a.selection&&a.selection.startColumn!==a.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(a){this._lastMouseMoveEvent=a,this._onMouseMoveOrRelevantKeyDown.fire([a,null])}_onEditorMouseDown(a){this._hasTriggerKeyOnMouseDown=a.hasTriggerModifier,this._lineNumberOnMouseDown=a.target.position?a.target.position.lineNumber:0}_onEditorMouseUp(a){const l=a.target.position?a.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===l&&this._onExecute.fire(a)}_onEditorKeyDown(a){this._lastMouseMoveEvent&&(a.keyCodeIsTriggerKey||a.keyCodeIsSideBySideKey&&a.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,a]):a.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(a){a.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=_}),define(te[219],ie([0,1,15,11]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=void 0;class k{constructor(S,p,C,i,_){this._computer=S,this._state=0,this._hoverTime=_,this._firstWaitScheduler=new v.RunOnceScheduler(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new v.RunOnceScheduler(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new v.RunOnceScheduler(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=p,this._errorCallback=C,this._progressCallback=i}setHoverTime(S){this._hoverTime=S}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=(0,v.createCancelablePromise)(S=>this._computer.computeAsync(S)),this._asyncComputationPromise.then(S=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(S)},S=>this._onError(S))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(S){S&&this._computer.onResult(S,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(S){this._completeCallback(S)}_onError(S){this._errorCallback?this._errorCallback(S):(0,I.onUnexpectedError)(S)}_onProgress(S){this._progressCallback(S)}start(S){if(S===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}e.HoverOperation=k}),define(te[275],ie([0,1,52]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphHoverWidget=void 0;class I extends v.Widget{constructor(w,S){super();this._id=w,this._editor=S,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(p=>{p.hasChanged(40)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(w){this._isVisible=w,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(w){this._showAtLineNumber=w,this.isVisible||(this.isVisible=!0);const S=this._editor.getLayoutInfo(),p=this._editor.getTopForLineNumber(this._showAtLineNumber),C=this._editor.getScrollTop(),i=this._editor.getOption(55),_=this._domNode.clientHeight,u=p-C-(_-i)/2;this._domNode.style.left=`${S.glyphMarginLeft+S.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(u),0)}px`}hide(){!this.isVisible||(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){const w=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),S=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));[...w,...S].forEach(p=>this._editor.applyFontInfo(p))}updateContents(w){this._domNode.textContent="",this._domNode.appendChild(w),this.updateFont()}}e.GlyphHoverWidget=I}),define(te[276],ie([0,1,21]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class I{constructor(w,S,p){this._editRange=w,this._originalSelection=S,this._text=p}getEditOperations(w,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(w,S){const C=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new v.Selection(C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn),C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn)):new v.Selection(C.endLineNumber,C.endColumn-this._text.length,C.endLineNumber,C.endColumn)}}e.InPlaceReplaceCommand=I}),define(te[218],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function v(k,w){let S=0;for(let p=0;p<k.length;p++)k.charAt(p)==="	"?S+=w:S++;return S}e.getSpaceCnt=v;function I(k,w,S){k=k<0?0:k;let p="";if(!S){let C=Math.floor(k/w);k=k%w;for(let i=0;i<C;i++)p+="	"}for(let C=0;C<k;C++)p+=" ";return p}e.generateIndent=I}),define(te[278],ie([0,1,3,21]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class k{constructor(S,p,C){this._selection=S,this._isCopyingDown=p,this._noop=C||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,p){let C=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,C.startLineNumber<C.endLineNumber&&C.endColumn===1&&(this._endLineNumberDelta=1,C=C.setEndPosition(C.endLineNumber-1,S.getLineMaxColumn(C.endLineNumber-1)));let i=[];for(let u=C.startLineNumber;u<=C.endLineNumber;u++)i.push(S.getLineContent(u));const _=i.join(`
`);_===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?p.addEditOperation(new v.Range(C.endLineNumber,S.getLineMaxColumn(C.endLineNumber),C.endLineNumber+1,1),C.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?p.addEditOperation(new v.Range(C.startLineNumber,1,C.startLineNumber,1),_+`
`):p.addEditOperation(new v.Range(C.endLineNumber,S.getLineMaxColumn(C.endLineNumber),C.endLineNumber,S.getLineMaxColumn(C.endLineNumber)),`
`+_),this._selectionId=p.trackSelection(C),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,p){let C=p.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let i=C.startLineNumber,_=C.startColumn,u=C.endLineNumber,a=C.endColumn;this._startLineNumberDelta!==0&&(i=i+this._startLineNumberDelta,_=1),this._endLineNumberDelta!==0&&(u=u+this._endLineNumberDelta,a=1),C=I.Selection.createWithDirection(i,_,u,a,this._selectionDirection)}return C}}e.CopyLinesCommand=k}),define(te[279],ie([0,1,61,3]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class k{constructor(C,i){this.selection=C,this.descending=i,this.selectionId=null}static getCollator(){return k._COLLATOR||(k._COLLATOR=new Intl.Collator),k._COLLATOR}getEditOperations(C,i){let _=S(C,this.selection,this.descending);_&&i.addEditOperation(_.range,_.text),this.selectionId=i.trackSelection(this.selection)}computeCursorState(C,i){return i.getTrackedSelection(this.selectionId)}static canRun(C,i,_){if(C===null)return!1;let u=w(C,i,_);if(!u)return!1;for(let a=0,l=u.before.length;a<l;a++)if(u.before[a]!==u.after[a])return!0;return!1}}e.SortLinesCommand=k,k._COLLATOR=null;function w(p,C,i){let _=C.startLineNumber,u=C.endLineNumber;if(C.endColumn===1&&u--,_>=u)return null;let a=[];for(let c=_;c<=u;c++)a.push(p.getLineContent(c));let l=a.slice(0);return l.sort(k.getCollator().compare),i===!0&&(l=l.reverse()),{startLineNumber:_,endLineNumber:u,before:a,after:l}}function S(p,C,i){let _=w(p,C,i);return _?v.EditOperation.replace(new I.Range(_.startLineNumber,1,_.endLineNumber,p.getLineMaxColumn(_.endLineNumber)),_.after.join(`
`)):null}}),define(te[216],ie([0,1,14,3,77]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class w{provideSelectionRanges(p,C){return De(this,void 0,void 0,function*(){const i=[];for(const _ of C){const u=[];i.push(u);const a=new Map;yield new Promise(l=>w._bracketsRightYield(l,0,p,_,a)),yield new Promise(l=>w._bracketsLeftYield(l,0,p,_,a,u))}return i})}static _bracketsRightYield(p,C,i,_,u){const a=new Map,l=Date.now();for(;;){if(C>=w._maxRounds){p();break}if(!_){p();break}let c=i.findNextBracket(_);if(!c){p();break}if(Date.now()-l>w._maxDuration){setTimeout(()=>w._bracketsRightYield(p,C+1,i,_,u));break}const r=c.close[0];if(c.isOpen){let n=a.has(r)?a.get(r):0;a.set(r,n+1)}else{let n=a.has(r)?a.get(r):0;if(n-=1,a.set(r,Math.max(0,n)),n<0){let s=u.get(r);s||(s=new k.LinkedList,u.set(r,s)),s.push(c.range)}}_=c.range.getEndPosition()}}static _bracketsLeftYield(p,C,i,_,u,a){const l=new Map,c=Date.now();for(;;){if(C>=w._maxRounds&&u.size===0){p();break}if(!_){p();break}let d=i.findPrevBracket(_);if(!d){p();break}if(Date.now()-c>w._maxDuration){setTimeout(()=>w._bracketsLeftYield(p,C+1,i,_,u,a));break}const n=d.close[0];if(d.isOpen){let s=l.has(n)?l.get(n):0;if(s-=1,l.set(n,Math.max(0,s)),s<0){let t=u.get(n);if(t){let o=t.shift();t.size===0&&u.delete(n);const h=I.Range.fromPositions(d.range.getEndPosition(),o.getStartPosition()),f=I.Range.fromPositions(d.range.getStartPosition(),o.getEndPosition());a.push({range:h}),a.push({range:f}),w._addBracketLeading(i,f,a)}}}else{let s=l.has(n)?l.get(n):0;l.set(n,s+1)}_=d.range.getStartPosition()}}static _addBracketLeading(p,C,i){if(C.startLineNumber!==C.endLineNumber){const _=C.startLineNumber,u=p.getLineFirstNonWhitespaceColumn(_);u!==0&&u!==C.startColumn&&(i.push({range:I.Range.fromPositions(new v.Position(_,u),C.getEndPosition())}),i.push({range:I.Range.fromPositions(new v.Position(_,1),C.getEndPosition())}));const a=_-1;if(a>0){const l=p.getLineFirstNonWhitespaceColumn(a);l===C.startColumn&&l!==p.getLineLastNonWhitespaceColumn(a)&&(i.push({range:I.Range.fromPositions(new v.Position(a,l),C.getEndPosition())}),i.push({range:I.Range.fromPositions(new v.Position(a,1),C.getEndPosition())}))}}}}e.BracketSelectionRangeProvider=w,w._maxDuration=30,w._maxRounds=2}),define(te[281],ie([0,1,3,8]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class k{provideSelectionRanges(S,p){const C=[];for(const i of p){const _=[];C.push(_),this._addInWordRanges(_,S,i),this._addWordRanges(_,S,i),this._addWhitespaceLine(_,S,i),_.push({range:S.getFullModelRange()})}return C}_addInWordRanges(S,p,C){const i=p.getWordAtPosition(C);if(!!i){let{word:_,startColumn:u}=i,a=C.column-u,l=a,c=a,d=0;for(;l>=0;l--){let r=_.charCodeAt(l);if(l!==a&&(r===95||r===45))break;if((0,I.isLowerAsciiLetter)(r)&&(0,I.isUpperAsciiLetter)(d))break;d=r}for(l+=1;c<_.length;c++){let r=_.charCodeAt(c);if((0,I.isUpperAsciiLetter)(r)&&(0,I.isLowerAsciiLetter)(d))break;if(r===95||r===45)break;d=r}l<c&&S.push({range:new v.Range(C.lineNumber,u+l,C.lineNumber,u+c)})}}_addWordRanges(S,p,C){const i=p.getWordAtPosition(C);i&&S.push({range:new v.Range(C.lineNumber,i.startColumn,C.lineNumber,i.endColumn)})}_addWhitespaceLine(S,p,C){p.getLineLength(C.lineNumber)>0&&p.getLineFirstNonWhitespaceColumn(C.lineNumber)===0&&p.getLineLastNonWhitespaceColumn(C.lineNumber)===0&&S.push({range:new v.Range(C.lineNumber,1,C.lineNumber,p.getLineMaxColumn(C.lineNumber))})}}e.WordSelectionRangeProvider=k}),define(te[135],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class v{constructor(){this.value="",this.pos=0}static isDigitCharacter(d){return d>=48&&d<=57}static isVariableCharacter(d){return d===95||d>=97&&d<=122||d>=65&&d<=90}text(d){this.value=d,this.pos=0}tokenText(d){return this.value.substr(d.pos,d.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let d=this.pos,r=0,n=this.value.charCodeAt(d),s;if(s=v._table[n],typeof s=="number")return this.pos+=1,{type:s,pos:d,len:1};if(v.isDigitCharacter(n)){s=8;do r+=1,n=this.value.charCodeAt(d+r);while(v.isDigitCharacter(n));return this.pos+=r,{type:s,pos:d,len:r}}if(v.isVariableCharacter(n)){s=9;do n=this.value.charCodeAt(d+ ++r);while(v.isVariableCharacter(n)||v.isDigitCharacter(n));return this.pos+=r,{type:s,pos:d,len:r}}s=10;do r+=1,n=this.value.charCodeAt(d+r);while(!isNaN(n)&&typeof v._table[n]=="undefined"&&!v.isDigitCharacter(n)&&!v.isVariableCharacter(n));return this.pos+=r,{type:s,pos:d,len:r}}}e.Scanner=v,v._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class I{constructor(){this._children=[]}appendChild(d){return d instanceof k&&this._children[this._children.length-1]instanceof k?this._children[this._children.length-1].value+=d.value:(d.parent=this,this._children.push(d)),this}replace(d,r){const{parent:n}=d,s=n.children.indexOf(d),t=n.children.slice(0);t.splice(s,1,...r),n._children=t,function o(h,f){for(const m of h)m.parent=f,o(m.children,m)}(r,n)}get children(){return this._children}get snippet(){let d=this;for(;;){if(!d)return;if(d instanceof a)return d;d=d.parent}}toString(){return this.children.reduce((d,r)=>d+r.toString(),"")}len(){return 0}}e.Marker=I;class k extends I{constructor(d){super();this.value=d}toString(){return this.value}len(){return this.value.length}clone(){return new k(this.value)}}e.Text=k;class w extends I{}e.TransformableMarker=w;class S extends w{constructor(d){super();this.index=d}static compareByIndex(d,r){return d.index===r.index?0:d.isFinalTabstop?1:r.isFinalTabstop||d.index<r.index?-1:d.index>r.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof p?this._children[0]:void 0}clone(){let d=new S(this.index);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(r=>r.clone()),d}}e.Placeholder=S;class p extends I{constructor(){super(...arguments);this.options=[]}appendChild(d){return d instanceof k&&(d.parent=this,this.options.push(d)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let d=new p;return this.options.forEach(d.appendChild,d),d}}e.Choice=p;class C extends I{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(d){const r=this;let n=!1,s=d.replace(this.regexp,function(){return n=!0,r._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(t=>t instanceof i&&Boolean(t.elseValue))&&(s=this._replace([])),s}_replace(d){let r="";for(const n of this._children)if(n instanceof i){let s=d[n.index]||"";s=n.resolve(s),r+=s}else r+=n.toString();return r}toString(){return""}clone(){let d=new C;return d.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),d._children=this.children.map(r=>r.clone()),d}}e.Transform=C;class i extends I{constructor(d,r,n,s){super();this.index=d,this.shorthandName=r,this.ifValue=n,this.elseValue=s}resolve(d){return this.shorthandName==="upcase"?d?d.toLocaleUpperCase():"":this.shorthandName==="downcase"?d?d.toLocaleLowerCase():"":this.shorthandName==="capitalize"?d?d[0].toLocaleUpperCase()+d.substr(1):"":this.shorthandName==="pascalcase"?d?this._toPascalCase(d):"":Boolean(d)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(d)&&typeof this.elseValue=="string"?this.elseValue:d||""}_toPascalCase(d){const r=d.match(/[a-z]+/gi);return r?r.map(function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()}).join(""):d}clone(){return new i(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=i;class _ extends w{constructor(d){super();this.name=d}resolve(d){let r=d.resolve(this);return this.transform&&(r=this.transform.resolve(r||"")),r!==void 0?(this._children=[new k(r)],!0):!1}clone(){const d=new _(this.name);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(r=>r.clone()),d}}e.Variable=_;function u(c,d){const r=[...c];for(;r.length>0;){const n=r.shift();if(!d(n))break;r.unshift(...n.children)}}class a extends I{get placeholderInfo(){if(!this._placeholders){let d=[],r;this.walk(function(n){return n instanceof S&&(d.push(n),r=!r||r.index<n.index?n:r),!0}),this._placeholders={all:d,last:r}}return this._placeholders}get placeholders(){const{all:d}=this.placeholderInfo;return d}offset(d){let r=0,n=!1;return this.walk(s=>s===d?(n=!0,!1):(r+=s.len(),!0)),n?r:-1}fullLen(d){let r=0;return u([d],n=>(r+=n.len(),!0)),r}enclosingPlaceholders(d){let r=[],{parent:n}=d;for(;n;)n instanceof S&&r.push(n),n=n.parent;return r}resolveVariables(d){return this.walk(r=>(r instanceof _&&r.resolve(d)&&(this._placeholders=void 0),!0)),this}appendChild(d){return this._placeholders=void 0,super.appendChild(d)}replace(d,r){return this._placeholders=void 0,super.replace(d,r)}clone(){let d=new a;return this._children=this.children.map(r=>r.clone()),d}walk(d){u(this.children,d)}}e.TextmateSnippet=a;class l{constructor(){this._scanner=new v,this._token={type:14,pos:0,len:0}}static escape(d){return d.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(d){return/\${?CLIPBOARD/.test(d)}parse(d,r,n){this._scanner.text(d),this._token=this._scanner.next();const s=new a;for(;this._parse(s););const t=new Map,o=[];let h=0;s.walk(f=>(f instanceof S&&(h+=1,f.isFinalTabstop?t.set(0,void 0):!t.has(f.index)&&f.children.length>0?t.set(f.index,f.children):o.push(f)),!0));for(const f of o){const m=t.get(f.index);if(m){const g=new S(f.index);g.transform=f.transform;for(const b of m)g.appendChild(b.clone());s.replace(f,[g])}}return n||(n=h>0&&r),!t.has(0)&&n&&s.appendChild(new S(0)),s}_accept(d,r){if(d===void 0||this._token.type===d){let n=r?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),n}return!1}_backTo(d){return this._scanner.pos=d.pos+d.len,this._token=d,!1}_until(d){const r=this._token;for(;this._token.type!==d;){if(this._token.type===14)return!1;if(this._token.type===5){const s=this._scanner.next();if(s.type!==0&&s.type!==4&&s.type!==5)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(r.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(d){return this._parseEscaped(d)||this._parseTabstopOrVariableName(d)||this._parseComplexPlaceholder(d)||this._parseComplexVariable(d)||this._parseAnything(d)}_parseEscaped(d){let r;return(r=this._accept(5,!0))?(r=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||r,d.appendChild(new k(r)),!0):!1}_parseTabstopOrVariableName(d){let r;const n=this._token;return this._accept(0)&&(r=this._accept(9,!0)||this._accept(8,!0))?(d.appendChild(/^\d+$/.test(r)?new S(Number(r)):new _(r)),!0):this._backTo(n)}_parseComplexPlaceholder(d){let r;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(8,!0))))return this._backTo(n);const t=new S(Number(r));if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(t),!0;if(!this._parse(t))return d.appendChild(new k("${"+r+":")),t.children.forEach(d.appendChild,d),!0}else if(t.index>0&&this._accept(7)){const o=new p;for(;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(t.appendChild(o),this._accept(4)))return d.appendChild(t),!0}return this._backTo(n),!1}}else return this._accept(6)?this._parseTransform(t)?(d.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(d.appendChild(t),!0):this._backTo(n)}_parseChoiceElement(d){const r=this._token,n=[];for(;!(this._token.type===2||this._token.type===7);){let s;if((s=this._accept(5,!0))?s=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||s:s=this._accept(void 0,!0),!s)return this._backTo(r),!1;n.push(s)}return n.length===0?(this._backTo(r),!1):(d.appendChild(new k(n.join(""))),!0)}_parseComplexVariable(d){let r;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(9,!0))))return this._backTo(n);const t=new _(r);if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(t),!0;if(!this._parse(t))return d.appendChild(new k("${"+r+":")),t.children.forEach(d.appendChild,d),!0}else return this._accept(6)?this._parseTransform(t)?(d.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(d.appendChild(t),!0):this._backTo(n)}_parseTransform(d){let r=new C,n="",s="";for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(6,!0)||t,n+=t;continue}if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(5,!0)||this._accept(6,!0)||t,r.appendChild(new k(t));continue}if(!(this._parseFormatString(r)||this._parseAnything(r)))return!1}for(;!this._accept(4);){if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}try{r.regexp=new RegExp(n,s)}catch(t){return!1}return d.transform=r,!0}_parseFormatString(d){const r=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let s=this._accept(8,!0);if(s)if(n){if(this._accept(4))return d.appendChild(new i(Number(s))),!0;if(!this._accept(1))return this._backTo(r),!1}else return d.appendChild(new i(Number(s))),!0;else return this._backTo(r),!1;if(this._accept(6)){let t=this._accept(9,!0);return!t||!this._accept(4)?(this._backTo(r),!1):(d.appendChild(new i(Number(s),t)),!0)}else if(this._accept(11)){let t=this._until(4);if(t)return d.appendChild(new i(Number(s),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return d.appendChild(new i(Number(s),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let o=this._until(4);if(o)return d.appendChild(new i(Number(s),void 0,t,o)),!0}}else{let t=this._until(4);if(t)return d.appendChild(new i(Number(s),void 0,void 0,t)),!0}return this._backTo(r),!1}_parseAnything(d){return this._token.type!==14?(d.appendChild(new k(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=l}),define(te[283],ie([0,1,70,8,19]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class w{constructor(C,i){this.leadingLineContent=C,this.characterCountDelta=i}}e.LineContext=w;class S{constructor(C,i,_,u,a,l,c){this.clipboardText=c,this._snippetCompareFn=S._compareCompletionItems,this._items=C,this._column=i,this._wordDistance=u,this._options=a,this._refilterKind=1,this._lineContext=_,l==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:l==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(C){(this._lineContext.leadingLineContent!==C.leadingLineContent||this._lineContext.characterCountDelta!==C.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<C.characterCountDelta&&this._filteredItems?2:1,this._lineContext=C)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const C=new Set;for(let[i,_]of this._providerInfo)_&&C.add(i);return C}adopt(C){let i=[];for(let _=0;_<this._items.length;)C.has(this._items[_].provider)?_++:(i.push(this._items[_]),this._items[_]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,i}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const C=[],{leadingLineContent:i,characterCountDelta:_}=this._lineContext;let u="",a="";const l=this._refilterKind===1?this._items:this._filteredItems,c=[],d=!this._options.filterGraceful||l.length>2e3?v.fuzzyScore:v.fuzzyScoreGracefulAggressive;for(let r=0;r<l.length;r++){const n=l[r];if(!n.isInvalid){this._providerInfo.set(n.provider,Boolean(n.container.incomplete));const s=n.position.column-n.editStart.column,t=s+_-(n.position.column-this._column);if(u.length!==t&&(u=t===0?"":i.slice(-t),a=u.toLowerCase()),n.word=u,t===0)n.score=v.FuzzyScore.Default;else{let o=0;for(;o<s;){const h=u.charCodeAt(o);if(h===32||h===9)o+=1;else break}if(o>=t)n.score=v.FuzzyScore.Default;else if(typeof n.completion.filterText=="string"){let h=d(u,a,o,n.completion.filterText,n.filterTextLow,0,!1);if(!h)continue;(0,I.compareIgnoreCase)(n.completion.filterText,n.textLabel)===0?n.score=h:(n.score=(0,v.anyScore)(u,a,o,n.textLabel,n.labelLow,0),n.score[0]=h[0])}else{let h=d(u,a,o,n.textLabel,n.labelLow,0,!1);if(!h)continue;n.score=h}}n.idx=r,n.distance=this._wordDistance.distance(n.position,n.completion),c.push(n),C.push(n.textLabel.length)}}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:C.length?(0,k.quickSelect)(C.length-.85,C,(r,n)=>r-n):0}}static _compareCompletionItems(C,i){return C.score[0]>i.score[0]?-1:C.score[0]<i.score[0]?1:C.distance<i.distance?-1:C.distance>i.distance?1:C.idx<i.idx?-1:C.idx>i.idx?1:0}static _compareCompletionItemsSnippetsDown(C,i){if(C.completion.kind!==i.completion.kind){if(C.completion.kind===27)return 1;if(i.completion.kind===27)return-1}return S._compareCompletionItems(C,i)}static _compareCompletionItemsSnippetsUp(C,i){if(C.completion.kind!==i.completion.kind){if(C.completion.kind===27)return-1;if(i.completion.kind===27)return 1}return S._compareCompletionItems(C,i)}}e.CompletionModel=S}),define(te[215],ie([0,1,6,2,7,114]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new v.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new v.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new I.DisposableStore,this._size=new k.Dimension(0,0),this._minSize=new k.Dimension(0,0),this._maxSize=new k.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new w.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new w.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new w.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:w.OrthogonalEdge.North}),this._southSash=new w.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:w.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let C,i=0,_=0;this._sashListener.add(v.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{C===void 0&&(this._onDidWillResize.fire(),C=this._size,i=0,_=0)})),this._sashListener.add(v.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{C!==void 0&&(C=void 0,i=0,_=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(u=>{C&&(_=u.currentX-u.startX,this.layout(C.height+i,C.width+_),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(u=>{C&&(_=-(u.currentX-u.startX),this.layout(C.height+i,C.width+_),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(u=>{C&&(i=-(u.currentY-u.startY),this.layout(C.height+i,C.width+_),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(u=>{C&&(i=u.currentY-u.startY,this.layout(C.height+i,C.width+_),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(v.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(u=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(v.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(u=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this.domNode.remove()}enableSashes(C,i,_,u){this._northSash.state=C?3:0,this._eastSash.state=i?3:0,this._southSash.state=_?3:0,this._westSash.state=u?3:0}layout(C=this.size.height,i=this.size.width){const{height:_,width:u}=this._minSize,{height:a,width:l}=this._maxSize;C=Math.max(_,Math.min(a,C)),i=Math.max(u,Math.min(l,i));const c=new k.Dimension(i,C);k.Dimension.equals(c,this._size)||(this.domNode.style.height=C+"px",this.domNode.style.width=i+"px",this._size=c,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}get size(){return this._size}set maxSize(C){this._maxSize=C}get maxSize(){return this._maxSize}set minSize(C){this._minSize=C}get minSize(){return this._minSize}set preferredSize(C){this._preferredSize=C}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(te[285],ie([0,1,19,2,93]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class w{constructor(p,C,i){this._disposables=new I.DisposableStore,this._disposables.add(C.onDidShow(()=>this._onItem(C.getFocusedItem()))),this._disposables.add(C.onDidFocus(this._onItem,this)),this._disposables.add(C.onDidHide(this.reset,this)),this._disposables.add(p.onWillType(_=>{if(this._active&&!C.isFrozen()){const u=_.charCodeAt(_.length-1);this._active.acceptCharacters.has(u)&&p.getOption(0)&&i(this._active.item)}}))}_onItem(p){if(!p||!(0,v.isNonEmptyArray)(p.item.completion.commitCharacters)){this.reset();return}if(!(this._active&&this._active.item.item===p.item)){const C=new k.CharacterSet;for(const i of p.item.completion.commitCharacters)i.length>0&&C.add(i.charCodeAt(0));this._active={acceptCharacters:C,item:p}}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=w}),define(te[286],ie([0,1,2]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class I{constructor(w,S){this._disposables=new v.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(w.onWillType(()=>{if(!!this._empty&&!!w.hasModel()){const p=w.getSelections(),C=p.length;let i=!1;for(let u=0;u<C;u++)if(!p[u].isEmpty()){i=!0;break}if(!!i){this._lastOvertyped=[];const _=w.getModel();for(let u=0;u<C;u++){const a=p[u];if(_.getValueLengthInRange(a)>I._maxSelectionLength)return;this._lastOvertyped[u]={value:_.getValueInRange(a),multiline:a.startLineNumber!==a.endLineNumber}}this._empty=!1}}})),this._disposables.add(S.onDidCancel(p=>{!this._empty&&!p.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(w){if(!this._empty&&w>=0&&w<this._lastOvertyped.length)return this._lastOvertyped[w]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=I,I._maxSelectionLength=51200}),define(te[287],ie([0,1,19,3,216]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class w{static create(p,C){return De(this,void 0,void 0,function*(){if(!C.getOption(103).localityBonus||!C.hasModel())return w.None;const i=C.getModel(),_=C.getPosition();if(!p.canComputeWordRanges(i.uri))return w.None;const[u]=yield new k.BracketSelectionRangeProvider().provideSelectionRanges(i,[_]);if(u.length===0)return w.None;const a=yield p.computeWordRanges(i.uri,u[0].range);if(!a)return w.None;const l=i.getWordUntilPosition(_);return delete a[l.word],new class extends w{distance(c,d){if(!_.equals(C.getPosition()))return 0;if(d.kind===17)return 2<<20;let r=typeof d.label=="string"?d.label:d.label.name,n=a[r];if((0,v.isFalsyOrEmpty)(n))return 2<<20;let s=(0,v.binarySearch)(n,I.Range.fromPositions(c),I.Range.compareRangesUsingStarts),t=s>=0?n[s]:n[Math.max(0,~s-1)],o=u.length;for(const h of u){if(!I.Range.containsRange(h.range,t))break;o-=1}return o}}})}}e.WordDistance=w,w.None=new class extends w{distance(){return 0}}}),define(te[214],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function v(c){return Array.isArray(c)}e.isFuzzyActionArr=v;function I(c){return!v(c)}e.isFuzzyAction=I;function k(c){return typeof c=="string"}e.isString=k;function w(c){return!k(c)}e.isIAction=w;function S(c){return!c}e.empty=S;function p(c,d){return c.ignoreCase&&d?d.toLowerCase():d}e.fixCase=p;function C(c){return c.replace(/[&<>'"_]/g,"-")}e.sanitize=C;function i(c,d){console.log(`${c.languageId}: ${d}`)}e.log=i;function _(c,d){return new Error(`${c.languageId}: ${d}`)}e.createError=_;function u(c,d,r,n,s){const t=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return d.replace(t,function(h,f,m,g,b,y,L,N,M){return S(m)?S(g)?!S(b)&&b<n.length?p(c,n[b]):!S(L)&&c&&typeof c[L]=="string"?c[L]:(o===null&&(o=s.split("."),o.unshift(s)),!S(y)&&y<o.length?p(c,o[y]):""):p(c,r):"$"})}e.substituteMatches=u;function a(c,d){let r=d;for(;r&&r.length>0;){const n=c.tokenizer[r];if(n)return n;const s=r.lastIndexOf(".");s<0?r=null:r=r.substr(0,s)}return null}e.findRules=a;function l(c,d){let r=d;for(;r&&r.length>0;){if(c.stateNames[r])return!0;const s=r.lastIndexOf(".");s<0?r=null:r=r.substr(0,s)}return!1}e.stateExists=l}),define(te[289],ie([0,1,214]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function I(c,d){if(!d||!Array.isArray(d))return!1;for(const r of d)if(!c(r))return!1;return!0}function k(c,d){return typeof c=="boolean"?c:d}function w(c,d){return typeof c=="string"?c:d}function S(c){const d={};for(const r of c)d[r]=!0;return d}function p(c,d=!1){d&&(c=c.map(function(n){return n.toLowerCase()}));const r=S(c);return d?function(n){return r[n.toLowerCase()]!==void 0&&r.hasOwnProperty(n.toLowerCase())}:function(n){return r[n]!==void 0&&r.hasOwnProperty(n)}}function C(c,d){let r=0,n;do n=!1,d=d.replace(/(.|^)@(\w+)/g,function(t,o,h){if(o==="@")return t;n=!0;let f="";if(typeof c[h]=="string")f=c[h];else if(c[h]&&c[h]instanceof RegExp)f=c[h].source;else throw c[h]===void 0?v.createError(c,"language definition does not contain attribute '"+h+"', used at: "+d):v.createError(c,"attribute reference '"+h+"' must be a string, used at: "+d);return o+(v.empty(f)?"":"(?:"+f+")")}),r++;while(n&&r<5);d=d.replace(/@@/g,"@");let s=(c.ignoreCase?"i":"")+(c.unicode?"u":"");return new RegExp(d,s)}function i(c,d,r,n){if(n<0)return c;if(n<d.length)return d[n];if(n>=100){n=n-100;let s=r.split(".");if(s.unshift(r),n<s.length)return s[n]}return null}function _(c,d,r,n){let s=-1,t=r,o=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(s=parseInt(o[3]),o[2]&&(s=s+100)),t=o[4]);let h="~",f=t;!t||t.length===0?(h="!=",f=""):/^\w*$/.test(f)?h="==":(o=t.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(h=o[1],f=o[2]));let m;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(f)){let g=p(f.split("|"),c.ignoreCase);m=function(b){return h==="~"?g(b):!g(b)}}else if(h==="@"||h==="!@"){let g=c[f];if(!g)throw v.createError(c,"the @ match target '"+f+"' is not defined, in rule: "+d);if(!I(function(y){return typeof y=="string"},g))throw v.createError(c,"the @ match target '"+f+"' must be an array of strings, in rule: "+d);let b=p(g,c.ignoreCase);m=function(y){return h==="@"?b(y):!b(y)}}else if(h==="~"||h==="!~")if(f.indexOf("$")<0){let g=C(c,"^"+f+"$");m=function(b){return h==="~"?g.test(b):!g.test(b)}}else m=function(g,b,y,L){return C(c,"^"+v.substituteMatches(c,f,b,y,L)+"$").test(g)};else if(f.indexOf("$")<0){let g=v.fixCase(c,f);m=function(b){return h==="=="?b===g:b!==g}}else{let g=v.fixCase(c,f);m=function(b,y,L,N,M){let D=v.substituteMatches(c,g,y,L,N);return h==="=="?b===D:b!==D}}return s===-1?{name:r,value:n,test:function(g,b,y,L){return m(g,g,b,y,L)}}:{name:r,value:n,test:function(g,b,y,L){let N=i(g,b,y,s);return m(N||"",g,b,y,L)}}}function u(c,d,r){if(r){if(typeof r=="string")return r;if(r.token||r.token===""){if(typeof r.token!="string")throw v.createError(c,"a 'token' attribute must be of type string, in rule: "+d);{let n={token:r.token};if(r.token.indexOf("$")>=0&&(n.tokenSubst=!0),typeof r.bracket=="string")if(r.bracket==="@open")n.bracket=1;else if(r.bracket==="@close")n.bracket=-1;else throw v.createError(c,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+d);if(r.next){if(typeof r.next!="string")throw v.createError(c,"the next state must be a string value in rule: "+d);{let s=r.next;if(!/^(@pop|@push|@popall)$/.test(s)&&(s[0]==="@"&&(s=s.substr(1)),s.indexOf("$")<0&&!v.stateExists(c,v.substituteMatches(c,s,"",[],""))))throw v.createError(c,"the next state '"+r.next+"' is not defined in rule: "+d);n.next=s}}return typeof r.goBack=="number"&&(n.goBack=r.goBack),typeof r.switchTo=="string"&&(n.switchTo=r.switchTo),typeof r.log=="string"&&(n.log=r.log),typeof r.nextEmbedded=="string"&&(n.nextEmbedded=r.nextEmbedded,c.usesEmbedded=!0),n}}else if(Array.isArray(r)){let n=[];for(let s=0,t=r.length;s<t;s++)n[s]=u(c,d,r[s]);return{group:n}}else if(r.cases){let n=[];for(let t in r.cases)if(r.cases.hasOwnProperty(t)){const o=u(c,d,r.cases[t]);t==="@default"||t==="@"||t===""?n.push({test:void 0,value:o,name:t}):t==="@eos"?n.push({test:function(h,f,m,g){return g},value:o,name:t}):n.push(_(c,d,t,o))}const s=c.defaultToken;return{test:function(t,o,h,f){for(const m of n)if(!m.test||m.test(t,o,h,f))return m.value;return s}}}else throw v.createError(c,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+d)}else return{token:""}}class a{constructor(d){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=d}setRegex(d,r){let n;if(typeof r=="string")n=r;else if(r instanceof RegExp)n=r.source;else throw v.createError(d,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=n.length>0&&n[0]==="^",this.name=this.name+": "+n,this.regex=C(d,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")}setAction(d,r){this.action=u(d,this.name,r)}}function l(c,d){if(!d||typeof d!="object")throw new Error("Monarch: expecting a language definition object");let r={};r.languageId=c,r.includeLF=k(d.includeLF,!1),r.noThrow=!1,r.maxStack=100,r.start=typeof d.start=="string"?d.start:null,r.ignoreCase=k(d.ignoreCase,!1),r.unicode=k(d.unicode,!1),r.tokenPostfix=w(d.tokenPostfix,"."+r.languageId),r.defaultToken=w(d.defaultToken,"source"),r.usesEmbedded=!1;let n=d;n.languageId=c,n.includeLF=r.includeLF,n.ignoreCase=r.ignoreCase,n.unicode=r.unicode,n.noThrow=r.noThrow,n.usesEmbedded=r.usesEmbedded,n.stateNames=d.tokenizer,n.defaultToken=r.defaultToken;function s(o,h,f){for(const m of f){let g=m.include;if(g){if(typeof g!="string")throw v.createError(r,"an 'include' attribute must be a string at: "+o);if(g[0]==="@"&&(g=g.substr(1)),!d.tokenizer[g])throw v.createError(r,"include target '"+g+"' is not defined at: "+o);s(o+"."+g,h,d.tokenizer[g])}else{const b=new a(o);if(Array.isArray(m)&&m.length>=1&&m.length<=3)if(b.setRegex(n,m[0]),m.length>=3)if(typeof m[1]=="string")b.setAction(n,{token:m[1],next:m[2]});else if(typeof m[1]=="object"){const y=m[1];y.next=m[2],b.setAction(n,y)}else throw v.createError(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else b.setAction(n,m[1]);else{if(!m.regex)throw v.createError(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);m.name&&typeof m.name=="string"&&(b.name=m.name),m.matchOnlyAtStart&&(b.matchOnlyAtLineStart=k(m.matchOnlyAtLineStart,!1)),b.setRegex(n,m.regex),b.setAction(n,m.action)}h.push(b)}}}if(!d.tokenizer||typeof d.tokenizer!="object")throw v.createError(r,"a language definition must define the 'tokenizer' attribute as an object");r.tokenizer=[];for(let o in d.tokenizer)if(d.tokenizer.hasOwnProperty(o)){r.start||(r.start=o);const h=d.tokenizer[o];r.tokenizer[o]=new Array,s("tokenizer."+o,r.tokenizer[o],h)}if(r.usesEmbedded=n.usesEmbedded,d.brackets){if(!Array.isArray(d.brackets))throw v.createError(r,"the 'brackets' attribute must be defined as an array")}else d.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let t=[];for(let o of d.brackets){let h=o;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw v.createError(r,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")t.push({token:h.token+r.tokenPostfix,open:v.fixCase(r,h.open),close:v.fixCase(r,h.close)});else throw v.createError(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return r.brackets=t,r.noThrow=!0,r}e.compile=l}),define(te[290],ie([5,4]),function($,e){return $.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(te[293],ie([5,4]),function($,e){return $.create("vs/base/browser/ui/findinput/findInput",e)}),define(te[294],ie([5,4]),function($,e){return $.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(te[213],ie([0,1,189,294,27]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const w=I.localize(0,null),S=I.localize(1,null),p=I.localize(2,null);class C extends v.Checkbox{constructor(a){super({icon:k.Codicon.caseSensitive,title:w+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=C;class i extends v.Checkbox{constructor(a){super({icon:k.Codicon.wholeWord,title:S+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.WholeWordsCheckbox=i;class _ extends v.Checkbox{constructor(a){super({icon:k.Codicon.regex,title:p+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.RegexCheckbox=_}),define(te[296],ie([5,4]),function($,e){return $.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(te[297],ie([5,4]),function($,e){return $.create("vs/base/browser/ui/iconLabel/iconLabel",e)}),define(te[191],ie([0,1,7,160,2,146,43,20,54,297,24,484]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class u{constructor(n){this._element=n}get element(){return this._element}set textContent(n){this.disposed||n===this._textContent||(this._textContent=n,this._element.textContent=n)}set className(n){this.disposed||n===this._className||(this._className=n,this._element.className=n)}set empty(n){this.disposed||n===this._empty||(this._empty=n,this._element.style.marginLeft=n?"0":"")}dispose(){this.disposed=!0}}class a extends k.Disposable{constructor(n,s){super();this.hoverDelegate=void 0,this.customHovers=new Map,this.domNode=this._register(new u(v.append(n,v.$(".monaco-icon-label")))),this.labelContainer=v.append(this.domNode.element,v.$(".monaco-icon-label-container"));const t=v.append(this.labelContainer,v.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new u(v.append(this.labelContainer,v.$("span.monaco-icon-description-container")))),(s==null?void 0:s.supportHighlights)?this.nameNode=new d(t,!!s.supportIcons):this.nameNode=new l(t),(s==null?void 0:s.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new I.HighlightedLabel(v.append(this.descriptionContainer.element,v.$("span.label-description")),!!s.supportIcons):this.descriptionNodeFactory=()=>this._register(new u(v.append(this.descriptionContainer.element,v.$("span.label-description")))),(s==null?void 0:s.hoverDelegate)&&(this.hoverDelegate=s.hoverDelegate)}setLabel(n,s,t){const o=["monaco-icon-label"];t&&(t.extraClasses&&o.push(...t.extraClasses),t.italic&&o.push("italic"),t.strikethrough&&o.push("strikethrough")),this.domNode.className=o.join(" "),this.setupHover(this.labelContainer,t==null?void 0:t.title),this.nameNode.setLabel(n,t),(s||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof I.HighlightedLabel?(this.descriptionNode.set(s||"",t?t.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,t==null?void 0:t.descriptionTitle)):(this.descriptionNode.textContent=s||"",this.setupHover(this.descriptionNode.element,(t==null?void 0:t.descriptionTitle)||""),this.descriptionNode.empty=!s))}setupHover(n,s){const t=this.customHovers.get(n);if(t&&(t.dispose(),this.customHovers.delete(n)),!s){n.removeAttribute("title");return}return this.hoverDelegate?this.setupCustomHover(this.hoverDelegate,n,s):this.setupNativeHover(n,s)}static adjustXAndShowCustomHover(n,s,t,o){if(n&&o)return s!==void 0&&(n.target.x=s+10),t.showHover(n)}getTooltipForCustom(n){if((0,p.isString)(n))return()=>De(this,void 0,void 0,function*(){return n});if((0,p.isFunction)(n.markdown))return n.markdown;{const s=n.markdown;return()=>De(this,void 0,void 0,function*(){return s})}}setupCustomHover(n,s,t){s.setAttribute("title",""),s.removeAttribute("title");let o=this.getTooltipForCustom(t),h,f,m=!1,g,b;function y(N){if(!m){g=new _.CancellationTokenSource;function M(W){const F=W.type===v.EventType.MOUSE_DOWN;F&&(b==null||b.dispose(),b=void 0),(F||W.fromElement===s)&&(m=!1,h=void 0,g.dispose(!0),D.dispose(),R.dispose())}const D=(0,C.domEvent)(s,v.EventType.MOUSE_LEAVE,!0)(M.bind(s)),R=(0,C.domEvent)(s,v.EventType.MOUSE_DOWN,!0)(M.bind(s));m=!0;function P(W){f=W.x}const O=(0,C.domEvent)(s,v.EventType.MOUSE_MOVE,!0)(P.bind(s));setTimeout(()=>De(this,void 0,void 0,function*(){var W;if(m&&o&&!h){const F={targetElements:[this],dispose:()=>{}};h={text:(0,i.localize)(0,null),target:F,anchorPosition:0},b=a.adjustXAndShowCustomHover(h,f,n,m);const E=(W=yield o(g.token))!==null&&W!==void 0?W:(0,p.isString)(t)?void 0:t.markdownNotSupportedFallback;E?(h={text:E,target:F,anchorPosition:0},b=a.adjustXAndShowCustomHover(h,f,n,m)):b&&(b.dispose(),b=void 0)}O.dispose()}),n.delay)}}const L=this._register((0,C.domEvent)(s,v.EventType.MOUSE_OVER,!0)(y.bind(s)));this.customHovers.set(s,L)}setupNativeHover(n,s){let t="";(0,p.isString)(s)?t=s:(s==null?void 0:s.markdownNotSupportedFallback)&&(t=s.markdownNotSupportedFallback),n.title=t}}e.IconLabel=a;class l{constructor(n){this.container=n,this.label=void 0,this.singleLabel=void 0}setLabel(n,s){if(!(this.label===n&&(0,S.equals)(this.options,s)))if(this.label=n,this.options=s,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=v.append(this.container,v.$("a.label-name",{id:s==null?void 0:s.domId}))),this.singleLabel.textContent=n;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let t=0;t<n.length;t++){const o=n[t],h=(s==null?void 0:s.domId)&&`${s==null?void 0:s.domId}_${t}`;v.append(this.container,v.$("a.label-name",{id:h,"data-icon-label-count":n.length,"data-icon-label-index":t,role:"treeitem"},o)),t<n.length-1&&v.append(this.container,v.$("span.label-separator",void 0,(s==null?void 0:s.separator)||"/"))}}}}function c(r,n,s){if(!!s){let t=0;return r.map(o=>{const h={start:t,end:t+o.length},f=s.map(m=>w.Range.intersect(h,m)).filter(m=>!w.Range.isEmpty(m)).map(({start:m,end:g})=>({start:m-t,end:g-t}));return t=h.end+n.length,f})}}class d{constructor(n,s){this.container=n,this.supportIcons=s,this.label=void 0,this.singleLabel=void 0}setLabel(n,s){if(!(this.label===n&&(0,S.equals)(this.options,s)))if(this.label=n,this.options=s,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new I.HighlightedLabel(v.append(this.container,v.$("a.label-name",{id:s==null?void 0:s.domId})),this.supportIcons)),this.singleLabel.set(n,s==null?void 0:s.matches,void 0,s==null?void 0:s.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const t=(s==null?void 0:s.separator)||"/",o=c(n,t,s==null?void 0:s.matches);for(let h=0;h<n.length;h++){const f=n[h],m=o?o[h]:void 0,g=(s==null?void 0:s.domId)&&`${s==null?void 0:s.domId}_${h}`,b=v.$("a.label-name",{id:g,"data-icon-label-count":n.length,"data-icon-label-index":h,role:"treeitem"});new I.HighlightedLabel(v.append(this.container,b),this.supportIcons).set(f,m,void 0,s==null?void 0:s.labelEscapeNewLines),h<n.length-1&&v.append(b,v.$("span.label-separator",void 0,t))}}}}}),define(te[299],ie([5,4]),function($,e){return $.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(te[300],ie([5,4]),function($,e){return $.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(te[301],ie([5,4]),function($,e){return $.create("vs/base/browser/ui/menu/menu",e)}),define(te[302],ie([5,4]),function($,e){return $.create("vs/base/browser/ui/tree/abstractTree",e)}),define(te[192],ie([0,1,2,98,7,6,55,119,149,19,173,54,70,164,302,15,17,100,261,260,588]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class o extends _.ElementsDragAndDropData{constructor(A){super(A.elements.map(B=>B.element));this.data=A}}function h(E){return E instanceof _.ElementsDragAndDropData?new o(E):E}class f{constructor(A,B){this.modelProvider=A,this.dnd=B,this.autoExpandDisposable=v.Disposable.None}getDragURI(A){return this.dnd.getDragURI(A.element)}getDragLabel(A,B){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(A.map(z=>z.element),B)}onDragStart(A,B){this.dnd.onDragStart&&this.dnd.onDragStart(h(A),B)}onDragOver(A,B,z,U,K=!0){const G=this.dnd.onDragOver(h(A),B&&B.element,z,U),J=this.autoExpandNode!==B;if(J&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=B),typeof B=="undefined")return G;if(J&&typeof G!="boolean"&&G.autoExpand&&(this.autoExpandDisposable=(0,d.disposableTimeout)(()=>{const T=this.modelProvider(),x=T.getNodeLocation(B);T.isCollapsed(x)&&T.setCollapsed(x,!1),this.autoExpandNode=void 0},500)),typeof G=="boolean"||!G.accept||typeof G.bubble=="undefined"||G.feedback){if(!K){const T=typeof G=="boolean"?G:G.accept,x=typeof G=="boolean"?void 0:G.effect;return{accept:T,effect:x,feedback:[z]}}return G}if(G.bubble===1){const T=this.modelProvider(),x=T.getNodeLocation(B),H=T.getParentNodeLocation(x),V=T.getNode(H),q=H&&T.getListIndex(H);return this.onDragOver(A,V,q,U,!1)}const Q=this.modelProvider(),ae=Q.getNodeLocation(B),se=Q.getListIndex(ae),Z=Q.getListRenderCount(ae);return Object.assign(Object.assign({},G),{feedback:(0,i.range)(se,se+Z)})}drop(A,B,z,U){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(h(A),B&&B.element,z,U)}onDragEnd(A){this.dnd.onDragEnd&&this.dnd.onDragEnd(A)}}function m(E,A){return A&&Object.assign(Object.assign({},A),{identityProvider:A.identityProvider&&{getId(B){return A.identityProvider.getId(B.element)}},dnd:A.dnd&&new f(E,A.dnd),multipleSelectionController:A.multipleSelectionController&&{isSelectionSingleChangeEvent(B){return A.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))},isSelectionRangeChangeEvent(B){return A.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))}},accessibilityProvider:A.accessibilityProvider&&Object.assign(Object.assign({},A.accessibilityProvider),{getSetSize(B){const z=E(),U=z.getNodeLocation(B),K=z.getParentNodeLocation(U);return z.getNode(K).visibleChildrenCount},getPosInSet(B){return B.visibleChildIndex+1},isChecked:A.accessibilityProvider&&A.accessibilityProvider.isChecked?B=>A.accessibilityProvider.isChecked(B.element):void 0,getRole:A.accessibilityProvider&&A.accessibilityProvider.getRole?B=>A.accessibilityProvider.getRole(B.element):()=>"treeitem",getAriaLabel(B){return A.accessibilityProvider.getAriaLabel(B.element)},getWidgetAriaLabel(){return A.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:A.accessibilityProvider&&A.accessibilityProvider.getWidgetRole?()=>A.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:A.accessibilityProvider&&A.accessibilityProvider.getAriaLevel?B=>A.accessibilityProvider.getAriaLevel(B.element):B=>B.depth,getActiveDescendantId:A.accessibilityProvider.getActiveDescendantId&&(B=>A.accessibilityProvider.getActiveDescendantId(B.element))}),keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(B){return A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B.element)}}),enableKeyboardNavigation:A.simpleKeyboardNavigation})}class g{constructor(A){this.delegate=A}getHeight(A){return this.delegate.getHeight(A.element)}getTemplateId(A){return this.delegate.getTemplateId(A.element)}hasDynamicHeight(A){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(A.element)}setDynamicHeight(A,B){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(A.element,B)}}e.ComposedTreeDelegate=g;var b;(function(E){E.None="none",E.OnHover="onHover",E.Always="always"})(b=e.RenderIndentGuides||(e.RenderIndentGuides={}));class y{constructor(A,B=[]){this._elements=B,this.onDidChange=w.Event.forEach(A,z=>this._elements=z)}get elements(){return this._elements}}class L{constructor(A,B,z,U,K={}){this.renderer=A,this.modelProvider=B,this.activeNodes=U,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=L.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new s.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=v.Disposable.None,this.disposables=new v.DisposableStore,this.templateId=A.templateId,this.updateOptions(K),w.Event.map(z,G=>G.node)(this.onDidChangeNodeTwistieState,this,this.disposables),A.onDidChangeTwistieState&&A.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(A={}){if(typeof A.indent!="undefined"&&(this.indent=(0,n.clamp)(A.indent,0,40)),typeof A.renderIndentGuides!="undefined"){const B=A.renderIndentGuides!==b.None;if(B!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=B,this.indentGuidesDisposable.dispose(),B)){const z=new v.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,z),this.indentGuidesDisposable=z,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof A.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=A.hideTwistiesOfChildlessElements)}renderTemplate(A){const B=(0,k.append)(A,(0,k.$)(".monaco-tl-row")),z=(0,k.append)(B,(0,k.$)(".monaco-tl-indent")),U=(0,k.append)(B,(0,k.$)(".monaco-tl-twistie")),K=(0,k.append)(B,(0,k.$)(".monaco-tl-contents")),G=this.renderer.renderTemplate(K);return{container:A,indent:z,twistie:U,indentGuidesDisposable:v.Disposable.None,templateData:G}}renderElement(A,B,z,U){typeof U=="number"&&(this.renderedNodes.set(A,{templateData:z,height:U}),this.renderedElements.set(A.element,A));const K=L.DefaultIndent+(A.depth-1)*this.indent;z.twistie.style.paddingLeft=`${K}px`,z.indent.style.width=`${K+this.indent-16}px`,this.renderTwistie(A,z),typeof U=="number"&&this.renderIndentGuides(A,z),this.renderer.renderElement(A,B,z.templateData,U)}disposeElement(A,B,z,U){z.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(A,B,z.templateData,U),typeof U=="number"&&(this.renderedNodes.delete(A),this.renderedElements.delete(A.element))}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}onDidChangeTwistieState(A){const B=this.renderedElements.get(A);!B||this.onDidChangeNodeTwistieState(B)}onDidChangeNodeTwistieState(A){const B=this.renderedNodes.get(A);!B||(this.renderTwistie(A,B.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(A,B.templateData))}renderTwistie(A,B){B.twistie.classList.remove(...t.treeItemExpandedIcon.classNamesArray);let z=!1;this.renderer.renderTwistie&&(z=this.renderer.renderTwistie(A.element,B.twistie)),A.collapsible&&(!this.hideTwistiesOfChildlessElements||A.visibleChildrenCount>0)?(z||B.twistie.classList.add(...t.treeItemExpandedIcon.classNamesArray),B.twistie.classList.add("collapsible"),B.twistie.classList.toggle("collapsed",A.collapsed)):B.twistie.classList.remove("collapsible","collapsed"),A.collapsible?B.container.setAttribute("aria-expanded",String(!A.collapsed)):B.container.removeAttribute("aria-expanded")}renderIndentGuides(A,B){if((0,k.clearNode)(B.indent),B.indentGuidesDisposable.dispose(),!!this.shouldRenderIndentGuides){const z=new v.DisposableStore,U=this.modelProvider();let K=A;for(;;){const G=U.getNodeLocation(K),J=U.getParentNodeLocation(G);if(!J)break;const Q=U.getNode(J),ae=(0,k.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Q)&&ae.classList.add("active"),B.indent.childElementCount===0?B.indent.appendChild(ae):B.indent.insertBefore(ae,B.indent.firstElementChild),this.renderedIndentGuides.add(Q,ae),z.add((0,v.toDisposable)(()=>this.renderedIndentGuides.delete(Q,ae))),K=Q}B.indentGuidesDisposable=z}}_onDidChangeActiveNodes(A){if(!!this.shouldRenderIndentGuides){const B=new Set,z=this.modelProvider();A.forEach(U=>{const K=z.getNodeLocation(U);try{const G=z.getParentNodeLocation(K);U.collapsible&&U.children.length>0&&!U.collapsed?B.add(U):G&&B.add(z.getNode(G))}catch(G){}}),this.activeIndentNodes.forEach(U=>{B.has(U)||this.renderedIndentGuides.forEach(U,K=>K.classList.remove("active"))}),B.forEach(U=>{this.activeIndentNodes.has(U)||this.renderedIndentGuides.forEach(U,K=>K.classList.add("active"))}),this.activeIndentNodes=B}}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,v.dispose)(this.disposables)}}L.DefaultIndent=8;class N{constructor(A,B,z){this.tree=A,this.keyboardNavigationLabelProvider=B,this._filter=z,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new v.DisposableStore,A.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(A){this._pattern=A,this._lowercasePattern=A.toLowerCase()}filter(A,B){if(this._filter){const K=this._filter.filter(A,B);if(this.tree.options.simpleKeyboardNavigation)return K;let G;if(typeof K=="boolean"?G=K?1:0:(0,l.isFilterResult)(K)?G=(0,l.getVisibleState)(K.visibility):G=K,G===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:a.FuzzyScore.Default,visibility:!0};const z=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A),U=Array.isArray(z)?z:[z];for(const K of U){const G=K&&K.toString();if(typeof G=="undefined")return{data:a.FuzzyScore.Default,visibility:!0};const J=(0,a.fuzzyScore)(this._pattern,this._lowercasePattern,0,G,G.toLowerCase(),0,!0);if(J)return this._matchCount++,U.length===1?{data:J,visibility:!0}:{data:{label:G,score:J},visibility:!0}}return this.tree.options.filterOnType?2:{data:a.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,v.dispose)(this.disposables)}}class M{constructor(A,B,z,U,K){this.tree=A,this.view=z,this.filter=U,this.keyboardNavigationDelegate=K,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new w.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new w.Emitter,this.enabledDisposables=new v.DisposableStore,this.disposables=new v.DisposableStore,this.domNode=(0,k.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,(0,u.domEvent)(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=(0,k.append)(z.getHTMLElement(),(0,k.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,k.append)(this.domNode,(0,k.$)("span.label"));const G=(0,k.append)(this.domNode,(0,k.$)(".controls"));this._filterOnType=!!A.options.filterOnType,this.filterOnTypeDomNode=(0,k.append)(G,(0,k.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),(0,u.domEvent)(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=(0,k.append)(G,(0,k.$)("button.clear"+t.treeFilterClearIcon.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,c.localize)(0,null),this.keyboardNavigationEventFilter=A.options.keyboardNavigationEventFilter,B.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(A.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(A){A.simpleKeyboardNavigation?this.disable():this.enable(),typeof A.filterOnType!="undefined"&&(this._filterOnType=!!A.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof A.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=A.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(!this._enabled){const A=w.Event.chain((0,u.domEvent)(this.view.getHTMLElement(),"keydown")).filter(z=>!(0,I.isInputElement)(z.target)||z.target===this.filterOnTypeDomNode).filter(z=>z.key!=="Dead"&&!/^Media/.test(z.key)).map(z=>new S.StandardKeyboardEvent(z)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(z=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(z)&&!(z.keyCode===18||z.keyCode===16||z.keyCode===15||z.keyCode===17)||(this.pattern.length>0||this.triggered)&&(z.keyCode===9||z.keyCode===1)&&!z.altKey&&!z.ctrlKey&&!z.metaKey||z.keyCode===1&&(r.isMacintosh?z.altKey&&!z.metaKey:z.ctrlKey)&&!z.shiftKey).forEach(z=>{z.stopPropagation(),z.preventDefault()}).event,B=(0,u.domEvent)(this.clearDomNode,"click");w.Event.chain(w.Event.any(A,B)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(A){typeof A=="string"?this.onInput(A):A instanceof MouseEvent||A.keyCode===9||A.keyCode===1&&(r.isMacintosh?A.altKey:A.ctrlKey)?this.onInput(""):A.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+A.browserEvent.key)}onInput(A){const B=this.view.getHTMLElement();A&&!this.domNode.parentElement?B.append(this.domNode):!A&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=A,this._onDidChangePattern.fire(A),this.filter.pattern=A,this.tree.refilter(),A&&this.tree.focusNext(0,!0,void 0,U=>!a.FuzzyScore.isDefault(U.filterData));const z=this.tree.getFocus();if(z.length>0){const U=z[0];this.tree.getRelativeTop(U)===null&&this.tree.reveal(U,.5)}this.render(),A||(this.triggered=!1)}onDragStart(){const A=this.view.getHTMLElement(),{left:B}=(0,k.getDomNodePagePosition)(A),z=A.clientWidth,U=z/2,K=this.domNode.clientWidth,G=new v.DisposableStore;let J=this.positionClassName;const Q=()=>{switch(J){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${z-K-6}px`;break}},ae=Z=>{Z.preventDefault();const T=Z.clientX-B;Z.dataTransfer&&(Z.dataTransfer.dropEffect="none"),T<U?J="nw":J="ne",Q()},se=()=>{this.positionClassName=J,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,v.dispose)(G)};Q(),this.domNode.classList.remove(J),this.domNode.classList.add("dragging"),G.add((0,v.toDisposable)(()=>this.domNode.classList.remove("dragging"))),(0,u.domEvent)(document,"dragover")(ae,null,G),(0,u.domEvent)(this.domNode,"dragend")(se,null,G),C.StaticDND.CurrentDragAndDropData=new C.DragAndDropData("vscode-ui"),G.add((0,v.toDisposable)(()=>C.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...t.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.title=(0,c.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...t.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.title=(0,c.localize)(2,null))}render(){const A=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&A?(this.messageDomNode.textContent=(0,c.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",A),this.domNode.title=(0,c.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(A){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!a.FuzzyScore.isDefault(A.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,v.dispose)(this.disposables)}}function D(E){let A=p.TreeMouseEventTarget.Unknown;return(0,k.hasParentWithClass)(E.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?A=p.TreeMouseEventTarget.Twistie:(0,k.hasParentWithClass)(E.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(A=p.TreeMouseEventTarget.Element),{browserEvent:E.browserEvent,element:E.element?E.element.element:null,target:A}}function R(E,A){A(E),E.children.forEach(B=>R(B,A))}class P{constructor(A){this.identityProvider=A,this.nodes=[],this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(A,B){var z;!((z=B)===null||z===void 0?void 0:z.__forceEvent)&&(0,i.equals)(this.nodes,A)||this._set(A,!1,B)}_set(A,B,z){if(this.nodes=[...A],this.elements=void 0,this._nodeSet=void 0,!B){const U=this;this._onDidChange.fire({get elements(){return U.get()},browserEvent:z})}}get(){return this.elements||(this.elements=this.nodes.map(A=>A.element)),[...this.elements]}getNodes(){return this.nodes}has(A){return this.nodeSet.has(A)}onDidModelSplice({insertedNodes:A,deletedNodes:B}){if(!this.identityProvider){const Q=this.createNodeSet(),ae=se=>Q.delete(se);B.forEach(se=>R(se,ae)),this.set([...Q.values()]);return}const z=new Set,U=Q=>z.add(this.identityProvider.getId(Q.element).toString());B.forEach(Q=>R(Q,U));const K=new Map,G=Q=>K.set(this.identityProvider.getId(Q.element).toString(),Q);A.forEach(Q=>R(Q,G));const J=[];for(const Q of this.nodes){const ae=this.identityProvider.getId(Q.element).toString();if(!z.has(ae))J.push(Q);else{const Z=K.get(ae);Z&&J.push(Z)}}this._set(J,!0)}createNodeSet(){const A=new Set;for(const B of this.nodes)A.add(B);return A}}class O extends I.MouseController{constructor(A,B){super(A);this.tree=B}onViewPointer(A){if(!((0,I.isInputElement)(A.browserEvent.target)||(0,I.isMonacoEditor)(A.browserEvent.target))){const B=A.element;if(!B)return super.onViewPointer(A);if(this.isSelectionRangeChangeEvent(A)||this.isSelectionSingleChangeEvent(A))return super.onViewPointer(A);const z=A.browserEvent.target,U=z.classList.contains("monaco-tl-twistie")||z.classList.contains("monaco-icon-label")&&z.classList.contains("folder-icon")&&A.browserEvent.offsetX<16;let K=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?K=this.tree.expandOnlyOnTwistieClick(B.element):K=!!this.tree.expandOnlyOnTwistieClick,K&&!U&&A.browserEvent.detail!==2)return super.onViewPointer(A);if(!this.tree.expandOnDoubleClick&&A.browserEvent.detail===2)return super.onViewPointer(A);if(B.collapsible){const G=this.tree.model,J=G.getNodeLocation(B),Q=A.browserEvent.altKey;if(this.tree.setFocus([J]),G.setCollapsed(J,void 0,Q),K&&U)return}super.onViewPointer(A)}}onDoubleClick(A){A.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(A)}}class W extends I.List{constructor(A,B,z,U,K,G,J,Q){super(A,B,z,U,Q);this.focusTrait=K,this.selectionTrait=G,this.anchorTrait=J}createMouseController(A){return new O(this,A.tree)}splice(A,B,z=[]){if(super.splice(A,B,z),z.length!==0){const U=[],K=[];let G;z.forEach((J,Q)=>{this.focusTrait.has(J)&&U.push(A+Q),this.selectionTrait.has(J)&&K.push(A+Q),this.anchorTrait.has(J)&&(G=A+Q)}),U.length>0&&super.setFocus((0,i.distinctES6)([...super.getFocus(),...U])),K.length>0&&super.setSelection((0,i.distinctES6)([...super.getSelection(),...K])),typeof G=="number"&&super.setAnchor(G)}}setFocus(A,B,z=!1){super.setFocus(A,B),z||this.focusTrait.set(A.map(U=>this.element(U)),B)}setSelection(A,B,z=!1){super.setSelection(A,B),z||this.selectionTrait.set(A.map(U=>this.element(U)),B)}setAnchor(A,B=!1){super.setAnchor(A),B||(typeof A=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(A)]))}}class F{constructor(A,B,z,U,K={}){this._options=K,this.eventBufferer=new w.EventBufferer,this.disposables=new v.DisposableStore,this._onWillRefilter=new w.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new w.Emitter;const G=new g(z),J=new w.Relay,Q=new w.Relay,ae=new y(Q.event);this.renderers=U.map(T=>new L(T,()=>this.model,J.event,ae,K));for(let T of this.renderers)this.disposables.add(T);let se;K.keyboardNavigationLabelProvider&&(se=new N(this,K.keyboardNavigationLabelProvider,K.filter),K=Object.assign(Object.assign({},K),{filter:se}),this.disposables.add(se)),this.focus=new P(K.identityProvider),this.selection=new P(K.identityProvider),this.anchor=new P(K.identityProvider),this.view=new W(A,B,G,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},m(()=>this.model,K)),{tree:this})),this.model=this.createModel(A,this.view,K),J.input=this.model.onDidChangeCollapseState;const Z=w.Event.forEach(this.model.onDidSplice,T=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(T),this.selection.onDidModelSplice(T)})});if(Z(()=>null,null,this.disposables),Q.input=w.Event.chain(w.Event.any(Z,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const T=new Set;for(const x of this.focus.getNodes())T.add(x);for(const x of this.selection.getNodes())T.add(x);return[...T.values()]}).event,K.keyboardSupport!==!1){const T=w.Event.chain(this.view.onKeyDown).filter(x=>!(0,I.isInputElement)(x.target)).map(x=>new S.StandardKeyboardEvent(x));T.filter(x=>x.keyCode===15).on(this.onLeftArrow,this,this.disposables),T.filter(x=>x.keyCode===17).on(this.onRightArrow,this,this.disposables),T.filter(x=>x.keyCode===10).on(this.onSpace,this,this.disposables)}if(K.keyboardNavigationLabelProvider){const T=K.keyboardNavigationDelegate||I.DefaultKeyboardNavigationDelegate;this.typeFilterController=new M(this,this.model,this.view,se,T),this.focusNavigationFilter=x=>this.typeFilterController.shouldAllowFocus(x),this.disposables.add(this.typeFilterController)}this.styleElement=(0,k.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===b.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return w.Event.map(this.view.onMouseDblClick,D)}get onPointer(){return w.Event.map(this.view.onPointer,D)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(A={}){this._options=Object.assign(Object.assign({},this._options),A);for(const B of this.renderers)B.updateOptions(A);this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation,smoothScrolling:this._options.smoothScrolling,horizontalScrolling:this._options.horizontalScrolling}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===b.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(A){this.view.scrollTop=A}domFocus(){this.view.domFocus()}layout(A,B){this.view.layout(A,B)}style(A){const B=`.${this.view.domId}`,z=[];A.treeIndentGuidesStroke&&(z.push(`.monaco-list${B}:hover .monaco-tl-indent > .indent-guide, .monaco-list${B}.always .monaco-tl-indent > .indent-guide  { border-color: ${A.treeIndentGuidesStroke.transparent(.4)}; }`),z.push(`.monaco-list${B} .monaco-tl-indent > .indent-guide.active { border-color: ${A.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=z.join(`
`),this.view.style(A)}collapse(A,B=!1){return this.model.setCollapsed(A,!0,B)}expand(A,B=!1){return this.model.setCollapsed(A,!1,B)}isCollapsible(A){return this.model.isCollapsible(A)}setCollapsible(A,B){return this.model.setCollapsible(A,B)}isCollapsed(A){return this.model.isCollapsed(A)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(A,B){const z=A.map(K=>this.model.getNode(K));this.selection.set(z,B);const U=A.map(K=>this.model.getListIndex(K)).filter(K=>K>-1);this.view.setSelection(U,B,!0)}getSelection(){return this.selection.get()}setFocus(A,B){const z=A.map(K=>this.model.getNode(K));this.focus.set(z,B);const U=A.map(K=>this.model.getListIndex(K)).filter(K=>K>-1);this.view.setFocus(U,B,!0)}focusNext(A=1,B=!1,z,U=this.focusNavigationFilter){this.view.focusNext(A,B,z,U)}getFocus(){return this.focus.get()}reveal(A,B){this.model.expandTo(A);const z=this.model.getListIndex(A);z!==-1&&this.view.reveal(z,B)}getRelativeTop(A){const B=this.model.getListIndex(A);return B===-1?null:this.view.getRelativeTop(B)}onLeftArrow(A){A.preventDefault(),A.stopPropagation();const B=this.view.getFocusedElements();if(B.length!==0){const z=B[0],U=this.model.getNodeLocation(z);if(!this.model.setCollapsed(U,!0)){const G=this.model.getParentNodeLocation(U);if(!G)return;const J=this.model.getListIndex(G);this.view.reveal(J),this.view.setFocus([J])}}}onRightArrow(A){A.preventDefault(),A.stopPropagation();const B=this.view.getFocusedElements();if(B.length!==0){const z=B[0],U=this.model.getNodeLocation(z);if(!this.model.setCollapsed(U,!1)){if(!z.children.some(Q=>Q.visible))return;const[G]=this.view.getFocus(),J=G+1;this.view.reveal(J),this.view.setFocus([J])}}}onSpace(A){A.preventDefault(),A.stopPropagation();const B=this.view.getFocusedElements();if(B.length!==0){const z=B[0],U=this.model.getNodeLocation(z),K=A.browserEvent.altKey;this.model.setCollapsed(U,void 0,K)}}dispose(){(0,v.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=F}),define(te[304],ie([0,1,192,166]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class k extends v.AbstractTree{constructor(S,p,C,i,_,u={}){super(S,p,C,i,u);this.user=S,this.dataSource=_,this.identityProvider=u.identityProvider}createModel(S,p,C){return new I.ObjectTreeModel(S,p,C)}}e.DataTree=k}),define(te[210],ie([0,1,56,192,166,441,103]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class p extends I.AbstractTree{constructor(a,l,c,d,r={}){super(a,l,c,d,r)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(a,l=v.Iterable.empty(),c){this.model.setChildren(a,l,c)}rerender(a){if(a===void 0){this.view.rerender();return}this.model.rerender(a)}hasElement(a){return this.model.has(a)}createModel(a,l,c){return new k.ObjectTreeModel(a,l,c)}}e.ObjectTree=p;class C{constructor(a,l){this._compressedTreeNodeProvider=a,this.renderer=l,this.templateId=l.templateId,l.onDidChangeTwistieState&&(this.onDidChangeTwistieState=l.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(a){const l=this.renderer.renderTemplate(a);return{compressedTreeNode:void 0,data:l}}renderElement(a,l,c,d){const r=this.compressedTreeNodeProvider.getCompressedTreeNode(a.element);r.element.elements.length===1?(c.compressedTreeNode=void 0,this.renderer.renderElement(a,l,c.data,d)):(c.compressedTreeNode=r,this.renderer.renderCompressedElements(r,l,c.data,d))}disposeElement(a,l,c,d){c.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(c.compressedTreeNode,l,c.data,d):this.renderer.disposeElement&&this.renderer.disposeElement(a,l,c.data,d)}disposeTemplate(a){this.renderer.disposeTemplate(a.data)}renderTwistie(a,l){return this.renderer.renderTwistie?this.renderer.renderTwistie(a,l):!1}}Me([S.memoize],C.prototype,"compressedTreeNodeProvider",null);function i(u,a){return a&&Object.assign(Object.assign({},a),{keyboardNavigationLabelProvider:a.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(l){let c;try{c=u().getCompressedTreeNode(l)}catch(d){return a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(l)}return c.element.elements.length===1?a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(l):a.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(c.element.elements)}}})}class _ extends p{constructor(a,l,c,d,r={}){const n=()=>this,s=d.map(t=>new C(n,t));super(a,l,c,s,i(n,r))}setChildren(a,l=v.Iterable.empty(),c){this.model.setChildren(a,l,c)}createModel(a,l,c){return new w.CompressibleObjectTreeModel(a,l,c)}updateOptions(a={}){super.updateOptions(a),typeof a.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(a.compressionEnabled)}getCompressedTreeNode(a=null){return this.model.getCompressedTreeNode(a)}}e.CompressibleObjectTree=_}),define(te[306],ie([0,1,192,210,119,2,6,15,56,173,11,164,260]),function($,e,v,I,k,w,S,p,C,i,_,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function l(R){return Object.assign(Object.assign({},R),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function c(R,P){return P.parent?P.parent===R?!0:c(R,P.parent):!1}function d(R,P){return R===P||c(R,P)||c(P,R)}class r{constructor(P){this.node=P}get element(){return this.node.element.element}get children(){return this.node.children.map(P=>new r(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class n{constructor(P,O,W){this.renderer=P,this.nodeMapper=O,this.onDidChangeTwistieState=W,this.renderedNodes=new Map,this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,O,W,F){this.renderer.renderElement(this.nodeMapper.map(P),O,W.templateData,F)}renderTwistie(P,O){return P.slow?(O.classList.add(...a.treeItemLoadingIcon.classNamesArray),!0):(O.classList.remove(...a.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(P,O,W,F){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(P),O,W.templateData,F)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear()}}function s(R){return{browserEvent:R.browserEvent,elements:R.elements.map(P=>P.element)}}function t(R){return{browserEvent:R.browserEvent,element:R.element&&R.element.element,target:R.target}}class o extends i.ElementsDragAndDropData{constructor(P){super(P.elements.map(O=>O.element));this.data=P}}function h(R){return R instanceof i.ElementsDragAndDropData?new o(R):R}class f{constructor(P){this.dnd=P}getDragURI(P){return this.dnd.getDragURI(P.element)}getDragLabel(P,O){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(P.map(W=>W.element),O)}onDragStart(P,O){this.dnd.onDragStart&&this.dnd.onDragStart(h(P),O)}onDragOver(P,O,W,F,E=!0){return this.dnd.onDragOver(h(P),O&&O.element,W,F)}drop(P,O,W,F){this.dnd.drop(h(P),O&&O.element,W,F)}onDragEnd(P){this.dnd.onDragEnd&&this.dnd.onDragEnd(P)}}function m(R){return R&&Object.assign(Object.assign({},R),{collapseByDefault:!0,identityProvider:R.identityProvider&&{getId(P){return R.identityProvider.getId(P.element)}},dnd:R.dnd&&new f(R.dnd),multipleSelectionController:R.multipleSelectionController&&{isSelectionSingleChangeEvent(P){return R.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))},isSelectionRangeChangeEvent(P){return R.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))}},accessibilityProvider:R.accessibilityProvider&&Object.assign(Object.assign({},R.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:R.accessibilityProvider.getRole?P=>R.accessibilityProvider.getRole(P.element):()=>"treeitem",isChecked:R.accessibilityProvider.isChecked?P=>{var O;return!!((O=R.accessibilityProvider)===null||O===void 0?void 0:O.isChecked(P.element))}:void 0,getAriaLabel(P){return R.accessibilityProvider.getAriaLabel(P.element)},getWidgetAriaLabel(){return R.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:R.accessibilityProvider.getWidgetRole?()=>R.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:R.accessibilityProvider.getAriaLevel&&(P=>R.accessibilityProvider.getAriaLevel(P.element)),getActiveDescendantId:R.accessibilityProvider.getActiveDescendantId&&(P=>R.accessibilityProvider.getActiveDescendantId(P.element))}),filter:R.filter&&{filter(P,O){return R.filter.filter(P.element,O)}},keyboardNavigationLabelProvider:R.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},R.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(P){return R.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(P.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof R.expandOnlyOnTwistieClick=="undefined"?void 0:typeof R.expandOnlyOnTwistieClick!="function"?R.expandOnlyOnTwistieClick:P=>R.expandOnlyOnTwistieClick(P.element),additionalScrollHeight:R.additionalScrollHeight})}function g(R,P){P(R),R.children.forEach(O=>g(O,P))}class b{constructor(P,O,W,F,E,A={}){this.user=P,this.dataSource=E,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new S.Emitter,this._onDidChangeNodeSlowState=new S.Emitter,this.nodeMapper=new k.WeakMapper(B=>new r(B)),this.disposables=new w.DisposableStore,this.identityProvider=A.identityProvider,this.autoExpandSingleChildren=typeof A.autoExpandSingleChildren=="undefined"?!1:A.autoExpandSingleChildren,this.sorter=A.sorter,this.collapseByDefault=A.collapseByDefault,this.tree=this.createTree(P,O,W,F,A),this.root=l({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return S.Event.map(this.tree.onDidChangeFocus,s)}get onDidChangeSelection(){return S.Event.map(this.tree.onDidChangeSelection,s)}get onMouseDblClick(){return S.Event.map(this.tree.onMouseDblClick,t)}get onPointer(){return S.Event.map(this.tree.onPointer,t)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(P,O,W,F,E){const A=new v.ComposedTreeDelegate(W),B=F.map(U=>new n(U,this.nodeMapper,this._onDidChangeNodeSlowState.event)),z=m(E)||{};return new I.ObjectTree(P,O,A,B,z)}updateOptions(P={}){this.tree.updateOptions(P)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(P){this.tree.scrollTop=P}domFocus(){this.tree.domFocus()}layout(P,O){this.tree.layout(P,O)}style(P){this.tree.style(P)}getInput(){return this.root.element}setInput(P,O){return De(this,void 0,void 0,function*(){this.refreshPromises.forEach(F=>F.cancel()),this.refreshPromises.clear(),this.root.element=P;const W=O&&{viewState:O,focus:[],selection:[]};yield this._updateChildren(P,!0,!1,W),W&&(this.tree.setFocus(W.focus),this.tree.setSelection(W.selection)),O&&typeof O.scrollTop=="number"&&(this.scrollTop=O.scrollTop)})}_updateChildren(P=this.root.element,O=!0,W=!1,F,E){return De(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new k.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event));const A=this.getDataNode(P);if(yield this.refreshAndRenderNode(A,O,F,E),W)try{this.tree.rerender(A)}catch(B){}})}rerender(P){if(P===void 0||P===this.root.element){this.tree.rerender();return}const O=this.getDataNode(P);this.tree.rerender(O)}collapse(P,O=!1){const W=this.getDataNode(P);return this.tree.collapse(W===this.root?null:W,O)}expand(P,O=!1){return De(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new k.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event));const W=this.getDataNode(P);if(this.tree.hasElement(W)&&!this.tree.isCollapsible(W)||(W.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event)),W!==this.root&&!W.refreshPromise&&!this.tree.isCollapsed(W)))return!1;const F=this.tree.expand(W===this.root?null:W,O);return W.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event)),F})}setSelection(P,O){const W=P.map(F=>this.getDataNode(F));this.tree.setSelection(W,O)}getSelection(){return this.tree.getSelection().map(O=>O.element)}setFocus(P,O){const W=P.map(F=>this.getDataNode(F));this.tree.setFocus(W,O)}getFocus(){return this.tree.getFocus().map(O=>O.element)}reveal(P,O){this.tree.reveal(this.getDataNode(P),O)}getDataNode(P){const O=this.nodes.get(P===this.root.element?null:P);if(!O)throw new k.TreeError(this.user,`Data tree node not found: ${P}`);return O}refreshAndRenderNode(P,O,W,F){return De(this,void 0,void 0,function*(){yield this.refreshNode(P,O,W),this.render(P,W,F)})}refreshNode(P,O,W){return De(this,void 0,void 0,function*(){let F;return this.subTreeRefreshPromises.forEach((E,A)=>{!F&&d(A,P)&&(F=E.then(()=>this.refreshNode(P,O,W)))}),F||this.doRefreshSubTree(P,O,W)})}doRefreshSubTree(P,O,W){return De(this,void 0,void 0,function*(){let F;P.refreshPromise=new Promise(E=>F=E),this.subTreeRefreshPromises.set(P,P.refreshPromise),P.refreshPromise.finally(()=>{P.refreshPromise=void 0,this.subTreeRefreshPromises.delete(P)});try{const E=yield this.doRefreshNode(P,O,W);P.stale=!1,yield p.Promises.settled(E.map(A=>this.doRefreshSubTree(A,O,W)))}finally{F()}})}doRefreshNode(P,O,W){return De(this,void 0,void 0,function*(){P.hasChildren=!!this.dataSource.hasChildren(P.element);let F;if(!P.hasChildren)F=Promise.resolve(C.Iterable.empty());else{const E=(0,p.timeout)(800);E.then(()=>{P.slow=!0,this._onDidChangeNodeSlowState.fire(P)},A=>null),F=this.doGetChildren(P).finally(()=>E.cancel())}try{const E=yield F;return this.setChildren(P,E,O,W)}catch(E){if(P!==this.root&&this.tree.hasElement(P)&&this.tree.collapse(P),(0,_.isPromiseCanceledError)(E))return[];throw E}finally{P.slow&&(P.slow=!1,this._onDidChangeNodeSlowState.fire(P))}})}doGetChildren(P){let O=this.refreshPromises.get(P);return O||(O=(0,p.createCancelablePromise)(()=>De(this,void 0,void 0,function*(){const W=yield this.dataSource.getChildren(P.element);return this.processChildren(W)})),this.refreshPromises.set(P,O),O.finally(()=>{this.refreshPromises.delete(P)}))}_onDidChangeCollapseState({node:P,deep:O}){P.element!==null&&!P.collapsed&&P.element.stale&&(O?this.collapse(P.element.element):this.refreshAndRenderNode(P.element,!1).catch(_.onUnexpectedError))}setChildren(P,O,W,F){const E=[...O];if(P.children.length===0&&E.length===0)return[];const A=new Map,B=new Map;for(const K of P.children)if(A.set(K.element,K),this.identityProvider){const G=this.tree.isCollapsed(K);B.set(K.id,{node:K,collapsed:G})}const z=[],U=E.map(K=>{const G=!!this.dataSource.hasChildren(K);if(!this.identityProvider){const se=l({element:K,parent:P,hasChildren:G});return G&&this.collapseByDefault&&!this.collapseByDefault(K)&&(se.collapsedByDefault=!1,z.push(se)),se}const J=this.identityProvider.getId(K).toString(),Q=B.get(J);if(Q){const se=Q.node;return A.delete(se.element),this.nodes.delete(se.element),this.nodes.set(K,se),se.element=K,se.hasChildren=G,W?Q.collapsed?(se.children.forEach(Z=>g(Z,T=>this.nodes.delete(T.element))),se.children.splice(0,se.children.length),se.stale=!0):z.push(se):G&&this.collapseByDefault&&!this.collapseByDefault(K)&&(se.collapsedByDefault=!1,z.push(se)),se}const ae=l({element:K,parent:P,id:J,hasChildren:G});return F&&F.viewState.focus&&F.viewState.focus.indexOf(J)>-1&&F.focus.push(ae),F&&F.viewState.selection&&F.viewState.selection.indexOf(J)>-1&&F.selection.push(ae),F&&F.viewState.expanded&&F.viewState.expanded.indexOf(J)>-1?z.push(ae):G&&this.collapseByDefault&&!this.collapseByDefault(K)&&(ae.collapsedByDefault=!1,z.push(ae)),ae});for(const K of A.values())g(K,G=>this.nodes.delete(G.element));for(const K of U)this.nodes.set(K.element,K);return P.children.splice(0,P.children.length,...U),P!==this.root&&this.autoExpandSingleChildren&&U.length===1&&z.length===0&&(U[0].collapsedByDefault=!1,z.push(U[0])),z}render(P,O,W){const F=P.children.map(A=>this.asTreeElement(A,O)),E=W&&Object.assign(Object.assign({},W),{diffIdentityProvider:W.diffIdentityProvider&&{getId(A){return W.diffIdentityProvider.getId(A.element)}}});this.tree.setChildren(P===this.root?null:P,F,E),P!==this.root&&this.tree.setCollapsible(P,P.hasChildren),this._onDidRender.fire()}asTreeElement(P,O){if(P.stale)return{element:P,collapsible:P.hasChildren,collapsed:!0};let W;return O&&O.viewState.expanded&&P.id&&O.viewState.expanded.indexOf(P.id)>-1?W=!1:W=P.collapsedByDefault,P.collapsedByDefault=void 0,{element:P,children:P.hasChildren?C.Iterable.map(P.children,F=>this.asTreeElement(F,O)):[],collapsible:P.hasChildren,collapsed:W}}processChildren(P){return this.sorter&&(P=[...P].sort(this.sorter.compare.bind(this.sorter))),P}dispose(){this.disposables.dispose()}}e.AsyncDataTree=b;class y{constructor(P){this.node=P}get element(){return{elements:this.node.element.elements.map(P=>P.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(P=>new y(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class L{constructor(P,O,W,F){this.renderer=P,this.nodeMapper=O,this.compressibleNodeMapperProvider=W,this.onDidChangeTwistieState=F,this.renderedNodes=new Map,this.disposables=[],this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,O,W,F){this.renderer.renderElement(this.nodeMapper.map(P),O,W.templateData,F)}renderCompressedElements(P,O,W,F){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(P),O,W.templateData,F)}renderTwistie(P,O){return P.slow?(O.classList.add(...a.treeItemLoadingIcon.classNamesArray),!0):(O.classList.remove(...a.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(P,O,W,F){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(P),O,W.templateData,F)}disposeCompressedElements(P,O,W,F){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(P),O,W.templateData,F)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,w.dispose)(this.disposables)}}function N(R){const P=R&&m(R);return P&&Object.assign(Object.assign({},P),{keyboardNavigationLabelProvider:P.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},P.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(O){return R.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(O.map(W=>W.element))}})})}class M extends b{constructor(P,O,W,F,E,A,B={}){super(P,O,W,E,A,B);this.compressionDelegate=F,this.compressibleNodeMapper=new k.WeakMapper(z=>new y(z)),this.filter=B.filter}createTree(P,O,W,F,E){const A=new v.ComposedTreeDelegate(W),B=F.map(U=>new L(U,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),z=N(E)||{};return new I.CompressibleObjectTree(P,O,A,B,z)}asTreeElement(P,O){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(P.element)},super.asTreeElement(P,O))}updateOptions(P={}){this.tree.updateOptions(P)}render(P,O){if(!this.identityProvider)return super.render(P,O);const W=J=>this.identityProvider.getId(J).toString(),F=J=>{const Q=new Set;for(const ae of J){const se=this.tree.getCompressedTreeNode(ae===this.root?null:ae);if(!!se.element)for(const Z of se.element.elements)Q.add(W(Z.element))}return Q},E=F(this.tree.getSelection()),A=F(this.tree.getFocus());super.render(P,O);const B=this.getSelection();let z=!1;const U=this.getFocus();let K=!1;const G=J=>{const Q=J.element;if(Q)for(let ae=0;ae<Q.elements.length;ae++){const se=W(Q.elements[ae].element),Z=Q.elements[Q.elements.length-1].element;E.has(se)&&B.indexOf(Z)===-1&&(B.push(Z),z=!0),A.has(se)&&U.indexOf(Z)===-1&&(U.push(Z),K=!0)}J.children.forEach(G)};G(this.tree.getCompressedTreeNode(P===this.root?null:P)),z&&this.setSelection(B),K&&this.setFocus(U)}processChildren(P){return this.filter&&(P=C.Iterable.filter(P,O=>{const W=this.filter.filter(O,1),F=D(W);if(F===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return F===1})),super.processChildren(P)}}e.CompressibleAsyncDataTree=M;function D(R){return typeof R=="boolean"?R?1:0:(0,u.isFilterResult)(R)?(0,u.getVisibleState)(R.visibility):(0,u.getVisibleState)(R)}}),define(te[307],ie([5,4]),function($,e){return $.create("vs/base/common/actions",e)}),define(te[49],ie([0,1,307,2,6]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class w extends I.Disposable{constructor(u,a="",l="",c=!0,d){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=u,this._label=a,this._cssClass=l,this._enabled=c,this._actionCallback=d}get id(){return this._id}get label(){return this._label}set label(u){this._setLabel(u)}_setLabel(u){this._label!==u&&(this._label=u,this._onDidChange.fire({label:u}))}get tooltip(){return this._tooltip||""}set tooltip(u){this._setTooltip(u)}_setTooltip(u){this._tooltip!==u&&(this._tooltip=u,this._onDidChange.fire({tooltip:u}))}get class(){return this._cssClass}set class(u){this._setClass(u)}_setClass(u){this._cssClass!==u&&(this._cssClass=u,this._onDidChange.fire({class:u}))}get enabled(){return this._enabled}set enabled(u){this._setEnabled(u)}_setEnabled(u){this._enabled!==u&&(this._enabled=u,this._onDidChange.fire({enabled:u}))}get checked(){return this._checked}set checked(u){this._setChecked(u)}_setChecked(u){this._checked!==u&&(this._checked=u,this._onDidChange.fire({checked:u}))}run(u,a){return De(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(u))})}}e.Action=w;class S extends I.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new k.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new k.Emitter),this.onDidRun=this._onDidRun.event}run(u,a){return De(this,void 0,void 0,function*(){if(!!u.enabled){this._onBeforeRun.fire({action:u});let l;try{yield this.runAction(u,a)}catch(c){l=c}this._onDidRun.fire({action:u,error:l})}})}runAction(u,a){return De(this,void 0,void 0,function*(){yield u.run(a)})}}e.ActionRunner=S;class p extends w{constructor(u){super(p.ID,u,u?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=p,p.ID="vs.actions.separator";class C{constructor(u,a,l,c){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=u,this.label=a,this.class=c,this._actions=l}get actions(){return this._actions}dispose(){}run(){return De(this,void 0,void 0,function*(){})}}e.SubmenuAction=C;class i extends w{constructor(){super(i.ID,v.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=i,i.ID="vs.actions.empty"}),define(te[116],ie([0,1,17,290,2,49,20,62,149,36,7,248]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class u extends k.Disposable{constructor(c,d,r={}){super();this.options=r,this._context=c||this,this._action=d,d instanceof w.Action&&this._register(d.onDidChange(n=>{!this.element||this.handleActionChangeEvent(n)}))}handleActionChangeEvent(c){c.enabled!==void 0&&this.updateEnabled(),c.checked!==void 0&&this.updateChecked(),c.class!==void 0&&this.updateClass(),c.label!==void 0&&(this.updateLabel(),this.updateTooltip()),c.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new w.ActionRunner)),this._actionRunner}set actionRunner(c){this._actionRunner=c}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(c){this._context=c}render(c){const d=this.element=c;this._register(p.Gesture.addTarget(c));const r=this.options&&this.options.draggable;r&&(c.draggable=!0,i.isFirefox&&this._register((0,_.addDisposableListener)(c,_.EventType.DRAG_START,n=>{var s;return(s=n.dataTransfer)===null||s===void 0?void 0:s.setData(C.DataTransfers.TEXT,this._action.label)}))),this._register((0,_.addDisposableListener)(d,p.EventType.Tap,n=>this.onClick(n))),this._register((0,_.addDisposableListener)(d,_.EventType.MOUSE_DOWN,n=>{r||_.EventHelper.stop(n,!0),this._action.enabled&&n.button===0&&d.classList.add("active")})),v.isMacintosh&&this._register((0,_.addDisposableListener)(d,_.EventType.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register((0,_.addDisposableListener)(d,_.EventType.CLICK,n=>{_.EventHelper.stop(n,!0),this.options&&this.options.isMenu||v.setImmediate(()=>this.onClick(n))})),this._register((0,_.addDisposableListener)(d,_.EventType.DBLCLICK,n=>{_.EventHelper.stop(n,!0)})),[_.EventType.MOUSE_UP,_.EventType.MOUSE_OUT].forEach(n=>{this._register((0,_.addDisposableListener)(d,n,s=>{_.EventHelper.stop(s),d.classList.remove("active")}))})}onClick(c){var d;_.EventHelper.stop(c,!0);const r=S.isUndefinedOrNull(this._context)?((d=this.options)===null||d===void 0?void 0:d.useEventAsContext)?c:void 0:this._context;this.actionRunner.run(this._action,r)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(c){this.element&&(this.element.tabIndex=c?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=u;class a extends u{constructor(c,d,r={}){super(c,d,r);this.options=r,this.options.icon=r.icon!==void 0?r.icon:!1,this.options.label=r.label!==void 0?r.label:!0,this.cssClass=""}render(c){super.render(c),this.element&&(this.label=(0,_.append)(this.element,(0,_.$)("a.action-label"))),this.label&&(this._action.id===w.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,_.append)(this.element,(0,_.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(c){this.label&&(this.label.tabIndex=c?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let c=null;this.getAction().tooltip?c=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(c=this.getAction().label,this.options.keybinding&&(c=I.localize(0,null,c,this.options.keybinding))),c&&this.label&&(this.label.title=c)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=a}),define(te[85],ie([0,1,2,49,7,20,55,6,116,248]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class i extends v.Disposable{constructor(u,a={}){var l,c,d,r,n,s;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new p.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new p.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new p.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new p.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=a,this._context=(l=a.context)!==null&&l!==void 0?l:null,this._orientation=(c=this.options.orientation)!==null&&c!==void 0?c:0,this._triggerKeys={keyDown:(r=(d=this.options.triggerKeys)===null||d===void 0?void 0:d.keyDown)!==null&&r!==void 0?r:!1,keys:(s=(n=this.options.triggerKeys)===null||n===void 0?void 0:n.keys)!==null&&s!==void 0?s:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new I.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",a.animated!==!1&&this.domNode.classList.add("animated");let t,o;switch(this._orientation){case 0:t=[15],o=[17];break;case 1:t=[16],o=[18],this.domNode.className+=" vertical";break}this._register(k.addDisposableListener(this.domNode,k.EventType.KEY_DOWN,h=>{const f=new S.StandardKeyboardEvent(h);let m=!0;const g=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;t&&(f.equals(t[0])||f.equals(t[1]))?m=this.focusPrevious():o&&(f.equals(o[0])||f.equals(o[1]))?m=this.focusNext():f.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():f.equals(14)?m=this.focusFirst():f.equals(13)?m=this.focusLast():f.equals(2)&&g instanceof C.BaseActionViewItem&&g.trapsArrowNavigation?m=this.focusNext():this.isTriggerKeyEvent(f)?this._triggerKeys.keyDown?this.doTrigger(f):this.triggerKeyDown=!0:m=!1,m&&(f.preventDefault(),f.stopPropagation())})),this._register(k.addDisposableListener(this.domNode,k.EventType.KEY_UP,h=>{const f=new S.StandardKeyboardEvent(h);this.isTriggerKeyEvent(f)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(f)),f.preventDefault(),f.stopPropagation()):(f.equals(2)||f.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(k.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(k.getActiveElement()===this.domNode||!k.isAncestor(k.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),u.appendChild(this.domNode)}isTriggerKeyEvent(u){let a=!1;return this._triggerKeys.keys.forEach(l=>{a=a||u.equals(l)}),a}updateFocusedItem(){for(let u=0;u<this.actionsList.children.length;u++){const a=this.actionsList.children[u];if(k.isAncestor(k.getActiveElement(),a)){this.focusedItem=u;break}}}get context(){return this._context}set context(u){this._context=u,this.viewItems.forEach(a=>a.setActionContext(u))}get actionRunner(){return this._actionRunner}set actionRunner(u){u&&(this._actionRunner=u,this.viewItems.forEach(a=>a.actionRunner=u))}getContainer(){return this.domNode}push(u,a={}){const l=Array.isArray(u)?u:[u];let c=w.isNumber(a.index)?a.index:null;l.forEach(d=>{const r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(k.addDisposableListener(r,k.EventType.CONTEXT_MENU,s=>{k.EventHelper.stop(s,!0)}));let n;this.options.actionViewItemProvider&&(n=this.options.actionViewItemProvider(d)),n||(n=new C.ActionViewItem(this.context,d,a)),n.actionRunner=this._actionRunner,n.setActionContext(this.context),n.render(r),this.focusable&&n instanceof C.BaseActionViewItem&&this.viewItems.length===0&&n.setFocusable(!0),c===null||c<0||c>=this.actionsList.children.length?(this.actionsList.appendChild(r),this.viewItems.push(n),this._actionIds.push(d.id)):(this.actionsList.insertBefore(r,this.actionsList.children[c]),this.viewItems.splice(c,0,n),this._actionIds.splice(c,0,d.id),c++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){(0,v.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],k.clearNode(this.actionsList)}length(){return this.viewItems.length}focus(u){let a=!1,l;if(u===void 0?a=!0:typeof u=="number"?l=u:typeof u=="boolean"&&(a=u),a&&typeof this.focusedItem=="undefined"){const c=this.viewItems.findIndex(d=>d.isEnabled());this.focusedItem=c===-1?void 0:c,this.updateFocus()}else l!==void 0&&(this.focusedItem=l),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const u=this.focusedItem;let a;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=u,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,a=this.viewItems[this.focusedItem]}while(this.focusedItem!==u&&this.options.focusOnlyEnabledItems&&!a.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const u=this.focusedItem;let a;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=u,!1;this.focusedItem=this.viewItems.length-1}a=this.viewItems[this.focusedItem]}while(this.focusedItem!==u&&this.options.focusOnlyEnabledItems&&!a.isEnabled());return this.updateFocus(!0),!0}updateFocus(u,a){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:a});for(let l=0;l<this.viewItems.length;l++){const c=this.viewItems[l],d=c;if(l===this.focusedItem){let r=!0;w.isFunction(d.focus)||(r=!1),this.options.focusOnlyEnabledItems&&w.isFunction(c.isEnabled)&&!c.isEnabled()&&(r=!1),r?d.focus(u):this.actionsList.focus({preventScroll:a})}else w.isFunction(d.blur)&&d.blur()}}doTrigger(u){if(typeof this.focusedItem!="undefined"){const a=this.viewItems[this.focusedItem];if(a instanceof C.BaseActionViewItem){const l=a._context===null||a._context===void 0?u:a._context;this.run(a._action,l)}}}run(u,a){return De(this,void 0,void 0,function*(){yield this._actionRunner.run(u,a)})}dispose(){(0,v.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=i}),define(te[311],ie([0,1,62,49,7,55,6,245]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class p extends I.ActionRunner{constructor(_,u){super();this._onDidChangeVisibility=new S.Emitter,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,k.append)(_,(0,k.$)(".monaco-dropdown")),this._label=(0,k.append)(this._element,(0,k.$)(".dropdown-label"));let a=u.labelRenderer;a||(a=c=>(c.textContent=u.label||"",null));for(const c of[k.EventType.CLICK,k.EventType.MOUSE_DOWN,v.EventType.Tap])this._register((0,k.addDisposableListener)(this.element,c,d=>k.EventHelper.stop(d,!0)));for(const c of[k.EventType.MOUSE_DOWN,v.EventType.Tap])this._register((0,k.addDisposableListener)(this._label,c,d=>{d instanceof MouseEvent&&d.detail>1||(this.visible?this.hide():this.show())}));this._register((0,k.addDisposableListener)(this._label,k.EventType.KEY_UP,c=>{const d=new w.StandardKeyboardEvent(c);(d.equals(3)||d.equals(10))&&(k.EventHelper.stop(c,!0),this.visible?this.hide():this.show())}));const l=a(this._label);l&&this._register(l),this._register(v.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=p;class C extends p{constructor(_,u){super(_,u);this._actions=[],this._contextMenuProvider=u.contextMenuProvider,this.actions=u.actions||[],this.actionProvider=u.actionProvider,this.menuClassName=u.menuClassName||"",this.menuAsChild=!!u.menuAsChild}set menuOptions(_){this._menuOptions=_}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(_){this._actions=_}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:_=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(_):void 0,getKeyBinding:_=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(_):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=C}),define(te[312],ie([0,1,7,6,116,311,245]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends k.BaseActionViewItem{constructor(C,i,_,u=Object.create(null)){super(null,C,u);this.actionItem=null,this._onDidChangeVisibility=this._register(new I.Emitter),this.menuActionsOrProvider=i,this.contextMenuProvider=_,this.options=u,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(C){this.actionItem=C;const i=a=>{this.element=(0,v.append)(a,(0,v.$)("a.action-label"));let l=[];return typeof this.options.classNames=="string"?l=this.options.classNames.split(/\s+/g).filter(c=>!!c):this.options.classNames&&(l=this.options.classNames),l.find(c=>c==="icon")||l.push("codicon"),this.element.classList.add(...l),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},_=Array.isArray(this.menuActionsOrProvider),u={contextMenuProvider:this.contextMenuProvider,labelRenderer:i,menuAsChild:this.options.menuAsChild,actions:_?this.menuActionsOrProvider:void 0,actionProvider:_?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new w.DropdownMenu(C,u)),this._register(this.dropdownMenu.onDidChangeVisibility(a=>{var l;(l=this.element)===null||l===void 0||l.setAttribute("aria-expanded",`${a}`),this._onDidChangeVisibility.fire(a)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const a=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return a.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(C){super.setActionContext(C),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=C:this.dropdownMenu.menuOptions={context:C})}updateEnabled(){var C,i;const _=!this.getAction().enabled;(C=this.actionItem)===null||C===void 0||C.classList.toggle("disabled",_),(i=this.element)===null||i===void 0||i.classList.toggle("disabled",_)}}e.DropdownMenuActionViewItem=S}),define(te[153],ie([0,1,299,7,188,40,85,6,52,29,43,579,63,54,493]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const c=I.$,d={inputBackground:i.Color.fromHex("#3C3C3C"),inputForeground:i.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:i.Color.fromHex("#55AAFF"),inputValidationInfoBackground:i.Color.fromHex("#063B49"),inputValidationWarningBorder:i.Color.fromHex("#B89500"),inputValidationWarningBackground:i.Color.fromHex("#352A05"),inputValidationErrorBorder:i.Color.fromHex("#BE1100"),inputValidationErrorBackground:i.Color.fromHex("#5A1D1D")};class r extends C.Widget{constructor(t,o,h){var f;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new p.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new p.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=o,this.options=h||Object.create(null),(0,_.mixin)(this.options,d,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(f=this.options.tooltip)!==null&&f!==void 0?f:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=I.append(t,c(".monaco-inputbox.idle"));let m=this.options.flexibleHeight?"textarea":"input",g=I.append(this.element,c(".ibwrapper"));if(this.input=I.append(g,c(m+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=I.append(g,c("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new a.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),I.append(t,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(y=>this.input.scrollTop=y.scrollTop));const b=p.Event.filter((0,l.domEvent)(document,"selectionchange"),()=>{const y=document.getSelection();return(y==null?void 0:y.anchorNode)===g});this._register(b(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new S.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage()}onFocus(){this._showMessage()}setPlaceHolder(t){this.placeholder=t,this.input.setAttribute("placeholder",t)}setTooltip(t){this.tooltip=t,this.input.title=t}setAriaLabel(t){this.ariaLabel=t,t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:I.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(t=null){this.input.select(),t&&(this.input.setSelectionRange(t.start,t.end),t.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return I.getTotalWidth(this.input)}set width(t){if(this.options.flexibleHeight&&this.options.flexibleWidth){let o=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,f=parseFloat(this.mirror.style.paddingRight||"")||0;o=h+f}this.input.style.width=t-o+"px"}else this.input.style.width=t+"px";this.mirror&&(this.mirror.style.width=t+"px")}set paddingRight(t){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${t}px)`:this.input.style.paddingRight=t+"px",this.mirror&&(this.mirror.style.paddingRight=t+"px")}updateScrollDimensions(){if(!(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)){const t=this.cachedContentHeight,o=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:o}),this.scrollableElement.setScrollPosition({scrollTop:h})}}showMessage(t,o){this.message=t,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(t.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||o)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),t==null?void 0:t.type}stylesForType(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!(!this.contextViewProvider||!this.message)){let t,o=()=>t.style.width=I.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:f=>{if(!this.message)return null;t=I.append(f,c(".monaco-inputbox-container")),o();const m={inline:!0,className:"monaco-inputbox-message"},g=this.message.formatContent?(0,k.renderFormattedText)(this.message.content,m):(0,k.renderText)(this.message.content,m);g.classList.add(this.classForType(this.message.type));const b=this.stylesForType(this.message.type);return g.style.backgroundColor=b.background?b.background.toString():"",g.style.color=b.foreground?b.foreground.toString():"",g.style.border=b.border?`1px solid ${b.border}`:"",I.append(t,g),null},onHide:()=>{this.state="closed"},layout:o});let h;this.message.type===3?h=v.localize(0,null,this.message.content):this.message.type===2?h=v.localize(1,null,this.message.content):h=v.localize(2,null,this.message.content),w.alert(h),this.state="open"}}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!!this.mirror){const t=this.value,h=t.charCodeAt(t.length-1)===10?" ":"";t+h?this.mirror.textContent=t+h:this.mirror.innerText="\xA0",this.layout()}}style(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const t=this.inputBackground?this.inputBackground.toString():"",o=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=t,this.element.style.color=o,this.input.style.backgroundColor="inherit",this.input.style.color=o,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!!this.mirror){const t=this.cachedContentHeight;this.cachedContentHeight=I.getTotalHeight(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}}insertAtCursor(t){const o=this.inputElement,h=o.selectionStart,f=o.selectionEnd,m=o.value;h!==null&&f!==null&&(this.value=m.substr(0,h)+t+m.substr(f),o.setSelectionRange(h+1,h+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=r;class n extends r{constructor(t,o,h){super(t,o,h);this.history=new u.HistoryNavigator(h.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),t&&(this.value=t,w.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,w.status(this.value))}getCurrentValue(){let t=this.history.current();return t||(t=this.history.last(),this.history.next()),t}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=n}),define(te[314],ie([0,1,293,7,153,52,6,213,244]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const C=v.localize(0,null);class i extends w.Widget{constructor(u,a,l,c){super();this._showOptionButtons=l,this.fixFocusOnOptionClickEnabled=!0,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=a,this.placeholder=c.placeholder||"",this.validation=c.validation,this.label=c.label||C,this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground;const d=c.appendCaseSensitiveLabel||"",r=c.appendWholeWordsLabel||"",n=c.appendRegexLabel||"",s=c.history||[],t=!!c.flexibleHeight,o=!!c.flexibleWidth,h=c.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:s,flexibleHeight:t,flexibleWidth:o,flexibleMaxHeight:h})),this.regex=this._register(new p.RegexCheckbox({appendTitle:n,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(g=>{this._onRegexKeyDown.fire(g)})),this.wholeWords=this._register(new p.WholeWordsCheckbox({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new p.CaseSensitiveCheckbox({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(g=>{this._onCaseSensitiveKeyDown.fire(g)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let f=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){let b=f.indexOf(document.activeElement);if(b>=0){let y=-1;g.equals(17)?y=(b+1)%f.length:g.equals(15)&&(b===0?y=f.length-1:y=b-1),g.equals(9)?(f[b].blur(),this.inputBox.focus()):y>=0&&f[y].focus(),I.EventHelper.stop(g,!0)}}});let m=document.createElement("div");m.className="controls",m.style.display=this._showOptionButtons?"block":"none",m.appendChild(this.caseSensitive.domNode),m.appendChild(this.wholeWords.domNode),m.appendChild(this.regex.domNode),this.domNode.appendChild(m),u&&u.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(u){this.fixFocusOnOptionClickEnabled=u}setEnabled(u){u?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(u){this.inputBox.value!==u&&(this.inputBox.value=u)}style(u){this.inputActiveOptionBorder=u.inputActiveOptionBorder,this.inputActiveOptionForeground=u.inputActiveOptionForeground,this.inputActiveOptionBackground=u.inputActiveOptionBackground,this.inputBackground=u.inputBackground,this.inputForeground=u.inputForeground,this.inputBorder=u.inputBorder,this.inputValidationInfoBackground=u.inputValidationInfoBackground,this.inputValidationInfoForeground=u.inputValidationInfoForeground,this.inputValidationInfoBorder=u.inputValidationInfoBorder,this.inputValidationWarningBackground=u.inputValidationWarningBackground,this.inputValidationWarningForeground=u.inputValidationWarningForeground,this.inputValidationWarningBorder=u.inputValidationWarningBorder,this.inputValidationErrorBackground=u.inputValidationErrorBackground,this.inputValidationErrorForeground=u.inputValidationErrorForeground,this.inputValidationErrorBorder=u.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const u={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(u),this.wholeWords.style(u),this.caseSensitive.style(u);const a={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(a)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(u){this.caseSensitive.checked=u}getWholeWords(){return this.wholeWords.checked}setWholeWords(u){this.wholeWords.checked=u}getRegex(){return this.regex.checked}setRegex(u){this.regex.checked=u,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=i}),define(te[315],ie([0,1,296,7,153,52,6,189,27,244]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const i=v.localize(0,null),_=v.localize(1,null);class u extends p.Checkbox{constructor(c){super({icon:C.Codicon.preserveCase,title:_+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=u;class a extends w.Widget{constructor(c,d,r,n){super();this._showOptionButtons=r,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onPreserveCaseKeyDown=this._register(new S.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=d,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||i,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const s=n.appendPreserveCaseLabel||"",t=n.history||[],o=!!n.flexibleHeight,h=!!n.flexibleWidth,f=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:t,flexibleHeight:o,flexibleWidth:h,flexibleMaxHeight:f})),this.preserveCase=this._register(new u({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(b=>{this._onPreserveCaseKeyDown.fire(b)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let m=[this.preserveCase.domNode];this.onkeydown(this.domNode,b=>{if(b.equals(15)||b.equals(17)||b.equals(9)){let y=m.indexOf(document.activeElement);if(y>=0){let L=-1;b.equals(17)?L=(y+1)%m.length:b.equals(15)&&(y===0?L=m.length-1:L=y-1),b.equals(9)?(m[y].blur(),this.inputBox.focus()):L>=0&&m[L].focus(),I.EventHelper.stop(b,!0)}}});let g=document.createElement("div");g.className="controls",g.style.display=this._showOptionButtons?"block":"none",g.appendChild(this.preserveCase.domNode),this.domNode.appendChild(g),c&&c.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,b=>this._onKeyDown.fire(b)),this.onkeyup(this.inputBox.inputElement,b=>this._onKeyUp.fire(b)),this.oninput(this.inputBox.inputElement,b=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,b=>this._onMouseDown.fire(b))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(c){c?this.enable():this.disable()}style(c){this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const c={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(c);const d={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(d)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(c){this.preserveCase.checked=c}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(c){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=c,this.domNode.style.width=c+"px"}dispose(){super.dispose()}}e.ReplaceInput=a}),define(te[316],ie([0,1,301,8,49,85,7,55,15,2,63,247,17,27,116,137,36,53,117]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;const t=(0,l.registerCodicon)("menu-selection",l.Codicon.check),o=(0,l.registerCodicon)("menu-submenu",l.Codicon.chevronRight);var h;(function(N){N[N.Right=0]="Right",N[N.Left=1]="Left"})(h=e.Direction||(e.Direction={}));class f extends w.ActionBar{constructor(M,D,R={}){M.classList.add("monaco-menu-container"),M.setAttribute("role","presentation");const P=document.createElement("div");P.classList.add("monaco-menu"),P.setAttribute("role","presentation"),super(P,{orientation:1,actionViewItemProvider:F=>this.doGetActionViewItem(F,R,O),context:R.context,actionRunner:R.actionRunner,ariaLabel:R.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...a.isMacintosh||a.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=P,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new i.DisposableStore),this.initializeStyleSheet(M),(0,S.addDisposableListener)(P,S.EventType.KEY_DOWN,F=>{new p.StandardKeyboardEvent(F).equals(2)&&F.preventDefault()}),R.enableMnemonics&&this.menuDisposables.add((0,S.addDisposableListener)(P,S.EventType.KEY_DOWN,F=>{const E=F.key.toLocaleLowerCase();if(this.mnemonics.has(E)){S.EventHelper.stop(F,!0);const A=this.mnemonics.get(E);if(A.length===1&&(A[0]instanceof g&&A[0].container&&this.focusItemByElement(A[0].container),A[0].onClick(F)),A.length>1){const B=A.shift();B&&B.container&&(this.focusItemByElement(B.container),A.push(B)),this.mnemonics.set(E,A)}}})),a.isLinux&&this._register((0,S.addDisposableListener)(P,S.EventType.KEY_DOWN,F=>{const E=new p.StandardKeyboardEvent(F);E.equals(14)||E.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),S.EventHelper.stop(F,!0)):(E.equals(13)||E.equals(12))&&(this.focusedItem=0,this.focusPrevious(),S.EventHelper.stop(F,!0))})),this._register((0,S.addDisposableListener)(this.domNode,S.EventType.MOUSE_OUT,F=>{let E=F.relatedTarget;(0,S.isAncestor)(E,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),F.stopPropagation())})),this._register((0,S.addDisposableListener)(this.actionsList,S.EventType.MOUSE_OVER,F=>{let E=F.target;if(!(!E||!(0,S.isAncestor)(E,this.actionsList)||E===this.actionsList)){for(;E.parentElement!==this.actionsList&&E.parentElement!==null;)E=E.parentElement;if(E.classList.contains("action-item")){const A=this.focusedItem;this.setFocusedItem(E),A!==this.focusedItem&&this.updateFocus()}}}));let O={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new _.DomScrollableElement(P,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const W=this.scrollableElement.getDomNode();W.style.position="",this._register((0,S.addDisposableListener)(W,S.EventType.MOUSE_UP,F=>{F.preventDefault()})),P.style.maxHeight=`${Math.max(10,window.innerHeight-M.getBoundingClientRect().top-35)}px`,D=D.filter(F=>{var E;return((E=R.submenuIds)===null||E===void 0?void 0:E.has(F.id))?(console.warn(`Found submenu cycle: ${F.id}`),!1):!0}),this.push(D,{icon:!0,label:!0,isMenu:!0}),M.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(F=>!(F instanceof b)).forEach((F,E,A)=>{F.updatePositionInSet(E+1,A.length)})}initializeStyleSheet(M){(0,S.isInShadowDOM)(M)?(this.styleSheet=(0,S.createStyleSheet)(M),this.styleSheet.textContent=L):(f.globalStyleSheet||(f.globalStyleSheet=(0,S.createStyleSheet)(),f.globalStyleSheet.textContent=L),this.styleSheet=f.globalStyleSheet)}style(M){const D=this.getContainer(),R=M.foregroundColor?`${M.foregroundColor}`:"",P=M.backgroundColor?`${M.backgroundColor}`:"",O=M.borderColor?`1px solid ${M.borderColor}`:"",W=M.shadowColor?`0 2px 4px ${M.shadowColor}`:"";D.style.border=O,this.domNode.style.color=R,this.domNode.style.backgroundColor=P,D.style.boxShadow=W,this.viewItems&&this.viewItems.forEach(F=>{(F instanceof m||F instanceof b)&&F.style(M)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(M){const D=this.focusedItem;this.setFocusedItem(M),D!==this.focusedItem&&this.updateFocus()}setFocusedItem(M){for(let D=0;D<this.actionsList.children.length;D++){let R=this.actionsList.children[D];if(M===R){this.focusedItem=D;break}}}updateFocus(M){super.updateFocus(M,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(M,D,R){if(M instanceof k.Separator)return new b(D.context,M,{icon:!0});if(M instanceof k.SubmenuAction){const P=new g(M,M.actions,R,Object.assign(Object.assign({},D),{submenuIds:new Set([...D.submenuIds||[],M.id])}));if(D.enableMnemonics){const O=P.getMnemonic();if(O&&P.isEnabled()){let W=[];this.mnemonics.has(O)&&(W=this.mnemonics.get(O)),W.push(P),this.mnemonics.set(O,W)}}return P}else{const P={enableMnemonics:D.enableMnemonics,useEventAsContext:D.useEventAsContext};if(D.getKeyBinding){const W=D.getKeyBinding(M);if(W){const F=W.getLabel();F&&(P.keybinding=F)}}const O=new m(D.context,M,P);if(D.enableMnemonics){const W=O.getMnemonic();if(W&&O.isEnabled()){let F=[];this.mnemonics.has(W)&&(F=this.mnemonics.get(W)),F.push(O),this.mnemonics.set(W,F)}}return O}}}e.Menu=f;class m extends c.BaseActionViewItem{constructor(M,D,R={}){if(R.isMenu=!0,super(D,D,R),this.options=R,this.options.icon=R.icon!==void 0?R.icon:!1,this.options.label=R.label!==void 0?R.label:!0,this.cssClass="",this.options.label&&R.enableMnemonics){let P=this.getAction().label;if(P){let O=e.MENU_MNEMONIC_REGEX.exec(P);O&&(this.mnemonic=(O[1]?O[1]:O[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new C.RunOnceScheduler(()=>{!this.element||(this._register((0,S.addDisposableListener)(this.element,S.EventType.MOUSE_UP,P=>{if(S.EventHelper.stop(P,!0),r.isFirefox){if(new n.StandardMouseEvent(P).rightButton)return;this.onClick(P)}else setTimeout(()=>{this.onClick(P)},0)})),this._register((0,S.addDisposableListener)(this.element,S.EventType.CONTEXT_MENU,P=>{S.EventHelper.stop(P,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(M){super.render(M),!!this.element&&(this.container=M,this.item=(0,S.append)(this.element,(0,S.$)("a.action-menu-item")),this._action.id===k.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,S.append)(this.item,(0,S.$)("span.menu-item-check"+t.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,S.append)(this.item,(0,S.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,S.append)(this.item,(0,S.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(M,D){this.item&&(this.item.setAttribute("aria-posinset",`${M}`),this.item.setAttribute("aria-setsize",`${D}`))}updateLabel(){if(!!this.label&&this.options.label){(0,S.clearNode)(this.label);let M=(0,s.stripIcons)(this.getAction().label);if(M){const D=y(M);this.options.enableMnemonics||(M=D),this.label.setAttribute("aria-label",D.replace(/&&/g,"&"));const R=e.MENU_MNEMONIC_REGEX.exec(M);if(R){M=I.escape(M),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let P=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(M);for(;P&&P[1];)P=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(M);const O=W=>W.replace(/&amp;&amp;/g,"&amp;");P?this.label.append(I.ltrim(O(M.substr(0,P.index))," "),(0,S.$)("u",{"aria-hidden":"true"},P[3]),I.rtrim(O(M.substr(P.index+P[0].length))," ")):this.label.innerText=O(M).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(R[1]?R[1]:R[3]).toLocaleLowerCase())}else this.label.innerText=M.replace(/&&/g,"&").trim()}}}updateTooltip(){let M=null;this.getAction().tooltip?M=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(M=this.getAction().label,this.options.keybinding&&(M=v.localize(0,null,M,this.options.keybinding))),M&&this.item&&(this.item.title=M)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){!this.item||(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!!this.menuStyle){const M=this.element&&this.element.classList.contains("focused"),D=M&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,R=M&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,P=M&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=D?D.toString():"",this.item.style.backgroundColor=R?R.toString():""),this.check&&(this.check.style.color=D?D.toString():""),this.container&&(this.container.style.border=P)}}style(M){this.menuStyle=M,this.applyStyle()}}class g extends m{constructor(M,D,R,P){super(M,M,P);this.submenuActions=D,this.parentData=R,this.submenuOptions=P,this.mysubmenu=null,this.submenuDisposables=this._register(new i.DisposableStore),this.mouseOver=!1,this.expandDirection=P&&P.expandDirection!==void 0?P.expandDirection:h.Right,this.showScheduler=new C.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new C.RunOnceScheduler(()=>{this.element&&!(0,S.isAncestor)((0,S.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(M){super.render(M),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,S.append)(this.item,(0,S.$)("span.submenu-indicator"+o.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,S.addDisposableListener)(this.element,S.EventType.KEY_UP,D=>{let R=new p.StandardKeyboardEvent(D);(R.equals(17)||R.equals(3))&&(S.EventHelper.stop(D,!0),this.createSubmenu(!0))})),this._register((0,S.addDisposableListener)(this.element,S.EventType.KEY_DOWN,D=>{let R=new p.StandardKeyboardEvent(D);(0,S.getActiveElement)()===this.item&&(R.equals(17)||R.equals(3))&&S.EventHelper.stop(D,!0)})),this._register((0,S.addDisposableListener)(this.element,S.EventType.MOUSE_OVER,D=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,S.addDisposableListener)(this.element,S.EventType.MOUSE_LEAVE,D=>{this.mouseOver=!1})),this._register((0,S.addDisposableListener)(this.element,S.EventType.FOCUS_OUT,D=>{this.element&&!(0,S.isAncestor)((0,S.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(M){S.EventHelper.stop(M,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(M){if(this.parentData.submenu&&(M||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(D){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(M,D,R,P){const O={top:0,left:0};return O.left=(0,u.layout)(M.width,D.width,{position:P===h.Right?0:1,offset:R.left,size:R.width}),O.left>=R.left&&O.left<R.left+R.width&&(R.left+10+D.width<=M.width&&(O.left=R.left+10),R.top+=10,R.height=0),O.top=(0,u.layout)(M.height,D.height,{position:0,offset:R.top,size:0}),O.top+D.height===R.top&&O.top+R.height+D.height<=M.height&&(O.top+=R.height),O}createSubmenu(M=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,S.append)(this.element,(0,S.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const D=getComputedStyle(this.parentData.parent.domNode),R=parseFloat(D.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new f(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new k.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const P=this.element.getBoundingClientRect(),O={top:P.top-R,left:P.left,height:P.height+2*R,width:P.width},W=this.submenuContainer.getBoundingClientRect(),{top:F,left:E}=this.calculateSubmenuMenuLayout(new S.Dimension(window.innerWidth,window.innerHeight),S.Dimension.lift(W),O,this.expandDirection);this.submenuContainer.style.left=`${E}px`,this.submenuContainer.style.top=`${F}px`,this.submenuDisposables.add((0,S.addDisposableListener)(this.submenuContainer,S.EventType.KEY_UP,A=>{new p.StandardKeyboardEvent(A).equals(15)&&(S.EventHelper.stop(A,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,S.addDisposableListener)(this.submenuContainer,S.EventType.KEY_DOWN,A=>{new p.StandardKeyboardEvent(A).equals(15)&&S.EventHelper.stop(A,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(M),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(M){var D;this.item&&((D=this.item)===null||D===void 0||D.setAttribute("aria-expanded",M))}applyStyle(){if(super.applyStyle(),!!this.menuStyle){const D=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=D?`${D}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class b extends c.ActionViewItem{style(M){this.label&&(this.label.style.borderBottomColor=M.separatorColor?`${M.separatorColor}`:"")}}function y(N){const M=e.MENU_MNEMONIC_REGEX,D=M.exec(N);if(!D)return N;const R=!D[1];return N.replace(M,R?"$2$3":"").trim()}e.cleanMnemonic=y;let L=`
.monaco-menu {
	font-size: 13px;

}

${(0,d.formatRule)(t)}
${(0,d.formatRule)(o)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`}),define(te[317],ie([0,1,7,153,2,55,83,53,130]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const C=v.$;class i extends k.Disposable{constructor(u){super();this.parent=u,this.onKeyDown=a=>v.addDisposableListener(this.inputBox.inputElement,v.EventType.KEY_DOWN,l=>{a(new w.StandardKeyboardEvent(l))}),this.onMouseDown=a=>v.addDisposableListener(this.inputBox.inputElement,v.EventType.MOUSE_DOWN,l=>{a(new p.StandardMouseEvent(l))}),this.onDidChange=a=>this.inputBox.onDidChange(a),this.container=v.append(this.parent,C(".quick-input-box")),this.inputBox=this._register(new I.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(u){this.inputBox.value=u}select(u=null){this.inputBox.select(u)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(u){this.inputBox.setPlaceHolder(u)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(u){this.inputBox.setAriaLabel(u)}get password(){return this.inputBox.inputElement.type==="password"}set password(u){this.inputBox.inputElement.type=u?"password":"text"}setAttribute(u,a){this.inputBox.inputElement.setAttribute(u,a)}removeAttribute(u){this.inputBox.inputElement.removeAttribute(u)}showDecoration(u){u===S.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:u===S.default.Info?1:u===S.default.Warning?2:3,content:""})}stylesForType(u){return this.inputBox.stylesForType(u===S.default.Info?1:u===S.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(u){this.inputBox.style(u)}}e.QuickInputBox=i}),define(te[318],ie([5,4]),function($,e){return $.create("vs/base/common/errorMessage",e)}),define(te[319],ie([0,1,318,20,19]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function w(i,_){return _&&(i.stack||i.stacktrace)?v.localize(0,null,p(i),S(i.stack)||S(i.stacktrace)):p(i)}function S(i){return Array.isArray(i)?i.join(`
`):i}function p(i){return typeof i.code=="string"&&typeof i.errno=="number"&&typeof i.syscall=="string"?v.localize(1,null,i.message):i.message||v.localize(2,null)}function C(i=null,_=!1){if(!i)return v.localize(3,null);if(Array.isArray(i)){const u=k.coalesce(i),a=C(u[0],_);return u.length>1?v.localize(4,null,a,u.length):a}if(I.isString(i))return i;if(i.detail){const u=i.detail;if(u.error)return w(u.error,_);if(u.exception)return w(u.exception,_)}return i.stack?w(i,_):i.message?i.message:v.localize(5,null)}e.toErrorMessage=C}),define(te[320],ie([5,4]),function($,e){return $.create("vs/base/common/keybindingLabels",e)}),define(te[154],ie([0,1,320]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class I{constructor(S,p,C=p){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=p,this.modifierLabels[3]=C}toLabel(S,p,C){if(p.length===0)return null;const i=[];for(let _=0,u=p.length;_<u;_++){const a=p[_],l=C(a);if(l===null)return null;i[_]=k(a,l,this.modifierLabels[S])}return i.join(" ")}}e.ModifierLabelProvider=I,e.UILabelProvider=new I({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:v.localize(0,null),shiftKey:v.localize(1,null),altKey:v.localize(2,null),metaKey:v.localize(3,null),separator:"+"},{ctrlKey:v.localize(4,null),shiftKey:v.localize(5,null),altKey:v.localize(6,null),metaKey:v.localize(7,null),separator:"+"}),e.AriaLabelProvider=new I({ctrlKey:v.localize(8,null),shiftKey:v.localize(9,null),altKey:v.localize(10,null),metaKey:v.localize(11,null),separator:"+"},{ctrlKey:v.localize(12,null),shiftKey:v.localize(13,null),altKey:v.localize(14,null),metaKey:v.localize(15,null),separator:"+"},{ctrlKey:v.localize(16,null),shiftKey:v.localize(17,null),altKey:v.localize(18,null),metaKey:v.localize(19,null),separator:"+"});function k(w,S,p){if(S===null)return"";const C=[];return w.ctrlKey&&C.push(p.ctrlKey),w.shiftKey&&C.push(p.shiftKey),w.altKey&&C.push(p.altKey),w.metaKey&&C.push(p.metaKey),S!==""&&C.push(S),C.join(p.separator)}}),define(te[322],ie([0,1,43,154,7,300,496]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const S=k.$;class p{constructor(i,_,u){this.os=_,this.keyElements=new Set,this.options=u||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=k.append(i,S(".monaco-keybinding")),this.didEverRender=!1,i.appendChild(this.domNode)}get element(){return this.domNode}set(i,_){this.didEverRender&&this.keybinding===i&&p.areSame(this.matches,_)||(this.keybinding=i,this.matches=_,this.render())}render(){if(this.clear(),this.keybinding){let[i,_]=this.keybinding.getParts();i&&this.renderPart(this.domNode,i,this.matches?this.matches.firstPart:null),_&&(k.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,_,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){k.clearNode(this.domNode),this.keyElements.clear()}renderPart(i,_,u){const a=I.UILabelProvider.modifierLabels[this.os];_.ctrlKey&&this.renderKey(i,a.ctrlKey,Boolean(u==null?void 0:u.ctrlKey),a.separator),_.shiftKey&&this.renderKey(i,a.shiftKey,Boolean(u==null?void 0:u.shiftKey),a.separator),_.altKey&&this.renderKey(i,a.altKey,Boolean(u==null?void 0:u.altKey),a.separator),_.metaKey&&this.renderKey(i,a.metaKey,Boolean(u==null?void 0:u.metaKey),a.separator);const l=_.keyLabel;l&&this.renderKey(i,l,Boolean(u==null?void 0:u.keyCode),"")}renderKey(i,_,u,a){k.append(i,this.createKeyElement(_,u?".highlight":"")),a&&k.append(i,S("span.monaco-keybinding-key-separator",void 0,a))}renderUnbound(i){k.append(i,this.createKeyElement((0,w.localize)(0,null)))}createKeyElement(i,_=""){const u=S("span.monaco-keybinding-key"+_,void 0,i);return this.keyElements.add(u),u}style(i){this.labelBackground=i.keybindingLabelBackground,this.labelForeground=i.keybindingLabelForeground,this.labelBorder=i.keybindingLabelBorder,this.labelBottomBorder=i.keybindingLabelBottomBorder,this.labelShadow=i.keybindingLabelShadow,this.applyStyles()}applyStyles(){var i;if(this.element){for(const _ of this.keyElements)this.labelBackground&&(_.style.backgroundColor=(i=this.labelBackground)===null||i===void 0?void 0:i.toString()),this.labelBorder&&(_.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(_.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(_.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(i,_){return i===_||!i&&!_?!0:!!i&&!!_&&(0,v.equals)(i.firstPart,_.firstPart)&&(0,v.equals)(i.chordPart,_.chordPart)}}e.KeybindingLabel=p}),define(te[323],ie([5,4]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(te[324],ie([5,4]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(te[325],ie([0,1,7,2,117,453,6,55,191,160,103,19,17,85,49,237,20,322,324,27,130]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const o=v.$;class h{constructor(M){this.hidden=!1,this._onChecked=new S.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,M)}get checked(){return!!this._checked}set checked(M){M!==this._checked&&(this._checked=M,this._onChecked.fire(M))}dispose(){this._onChecked.dispose()}}class f{get templateId(){return f.ID}renderTemplate(M){const D=Object.create(null);D.toDisposeElement=[],D.toDisposeTemplate=[],D.entry=v.append(M,o(".quick-input-list-entry"));const R=v.append(D.entry,o("label.quick-input-list-label"));D.toDisposeTemplate.push(v.addStandardDisposableListener(R,v.EventType.CLICK,A=>{D.checkbox.offsetParent||A.preventDefault()})),D.checkbox=v.append(R,o("input.quick-input-list-checkbox")),D.checkbox.type="checkbox",D.toDisposeTemplate.push(v.addStandardDisposableListener(D.checkbox,v.EventType.CHANGE,A=>{D.element.checked=D.checkbox.checked}));const P=v.append(R,o(".quick-input-list-rows")),O=v.append(P,o(".quick-input-list-row")),W=v.append(P,o(".quick-input-list-row"));D.label=new C.IconLabel(O,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const F=v.append(O,o(".quick-input-list-entry-keybinding"));D.keybinding=new n.KeybindingLabel(F,a.OS);const E=v.append(W,o(".quick-input-list-label-meta"));return D.detail=new i.HighlightedLabel(E,!0),D.separator=v.append(D.entry,o(".quick-input-list-separator")),D.actionBar=new l.ActionBar(D.entry),D.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),D.toDisposeTemplate.push(D.actionBar),D}renderElement(M,D,R){R.toDisposeElement=(0,I.dispose)(R.toDisposeElement),R.element=M,R.checkbox.checked=M.checked,R.toDisposeElement.push(M.onChecked(A=>R.checkbox.checked=A));const{labelHighlights:P,descriptionHighlights:O,detailHighlights:W}=M,F=Object.create(null);F.matches=P||[],F.descriptionTitle=M.saneDescription,F.descriptionMatches=O||[],F.extraClasses=M.item.iconClasses,F.italic=M.item.italic,F.strikethrough=M.item.strikethrough,R.label.setLabel(M.saneLabel,M.saneDescription,F),R.keybinding.set(M.item.keybinding),R.detail.set(M.saneDetail,W),M.separator&&M.separator.label?(R.separator.textContent=M.separator.label,R.separator.style.display=""):R.separator.style.display="none",R.entry.classList.toggle("quick-input-list-separator-border",!!M.separator),R.actionBar.clear();const E=M.item.buttons;E&&E.length?(R.actionBar.push(E.map((A,B)=>{let z=A.iconClass||(A.iconPath?(0,d.getIconClass)(A.iconPath):void 0);A.alwaysVisible&&(z=z?`${z} always-visible`:"always-visible");const U=new c.Action(`id-${B}`,"",z,!0,()=>De(this,void 0,void 0,function*(){M.fireButtonTriggered({button:A,item:M.item})}));return U.tooltip=A.tooltip||"",U}),{icon:!0,label:!1}),R.entry.classList.add("has-actions")):R.entry.classList.remove("has-actions")}disposeElement(M,D,R){R.toDisposeElement=(0,I.dispose)(R.toDisposeElement)}disposeTemplate(M){M.toDisposeElement=(0,I.dispose)(M.toDisposeElement),M.toDisposeTemplate=(0,I.dispose)(M.toDisposeTemplate)}}f.ID="listelement";class m{getHeight(M){return M.saneDetail?44:22}getTemplateId(M){return f.ID}}var g;(function(N){N[N.First=1]="First",N[N.Second=2]="Second",N[N.Last=3]="Last",N[N.Next=4]="Next",N[N.Previous=5]="Previous",N[N.NextPage=6]="NextPage",N[N.PreviousPage=7]="PreviousPage"})(g=e.QuickInputListFocus||(e.QuickInputListFocus={}));class b{constructor(M,D,R){this.parent=M,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new S.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new S.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new S.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new S.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new S.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new S.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new S.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=D,this.container=v.append(this.parent,o(".quick-input-list"));const P=new m,O=new L;this.list=R.createList("QuickInput",this.container,P,[new f],{identityProvider:{getId:W=>W.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:O}),this.list.getHTMLElement().id=D,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(W=>{const F=new p.StandardKeyboardEvent(W);switch(F.keyCode){case 10:this.toggleCheckbox();break;case 31:(a.isMacintosh?W.metaKey:W.ctrlKey)&&this.list.setFocus((0,u.range)(this.list.length));break;case 16:const E=this.list.getFocus();E.length===1&&E[0]===0&&this._onLeave.fire();break;case 18:const A=this.list.getFocus();A.length===1&&A[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(F)})),this.disposables.push(this.list.onMouseDown(W=>{W.browserEvent.button!==2&&W.browserEvent.preventDefault()})),this.disposables.push(v.addDisposableListener(this.container,v.EventType.CLICK,W=>{(W.x||W.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(W=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(W=>{typeof W.index=="number"&&(W.browserEvent.preventDefault(),this.list.setSelection([W.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return S.Event.map(this.list.onDidChangeFocus,M=>M.elements.map(D=>D.item))}get onDidChangeSelection(){return S.Event.map(this.list.onDidChangeSelection,M=>({items:M.elements.map(D=>D.item),event:M.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(M,D=!0){for(let R=0,P=M.length;R<P;R++){const O=M[R];if(!O.hidden)if(O.checked)D=!0;else return!1}return D}getCheckedCount(){let M=0;const D=this.elements;for(let R=0,P=D.length;R<P;R++)D[R].checked&&M++;return M}getVisibleCount(){let M=0;const D=this.elements;for(let R=0,P=D.length;R<P;R++)D[R].hidden||M++;return M}setAllVisibleChecked(M){try{this._fireCheckedEvents=!1,this.elements.forEach(D=>{D.hidden||(D.checked=M)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(M){this.elementDisposables=(0,I.dispose)(this.elementDisposables);const D=R=>this.fireButtonTriggered(R);this.inputElements=M,this.elements=M.reduce((R,P,O)=>{var W,F,E;if(P.type!=="separator"){const A=O&&M[O-1],B=P.label&&P.label.replace(/\r?\n/g," "),z=P.meta&&P.meta.replace(/\r?\n/g," "),U=P.description&&P.description.replace(/\r?\n/g," "),K=P.detail&&P.detail.replace(/\r?\n/g," "),G=P.ariaLabel||[B,U,K].map(J=>(0,t.getCodiconAriaLabel)(J)).filter(J=>!!J).join(", ");R.push(new h({index:O,item:P,saneLabel:B,saneMeta:z,saneAriaLabel:G,saneDescription:U,saneDetail:K,labelHighlights:(W=P.highlights)===null||W===void 0?void 0:W.label,descriptionHighlights:(F=P.highlights)===null||F===void 0?void 0:F.description,detailHighlights:(E=P.highlights)===null||E===void 0?void 0:E.detail,checked:!1,separator:A&&A.type==="separator"?A:void 0,fireButtonTriggered:D}))}return R},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(R=>R.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((R,P,O)=>(R.set(P.item,O),R),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(M=>M.item)}setFocusedElements(M){if(this.list.setFocus(M.filter(D=>this.elementsToIndexes.has(D)).map(D=>this.elementsToIndexes.get(D))),M.length>0){const D=this.list.getFocus()[0];typeof D=="number"&&this.list.reveal(D)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(M){this.list.setSelection(M.filter(D=>this.elementsToIndexes.has(D)).map(D=>this.elementsToIndexes.get(D)))}getCheckedElements(){return this.elements.filter(M=>M.checked).map(M=>M.item)}setCheckedElements(M){try{this._fireCheckedEvents=!1;const D=new Set;for(const R of M)D.add(R);for(const R of this.elements)R.checked=D.has(R.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(M){this.list.getHTMLElement().style.pointerEvents=M?"":"none"}focus(M){if(!!this.list.length){switch(M===g.Next&&this.list.getFocus()[0]===this.list.length-1&&(M=g.First),M===g.Previous&&this.list.getFocus()[0]===0&&(M=g.Last),M===g.Second&&this.list.length<2&&(M=g.First),M){case g.First:this.list.focusFirst();break;case g.Second:this.list.focusNth(1);break;case g.Last:this.list.focusLast();break;case g.Next:this.list.focusNext();break;case g.Previous:this.list.focusPrevious();break;case g.NextPage:this.list.focusNextPage();break;case g.PreviousPage:this.list.focusPreviousPage();break}const D=this.list.getFocus()[0];typeof D=="number"&&this.list.reveal(D)}}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(M){this.list.getHTMLElement().style.maxHeight=M?`calc(${Math.floor(M/44)*44}px)`:"",this.list.layout()}filter(M){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(M=M.trim(),!M||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(R=>{R.labelHighlights=void 0,R.descriptionHighlights=void 0,R.detailHighlights=void 0,R.hidden=!1;const P=R.index&&this.inputElements[R.index-1];R.separator=P&&P.type==="separator"?P:void 0});else{let R;this.elements.forEach(P=>{const O=this.matchOnLabel?(0,r.withNullAsUndefined)((0,k.matchesFuzzyIconAware)(M,(0,k.parseLabelWithIcons)(P.saneLabel))):void 0,W=this.matchOnDescription?(0,r.withNullAsUndefined)((0,k.matchesFuzzyIconAware)(M,(0,k.parseLabelWithIcons)(P.saneDescription||""))):void 0,F=this.matchOnDetail?(0,r.withNullAsUndefined)((0,k.matchesFuzzyIconAware)(M,(0,k.parseLabelWithIcons)(P.saneDetail||""))):void 0,E=this.matchOnMeta?(0,r.withNullAsUndefined)((0,k.matchesFuzzyIconAware)(M,(0,k.parseLabelWithIcons)(P.saneMeta||""))):void 0;if(O||W||F||E?(P.labelHighlights=O,P.descriptionHighlights=W,P.detailHighlights=F,P.hidden=!1):(P.labelHighlights=void 0,P.descriptionHighlights=void 0,P.detailHighlights=void 0,P.hidden=!P.item.alwaysShow),P.separator=void 0,!this.sortByLabel){const A=P.index&&this.inputElements[P.index-1];R=A&&A.type==="separator"?A:R,R&&!P.hidden&&(P.separator=R,R=void 0)}})}const D=this.elements.filter(R=>!R.hidden);if(this.sortByLabel&&M){const R=M.toLowerCase();D.sort((P,O)=>y(P,O,R))}return this.elementsToIndexes=D.reduce((R,P,O)=>(R.set(P.item,O),R),new Map),this.list.splice(0,this.list.length,D),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(D.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const M=this.list.getFocusedElements(),D=this.allVisibleChecked(M);for(const R of M)R.checked=!D}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(M){this.container.style.display=M?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,I.dispose)(this.elementDisposables),this.disposables=(0,I.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(M){this._onButtonTriggered.fire(M)}style(M){this.list.style(M)}}Me([_.memoize],b.prototype,"onDidChangeFocus",null),Me([_.memoize],b.prototype,"onDidChangeSelection",null),e.QuickInputList=b;function y(N,M,D){const R=N.labelHighlights||[],P=M.labelHighlights||[];return R.length&&!P.length?-1:!R.length&&P.length?1:R.length===0&&P.length===0?0:(0,w.compareAnything)(N.saneLabel,M.saneLabel,D)}class L{getWidgetAriaLabel(){return(0,s.localize)(0,null)}getAriaLabel(M){return M.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(te[326],ie([0,1,249,7,24,325,317,55,323,246,515,6,457,2,83,85,49,19,15,237,27,8,108,130]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const m=I.$,b={iconClass:(0,o.registerCodicon)("quick-input-back",o.Codicon.arrowLeft).classNames,tooltip:(0,C.localize)(0,null),handle:-1};class y extends l.Disposable{constructor(D){super();this.ui=D,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=y.noPromptMessage,this._severity=c.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new u.Emitter),this.onDidHideEmitter=this._register(new u.Emitter),this.onDisposeEmitter=this._register(new u.Emitter),this.visibleDisposables=this._register(new l.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(D){this._title=D,this.update()}get description(){return this._description}set description(D){this._description=D,this.update()}get step(){return this._steps}set step(D){this._steps=D,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(D){this._totalSteps=D,this.update()}get enabled(){return this._enabled}set enabled(D){this._enabled=D,this.update()}get contextKey(){return this._contextKey}set contextKey(D){this._contextKey=D,this.update()}get busy(){return this._busy}set busy(D){this._busy=D,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(D){this._ignoreFocusOut=D,this.update()}get buttons(){return this._buttons}set buttons(D){this._buttons=D,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(D){this._validationMessage=D,this.update()}get severity(){return this._severity}set severity(D){this._severity=D,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(D=>{this.buttons.indexOf(D)!==-1&&this.onDidTriggerButtonEmitter.fire(D)})),this.ui.show(this),this.visible=!0,this.update())}hide(){!this.visible||this.ui.hide()}didHide(D=v.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:D})}update(){if(!!this.visible){const D=this.getTitle();D&&this.ui.title.textContent!==D?this.ui.title.textContent=D:!D&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0;");const R=this.getDescription();if(this.ui.description1.textContent!==R&&(this.ui.description1.textContent=R),this.ui.description2.textContent!==R&&(this.ui.description2.textContent=R),this.busy&&!this.busyDelay&&(this.busyDelay=new s.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const O=this.buttons.filter(F=>F===b);this.ui.leftActionBar.push(O.map((F,E)=>{const A=new r.Action(`id-${E}`,"",F.iconClass||(0,t.getIconClass)(F.iconPath),!0,()=>De(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(F)}));return A.tooltip=F.tooltip||"",A}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const W=this.buttons.filter(F=>F!==b);this.ui.rightActionBar.push(W.map((F,E)=>{const A=new r.Action(`id-${E}`,"",F.iconClass||(0,t.getIconClass)(F.iconPath),!0,()=>De(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(F)}));return A.tooltip=F.tooltip||"",A}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const P=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==P&&(this._lastValidationMessage=P,I.reset(this.ui.message,...(0,f.renderLabelWithIcons)((0,h.escape)(P)))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,C.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(D){if(this.ui.inputBox.showDecoration(D),D!==c.default.Ignore){const R=this.ui.inputBox.stylesForType(D);this.ui.message.style.color=R.foreground?`${R.foreground}`:"",this.ui.message.style.backgroundColor=R.background?`${R.background}`:"",this.ui.message.style.border=R.border?`1px solid ${R.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}y.noPromptMessage=(0,C.localize)(1,null);class L extends y{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new u.Emitter),this.onDidAcceptEmitter=this._register(new u.Emitter),this.onDidCustomEmitter=this._register(new u.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?v.ItemActivation.NONE:v.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new u.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new u.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new u.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=D=>D,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(D){this._quickNavigate=D,this.update()}get value(){return this._value}set value(D){this._value=D||"",this.update()}set ariaLabel(D){this._ariaLabel=D,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(D){this._placeholder=D,this.update()}get items(){return this._items}set items(D){this._items=D,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(D){this._canSelectMany=D,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(D){this._canAcceptInBackground=D}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(D){this._matchOnDescription=D,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(D){this._matchOnDetail=D,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(D){this._matchOnLabel=D,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(D){this._sortByLabel=D,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(D){this._autoFocusOnList=D,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(D){this._itemActivation=D}get activeItems(){return this._activeItems}set activeItems(D){this._activeItems=D,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(D){this._selectedItems=D,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?v.NO_KEY_MODS:this.ui.keyMods}set valueSelection(D){this._valueSelection=D,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(D){this._customButton=D,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(D){this._customButtonLabel=D,this.update()}get customHover(){return this._customButtonHover}set customHover(D){this._customButtonHover=D,this.update()}get ok(){return this._ok}set ok(D){this._ok=D,this.update()}get hideInput(){return!!this._hideInput}set hideInput(D){this._hideInput=D,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(w.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(D=>{D!==this.value&&(this._value=D,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(D))})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(D=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(D=>{switch(D.keyCode){case 18:this.ui.list.focus(w.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),I.EventHelper.stop(D,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(w.QuickInputListFocus.Previous):this.ui.list.focus(w.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),I.EventHelper.stop(D,!0);break;case 12:this.ui.list.focus(w.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),I.EventHelper.stop(D,!0);break;case 11:this.ui.list.focus(w.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),I.EventHelper.stop(D,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!0}));break;case 14:(D.ctrlKey||D.metaKey)&&!D.shiftKey&&!D.altKey&&(this.ui.list.focus(w.QuickInputListFocus.First),I.EventHelper.stop(D,!0));break;case 13:(D.ctrlKey||D.metaKey)&&!D.shiftKey&&!D.altKey&&(this.ui.list.focus(w.QuickInputListFocus.Last),I.EventHelper.stop(D,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.onDidAcceptEmitter.fire({inBackground:!1})})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(D=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,n.equals)(D,this._activeItems,(R,P)=>R===P)||(this._activeItems=D,this.onDidChangeActiveEmitter.fire(D))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:D,event:R})=>{if(this.canSelectMany){D.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,n.equals)(D,this._selectedItems,(P,O)=>P===O)||(this._selectedItems=D,this.onDidChangeSelectionEmitter.fire(D),D.length&&this.onDidAcceptEmitter.fire({inBackground:R instanceof MouseEvent&&R.button===1}))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(D=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,n.equals)(D,this._selectedItems,(R,P)=>R===P)||(this._selectedItems=D,this.onDidChangeSelectionEmitter.fire(D))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(D=>this.onDidTriggerItemButtonEmitter.fire(D))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}registerQuickNavigation(){return I.addDisposableListener(this.ui.container,I.EventType.KEY_UP,D=>{if(!(this.canSelectMany||!this._quickNavigate)){const R=new p.StandardKeyboardEvent(D),P=R.keyCode;this._quickNavigate.keybindings.some(F=>{const[E,A]=F.getParts();return A?!1:E.shiftKey&&P===4?!(R.ctrlKey||R.altKey||R.metaKey):!!(E.altKey&&P===6||E.ctrlKey&&P===5||E.metaKey&&P===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!1})),this._quickNavigate=void 0)}})}update(){if(!!this.visible){let D=!1,R=!1;!!this._hideInput&&this._items.length>0&&(this.ui.isScreenReaderOptimized()?R=!0:D=!0),this.ui.container.classList.toggle("hidden-input",D&&!this.description);const P={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!D,progressBar:!D,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};if(this.ui.setVisibilities(P),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),R)this.ui.inputBox.ariaLabel="";else{const O=this.ariaLabel||this.placeholder||L.DEFAULT_ARIA_LABEL;this.ui.inputBox.ariaLabel!==O&&(this.ui.inputBox.ariaLabel=O)}if(this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case v.ItemActivation.NONE:this._itemActivation=v.ItemActivation.FIRST;break;case v.ItemActivation.SECOND:this.ui.list.focus(w.QuickInputListFocus.Second),this._itemActivation=v.ItemActivation.FIRST;break;case v.ItemActivation.LAST:this.ui.list.focus(w.QuickInputListFocus.Last),this._itemActivation=v.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),P.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(w.QuickInputListFocus.First))}}}L.DEFAULT_ARIA_LABEL=(0,C.localize)(3,null);class N extends l.Disposable{constructor(D){super();this.options=D,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new u.Emitter),this.onDidCustomEmitter=this._register(new u.Emitter),this.onDidTriggerButtonEmitter=this._register(new u.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new u.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new u.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=D.idPrefix,this.parentElement=D.container,this.styles=D.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const D=R=>{this.keyMods.ctrlCmd=R.ctrlKey||R.metaKey,this.keyMods.alt=R.altKey};this._register(I.addDisposableListener(window,I.EventType.KEY_DOWN,D,!0)),this._register(I.addDisposableListener(window,I.EventType.KEY_UP,D,!0)),this._register(I.addDisposableListener(window,I.EventType.MOUSE_DOWN,D,!0))}getUI(){if(this.ui)return this.ui;const D=I.append(this.parentElement,m(".quick-input-widget.show-file-icons"));D.tabIndex=-1,D.style.display="none";const R=I.createStyleSheet(D),P=I.append(D,m(".quick-input-titlebar")),O=this._register(new d.ActionBar(P));O.domNode.classList.add("quick-input-left-action-bar");const W=I.append(P,m(".quick-input-title")),F=this._register(new d.ActionBar(P));F.domNode.classList.add("quick-input-right-action-bar");const E=I.append(D,m(".quick-input-description")),A=I.append(D,m(".quick-input-header")),B=I.append(A,m("input.quick-input-check-all"));B.type="checkbox",this._register(I.addStandardDisposableListener(B,I.EventType.CHANGE,le=>{const Y=B.checked;q.setAllVisibleChecked(Y)})),this._register(I.addDisposableListener(B,I.EventType.CLICK,le=>{(le.x||le.y)&&G.setFocus()}));const z=I.append(A,m(".quick-input-description")),U=I.append(A,m(".quick-input-and-message")),K=I.append(U,m(".quick-input-filter")),G=this._register(new S.QuickInputBox(K));G.setAttribute("aria-describedby",`${this.idPrefix}message`);const J=I.append(K,m(".quick-input-visible-count"));J.setAttribute("aria-live","polite"),J.setAttribute("aria-atomic","true");const Q=new i.CountBadge(J,{countFormat:(0,C.localize)(4,null)}),ae=I.append(K,m(".quick-input-count"));ae.setAttribute("aria-live","polite");const se=new i.CountBadge(ae,{countFormat:(0,C.localize)(5,null)}),Z=I.append(A,m(".quick-input-action")),T=new a.Button(Z);T.label=(0,C.localize)(6,null),this._register(T.onDidClick(le=>{this.onDidAcceptEmitter.fire()}));const x=I.append(A,m(".quick-input-action")),H=new a.Button(x);H.label=(0,C.localize)(7,null),this._register(H.onDidClick(le=>{this.onDidCustomEmitter.fire()}));const V=I.append(U,m(`#${this.idPrefix}message.quick-input-message`)),q=this._register(new w.QuickInputList(D,this.idPrefix+"list",this.options));this._register(q.onChangedAllVisibleChecked(le=>{B.checked=le})),this._register(q.onChangedVisibleCount(le=>{Q.setCount(le)})),this._register(q.onChangedCheckedCount(le=>{se.setCount(le)})),this._register(q.onLeave(()=>{setTimeout(()=>{G.setFocus(),this.controller instanceof L&&this.controller.canSelectMany&&q.clearFocus()},0)})),this._register(q.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const ee=new _.ProgressBar(D);ee.getContainer().classList.add("quick-input-progress");const oe=I.trackFocus(D);return this._register(oe),this._register(I.addDisposableListener(D,I.EventType.FOCUS,le=>{this.previousFocusElement=le.relatedTarget instanceof HTMLElement?le.relatedTarget:void 0},!0)),this._register(oe.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(v.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(I.addDisposableListener(D,I.EventType.FOCUS,le=>{G.setFocus()})),this._register(I.addDisposableListener(D,I.EventType.KEY_DOWN,le=>{const Y=new p.StandardKeyboardEvent(le);switch(Y.keyCode){case 3:I.EventHelper.stop(le,!0),this.onDidAcceptEmitter.fire();break;case 9:I.EventHelper.stop(le,!0),this.hide(v.QuickInputHideReason.Gesture);break;case 2:if(!Y.altKey&&!Y.ctrlKey&&!Y.metaKey){const j=[".action-label.codicon"];D.classList.contains("show-checkboxes")?j.push("input"):j.push("input[type=text]"),this.getUI().list.isDisplayed()&&j.push(".monaco-list");const ne=D.querySelectorAll(j.join(", "));Y.shiftKey&&Y.target===ne[0]?(I.EventHelper.stop(le,!0),ne[ne.length-1].focus()):!Y.shiftKey&&Y.target===ne[ne.length-1]&&(I.EventHelper.stop(le,!0),ne[0].focus())}break}})),this.ui={container:D,styleSheet:R,leftActionBar:O,titleBar:P,title:W,description1:E,description2:z,rightActionBar:F,checkAll:B,filterContainer:K,inputBox:G,visibleCountContainer:J,visibleCount:Q,countContainer:ae,count:se,okContainer:Z,ok:T,message:V,customButtonContainer:x,customButton:H,list:q,progressBar:ee,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:le=>this.show(le),hide:()=>this.hide(),setVisibilities:le=>this.setVisibilities(le),setComboboxAccessibility:le=>this.setComboboxAccessibility(le),setEnabled:le=>this.setEnabled(le),setContextKey:le=>this.options.setContextKey(le)},this.updateStyles(),this.ui}pick(D,R={},P=k.CancellationToken.None){return new Promise((O,W)=>{let F=z=>{F=O,R.onKeyMods&&R.onKeyMods(E.keyMods),O(z)};if(P.isCancellationRequested){F(void 0);return}const E=this.createQuickPick();let A;const B=[E,E.onDidAccept(()=>{if(E.canSelectMany)F(E.selectedItems.slice()),E.hide();else{const z=E.activeItems[0];z&&(F(z),E.hide())}}),E.onDidChangeActive(z=>{const U=z[0];U&&R.onDidFocus&&R.onDidFocus(U)}),E.onDidChangeSelection(z=>{if(!E.canSelectMany){const U=z[0];U&&(F(U),E.hide())}}),E.onDidTriggerItemButton(z=>R.onDidTriggerItemButton&&R.onDidTriggerItemButton(Object.assign(Object.assign({},z),{removeItem:()=>{const U=E.items.indexOf(z.item);if(U!==-1){const K=E.items.slice(),G=K.splice(U,1),J=E.activeItems.filter(Q=>Q!==G[0]);E.items=K,J&&(E.activeItems=J)}}}))),E.onDidChangeValue(z=>{A&&!z&&(E.activeItems.length!==1||E.activeItems[0]!==A)&&(E.activeItems=[A])}),P.onCancellationRequested(()=>{E.hide()}),E.onDidHide(()=>{(0,l.dispose)(B),F(void 0)})];E.title=R.title,E.canSelectMany=!!R.canPickMany,E.placeholder=R.placeHolder,E.ignoreFocusOut=!!R.ignoreFocusLost,E.matchOnDescription=!!R.matchOnDescription,E.matchOnDetail=!!R.matchOnDetail,E.matchOnLabel=R.matchOnLabel===void 0||R.matchOnLabel,E.autoFocusOnList=R.autoFocusOnList===void 0||R.autoFocusOnList,E.quickNavigate=R.quickNavigate,E.contextKey=R.contextKey,E.busy=!0,Promise.all([D,R.activeItem]).then(([z,U])=>{A=U,E.busy=!1,E.items=z,E.canSelectMany&&(E.selectedItems=z.filter(K=>K.type!=="separator"&&K.picked)),A&&(E.activeItems=[A])}),E.show(),Promise.resolve(D).then(void 0,z=>{W(z),E.hide()})})}createQuickPick(){const D=this.getUI();return new L(D)}show(D){const R=this.getUI();this.onShowEmitter.fire();const P=this.controller;this.controller=D,P&&P.didHide(),this.setEnabled(!0),R.leftActionBar.clear(),R.title.textContent="",R.description1.textContent="",R.description2.textContent="",R.rightActionBar.clear(),R.checkAll.checked=!1,R.inputBox.placeholder="",R.inputBox.password=!1,R.inputBox.showDecoration(c.default.Ignore),R.visibleCount.setCount(0),R.count.setCount(0),I.reset(R.message),R.progressBar.stop(),R.list.setElements([]),R.list.matchOnDescription=!1,R.list.matchOnDetail=!1,R.list.matchOnLabel=!0,R.list.sortByLabel=!0,R.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),R.inputBox.ariaLabel="";const O=this.options.backKeybindingLabel();b.tooltip=O?(0,C.localize)(8,null,O):(0,C.localize)(9,null),R.container.style.display="",this.updateLayout(),R.inputBox.setFocus()}setVisibilities(D){const R=this.getUI();R.title.style.display=D.title?"":"none",R.description1.style.display=D.description&&(D.inputBox||D.checkAll)?"":"none",R.description2.style.display=D.description&&!(D.inputBox||D.checkAll)?"":"none",R.checkAll.style.display=D.checkAll?"":"none",R.filterContainer.style.display=D.inputBox?"":"none",R.visibleCountContainer.style.display=D.visibleCount?"":"none",R.countContainer.style.display=D.count?"":"none",R.okContainer.style.display=D.ok?"":"none",R.customButtonContainer.style.display=D.customButton?"":"none",R.message.style.display=D.message?"":"none",R.progressBar.getContainer().style.display=D.progressBar?"":"none",R.list.display(!!D.list),R.container.classList[D.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(D){if(D!==this.comboboxAccessibility){const R=this.getUI();this.comboboxAccessibility=D,this.comboboxAccessibility?(R.inputBox.setAttribute("role","combobox"),R.inputBox.setAttribute("aria-haspopup","true"),R.inputBox.setAttribute("aria-autocomplete","list"),R.inputBox.setAttribute("aria-activedescendant",R.list.getActiveDescendant()||"")):(R.inputBox.removeAttribute("role"),R.inputBox.removeAttribute("aria-haspopup"),R.inputBox.removeAttribute("aria-autocomplete"),R.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(D){if(D!==this.enabled){this.enabled=D;for(const R of this.getUI().leftActionBar.viewItems)R.getAction().enabled=D;for(const R of this.getUI().rightActionBar.viewItems)R.getAction().enabled=D;this.getUI().checkAll.disabled=!D,this.getUI().ok.enabled=D,this.getUI().list.enabled=D}}hide(D){var R;const P=this.controller;if(P){const O=!((R=this.ui)===null||R===void 0?void 0:R.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",O||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),P.didHide(D)}}layout(D,R){this.dimension=D,this.titleBarOffset=R,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const D=this.ui.container.style,R=Math.min(this.dimension.width*.62,N.MAX_WIDTH);D.width=R+"px",D.marginLeft="-"+R/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(D){this.styles=D,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:D,quickInputBackground:R,quickInputForeground:P,contrastBorder:O,widgetShadow:W}=this.styles.widget;this.ui.titleBar.style.backgroundColor=D?D.toString():"",this.ui.container.style.backgroundColor=R?R.toString():"",this.ui.container.style.color=P?P.toString():"",this.ui.container.style.border=O?`1px solid ${O}`:"",this.ui.container.style.boxShadow=W?`0 0 8px 2px ${W}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const F=[];this.styles.list.pickerGroupBorder&&F.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&F.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(F.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&F.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&F.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&F.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&F.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&F.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),F.push("}"));const E=F.join(`
`);E!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=E)}}}e.QuickInputController=N,N.MAX_WIDTH=600}),define(te[327],ie([5,4]),function($,e){return $.create("vs/editor/browser/controller/coreCommands",e)}),define(te[328],ie([5,4]),function($,e){return $.create("vs/editor/browser/controller/textAreaHandler",e)}),define(te[329],ie([5,4]),function($,e){return $.create("vs/editor/browser/core/keybindingCancellation",e)}),define(te[330],ie([5,4]),function($,e){return $.create("vs/editor/browser/editorExtensions",e)}),define(te[331],ie([5,4]),function($,e){return $.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(te[332],ie([5,4]),function($,e){return $.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(te[333],ie([5,4]),function($,e){return $.create("vs/editor/browser/widget/diffReview",e)}),define(te[334],ie([5,4]),function($,e){return $.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(te[335],ie([0,1,334,7,49,2,3,27]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class C extends w.Disposable{constructor(_,u,a,l,c,d){super();this._viewZoneId=_,this._marginDomNode=u,this.editor=a,this.diff=l,this._contextMenuService=c,this._clipboardService=d,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=p.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const r=a.getOption(55),n=a.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${r}px`,this._diffActions.style.lineHeight=`${r}px`,this._marginDomNode.appendChild(this._diffActions);const s=[];s.push(new k.Action("diff.clipboard.copyDeletedContent",l.originalEndLineNumber>l.modifiedStartLineNumber?v.localize(0,null):v.localize(1,null),void 0,!0,()=>De(this,void 0,void 0,function*(){const m=new S.Range(l.originalStartLineNumber,1,l.originalEndLineNumber+1,1),g=l.originalModel.getValueInRange(m);yield this._clipboardService.writeText(g)})));let t=0,o;l.originalEndLineNumber>l.modifiedStartLineNumber&&(o=new k.Action("diff.clipboard.copyDeletedLineContent",v.localize(2,null,l.originalStartLineNumber),void 0,!0,()=>De(this,void 0,void 0,function*(){const m=l.originalModel.getLineContent(l.originalStartLineNumber+t);yield this._clipboardService.writeText(m)})),s.push(o)),a.getOption(77)||s.push(new k.Action("diff.inline.revertChange",v.localize(3,null),void 0,!0,()=>De(this,void 0,void 0,function*(){const m=new S.Range(l.originalStartLineNumber,1,l.originalEndLineNumber,l.originalModel.getLineMaxColumn(l.originalEndLineNumber)),g=l.originalModel.getValueInRange(m);if(l.modifiedEndLineNumber===0){const b=a.getModel().getLineMaxColumn(l.modifiedStartLineNumber);a.executeEdits("diffEditor",[{range:new S.Range(l.modifiedStartLineNumber,b,l.modifiedStartLineNumber,b),text:n+g}])}else{const b=a.getModel().getLineMaxColumn(l.modifiedEndLineNumber);a.executeEdits("diffEditor",[{range:new S.Range(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,b),text:g}])}})));const f=(m,g)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:m,y:g}),getActions:()=>(o&&(o.label=v.localize(4,null,l.originalStartLineNumber+t)),s),autoSelectFirstItem:!0})};this._register(I.addStandardDisposableListener(this._diffActions,"mousedown",m=>{const{top:g,height:b}=I.getDomNodePagePosition(this._diffActions);let y=Math.floor(r/3);m.preventDefault(),f(m.posx,g+b+y)})),this._register(a.onMouseMove(m=>{m.target.type===8||m.target.type===5?m.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,t=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,r)):this.visibility=!1:this.visibility=!1})),this._register(a.onMouseDown(m=>{!m.event.rightButton||(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this._viewZoneId&&(m.event.preventDefault(),t=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,r),f(m.event.posx,m.event.posy+r))}))}get visibility(){return this._visibility}set visibility(_){this._visibility!==_&&(this._visibility=_,_?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(_,u,a){const{top:l}=I.getDomNodePagePosition(_),c=u-l,d=Math.floor(c/a),r=d*a;if(this._diffActions.style.top=`${r}px`,this.diff.viewLineCounts){let n=0;for(let s=0;s<this.diff.viewLineCounts.length;s++)if(n+=this.diff.viewLineCounts[s],d<n)return s}return d}}e.InlineDiffMargin=C}),define(te[336],ie([5,4]),function($,e){return $.create("vs/editor/common/config/commonEditorConfig",e)}),define(te[337],ie([5,4]),function($,e){return $.create("vs/editor/common/config/editorOptions",e)}),define(te[38],ie([0,1,337,17,126]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class w{constructor(X){this._values=X}hasChanged(X){return this._values[X]}}e.ConfigurationChangedEvent=w;class S{constructor(){this._values=[]}_read(X){return this._values[X]}get(X){return this._values[X]}_write(X,ue){this._values[X]=ue}}e.ValidatedEditorOptions=S;class p{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=p;class C{constructor(X,ue,he,re){this.id=X,this.name=ue,this.defaultValue=he,this.schema=re}compute(X,ue,he){return he}}class i{constructor(X,ue=null){this.schema=void 0,this.id=X,this.name="_never_",this.defaultValue=void 0,this.deps=ue}validate(X){return this.defaultValue}}class _{constructor(X,ue,he,re){this.id=X,this.name=ue,this.defaultValue=he,this.schema=re}validate(X){return typeof X=="undefined"?this.defaultValue:X}compute(X,ue,he){return he}}function u(ne,X){return typeof ne=="undefined"?X:ne==="false"?!1:Boolean(ne)}e.boolean=u;class a extends _{constructor(X,ue,he,re=void 0){typeof re!="undefined"&&(re.type="boolean",re.default=he),super(X,ue,he,re)}validate(X){return u(X,this.defaultValue)}}class l extends _{constructor(X,ue,he,re,ce,me=void 0){typeof me!="undefined"&&(me.type="integer",me.default=he,me.minimum=re,me.maximum=ce),super(X,ue,he,me),this.minimum=re,this.maximum=ce}static clampedInt(X,ue,he,re){if(typeof X=="undefined")return ue;let ce=parseInt(X,10);return isNaN(ce)?ue:(ce=Math.max(he,ce),ce=Math.min(re,ce),ce|0)}validate(X){return l.clampedInt(X,this.defaultValue,this.minimum,this.maximum)}}class c extends _{constructor(X,ue,he,re,ce){typeof ce!="undefined"&&(ce.type="number",ce.default=he),super(X,ue,he,ce),this.validationFn=re}static clamp(X,ue,he){return X<ue?ue:X>he?he:X}static float(X,ue){if(typeof X=="number")return X;if(typeof X=="undefined")return ue;const he=parseFloat(X);return isNaN(he)?ue:he}validate(X){return this.validationFn(c.float(X,this.defaultValue))}}class d extends _{static string(X,ue){return typeof X!="string"?ue:X}constructor(X,ue,he,re=void 0){typeof re!="undefined"&&(re.type="string",re.default=he),super(X,ue,he,re)}validate(X){return d.string(X,this.defaultValue)}}function r(ne,X,ue){return typeof ne!="string"||ue.indexOf(ne)===-1?X:ne}e.stringSet=r;class n extends _{constructor(X,ue,he,re,ce=void 0){typeof ce!="undefined"&&(ce.type="string",ce.enum=re,ce.default=he),super(X,ue,he,ce),this._allowedValues=re}validate(X){return r(X,this.defaultValue,this._allowedValues)}}class s extends C{constructor(X,ue,he,re,ce,me,Ce=void 0){typeof Ce!="undefined"&&(Ce.type="string",Ce.enum=ce,Ce.default=re),super(X,ue,he,Ce),this._allowedValues=ce,this._convert=me}validate(X){return typeof X!="string"?this.defaultValue:this._allowedValues.indexOf(X)===-1?this.defaultValue:this._convert(X)}}function t(ne){switch(ne){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class o extends C{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[v.localize(0,null),v.localize(1,null),v.localize(2,null)],default:"auto",description:v.localize(3,null)})}validate(X){switch(X){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(X,ue,he){return he===0?X.accessibilitySupport:he}}class h extends C{constructor(){const X={insertSpace:!0,ignoreEmptyLines:!0};super(17,"comments",X,{"editor.comments.insertSpace":{type:"boolean",default:X.insertSpace,description:v.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:X.ignoreEmptyLines,description:v.localize(5,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const ue=X;return{insertSpace:u(ue.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:u(ue.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function f(ne){switch(ne){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var m;(function(ne){ne[ne.Line=1]="Line",ne[ne.Block=2]="Block",ne[ne.Underline=3]="Underline",ne[ne.LineThin=4]="LineThin",ne[ne.BlockOutline=5]="BlockOutline",ne[ne.UnderlineThin=6]="UnderlineThin"})(m=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function g(ne){switch(ne){case"line":return m.Line;case"block":return m.Block;case"underline":return m.Underline;case"line-thin":return m.LineThin;case"block-outline":return m.BlockOutline;case"underline-thin":return m.UnderlineThin}}class b extends i{constructor(){super(123,[62,31])}compute(X,ue,he){const re=["monaco-editor"];return ue.get(31)&&re.push(ue.get(31)),X.extraEditorClassName&&re.push(X.extraEditorClassName),ue.get(62)==="default"?re.push("mouse-default"):ue.get(62)==="copy"&&re.push("mouse-copy"),ue.get(97)&&re.push("showUnused"),ue.get(121)&&re.push("showDeprecated"),re.join(" ")}}class y extends a{constructor(){super(30,"emptySelectionClipboard",!0,{description:v.localize(6,null)})}compute(X,ue,he){return he&&X.emptySelectionClipboard}}class L extends C{constructor(){const X={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,"find",X,{"editor.find.cursorMoveOnType":{type:"boolean",default:X.cursorMoveOnType,description:v.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:X.seedSearchStringFromSelection,description:v.localize(8,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:X.autoFindInSelection,enumDescriptions:[v.localize(9,null),v.localize(10,null),v.localize(11,null)],description:v.localize(12,null)},"editor.find.globalFindClipboard":{type:"boolean",default:X.globalFindClipboard,description:v.localize(13,null),included:I.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:X.addExtraSpaceOnTop,description:v.localize(14,null)},"editor.find.loop":{type:"boolean",default:X.loop,description:v.localize(15,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const ue=X;return{cursorMoveOnType:u(ue.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:u(ue.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof X.autoFindInSelection=="boolean"?X.autoFindInSelection?"always":"never":r(ue.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:u(ue.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:u(ue.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:u(ue.loop,this.defaultValue.loop)}}}class N extends C{constructor(){super(41,"fontLigatures",N.OFF,{anyOf:[{type:"boolean",description:v.localize(16,null)},{type:"string",description:v.localize(17,null)}],description:v.localize(18,null),default:!1})}validate(X){return typeof X=="undefined"?this.defaultValue:typeof X=="string"?X==="false"?N.OFF:X==="true"?N.ON:X:Boolean(X)?N.ON:N.OFF}}e.EditorFontLigatures=N,N.OFF='"liga" off, "calt" off',N.ON='"liga" on, "calt" on';class M extends i{constructor(){super(40)}compute(X,ue,he){return X.fontInfo}}class D extends _{constructor(){super(42,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:v.localize(19,null)})}validate(X){let ue=c.float(X,this.defaultValue);return ue===0?e.EDITOR_FONT_DEFAULTS.fontSize:c.clamp(ue,6,100)}compute(X,ue,he){return X.fontInfo.fontSize}}class R extends C{constructor(){super(43,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:R.MINIMUM_VALUE,maximum:R.MAXIMUM_VALUE,errorMessage:v.localize(20,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:R.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:v.localize(21,null)})}validate(X){return X==="normal"||X==="bold"?X:String(l.clampedInt(X,e.EDITOR_FONT_DEFAULTS.fontWeight,R.MINIMUM_VALUE,R.MAXIMUM_VALUE))}}R.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],R.MINIMUM_VALUE=1,R.MAXIMUM_VALUE=1e3;class P extends C{constructor(){const X={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},ue={type:"string",enum:["peek","gotoAndPeek","goto"],default:X.multiple,enumDescriptions:[v.localize(22,null),v.localize(23,null),v.localize(24,null)]},he=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(47,"gotoLocation",X,{"editor.gotoLocation.multiple":{deprecationMessage:v.localize(25,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:v.localize(26,null)},ue),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:v.localize(27,null)},ue),"editor.gotoLocation.multipleDeclarations":Object.assign({description:v.localize(28,null)},ue),"editor.gotoLocation.multipleImplementations":Object.assign({description:v.localize(29,null)},ue),"editor.gotoLocation.multipleReferences":Object.assign({description:v.localize(30,null)},ue),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:X.alternativeDefinitionCommand,enum:he,description:v.localize(31,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:X.alternativeTypeDefinitionCommand,enum:he,description:v.localize(32,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:X.alternativeDeclarationCommand,enum:he,description:v.localize(33,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:X.alternativeImplementationCommand,enum:he,description:v.localize(34,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:X.alternativeReferenceCommand,enum:he,description:v.localize(35,null)}})}validate(X){var ue,he,re,ce,me;if(!X||typeof X!="object")return this.defaultValue;const Ce=X;return{multiple:r(Ce.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(ue=Ce.multipleDefinitions)!==null&&ue!==void 0?ue:r(Ce.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(he=Ce.multipleTypeDefinitions)!==null&&he!==void 0?he:r(Ce.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(re=Ce.multipleDeclarations)!==null&&re!==void 0?re:r(Ce.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(ce=Ce.multipleImplementations)!==null&&ce!==void 0?ce:r(Ce.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(me=Ce.multipleReferences)!==null&&me!==void 0?me:r(Ce.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:d.string(Ce.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:d.string(Ce.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:d.string(Ce.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:d.string(Ce.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:d.string(Ce.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class O extends C{constructor(){const X={enabled:!0,delay:300,sticky:!0};super(50,"hover",X,{"editor.hover.enabled":{type:"boolean",default:X.enabled,description:v.localize(36,null)},"editor.hover.delay":{type:"number",default:X.delay,description:v.localize(37,null)},"editor.hover.sticky":{type:"boolean",default:X.sticky,description:v.localize(38,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const ue=X;return{enabled:u(ue.enabled,this.defaultValue.enabled),delay:l.clampedInt(ue.delay,this.defaultValue.delay,0,1e4),sticky:u(ue.sticky,this.defaultValue.sticky)}}}class W extends i{constructor(){super(126,[46,54,35,61,89,56,57,91,113,116,117,118,2])}compute(X,ue,he){return W.computeLayout(ue,{memory:X.memory,outerWidth:X.outerWidth,outerHeight:X.outerHeight,isDominatedByLongLines:X.isDominatedByLongLines,lineHeight:X.fontInfo.lineHeight,viewLineCount:X.viewLineCount,lineNumbersDigitCount:X.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:X.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:X.fontInfo.maxDigitWidth,pixelRatio:X.pixelRatio})}static computeContainedMinimapLineCount(X){const ue=X.height/X.lineHeight,he=X.scrollBeyondLastLine?ue-1:0,re=(X.viewLineCount+he)/(X.pixelRatio*X.height),ce=Math.floor(X.viewLineCount/re);return{typicalViewportLineCount:ue,extraLinesBeyondLastLine:he,desiredRatio:re,minimapLineCount:ce}}static _computeMinimapLayout(X,ue){const he=X.outerWidth,re=X.outerHeight,ce=X.pixelRatio;if(!X.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ce*re),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:re};const me=ue.stableMinimapLayoutInput,Ce=me&&X.outerHeight===me.outerHeight&&X.lineHeight===me.lineHeight&&X.typicalHalfwidthCharacterWidth===me.typicalHalfwidthCharacterWidth&&X.pixelRatio===me.pixelRatio&&X.scrollBeyondLastLine===me.scrollBeyondLastLine&&X.minimap.enabled===me.minimap.enabled&&X.minimap.side===me.minimap.side&&X.minimap.size===me.minimap.size&&X.minimap.showSlider===me.minimap.showSlider&&X.minimap.renderCharacters===me.minimap.renderCharacters&&X.minimap.maxColumn===me.minimap.maxColumn&&X.minimap.scale===me.minimap.scale&&X.verticalScrollbarWidth===me.verticalScrollbarWidth&&X.isViewportWrapping===me.isViewportWrapping,we=X.lineHeight,Ee=X.typicalHalfwidthCharacterWidth,Ie=X.scrollBeyondLastLine,Ae=X.minimap.renderCharacters;let Le=ce>=2?Math.round(X.minimap.scale*2):X.minimap.scale;const Te=X.minimap.maxColumn,ve=X.minimap.size,Se=X.minimap.side,ye=X.verticalScrollbarWidth,fe=X.viewLineCount,de=X.remainingWidth,ge=X.isViewportWrapping,pe=Ae?2:3;let be=Math.floor(ce*re);const ke=be/ce;let Ne=!1,Re=!1,Oe=pe*Le,Fe=Le/ce,Pe=1;if(ve==="fill"||ve==="fit"){const{typicalViewportLineCount:Ve,extraLinesBeyondLastLine:Ue,desiredRatio:Ye,minimapLineCount:je}=W.computeContainedMinimapLineCount({viewLineCount:fe,scrollBeyondLastLine:Ie,height:re,lineHeight:we,pixelRatio:ce});if(fe/je>1)Ne=!0,Re=!0,Le=1,Oe=1,Fe=Le/ce;else{let $e=!1,Ze=Le+1;if(ve==="fit"){const Qe=Math.ceil((fe+Ue)*Oe);ge&&Ce&&de<=ue.stableFitRemainingWidth?($e=!0,Ze=ue.stableFitMaxMinimapScale):($e=Qe>be,ge&&$e?(ue.stableMinimapLayoutInput=X,ue.stableFitRemainingWidth=de):(ue.stableMinimapLayoutInput=null,ue.stableFitRemainingWidth=0))}if(ve==="fill"||$e){Ne=!0;const Qe=Le;Oe=Math.min(we*ce,Math.max(1,Math.floor(1/Ye))),Le=Math.min(Ze,Math.max(1,Math.floor(Oe/pe))),Le>Qe&&(Pe=Math.min(2,Le/Qe)),Fe=Le/ce/Pe,be=Math.ceil(Math.max(Ve,fe+Ue)*Oe),ge&&$e&&(ue.stableFitMaxMinimapScale=Le)}}}const xe=Math.floor(Te*Fe),We=Math.min(xe,Math.max(0,Math.floor((de-ye-2)*Fe/(Ee+Fe)))+e.MINIMAP_GUTTER_WIDTH);let ze=Math.floor(ce*We);const Ke=ze/ce;ze=Math.floor(ze*Pe);const Be=Ae?1:2,He=Se==="left"?0:he-We-ye;return{renderMinimap:Be,minimapLeft:He,minimapWidth:We,minimapHeightIsEditorHeight:Ne,minimapIsSampling:Re,minimapScale:Le,minimapLineHeight:Oe,minimapCanvasInnerWidth:ze,minimapCanvasInnerHeight:be,minimapCanvasOuterWidth:Ke,minimapCanvasOuterHeight:ke}}static computeLayout(X,ue){const he=ue.outerWidth|0,re=ue.outerHeight|0,ce=ue.lineHeight|0,me=ue.lineNumbersDigitCount|0,Ce=ue.typicalHalfwidthCharacterWidth,we=ue.maxDigitWidth,Ee=ue.pixelRatio,Ie=ue.viewLineCount,Ae=X.get(118),Le=Ae==="inherit"?X.get(117):Ae,Te=Le==="inherit"?X.get(113):Le,ve=X.get(116),Se=X.get(2),ye=ue.isDominatedByLongLines,fe=X.get(46),de=X.get(56).renderType!==0,ge=X.get(57),pe=X.get(91),be=X.get(61),ke=X.get(89),Ne=ke.verticalScrollbarSize,Re=ke.verticalHasArrows,Oe=ke.arrowSize,Fe=ke.horizontalScrollbarSize,Pe=X.get(54),xe=X.get(35);let We;if(typeof Pe=="string"&&/^\d+(\.\d+)?ch$/.test(Pe)){const nt=parseFloat(Pe.substr(0,Pe.length-2));We=l.clampedInt(nt*Ce,0,0,1e3)}else We=l.clampedInt(Pe,0,0,1e3);xe&&(We+=16);let ze=0;if(de){const nt=Math.max(me,ge);ze=Math.round(nt*we)}let Ke=0;fe&&(Ke=ce);let Be=0,He=Be+Ke,Ve=He+ze,Ue=Ve+We;const Ye=he-Ke-ze-We;let je=!1,Xe=!1,$e=-1;Se!==2&&(Le==="inherit"&&ye?(je=!0,Xe=!0):Te==="on"||Te==="bounded"?Xe=!0:Te==="wordWrapColumn"&&($e=ve));const Ze=W._computeMinimapLayout({outerWidth:he,outerHeight:re,lineHeight:ce,typicalHalfwidthCharacterWidth:Ce,pixelRatio:Ee,scrollBeyondLastLine:pe,minimap:be,verticalScrollbarWidth:Ne,viewLineCount:Ie,remainingWidth:Ye,isViewportWrapping:Xe},ue.memory||new p);Ze.renderMinimap!==0&&Ze.minimapLeft===0&&(Be+=Ze.minimapWidth,He+=Ze.minimapWidth,Ve+=Ze.minimapWidth,Ue+=Ze.minimapWidth);const Qe=Ye-Ze.minimapWidth,it=Math.max(1,Math.floor((Qe-Ne-2)/Ce)),Je=Re?Oe:0;return Xe&&($e=Math.max(1,it),Te==="bounded"&&($e=Math.min($e,ve))),{width:he,height:re,glyphMarginLeft:Be,glyphMarginWidth:Ke,lineNumbersLeft:He,lineNumbersWidth:ze,decorationsLeft:Ve,decorationsWidth:We,contentLeft:Ue,contentWidth:Qe,minimap:Ze,viewportColumn:it,isWordWrapMinified:je,isViewportWrapping:Xe,wrappingColumn:$e,verticalScrollbarWidth:Ne,horizontalScrollbarHeight:Fe,overviewRuler:{top:Je,width:Ne,height:re-2*Je,right:0}}}}e.EditorLayoutInfoComputer=W;class F extends C{constructor(){const X={enabled:!0};super(53,"lightbulb",X,{"editor.lightbulb.enabled":{type:"boolean",default:X.enabled,description:v.localize(39,null)}})}validate(X){return!X||typeof X!="object"?this.defaultValue:{enabled:u(X.enabled,this.defaultValue.enabled)}}}class E extends C{constructor(){const X={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(122,"inlineHints",X,{"editor.inlineHints.enabled":{type:"boolean",default:X.enabled,description:v.localize(40,null)},"editor.inlineHints.fontSize":{type:"number",default:X.fontSize,description:v.localize(41,null)},"editor.inlineHints.fontFamily":{type:"string",default:X.fontFamily,description:v.localize(42,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const ue=X;return{enabled:u(ue.enabled,this.defaultValue.enabled),fontSize:l.clampedInt(ue.fontSize,this.defaultValue.fontSize,0,100),fontFamily:d.string(ue.fontFamily,this.defaultValue.fontFamily)}}}class A extends l{constructor(){super(55,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:v.localize(43,null)})}compute(X,ue,he){return X.fontInfo.lineHeight}}class B extends C{constructor(){const X={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(61,"minimap",X,{"editor.minimap.enabled":{type:"boolean",default:X.enabled,description:v.localize(44,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[v.localize(45,null),v.localize(46,null),v.localize(47,null)],default:X.size,description:v.localize(48,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:X.side,description:v.localize(49,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:X.showSlider,description:v.localize(50,null)},"editor.minimap.scale":{type:"number",default:X.scale,minimum:1,maximum:3,enum:[1,2,3],description:v.localize(51,null)},"editor.minimap.renderCharacters":{type:"boolean",default:X.renderCharacters,description:v.localize(52,null)},"editor.minimap.maxColumn":{type:"number",default:X.maxColumn,description:v.localize(53,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const ue=X;return{enabled:u(ue.enabled,this.defaultValue.enabled),size:r(ue.size,this.defaultValue.size,["proportional","fill","fit"]),side:r(ue.side,this.defaultValue.side,["right","left"]),showSlider:r(ue.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:u(ue.renderCharacters,this.defaultValue.renderCharacters),scale:l.clampedInt(ue.scale,1,1,3),maxColumn:l.clampedInt(ue.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function z(ne){return ne==="ctrlCmd"?I.isMacintosh?"metaKey":"ctrlKey":"altKey"}class U extends C{constructor(){super(71,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:v.localize(54,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:v.localize(55,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const ue=X;return{top:l.clampedInt(ue.top,0,0,1e3),bottom:l.clampedInt(ue.bottom,0,0,1e3)}}}class K extends C{constructor(){const X={enabled:!0,cycle:!1};super(72,"parameterHints",X,{"editor.parameterHints.enabled":{type:"boolean",default:X.enabled,description:v.localize(56,null)},"editor.parameterHints.cycle":{type:"boolean",default:X.cycle,description:v.localize(57,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const ue=X;return{enabled:u(ue.enabled,this.defaultValue.enabled),cycle:u(ue.cycle,this.defaultValue.cycle)}}}class G extends i{constructor(){super(124)}compute(X,ue,he){return X.pixelRatio}}class J extends C{constructor(){const X={other:!0,comments:!1,strings:!1};super(75,"quickSuggestions",X,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:X.strings,description:v.localize(58,null)},comments:{type:"boolean",default:X.comments,description:v.localize(59,null)},other:{type:"boolean",default:X.other,description:v.localize(60,null)}}}],default:X,description:v.localize(61,null)});this.defaultValue=X}validate(X){if(typeof X=="boolean")return X;if(X&&typeof X=="object"){const ue=X,he={other:u(ue.other,this.defaultValue.other),comments:u(ue.comments,this.defaultValue.comments),strings:u(ue.strings,this.defaultValue.strings)};return he.other&&he.comments&&he.strings?!0:!he.other&&!he.comments&&!he.strings?!1:he}return this.defaultValue}}class Q extends C{constructor(){super(56,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[v.localize(62,null),v.localize(63,null),v.localize(64,null),v.localize(65,null)],default:"on",description:v.localize(66,null)})}validate(X){let ue=this.defaultValue.renderType,he=this.defaultValue.renderFn;return typeof X!="undefined"&&(typeof X=="function"?(ue=4,he=X):X==="interval"?ue=3:X==="relative"?ue=2:X==="on"?ue=1:ue=0),{renderType:ue,renderFn:he}}}function ae(ne){const X=ne.get(84);return X==="editable"?ne.get(77):X!=="on"}e.filterValidationDecorations=ae;class se extends C{constructor(){const X=[],ue={type:"number",description:v.localize(67,null)};super(88,"rulers",X,{type:"array",items:{anyOf:[ue,{type:["object"],properties:{column:ue,color:{type:"string",description:v.localize(68,null),format:"color-hex"}}}]},default:X,description:v.localize(69,null)})}validate(X){if(Array.isArray(X)){let ue=[];for(let he of X)if(typeof he=="number")ue.push({column:l.clampedInt(he,0,0,1e4),color:null});else if(he&&typeof he=="object"){const re=he;ue.push({column:l.clampedInt(re.column,0,0,1e4),color:re.color})}return ue.sort((he,re)=>he.column-re.column),ue}return this.defaultValue}}function Z(ne,X){if(typeof ne!="string")return X;switch(ne){case"hidden":return 2;case"visible":return 3;default:return 1}}class T extends C{constructor(){super(89,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const ue=X,he=l.clampedInt(ue.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),re=l.clampedInt(ue.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:l.clampedInt(ue.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Z(ue.vertical,this.defaultValue.vertical),horizontal:Z(ue.horizontal,this.defaultValue.horizontal),useShadows:u(ue.useShadows,this.defaultValue.useShadows),verticalHasArrows:u(ue.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:u(ue.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:u(ue.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:u(ue.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:he,horizontalSliderSize:l.clampedInt(ue.horizontalSliderSize,he,0,1e3),verticalScrollbarSize:re,verticalSliderSize:l.clampedInt(ue.verticalSliderSize,re,0,1e3),scrollByPage:u(ue.scrollByPage,this.defaultValue.scrollByPage)}}}class x extends C{constructor(){const X={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(103,"suggest",X,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[v.localize(70,null),v.localize(71,null)],default:X.insertMode,description:v.localize(72,null)},"editor.suggest.filterGraceful":{type:"boolean",default:X.filterGraceful,description:v.localize(73,null)},"editor.suggest.localityBonus":{type:"boolean",default:X.localityBonus,description:v.localize(74,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:X.shareSuggestSelections,markdownDescription:v.localize(75,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:X.snippetsPreventQuickSuggestions,description:v.localize(76,null)},"editor.suggest.showIcons":{type:"boolean",default:X.showIcons,description:v.localize(77,null)},"editor.suggest.showStatusBar":{type:"boolean",default:X.showStatusBar,description:v.localize(78,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:X.showInlineDetails,description:v.localize(79,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:v.localize(80,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:v.localize(81,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:v.localize(82,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:v.localize(83,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:v.localize(84,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:v.localize(85,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:v.localize(86,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:v.localize(87,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:v.localize(88,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:v.localize(89,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:v.localize(90,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:v.localize(91,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:v.localize(92,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:v.localize(93,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:v.localize(94,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:v.localize(95,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:v.localize(96,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:v.localize(97,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:v.localize(98,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:v.localize(99,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:v.localize(100,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:v.localize(101,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:v.localize(102,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:v.localize(103,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:v.localize(104,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:v.localize(105,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:v.localize(106,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:v.localize(107,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:v.localize(108,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:v.localize(109,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const ue=X;return{insertMode:r(ue.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:u(ue.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:u(ue.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:u(ue.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:u(ue.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:u(ue.showIcons,this.defaultValue.showIcons),showStatusBar:u(ue.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:u(ue.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:u(ue.showMethods,this.defaultValue.showMethods),showFunctions:u(ue.showFunctions,this.defaultValue.showFunctions),showConstructors:u(ue.showConstructors,this.defaultValue.showConstructors),showFields:u(ue.showFields,this.defaultValue.showFields),showVariables:u(ue.showVariables,this.defaultValue.showVariables),showClasses:u(ue.showClasses,this.defaultValue.showClasses),showStructs:u(ue.showStructs,this.defaultValue.showStructs),showInterfaces:u(ue.showInterfaces,this.defaultValue.showInterfaces),showModules:u(ue.showModules,this.defaultValue.showModules),showProperties:u(ue.showProperties,this.defaultValue.showProperties),showEvents:u(ue.showEvents,this.defaultValue.showEvents),showOperators:u(ue.showOperators,this.defaultValue.showOperators),showUnits:u(ue.showUnits,this.defaultValue.showUnits),showValues:u(ue.showValues,this.defaultValue.showValues),showConstants:u(ue.showConstants,this.defaultValue.showConstants),showEnums:u(ue.showEnums,this.defaultValue.showEnums),showEnumMembers:u(ue.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:u(ue.showKeywords,this.defaultValue.showKeywords),showWords:u(ue.showWords,this.defaultValue.showWords),showColors:u(ue.showColors,this.defaultValue.showColors),showFiles:u(ue.showFiles,this.defaultValue.showFiles),showReferences:u(ue.showReferences,this.defaultValue.showReferences),showFolders:u(ue.showFolders,this.defaultValue.showFolders),showTypeParameters:u(ue.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:u(ue.showSnippets,this.defaultValue.showSnippets),showUsers:u(ue.showUsers,this.defaultValue.showUsers),showIssues:u(ue.showIssues,this.defaultValue.showIssues)}}}class H extends C{constructor(){super(99,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:v.localize(110,null),default:!0,type:"boolean"}})}validate(X){return!X||typeof X!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:u(X.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class V extends i{constructor(){super(125,[77])}compute(X,ue,he){return ue.get(77)?!0:X.tabFocusMode}}function q(ne){switch(ne){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class ee extends i{constructor(){super(127,[126])}compute(X,ue,he){const re=ue.get(126);return{isDominatedByLongLines:X.isDominatedByLongLines,isWordWrapMinified:re.isWordWrapMinified,isViewportWrapping:re.isViewportWrapping,wrappingColumn:re.wrappingColumn}}}const oe="Consolas, 'Courier New', monospace",le="Menlo, Monaco, 'Courier New', monospace",Y="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:I.isMacintosh?le:I.isLinux?Y:oe,fontWeight:"normal",fontSize:I.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function j(ne){return e.editorOptionsRegistry[ne.id]=ne,ne}e.EditorOptions={acceptSuggestionOnCommitCharacter:j(new a(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:v.localize(111,null)})),acceptSuggestionOnEnter:j(new n(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",v.localize(112,null),""],markdownDescription:v.localize(113,null)})),accessibilitySupport:j(new o),accessibilityPageSize:j(new l(3,"accessibilityPageSize",10,1,1073741824,{description:v.localize(114,null)})),ariaLabel:j(new d(4,"ariaLabel",v.localize(115,null))),autoClosingBrackets:j(new n(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.localize(116,null),v.localize(117,null),""],description:v.localize(118,null)})),autoClosingDelete:j(new n(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",v.localize(119,null),""],description:v.localize(120,null)})),autoClosingOvertype:j(new n(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",v.localize(121,null),""],description:v.localize(122,null)})),autoClosingQuotes:j(new n(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.localize(123,null),v.localize(124,null),""],description:v.localize(125,null)})),autoIndent:j(new s(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],t,{enumDescriptions:[v.localize(126,null),v.localize(127,null),v.localize(128,null),v.localize(129,null),v.localize(130,null)],description:v.localize(131,null)})),automaticLayout:j(new a(10,"automaticLayout",!1)),autoSurround:j(new n(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[v.localize(132,null),v.localize(133,null),v.localize(134,null),""],description:v.localize(135,null)})),stickyTabStops:j(new a(101,"stickyTabStops",!1,{description:v.localize(136,null)})),codeLens:j(new a(12,"codeLens",!0,{description:v.localize(137,null)})),codeLensFontFamily:j(new d(13,"codeLensFontFamily","",{description:v.localize(138,null)})),codeLensFontSize:j(new l(14,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,description:v.localize(139,null)})),colorDecorators:j(new a(15,"colorDecorators",!0,{description:v.localize(140,null)})),columnSelection:j(new a(16,"columnSelection",!1,{description:v.localize(141,null)})),comments:j(new h),contextmenu:j(new a(18,"contextmenu",!0)),copyWithSyntaxHighlighting:j(new a(19,"copyWithSyntaxHighlighting",!0,{description:v.localize(142,null)})),cursorBlinking:j(new s(20,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],f,{description:v.localize(143,null)})),cursorSmoothCaretAnimation:j(new a(21,"cursorSmoothCaretAnimation",!1,{description:v.localize(144,null)})),cursorStyle:j(new s(22,"cursorStyle",m.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],g,{description:v.localize(145,null)})),cursorSurroundingLines:j(new l(23,"cursorSurroundingLines",0,0,1073741824,{description:v.localize(146,null)})),cursorSurroundingLinesStyle:j(new n(24,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[v.localize(147,null),v.localize(148,null)],description:v.localize(149,null)})),cursorWidth:j(new l(25,"cursorWidth",0,0,1073741824,{markdownDescription:v.localize(150,null)})),disableLayerHinting:j(new a(26,"disableLayerHinting",!1)),disableMonospaceOptimizations:j(new a(27,"disableMonospaceOptimizations",!1)),domReadOnly:j(new a(28,"domReadOnly",!1)),dragAndDrop:j(new a(29,"dragAndDrop",!0,{description:v.localize(151,null)})),emptySelectionClipboard:j(new y),extraEditorClassName:j(new d(31,"extraEditorClassName","")),fastScrollSensitivity:j(new c(32,"fastScrollSensitivity",5,ne=>ne<=0?5:ne,{markdownDescription:v.localize(152,null)})),find:j(new L),fixedOverflowWidgets:j(new a(34,"fixedOverflowWidgets",!1)),folding:j(new a(35,"folding",!0,{description:v.localize(153,null)})),foldingStrategy:j(new n(36,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[v.localize(154,null),v.localize(155,null)],description:v.localize(156,null)})),foldingHighlight:j(new a(37,"foldingHighlight",!0,{description:v.localize(157,null)})),unfoldOnClickAfterEndOfLine:j(new a(38,"unfoldOnClickAfterEndOfLine",!1,{description:v.localize(158,null)})),fontFamily:j(new d(39,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:v.localize(159,null)})),fontInfo:j(new M),fontLigatures2:j(new N),fontSize:j(new D),fontWeight:j(new R),formatOnPaste:j(new a(44,"formatOnPaste",!1,{description:v.localize(160,null)})),formatOnType:j(new a(45,"formatOnType",!1,{description:v.localize(161,null)})),glyphMargin:j(new a(46,"glyphMargin",!0,{description:v.localize(162,null)})),gotoLocation:j(new P),hideCursorInOverviewRuler:j(new a(48,"hideCursorInOverviewRuler",!1,{description:v.localize(163,null)})),highlightActiveIndentGuide:j(new a(49,"highlightActiveIndentGuide",!0,{description:v.localize(164,null)})),hover:j(new O),inDiffEditor:j(new a(51,"inDiffEditor",!1)),letterSpacing:j(new c(52,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,ne=>c.clamp(ne,-5,20),{description:v.localize(165,null)})),lightbulb:j(new F),lineDecorationsWidth:j(new _(54,"lineDecorationsWidth",10)),lineHeight:j(new A),lineNumbers:j(new Q),lineNumbersMinChars:j(new l(57,"lineNumbersMinChars",5,1,300)),linkedEditing:j(new a(58,"linkedEditing",!1,{description:v.localize(166,null)})),links:j(new a(59,"links",!0,{description:v.localize(167,null)})),matchBrackets:j(new n(60,"matchBrackets","always",["always","near","never"],{description:v.localize(168,null)})),minimap:j(new B),mouseStyle:j(new n(62,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:j(new c(63,"mouseWheelScrollSensitivity",1,ne=>ne===0?1:ne,{markdownDescription:v.localize(169,null)})),mouseWheelZoom:j(new a(64,"mouseWheelZoom",!1,{markdownDescription:v.localize(170,null)})),multiCursorMergeOverlapping:j(new a(65,"multiCursorMergeOverlapping",!0,{description:v.localize(171,null)})),multiCursorModifier:j(new s(66,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],z,{markdownEnumDescriptions:[v.localize(172,null),v.localize(173,null)],markdownDescription:v.localize(174,null)})),multiCursorPaste:j(new n(67,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[v.localize(175,null),v.localize(176,null)],markdownDescription:v.localize(177,null)})),occurrencesHighlight:j(new a(68,"occurrencesHighlight",!0,{description:v.localize(178,null)})),overviewRulerBorder:j(new a(69,"overviewRulerBorder",!0,{description:v.localize(179,null)})),overviewRulerLanes:j(new l(70,"overviewRulerLanes",3,0,3)),padding:j(new U),parameterHints:j(new K),peekWidgetDefaultFocus:j(new n(73,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[v.localize(180,null),v.localize(181,null)],description:v.localize(182,null)})),definitionLinkOpensInPeek:j(new a(74,"definitionLinkOpensInPeek",!1,{description:v.localize(183,null)})),quickSuggestions:j(new J),quickSuggestionsDelay:j(new l(76,"quickSuggestionsDelay",10,0,1073741824,{description:v.localize(184,null)})),readOnly:j(new a(77,"readOnly",!1)),renameOnType:j(new a(78,"renameOnType",!1,{description:v.localize(185,null),markdownDeprecationMessage:v.localize(186,null)})),renderControlCharacters:j(new a(79,"renderControlCharacters",!1,{description:v.localize(187,null)})),renderIndentGuides:j(new a(80,"renderIndentGuides",!0,{description:v.localize(188,null)})),renderFinalNewline:j(new a(81,"renderFinalNewline",!0,{description:v.localize(189,null)})),renderLineHighlight:j(new n(82,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",v.localize(190,null)],description:v.localize(191,null)})),renderLineHighlightOnlyWhenFocus:j(new a(83,"renderLineHighlightOnlyWhenFocus",!1,{description:v.localize(192,null)})),renderValidationDecorations:j(new n(84,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:j(new n(85,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",v.localize(193,null),v.localize(194,null),v.localize(195,null),""],description:v.localize(196,null)})),revealHorizontalRightPadding:j(new l(86,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:j(new a(87,"roundedSelection",!0,{description:v.localize(197,null)})),rulers:j(new se),scrollbar:j(new T),scrollBeyondLastColumn:j(new l(90,"scrollBeyondLastColumn",5,0,1073741824,{description:v.localize(198,null)})),scrollBeyondLastLine:j(new a(91,"scrollBeyondLastLine",!0,{description:v.localize(199,null)})),scrollPredominantAxis:j(new a(92,"scrollPredominantAxis",!0,{description:v.localize(200,null)})),selectionClipboard:j(new a(93,"selectionClipboard",!0,{description:v.localize(201,null),included:I.isLinux})),selectionHighlight:j(new a(94,"selectionHighlight",!0,{description:v.localize(202,null)})),selectOnLineNumbers:j(new a(95,"selectOnLineNumbers",!0)),showFoldingControls:j(new n(96,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[v.localize(203,null),v.localize(204,null)],description:v.localize(205,null)})),showUnused:j(new a(97,"showUnused",!0,{description:v.localize(206,null)})),showDeprecated:j(new a(121,"showDeprecated",!0,{description:v.localize(207,null)})),inlineHints:j(new E),snippetSuggestions:j(new n(98,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[v.localize(208,null),v.localize(209,null),v.localize(210,null),v.localize(211,null)],description:v.localize(212,null)})),smartSelect:j(new H),smoothScrolling:j(new a(100,"smoothScrolling",!1,{description:v.localize(213,null)})),stopRenderingLineAfter:j(new l(102,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:j(new x),suggestFontSize:j(new l(104,"suggestFontSize",0,0,1e3,{markdownDescription:v.localize(214,null)})),suggestLineHeight:j(new l(105,"suggestLineHeight",0,0,1e3,{markdownDescription:v.localize(215,null)})),suggestOnTriggerCharacters:j(new a(106,"suggestOnTriggerCharacters",!0,{description:v.localize(216,null)})),suggestSelection:j(new n(107,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[v.localize(217,null),v.localize(218,null),v.localize(219,null)],description:v.localize(220,null)})),tabCompletion:j(new n(108,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[v.localize(221,null),v.localize(222,null),v.localize(223,null)],description:v.localize(224,null)})),tabIndex:j(new l(109,"tabIndex",0,-1,1073741824)),unusualLineTerminators:j(new n(110,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[v.localize(225,null),v.localize(226,null),v.localize(227,null)],description:v.localize(228,null)})),useTabStops:j(new a(111,"useTabStops",!0,{description:v.localize(229,null)})),wordSeparators:j(new d(112,"wordSeparators",k.USUAL_WORD_SEPARATORS,{description:v.localize(230,null)})),wordWrap:j(new n(113,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[v.localize(231,null),v.localize(232,null),v.localize(233,null),v.localize(234,null)],description:v.localize(235,null)})),wordWrapBreakAfterCharacters:j(new d(114,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:j(new d(115,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:j(new l(116,"wordWrapColumn",80,1,1073741824,{markdownDescription:v.localize(236,null)})),wordWrapOverride1:j(new n(117,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:j(new n(118,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:j(new s(119,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],q,{enumDescriptions:[v.localize(237,null),v.localize(238,null),v.localize(239,null),v.localize(240,null)],description:v.localize(241,null)})),wrappingStrategy:j(new n(120,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[v.localize(242,null),v.localize(243,null)],description:v.localize(244,null)})),editorClassName:j(new b),pixelRatio:j(new G),tabFocusMode:j(new V),layoutInfo:j(new W),wrappingInfo:j(new ee)}}),define(te[339],ie([0,1,14,3,64,38]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0;class S{constructor(C,i,_,u,a){this.editorId=C,this.model=i,this.configuration=_,this._linesCollection=u,this._coordinatesConverter=a,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(C){const i=C.id;let _=this._decorationsCache[i];if(!_){const u=C.range,a=C.options;let l;if(a.isWholeLine){const c=this._coordinatesConverter.convertModelPositionToViewPosition(new v.Position(u.startLineNumber,1)),d=this._coordinatesConverter.convertModelPositionToViewPosition(new v.Position(u.endLineNumber,this.model.getLineMaxColumn(u.endLineNumber)));l=new I.Range(c.lineNumber,c.column,d.lineNumber,d.column)}else l=this._coordinatesConverter.convertModelRangeToViewRange(u);_=new k.ViewModelDecoration(l,a),this._decorationsCache[i]=_}return _}getDecorationsViewportData(C){let i=this._cachedModelDecorationsResolver!==null;return i=i&&C.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(C),this._cachedModelDecorationsResolverViewRange=C),this._cachedModelDecorationsResolver}_getDecorationsViewportData(C){const i=this._linesCollection.getDecorationsInRange(C,this.editorId,(0,w.filterValidationDecorations)(this.configuration.options)),_=C.startLineNumber,u=C.endLineNumber;let a=[],l=0,c=[];for(let d=_;d<=u;d++)c[d-_]=[];for(let d=0,r=i.length;d<r;d++){let n=i[d],s=n.options,t=this._getOrCreateViewModelDecoration(n),o=t.range;if(a[l++]=t,s.inlineClassName){let h=new k.InlineDecoration(o,s.inlineClassName,s.inlineClassNameAffectsLetterSpacing?3:0),f=Math.max(_,o.startLineNumber),m=Math.min(u,o.endLineNumber);for(let g=f;g<=m;g++)c[g-_].push(h)}if(s.beforeContentClassName&&_<=o.startLineNumber&&o.startLineNumber<=u){let h=new k.InlineDecoration(new I.Range(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn),s.beforeContentClassName,1);c[o.startLineNumber-_].push(h)}if(s.afterContentClassName&&_<=o.endLineNumber&&o.endLineNumber<=u){let h=new k.InlineDecoration(new I.Range(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn),s.afterContentClassName,2);c[o.endLineNumber-_].push(h)}}return{decorations:a,inlineDecorations:c}}}e.ViewModelDecorations=S}),define(te[340],ie([5,4]),function($,e){return $.create("vs/editor/common/editorContextKeys",e)}),define(te[341],ie([5,4]),function($,e){return $.create("vs/editor/common/model/editStack",e)}),define(te[209],ie([0,1,341,11,21,23,228,101,46]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function i(r){return r.toString()}class _{constructor(n,s,t,o,h,f,m){this.beforeVersionId=n,this.afterVersionId=s,this.beforeEOL=t,this.afterEOL=o,this.beforeCursorState=h,this.afterCursorState=f,this.changes=m}static create(n,s){const t=n.getAlternativeVersionId(),o=l(n);return new _(t,t,o,o,s,s,[])}append(n,s,t,o,h){s.length>0&&(this.changes=(0,S.compressConsecutiveTextChanges)(this.changes,s)),this.afterEOL=t,this.afterVersionId=o,this.afterCursorState=h}static _writeSelectionsSize(n){return 4+4*4*(n?n.length:0)}static _writeSelections(n,s,t){if(p.writeUInt32BE(n,s?s.length:0,t),t+=4,s)for(const o of s)p.writeUInt32BE(n,o.selectionStartLineNumber,t),t+=4,p.writeUInt32BE(n,o.selectionStartColumn,t),t+=4,p.writeUInt32BE(n,o.positionLineNumber,t),t+=4,p.writeUInt32BE(n,o.positionColumn,t),t+=4;return t}static _readSelections(n,s,t){const o=p.readUInt32BE(n,s);s+=4;for(let h=0;h<o;h++){const f=p.readUInt32BE(n,s);s+=4;const m=p.readUInt32BE(n,s);s+=4;const g=p.readUInt32BE(n,s);s+=4;const b=p.readUInt32BE(n,s);s+=4,t.push(new k.Selection(f,m,g,b))}return s}serialize(){let n=4+4+1+1+_._writeSelectionsSize(this.beforeCursorState)+_._writeSelectionsSize(this.afterCursorState)+4;for(const o of this.changes)n+=o.writeSize();const s=new Uint8Array(n);let t=0;p.writeUInt32BE(s,this.beforeVersionId,t),t+=4,p.writeUInt32BE(s,this.afterVersionId,t),t+=4,p.writeUInt8(s,this.beforeEOL,t),t+=1,p.writeUInt8(s,this.afterEOL,t),t+=1,t=_._writeSelections(s,this.beforeCursorState,t),t=_._writeSelections(s,this.afterCursorState,t),p.writeUInt32BE(s,this.changes.length,t),t+=4;for(const o of this.changes)t=o.write(s,t);return s.buffer}static deserialize(n){const s=new Uint8Array(n);let t=0;const o=p.readUInt32BE(s,t);t+=4;const h=p.readUInt32BE(s,t);t+=4;const f=p.readUInt8(s,t);t+=1;const m=p.readUInt8(s,t);t+=1;const g=[];t=_._readSelections(s,t,g);const b=[];t=_._readSelections(s,t,b);const y=p.readUInt32BE(s,t);t+=4;const L=[];for(let N=0;N<y;N++)t=S.TextChange.read(s,t,L);return new _(o,h,f,m,g,b,L)}}e.SingleModelEditStackData=_;class u{constructor(n,s){this.model=n,this._data=_.create(n,s)}get type(){return 0}get resource(){return w.URI.isUri(this.model)?this.model:this.model.uri}get label(){return v.localize(0,null)}toString(){return(this._data instanceof _?this._data:_.deserialize(this._data)).changes.map(s=>s.toString()).join(", ")}matchesResource(n){return(w.URI.isUri(this.model)?this.model:this.model.uri).toString()===n.toString()}setModel(n){this.model=n}canAppend(n){return this.model===n&&this._data instanceof _}append(n,s,t,o,h){this._data instanceof _&&this._data.append(n,s,t,o,h)}close(){this._data instanceof _&&(this._data=this._data.serialize())}open(){this._data instanceof _||(this._data=_.deserialize(this._data))}undo(){if(w.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof _&&(this._data=this._data.serialize());const n=_.deserialize(this._data);this.model._applyUndo(n.changes,n.beforeEOL,n.beforeVersionId,n.beforeCursorState)}redo(){if(w.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof _&&(this._data=this._data.serialize());const n=_.deserialize(this._data);this.model._applyRedo(n.changes,n.afterEOL,n.afterVersionId,n.afterCursorState)}heapSize(){return this._data instanceof _&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=u;class a{constructor(n,s){this.type=1,this.label=n,this._isOpen=!0,this._editStackElementsArr=s.slice(0),this._editStackElementsMap=new Map;for(const t of this._editStackElementsArr){const o=i(t.resource);this._editStackElementsMap.set(o,t)}this._delegate=null}get resources(){return this._editStackElementsArr.map(n=>n.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(n){const s=i(n);return this._editStackElementsMap.has(s)}setModel(n){const s=i(w.URI.isUri(n)?n:n.uri);this._editStackElementsMap.has(s)&&this._editStackElementsMap.get(s).setModel(n)}canAppend(n){if(!this._isOpen)return!1;const s=i(n.uri);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).canAppend(n):!1}append(n,s,t,o,h){const f=i(n.uri);this._editStackElementsMap.get(f).append(n,s,t,o,h)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const n of this._editStackElementsArr)n.undo()}redo(){for(const n of this._editStackElementsArr)n.redo()}heapSize(n){const s=i(n);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).heapSize():0}split(){return this._editStackElementsArr}toString(){let n=[];for(const s of this._editStackElementsArr)n.push(`${(0,C.basename)(s.resource)}: ${s}`);return`{${n.join(", ")}}`}}e.MultiModelEditStackElement=a;function l(r){return r.getEOL()===`
`?0:1}function c(r){return r?r instanceof u||r instanceof a:!1}e.isEditStackElement=c;class d{constructor(n,s){this._model=n,this._undoRedoService=s}pushStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);c(n)&&n.close()}popStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);c(n)&&n.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(n){const s=this._undoRedoService.getLastElement(this._model.uri);if(c(s)&&s.canAppend(this._model))return s;const t=new u(this._model,n);return this._undoRedoService.pushElement(t),t}pushEOL(n){const s=this._getOrCreateEditStackElement(null);this._model.setEOL(n),s.append(this._model,[],l(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(n,s,t){const o=this._getOrCreateEditStackElement(n),h=this._model.applyEdits(s,!0),f=d._computeCursorState(t,h),m=h.map((g,b)=>({index:b,textChange:g.textChange}));return m.sort((g,b)=>g.textChange.oldPosition===b.textChange.oldPosition?g.index-b.index:g.textChange.oldPosition-b.textChange.oldPosition),o.append(this._model,m.map(g=>g.textChange),l(this._model),this._model.getAlternativeVersionId(),f),f}static _computeCursorState(n,s){try{return n?n(s):null}catch(t){return(0,I.onUnexpectedError)(t),null}}}e.EditStack=d}),define(te[343],ie([5,4]),function($,e){return $.create("vs/editor/common/modes/modesRegistry",e)}),define(te[469],ie([5,4]),function($,e){return $.create("vs/editor/common/standaloneStrings",e)}),define(te[60],ie([0,1,469]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var I;(function(a){a.noSelection=v.localize(0,null),a.singleSelectionRange=v.localize(1,null),a.singleSelection=v.localize(2,null),a.multiSelectionRange=v.localize(3,null),a.multiSelection=v.localize(4,null),a.emergencyConfOn=v.localize(5,null),a.openingDocs=v.localize(6,null),a.readonlyDiffEditor=v.localize(7,null),a.editableDiffEditor=v.localize(8,null),a.readonlyEditor=v.localize(9,null),a.editableEditor=v.localize(10,null),a.changeConfigToOnMac=v.localize(11,null),a.changeConfigToOnWinLinux=v.localize(12,null),a.auto_on=v.localize(13,null),a.auto_off=v.localize(14,null),a.tabFocusModeOnMsg=v.localize(15,null),a.tabFocusModeOnMsgNoKb=v.localize(16,null),a.tabFocusModeOffMsg=v.localize(17,null),a.tabFocusModeOffMsgNoKb=v.localize(18,null),a.openDocMac=v.localize(19,null),a.openDocWinLinux=v.localize(20,null),a.outroMsg=v.localize(21,null),a.showAccessibilityHelpAction=v.localize(22,null)})(I=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var k;(function(a){a.inspectTokensAction=v.localize(23,null)})(k=e.InspectTokensNLS||(e.InspectTokensNLS={}));var w;(function(a){a.gotoLineActionLabel=v.localize(24,null)})(w=e.GoToLineNLS||(e.GoToLineNLS={}));var S;(function(a){a.helpQuickAccessActionLabel=v.localize(25,null)})(S=e.QuickHelpNLS||(e.QuickHelpNLS={}));var p;(function(a){a.quickCommandActionLabel=v.localize(26,null),a.quickCommandHelp=v.localize(27,null)})(p=e.QuickCommandNLS||(e.QuickCommandNLS={}));var C;(function(a){a.quickOutlineActionLabel=v.localize(28,null),a.quickOutlineByCategoryActionLabel=v.localize(29,null)})(C=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var i;(function(a){a.editorViewAccessibleLabel=v.localize(30,null),a.accessibilityHelpMessage=v.localize(31,null)})(i=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var _;(function(a){a.toggleHighContrast=v.localize(32,null)})(_=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var u;(function(a){a.bulkEditServiceSummary=v.localize(33,null)})(u=e.SimpleServicesNLS||(e.SimpleServicesNLS={}))}),define(te[346],ie([5,4]),function($,e){return $.create("vs/editor/common/view/editorColorRegistry",e)}),define(te[347],ie([5,4]),function($,e){return $.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(te[348],ie([5,4]),function($,e){return $.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(te[349],ie([5,4]),function($,e){return $.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(te[350],ie([5,4]),function($,e){return $.create("vs/editor/contrib/caretOperations/transpose",e)}),define(te[351],ie([5,4]),function($,e){return $.create("vs/editor/contrib/clipboard/clipboard",e)}),define(te[352],ie([5,4]),function($,e){return $.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(te[353],ie([5,4]),function($,e){return $.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(te[354],ie([5,4]),function($,e){return $.create("vs/editor/contrib/codelens/codelensController",e)}),define(te[355],ie([5,4]),function($,e){return $.create("vs/editor/contrib/comment/comment",e)}),define(te[356],ie([5,4]),function($,e){return $.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(te[357],ie([5,4]),function($,e){return $.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(te[358],ie([5,4]),function($,e){return $.create("vs/editor/contrib/find/findController",e)}),define(te[359],ie([5,4]),function($,e){return $.create("vs/editor/contrib/find/findWidget",e)}),define(te[360],ie([5,4]),function($,e){return $.create("vs/editor/contrib/folding/folding",e)}),define(te[361],ie([5,4]),function($,e){return $.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(te[362],ie([5,4]),function($,e){return $.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(te[363],ie([5,4]),function($,e){return $.create("vs/editor/contrib/format/format",e)}),define(te[364],ie([5,4]),function($,e){return $.create("vs/editor/contrib/format/formatActions",e)}),define(te[365],ie([5,4]),function($,e){return $.create("vs/editor/contrib/gotoError/gotoError",e)}),define(te[366],ie([5,4]),function($,e){return $.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(te[367],ie([5,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(te[368],ie([5,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(te[369],ie([5,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(te[370],ie([5,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(te[371],ie([5,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(te[372],ie([5,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(te[107],ie([0,1,372,6,46,2,8,147,3,51,11]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class u{constructor(r,n,s,t){this.isProviderFirst=r,this.parent=n,this.link=s,this._rangeCallback=t,this.id=p.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var r,n;return(n=(r=this._range)!==null&&r!==void 0?r:this.link.targetSelectionRange)!==null&&n!==void 0?n:this.link.range}set range(r){this._range=r,this._rangeCallback(this)}get ariaMessage(){var r;const n=(r=this.parent.getPreview(this))===null||r===void 0?void 0:r.preview(this.range);return n?(0,v.localize)(1,null,(0,k.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,n.value):(0,v.localize)(0,null,(0,k.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=u;class a{constructor(r){this._modelReference=r}dispose(){this._modelReference.dispose()}preview(r,n=8){const s=this._modelReference.object.textEditorModel;if(!!s){const{startLineNumber:t,startColumn:o,endLineNumber:h,endColumn:f}=r,m=s.getWordUntilPosition({lineNumber:t,column:o-n}),g=new C.Range(t,m.startColumn,t,o),b=new C.Range(h,f,h,1073741824),y=s.getValueInRange(g).replace(/^\s+/,""),L=s.getValueInRange(r),N=s.getValueInRange(b).replace(/\s+$/,"");return{value:y+L+N,highlight:{start:y.length,end:y.length+L.length}}}}}e.FilePreview=a;class l{constructor(r,n){this.parent=r,this.uri=n,this.children=[],this._previews=new i.ResourceMap}dispose(){(0,w.dispose)(this._previews.values()),this._previews.clear()}getPreview(r){return this._previews.get(r.uri)}get ariaMessage(){const r=this.children.length;return r===1?(0,v.localize)(2,null,(0,k.basename)(this.uri),this.uri.fsPath):(0,v.localize)(3,null,r,(0,k.basename)(this.uri),this.uri.fsPath)}resolve(r){return De(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let n of this.children)if(!this._previews.has(n.uri))try{const s=yield r.createModelReference(n.uri);this._previews.set(n.uri,new a(s))}catch(s){(0,_.onUnexpectedError)(s)}return this})}}e.FileReferences=l;class c{constructor(r,n){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new I.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=r,this._title=n;const[s]=r;r.sort(c._compareReferences);let t;for(let o of r)if((!t||!k.extUri.isEqual(t.uri,o.uri,!0))&&(t=new l(this,o.uri),this.groups.push(t)),t.children.length===0||c._compareReferences(o,t.children[t.children.length-1])!==0){const h=new u(s===o,t,o,f=>this._onDidChangeReferenceRange.fire(f));this.references.push(h),t.children.push(h)}}dispose(){(0,w.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new c(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,v.localize)(4,null):this.references.length===1?(0,v.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,v.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,v.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(r,n){let{parent:s}=r,t=s.children.indexOf(r),o=s.children.length,h=s.parent.groups.length;return h===1||n&&t+1<o||!n&&t>0?(n?t=(t+1)%o:t=(t+o-1)%o,s.children[t]):(t=s.parent.groups.indexOf(s),n?(t=(t+1)%h,s.parent.groups[t].children[0]):(t=(t+h-1)%h,s.parent.groups[t].children[s.parent.groups[t].children.length-1]))}nearestReference(r,n){const s=this.references.map((t,o)=>({idx:o,prefixLen:S.commonPrefixLength(t.uri.toString(),r.toString()),offsetDist:Math.abs(t.range.startLineNumber-n.lineNumber)*100+Math.abs(t.range.startColumn-n.column)})).sort((t,o)=>t.prefixLen>o.prefixLen?-1:t.prefixLen<o.prefixLen?1:t.offsetDist<o.offsetDist?-1:t.offsetDist>o.offsetDist?1:0)[0];if(s)return this.references[s.idx]}referenceAt(r,n){for(const s of this.references)if(s.uri.toString()===r.toString()&&C.Range.containsPosition(s.range,n))return s}firstReference(){for(const r of this.references)if(r.isProviderFirst)return r;return this.references[0]}static _compareReferences(r,n){return k.extUri.compare(r.uri,n.uri)||C.Range.compareRangesUsingStarts(r.range,n.range)}}e.ReferencesModel=c}),define(te[374],ie([5,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(te[375],ie([5,4]),function($,e){return $.create("vs/editor/contrib/hover/hover",e)}),define(te[376],ie([5,4]),function($,e){return $.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(te[377],ie([5,4]),function($,e){return $.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(te[378],ie([5,4]),function($,e){return $.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(te[379],ie([5,4]),function($,e){return $.create("vs/editor/contrib/indentation/indentation",e)}),define(te[380],ie([5,4]),function($,e){return $.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(te[381],ie([5,4]),function($,e){return $.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(te[382],ie([5,4]),function($,e){return $.create("vs/editor/contrib/links/links",e)}),define(te[383],ie([5,4]),function($,e){return $.create("vs/editor/contrib/message/messageController",e)}),define(te[384],ie([5,4]),function($,e){return $.create("vs/editor/contrib/multicursor/multicursor",e)}),define(te[385],ie([5,4]),function($,e){return $.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(te[386],ie([5,4]),function($,e){return $.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(te[387],ie([5,4]),function($,e){return $.create("vs/editor/contrib/peekView/peekView",e)}),define(te[388],ie([5,4]),function($,e){return $.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(te[389],ie([5,4]),function($,e){return $.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(te[390],ie([5,4]),function($,e){return $.create("vs/editor/contrib/rename/rename",e)}),define(te[391],ie([5,4]),function($,e){return $.create("vs/editor/contrib/rename/renameInputField",e)}),define(te[392],ie([5,4]),function($,e){return $.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(te[393],ie([5,4]),function($,e){return $.create("vs/editor/contrib/snippet/snippetController2",e)}),define(te[394],ie([5,4]),function($,e){return $.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(te[395],ie([5,4]),function($,e){return $.create("vs/editor/contrib/suggest/suggest",e)}),define(te[396],ie([5,4]),function($,e){return $.create("vs/editor/contrib/suggest/suggestController",e)}),define(te[397],ie([5,4]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(te[398],ie([5,4]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(te[399],ie([5,4]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(te[400],ie([5,4]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(te[401],ie([5,4]),function($,e){return $.create("vs/editor/contrib/symbolIcons/symbolIcons",e)}),define(te[402],ie([5,4]),function($,e){return $.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(te[403],ie([5,4]),function($,e){return $.create("vs/editor/contrib/tokenization/tokenization",e)}),define(te[404],ie([5,4]),function($,e){return $.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(te[405],ie([5,4]),function($,e){return $.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(te[406],ie([5,4]),function($,e){return $.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(te[407],ie([5,4]),function($,e){return $.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(te[408],ie([5,4]),function($,e){return $.create("vs/platform/configuration/common/configurationRegistry",e)}),define(te[409],ie([5,4]),function($,e){return $.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(te[410],ie([5,4]),function($,e){return $.create("vs/platform/contextkey/common/contextkeys",e)}),define(te[411],ie([5,4]),function($,e){return $.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(te[412],ie([5,4]),function($,e){return $.create("vs/platform/list/browser/listService",e)}),define(te[413],ie([5,4]),function($,e){return $.create("vs/platform/markers/common/markers",e)}),define(te[414],ie([5,4]),function($,e){return $.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(te[415],ie([5,4]),function($,e){return $.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(te[416],ie([5,4]),function($,e){return $.create("vs/platform/theme/common/colorRegistry",e)}),define(te[417],ie([5,4]),function($,e){return $.create("vs/platform/theme/common/iconRegistry",e)}),define(te[418],ie([5,4]),function($,e){return $.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(te[419],ie([0,1,7]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;class I{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(w,S){return De(this,void 0,void 0,function*(){if(S){this.mapTextToType.set(S,w);return}try{return yield navigator.clipboard.writeText(w)}catch(i){console.error(i)}const p=document.activeElement,C=document.body.appendChild((0,v.$)("textarea",{"aria-hidden":!0}));C.style.height="1px",C.style.width="1px",C.style.position="absolute",C.value=w,C.focus(),C.select(),document.execCommand("copy"),p instanceof HTMLElement&&p.focus(),document.body.removeChild(C)})}readText(w){return De(this,void 0,void 0,function*(){if(w)return this.mapTextToType.get(w)||"";try{return yield navigator.clipboard.readText()}catch(S){return console.error(S),""}})}readFindText(){return De(this,void 0,void 0,function*(){return this.findText})}writeFindText(w){return De(this,void 0,void 0,function*(){this.findText=w})}}e.BrowserClipboardService=I}),define(te[420],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=void 0;var v;(function(I){I[I.API=0]="API",I[I.USER=1]="USER"})(v=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(te[421],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class v{constructor(k){this.value=k,this._lower=k.toLowerCase()}static toKey(k){return typeof k=="string"?k.toLowerCase():k._lower}}e.ExtensionIdentifier=v}),define(te[208],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var v;(function(I){I[I.FILE=0]="FILE",I[I.FOLDER=1]="FOLDER",I[I.ROOT_FOLDER=2]="ROOT_FOLDER"})(v=e.FileKind||(e.FileKind={}))}),define(te[206],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class v{constructor(k,w=[],S=!1){this.ctor=k,this.staticArguments=w,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=v}),define(te[73],ie([0,1,206]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const I=[];function k(S,p,C){p instanceof v.SyncDescriptor||(p=new v.SyncDescriptor(p,[],C)),I.push([S,p])}e.registerSingleton=k;function w(){return I}e.getSingletonServiceDescriptors=w}),define(te[425],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class v{constructor(w){this.incoming=new Map,this.outgoing=new Map,this.data=w}}e.Node=v;class I{constructor(w){this._hashFn=w,this._nodes=new Map}roots(){const w=[];for(let S of this._nodes.values())S.outgoing.size===0&&w.push(S);return w}insertEdge(w,S){const p=this.lookupOrInsertNode(w),C=this.lookupOrInsertNode(S);p.outgoing.set(this._hashFn(S),C),C.incoming.set(this._hashFn(w),p)}removeNode(w){const S=this._hashFn(w);this._nodes.delete(S);for(let p of this._nodes.values())p.outgoing.delete(S),p.incoming.delete(S)}lookupOrInsertNode(w){const S=this._hashFn(w);let p=this._nodes.get(S);return p||(p=new v(w),this._nodes.set(S,p)),p}isEmpty(){return this._nodes.size===0}toString(){let w=[];for(let[S,p]of this._nodes)w.push(`${S}, (incoming)[${[...p.incoming.keys()].join(", ")}], (outgoing)[${[...p.outgoing.keys()].join(",")}]`);return w.join(`
`)}findCycleSlow(){for(let[w,S]of this._nodes){const p=new Set([w]),C=this._findCycle(S,p);if(C)return C}}_findCycle(w,S){for(let[p,C]of w.outgoing){if(S.has(p))return[...S,p].join(" -> ");S.add(p);const i=this._findCycle(C,S);if(i)return i;S.delete(p)}}}e.Graph=I}),define(te[9],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.createDecorator=e.IInstantiationService=e._util=void 0;var v;(function(S){S.serviceIds=new Map,S.DI_TARGET="$di$target",S.DI_DEPENDENCIES="$di$dependencies";function p(C){return C[S.DI_DEPENDENCIES]||[]}S.getServiceDependencies=p})(v=e._util||(e._util={})),e.IInstantiationService=k("instantiationService");function I(S,p,C,i){p[v.DI_TARGET]===p?p[v.DI_DEPENDENCIES].push({id:S,index:C,optional:i}):(p[v.DI_DEPENDENCIES]=[{id:S,index:C,optional:i}],p[v.DI_TARGET]=p)}function k(S){if(v.serviceIds.has(S))return v.serviceIds.get(S);const p=function(C,i,_){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");I(p,C,_,!1)};return p.toString=()=>S,v.serviceIds.set(S,p),p}e.createDecorator=k;function w(S){return function(p,C,i){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");I(S,p,i,!0)}}e.optional=w}),define(te[127],ie([0,1,9,23,20]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,v.createDecorator)("IWorkspaceEditService");function w(_){return(0,k.isObject)(_)&&(Boolean(_.newUri)||Boolean(_.oldUri))}function S(_){return(0,k.isObject)(_)&&I.URI.isUri(_.resource)&&(0,k.isObject)(_.edit)}class p{constructor(u){this.metadata=u}static convert(u){return u.edits.map(a=>{if(S(a))return new C(a.resource,a.edit,a.modelVersionId,a.metadata);if(w(a))return new i(a.oldUri,a.newUri,a.options,a.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=p;class C extends p{constructor(u,a,l,c){super(c);this.resource=u,this.textEdit=a,this.versionId=l}}e.ResourceTextEdit=C;class i extends p{constructor(u,a,l,c){super(c);this.oldResource=u,this.newResource=a,this.options=l}}e.ResourceFileEdit=i}),define(te[28],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,v.createDecorator)("codeEditorService")}),define(te[80],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,v.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(te[167],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,v.createDecorator)("markerDecorationsService")}),define(te[58],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModeService=void 0,e.IModeService=(0,v.createDecorator)("modeService")}),define(te[37],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=(0,v.createDecorator)("modelService");function I(k){return!k.isTooLargeForSyncing()&&!k.isForSimpleWidget}e.shouldSynchronizeModel=I}),define(te[132],ie([0,1,6,95,2,51,100,504,37]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function i(a){return typeof a=="string"?!1:Array.isArray(a)?a.every(i):!!a.exclusive}class _{constructor(){this._clock=0,this._entries=[],this._onDidChange=new v.Emitter}get onDidChange(){return this._onDidChange.event}register(l,c){let d={selector:l,provider:c,_score:-1,_time:this._clock++};return this._entries.push(d),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.toDisposable)(()=>{if(d){let r=this._entries.indexOf(d);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),d=void 0)}})}has(l){return this.all(l).length>0}all(l){if(!l)return[];this._updateScores(l);const c=[];for(let d of this._entries)d._score>0&&c.push(d.provider);return c}ordered(l){const c=[];return this._orderedForEach(l,d=>c.push(d.provider)),c}orderedGroups(l){const c=[];let d,r;return this._orderedForEach(l,n=>{d&&r===n._score?d.push(n.provider):(r=n._score,d=[n.provider],c.push(d))}),c}_orderedForEach(l,c){if(!!l){this._updateScores(l);for(const d of this._entries)d._score>0&&c(d)}}_updateScores(l){let c={uri:l.uri.toString(),language:l.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===c.language&&this._lastCandidate.uri===c.uri)){this._lastCandidate=c;for(let d of this._entries)if(d._score=(0,p.score)(d.selector,l.uri,l.getLanguageIdentifier().language,(0,C.shouldSynchronizeModel)(l)),i(d.selector)&&d._score>0){for(let r of this._entries)r._score=0;d._score=1e3;break}this._entries.sort(_._compareByScoreAndTime)}}static _compareByScoreAndTime(l,c){return l._score<c._score?1:l._score>c._score?-1:l._time<c._time?1:l._time>c._time?-1:0}}e.LanguageFeatureRegistry=_;class u{constructor(l,c,d=Number.MAX_SAFE_INTEGER){this._registry=l,this.min=c,this.max=d,this._cache=new w.LRUCache(50,.7)}_key(l){return l.id+(0,I.hash)(this._registry.all(l))}_clamp(l){return l===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(l*1.3)))}get(l){const c=this._key(l),d=this._cache.get(c);return this._clamp(d==null?void 0:d.value)}update(l,c){const d=this._key(l);let r=this._cache.get(d);return r||(r=new S.MovingAverage,this._cache.set(d,r)),r.update(c),this.get(l)}}e.LanguageFeatureRequestDelays=u}),define(te[18],ie([0,1,23,3,132,527,27]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlineHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.InlineHintKind=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.completionKindFromString=e.completionKindToCssClass=e.TokenMetadata=e.LanguageIdentifier=void 0;class p{constructor(r,n){this.language=r,this.id=n}}e.LanguageIdentifier=p;class C{static getLanguageId(r){return(r&255)>>>0}static getTokenType(r){return(r&1792)>>>8}static getFontStyle(r){return(r&14336)>>>11}static getForeground(r){return(r&8372224)>>>14}static getBackground(r){return(r&4286578688)>>>23}static getClassNameFromMetadata(r){let n=this.getForeground(r),s="mtk"+n,t=this.getFontStyle(r);return t&1&&(s+=" mtki"),t&2&&(s+=" mtkb"),t&4&&(s+=" mtku"),s}static getInlineStyleFromMetadata(r,n){const s=this.getForeground(r),t=this.getFontStyle(r);let o=`color: ${n[s]};`;return t&1&&(o+="font-style: italic;"),t&2&&(o+="font-weight: bold;"),t&4&&(o+="text-decoration: underline;"),o}}e.TokenMetadata=C,e.completionKindToCssClass=function(){let d=Object.create(null);return d[0]="symbol-method",d[1]="symbol-function",d[2]="symbol-constructor",d[3]="symbol-field",d[4]="symbol-variable",d[5]="symbol-class",d[6]="symbol-struct",d[7]="symbol-interface",d[8]="symbol-module",d[9]="symbol-property",d[10]="symbol-event",d[11]="symbol-operator",d[12]="symbol-unit",d[13]="symbol-value",d[14]="symbol-constant",d[15]="symbol-enum",d[16]="symbol-enum-member",d[17]="symbol-keyword",d[27]="symbol-snippet",d[18]="symbol-text",d[19]="symbol-color",d[20]="symbol-file",d[21]="symbol-reference",d[22]="symbol-customcolor",d[23]="symbol-folder",d[24]="symbol-type-parameter",d[25]="account",d[26]="issues",function(r){const n=d[r];let s=n&&S.iconRegistry.get(n);return s||(console.info("No codicon found for CompletionItemKind "+r),s=S.Codicon.symbolProperty),s.classNames}}(),e.completionKindFromString=function(){let d=Object.create(null);return d.method=0,d.function=1,d.constructor=2,d.field=3,d.variable=4,d.class=5,d.struct=6,d.interface=7,d.module=8,d.property=9,d.event=10,d.operator=11,d.unit=12,d.value=13,d.constant=14,d.enum=15,d["enum-member"]=16,d.enumMember=16,d.keyword=17,d.snippet=27,d.text=18,d.color=19,d.file=20,d.reference=21,d.customcolor=22,d.folder=23,d["type-parameter"]=24,d.typeParameter=24,d.account=25,d.issue=26,function(r,n){let s=d[r];return typeof s=="undefined"&&!n&&(s=9),s}}();var i;(function(d){d[d.Invoke=1]="Invoke",d[d.TriggerCharacter=2]="TriggerCharacter",d[d.ContentChange=3]="ContentChange"})(i=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var _;(function(d){d[d.Text=0]="Text",d[d.Read=1]="Read",d[d.Write=2]="Write"})(_=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function u(d){return d&&v.URI.isUri(d.uri)&&I.Range.isIRange(d.range)&&(I.Range.isIRange(d.originSelectionRange)||I.Range.isIRange(d.targetSelectionRange))}e.isLocationLink=u;var a;(function(d){const r=new Map;r.set("file",0),r.set("module",1),r.set("namespace",2),r.set("package",3),r.set("class",4),r.set("method",5),r.set("property",6),r.set("field",7),r.set("constructor",8),r.set("enum",9),r.set("interface",10),r.set("function",11),r.set("variable",12),r.set("constant",13),r.set("string",14),r.set("number",15),r.set("boolean",16),r.set("array",17),r.set("object",18),r.set("key",19),r.set("null",20),r.set("enum-member",21),r.set("struct",22),r.set("event",23),r.set("operator",24),r.set("type-parameter",25);const n=new Map;n.set(0,"file"),n.set(1,"module"),n.set(2,"namespace"),n.set(3,"package"),n.set(4,"class"),n.set(5,"method"),n.set(6,"property"),n.set(7,"field"),n.set(8,"constructor"),n.set(9,"enum"),n.set(10,"interface"),n.set(11,"function"),n.set(12,"variable"),n.set(13,"constant"),n.set(14,"string"),n.set(15,"number"),n.set(16,"boolean"),n.set(17,"array"),n.set(18,"object"),n.set(19,"key"),n.set(20,"null"),n.set(21,"enum-member"),n.set(22,"struct"),n.set(23,"event"),n.set(24,"operator"),n.set(25,"type-parameter");function s(h){return r.get(h)}d.fromString=s;function t(h){return n.get(h)}d.toString=t;function o(h,f){const m=n.get(h);let g=m&&S.iconRegistry.get("symbol-"+m);return g||(console.info("No codicon found for SymbolKind "+h),g=S.Codicon.symbolProperty),`${f?"inline":"block"} ${g.classNames}`}d.toCssClassName=o})(a=e.SymbolKinds||(e.SymbolKinds={}));class l{constructor(r){this.value=r}}e.FoldingRangeKind=l,l.Comment=new l("comment"),l.Imports=new l("imports"),l.Region=new l("region");var c;(function(d){d[d.Other=0]="Other",d[d.Type=1]="Type",d[d.Parameter=2]="Parameter"})(c=e.InlineHintKind||(e.InlineHintKind={})),e.ReferenceProviderRegistry=new k.LanguageFeatureRegistry,e.RenameProviderRegistry=new k.LanguageFeatureRegistry,e.CompletionProviderRegistry=new k.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new k.LanguageFeatureRegistry,e.HoverProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new k.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new k.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new k.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new k.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new k.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new k.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new k.LanguageFeatureRegistry,e.InlineHintsProviderRegistry=new k.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new k.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new k.LanguageFeatureRegistry,e.LinkProviderRegistry=new k.LanguageFeatureRegistry,e.ColorProviderRegistry=new k.LanguageFeatureRegistry,e.SelectionRangeRegistry=new k.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new k.LanguageFeatureRegistry,e.TokenizationRegistry=new w.TokenizationRegistryImpl}),define(te[106],ie([0,1,18]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlicedLineTokens=e.LineTokens=void 0;class I{constructor(S,p){this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=p}equals(S){return S instanceof I?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,p,C){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const i=p<<1,_=i+(C<<1);for(let u=i;u<_;u++)if(this._tokens[u]!==S._tokens[u])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const p=this._tokens[(S<<1)+1];return v.TokenMetadata.getLanguageId(p)}getStandardTokenType(S){const p=this._tokens[(S<<1)+1];return v.TokenMetadata.getTokenType(p)}getForeground(S){const p=this._tokens[(S<<1)+1];return v.TokenMetadata.getForeground(p)}getClassName(S){const p=this._tokens[(S<<1)+1];return v.TokenMetadata.getClassNameFromMetadata(p)}getInlineStyle(S,p){const C=this._tokens[(S<<1)+1];return v.TokenMetadata.getInlineStyleFromMetadata(C,p)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return I.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,p,C){return new k(this,S,p,C)}static convertToEndOffset(S,p){const i=(S.length>>>1)-1;for(let _=0;_<i;_++)S[_<<1]=S[_+1<<1];S[i<<1]=p}static findIndexInTokensArray(S,p){if(S.length<=2)return 0;let C=0,i=(S.length>>>1)-1;for(;C<i;){const _=C+Math.floor((i-C)/2),u=S[_<<1];if(u===p)return _+1;u<p?C=_+1:u>p&&(i=_)}return C}}e.LineTokens=I;class k{constructor(S,p,C,i){this._source=S,this._startOffset=p,this._endOffset=C,this._deltaOffset=i,this._firstTokenIndex=S.findTokenIndexAtOffset(p),this._tokensCount=0;for(let _=this._firstTokenIndex,u=S.getCount();_<u&&!(S.getStartOffset(_)>=C);_++)this._tokensCount++}equals(S){return S instanceof k?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const p=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,p)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,p){return this._source.getInlineStyle(this._firstTokenIndex+S,p)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}e.SlicedLineTokens=k}),define(te[120],ie([0,1,19,106,14,3,18]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStore=e.TokensStore2=e.MultilineTokens=e.MultilineTokens2=e.LineTokens2=e.SparseEncodedTokens=e.MultilineTokensBuilder=e.countEOL=void 0;function p(s){let t=0,o=0,h=0,f=0;for(let m=0,g=s.length;m<g;m++){const b=s.charCodeAt(m);b===13?(t===0&&(o=m),t++,m+1<g&&s.charCodeAt(m+1)===10?(f|=2,m++):f|=3,h=m+1):b===10&&(f|=1,t===0&&(o=m),t++,h=m+1)}return t===0&&(o=s.length),[t,o,s.length-h,f]}e.countEOL=p;function C(s){return(s<<0|0<<8|0<<11|1<<14|2<<23)>>>0}const i=new Uint32Array(0).buffer;class _{constructor(){this.tokens=[]}add(t,o){if(this.tokens.length>0){const h=this.tokens[this.tokens.length-1];if(h.startLineNumber+h.tokens.length-1+1===t){h.tokens.push(o);return}}this.tokens.push(new c(t,[o]))}}e.MultilineTokensBuilder=_;class u{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){let o=[];for(let h=0;h<this._tokenCount;h++)o.push(`(${this._getDeltaLine(h)+t},${this._getStartCharacter(h)}-${this._getEndCharacter(h)})`);return`[${o.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return t===0?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(t===0)return null;const o=this._getStartCharacter(0),h=this._getDeltaLine(t-1),f=this._getEndCharacter(t-1);return new w.Range(0,o+1,h,f+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(t){let o=0,h=this._getTokenCount()-1;for(;o<h;){const f=o+Math.floor((h-o)/2),m=this._getDeltaLine(f);if(m<t)o=f+1;else if(m>t)h=f-1;else{let g=f;for(;g>o&&this._getDeltaLine(g-1)===t;)g--;let b=f;for(;b<h&&this._getDeltaLine(b+1)===t;)b++;return new a(this._tokens.subarray(4*g,4*b+4))}}return this._getDeltaLine(o)===t?new a(this._tokens.subarray(4*o,4*o+4)):null}clear(){this._tokenCount=0}removeTokens(t,o,h,f){const m=this._tokens,g=this._tokenCount;let b=0,y=!1,L=0;for(let N=0;N<g;N++){const M=4*N,D=m[M],R=m[M+1],P=m[M+2],O=m[M+3];if((D>t||D===t&&P>=o)&&(D<h||D===h&&R<=f))y=!0;else{if(b===0&&(L=D),y){const W=4*b;m[W]=D-L,m[W+1]=R,m[W+2]=P,m[W+3]=O}b++}}return this._tokenCount=b,L}split(t,o,h,f){const m=this._tokens,g=this._tokenCount;let b=[],y=[],L=b,N=0,M=0;for(let D=0;D<g;D++){const R=4*D,P=m[R],O=m[R+1],W=m[R+2],F=m[R+3];if(P>t||P===t&&W>=o){if(P<h||P===h&&O<=f)continue;L!==y&&(L=y,N=0,M=P)}L[N++]=P-M,L[N++]=O,L[N++]=W,L[N++]=F}return[new u(new Uint32Array(b)),new u(new Uint32Array(y)),M]}acceptDeleteRange(t,o,h,f,m){const g=this._tokens,b=this._tokenCount,y=f-o;let L=0,N=!1;for(let M=0;M<b;M++){const D=4*M;let R=g[D],P=g[D+1],O=g[D+2];const W=g[D+3];if(R<o||R===o&&O<=h){L++;continue}else if(R===o&&P<h)R===f&&O>m?O-=m-h:O=h;else if(R===o&&P===h)if(R===f&&O>m)O-=m-h;else{N=!0;continue}else if(R<f||R===f&&P<m)if(R===f&&O>m)R===o?(P=h,O=P+(O-m)):(P=0,O=P+(O-m));else{N=!0;continue}else if(R>f){if(y===0&&!N){L=b;break}R-=y}else if(R===f&&P>=m)t&&R===0&&(P+=t,O+=t),R-=y,P-=m-h,O-=m-h;else throw new Error("Not possible!");const F=4*L;g[F]=R,g[F+1]=P,g[F+2]=O,g[F+3]=W,L++}this._tokenCount=L}acceptInsertText(t,o,h,f,m,g){const b=h===0&&f===1&&(g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122),y=this._tokens,L=this._tokenCount;for(let N=0;N<L;N++){const M=4*N;let D=y[M],R=y[M+1],P=y[M+2];if(!(D<t||D===t&&P<o)){if(D===t&&P===o)if(b)P+=1;else continue;else if(D===t&&R<o&&o<P)h===0?P+=f:P=o;else{if(D===t&&R===o&&b)continue;if(D===t)if(D+=h,h===0)R+=f,P+=f;else{const O=P-R;R=m+(R-o),P=R+O}else D+=h}y[M]=D,y[M+1]=R,y[M+2]=P}}}}e.SparseEncodedTokens=u;class a{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}e.LineTokens2=a;class l{constructor(t,o){this.startLineNumber=t,this.tokens=o,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(t){return this.startLineNumber<=t&&t<=this.endLineNumber?this.tokens.getLineTokens(t-this.startLineNumber):null}getRange(){const t=this.tokens.getRange();return t&&new w.Range(this.startLineNumber+t.startLineNumber,t.startColumn,this.startLineNumber+t.endLineNumber,t.endColumn)}removeTokens(t){const o=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(o,t.startColumn-1,h,t.endColumn-1),this._updateEndLineNumber()}split(t){const o=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber,[f,m,g]=this.tokens.split(o,t.startColumn-1,h,t.endColumn-1);return[new l(this.startLineNumber,f),new l(this.startLineNumber+g,m)]}applyEdit(t,o){const[h,f,m]=p(o);this.acceptEdit(t,h,f,m,o.length>0?o.charCodeAt(0):0)}acceptEdit(t,o,h,f,m){this._acceptDeleteRange(t),this._acceptInsertText(new k.Position(t.startLineNumber,t.startColumn),o,h,f,m),this._updateEndLineNumber()}_acceptDeleteRange(t){if(!(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)){const o=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;if(h<0){const m=h-o;this.startLineNumber-=m;return}const f=this.tokens.getMaxDeltaLine();if(!(o>=f+1)){if(o<0&&h>=f+1){this.startLineNumber=0,this.tokens.clear();return}if(o<0){const m=-o;this.startLineNumber-=m,this.tokens.acceptDeleteRange(t.startColumn-1,0,0,h,t.endColumn-1)}else this.tokens.acceptDeleteRange(0,o,t.startColumn-1,h,t.endColumn-1)}}}_acceptInsertText(t,o,h,f,m){if(!(o===0&&h===0)){const g=t.lineNumber-this.startLineNumber;if(g<0){this.startLineNumber+=o;return}const b=this.tokens.getMaxDeltaLine();g>=b+1||this.tokens.acceptInsertText(g,t.column-1,o,h,f,m)}}}e.MultilineTokens2=l;class c{constructor(t,o){this.startLineNumber=t,this.tokens=o}}e.MultilineTokens=c;function d(s){return s instanceof Uint32Array?s:new Uint32Array(s)}class r{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(t,o){this._pieces=t||[],this._isComplete=o}setPartial(t,o){let h=t;if(o.length>0){const m=o[0].getRange(),g=o[o.length-1].getRange();if(!m||!g)return t;h=t.plusRange(m).plusRange(g)}let f=null;for(let m=0,g=this._pieces.length;m<g;m++){const b=this._pieces[m];if(!(b.endLineNumber<h.startLineNumber)){if(b.startLineNumber>h.endLineNumber){f=f||{index:m};break}if(b.removeTokens(h),b.isEmpty()){this._pieces.splice(m,1),m--,g--;continue}if(!(b.endLineNumber<h.startLineNumber)){if(b.startLineNumber>h.endLineNumber){f=f||{index:m};continue}const[y,L]=b.split(h);if(y.isEmpty()){f=f||{index:m};continue}L.isEmpty()||(this._pieces.splice(m,1,y,L),m++,g++,f=f||{index:m})}}}return f=f||{index:this._pieces.length},o.length>0&&(this._pieces=v.arrayInsert(this._pieces,f.index,o)),h}isComplete(){return this._isComplete}addSemanticTokens(t,o){const h=this._pieces;if(h.length===0)return o;const f=r._findFirstPieceWithLine(h,t),m=h[f].getLineTokens(t);if(!m)return o;const g=o.getCount(),b=m.getCount();let y=0,L=[],N=0,M=0;const D=(R,P)=>{R!==M&&(M=R,L[N++]=R,L[N++]=P)};for(let R=0;R<b;R++){const P=m.getStartCharacter(R),O=m.getEndCharacter(R),W=m.getMetadata(R),F=((W&1?2048:0)|(W&2?4096:0)|(W&4?8192:0)|(W&8?8372224:0)|(W&16?4286578688:0))>>>0,E=~F>>>0;for(;y<g&&o.getEndOffset(y)<=P;)D(o.getEndOffset(y),o.getMetadata(y)),y++;for(y<g&&o.getStartOffset(y)<P&&D(P,o.getMetadata(y));y<g&&o.getEndOffset(y)<O;)D(o.getEndOffset(y),o.getMetadata(y)&E|W&F),y++;if(y<g)D(O,o.getMetadata(y)&E|W&F),o.getEndOffset(y)===O&&y++;else{const A=Math.min(Math.max(0,y-1),g-1);D(O,o.getMetadata(A)&E|W&F)}}for(;y<g;)D(o.getEndOffset(y),o.getMetadata(y)),y++;return new I.LineTokens(new Uint32Array(L),o.getLineContent())}static _findFirstPieceWithLine(t,o){let h=0,f=t.length-1;for(;h<f;){let m=h+Math.floor((f-h)/2);if(t[m].endLineNumber<o)h=m+1;else if(t[m].startLineNumber>o)f=m-1;else{for(;m>h&&t[m-1].startLineNumber<=o&&o<=t[m-1].endLineNumber;)m--;return m}}return h}acceptEdit(t,o,h,f,m){for(const g of this._pieces)g.acceptEdit(t,o,h,f,m)}}e.TokensStore2=r;class n{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(t,o,h){let f=null;if(o<this._len&&(f=this._lineTokens[o]),f!==null&&f!==i)return new I.LineTokens(d(f),h);let m=new Uint32Array(2);return m[0]=h.length,m[1]=C(t),new I.LineTokens(m,h)}static _massageTokens(t,o,h){const f=h?d(h):null;if(o===0){let m=!1;if(f&&f.length>1&&(m=S.TokenMetadata.getLanguageId(f[1])!==t),!m)return i}if(!f||f.length===0){const m=new Uint32Array(2);return m[0]=o,m[1]=C(t),m.buffer}return f[f.length-2]=o,f.byteOffset===0&&f.byteLength===f.buffer.byteLength?f.buffer:f}_ensureLine(t){for(;t>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(t,o){o!==0&&(t+o>this._len&&(o=this._len-t),this._lineTokens.splice(t,o),this._len-=o)}_insertLines(t,o){if(o!==0){let h=[];for(let f=0;f<o;f++)h[f]=null;this._lineTokens=v.arrayInsert(this._lineTokens,t,h),this._len+=o}}setTokens(t,o,h,f,m){const g=n._massageTokens(t,h,f);this._ensureLine(o);const b=this._lineTokens[o];return this._lineTokens[o]=g,m?!n._equals(b,g):!1}static _equals(t,o){if(!t||!o)return!t&&!o;const h=d(t),f=d(o);if(h.length!==f.length)return!1;for(let m=0,g=h.length;m<g;m++)if(h[m]!==f[m])return!1;return!0}acceptEdit(t,o,h){this._acceptDeleteRange(t),this._acceptInsertText(new k.Position(t.startLineNumber,t.startColumn),o,h)}_acceptDeleteRange(t){const o=t.startLineNumber-1;if(!(o>=this._len)){if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._lineTokens[o]=n._delete(this._lineTokens[o],t.startColumn-1,t.endColumn-1);return}this._lineTokens[o]=n._deleteEnding(this._lineTokens[o],t.startColumn-1);const h=t.endLineNumber-1;let f=null;h<this._len&&(f=n._deleteBeginning(this._lineTokens[h],t.endColumn-1)),this._lineTokens[o]=n._append(this._lineTokens[o],f),this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)}}_acceptInsertText(t,o,h){if(!(o===0&&h===0)){const f=t.lineNumber-1;if(!(f>=this._len)){if(o===0){this._lineTokens[f]=n._insert(this._lineTokens[f],t.column-1,h);return}this._lineTokens[f]=n._deleteEnding(this._lineTokens[f],t.column-1),this._lineTokens[f]=n._insert(this._lineTokens[f],t.column-1,h),this._insertLines(t.lineNumber,o)}}}static _deleteBeginning(t,o){return t===null||t===i?t:n._delete(t,0,o)}static _deleteEnding(t,o){if(t===null||t===i)return t;const h=d(t),f=h[h.length-2];return n._delete(t,o,f)}static _delete(t,o,h){if(t===null||t===i||o===h)return t;const f=d(t),m=f.length>>>1;if(o===0&&f[f.length-2]===h)return i;const g=I.LineTokens.findIndexInTokensArray(f,o),b=g>0?f[g-1<<1]:0,y=f[g<<1];if(h<y){const R=h-o;for(let P=g;P<m;P++)f[P<<1]-=R;return t}let L,N;b!==o?(f[g<<1]=o,L=g+1<<1,N=o):(L=g<<1,N=b);const M=h-o;for(let R=g+1;R<m;R++){const P=f[R<<1]-M;P>N&&(f[L++]=P,f[L++]=f[(R<<1)+1],N=P)}if(L===f.length)return t;let D=new Uint32Array(L);return D.set(f.subarray(0,L),0),D.buffer}static _append(t,o){if(o===i)return t;if(t===i)return o;if(t===null)return t;if(o===null)return null;const h=d(t),f=d(o),m=f.length>>>1;let g=new Uint32Array(h.length+f.length);g.set(h,0);let b=h.length;const y=h[h.length-2];for(let L=0;L<m;L++)g[b++]=f[L<<1]+y,g[b++]=f[(L<<1)+1];return g.buffer}static _insert(t,o,h){if(t===null||t===i)return t;const f=d(t),m=f.length>>>1;let g=I.LineTokens.findIndexInTokensArray(f,o);g>0&&f[g-1<<1]===o&&g--;for(let b=g;b<m;b++)f[b<<1]+=h;return t}}e.TokensStore=n}),define(te[205],ie([0,1,6,8,3,50,227,120,228,2]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class _ extends i.Disposable{constructor(a,l,c,d,r,n,s){super();this._onDidChangeContent=this._register(new v.Emitter),this._BOM=l,this._mightContainNonBasicASCII=!n,this._mightContainRTL=d,this._mightContainUnusualLineTerminators=r,this._pieceTree=new S.PieceTreeBase(a,c,s)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(a){return this._pieceTree.createSnapshot(a?this._BOM:"")}getOffsetAt(a,l){return this._pieceTree.getOffsetAt(a,l)}getPositionAt(a){return this._pieceTree.getPositionAt(a)}getRangeAt(a,l){let c=a+l;const d=this.getPositionAt(a),r=this.getPositionAt(c);return new k.Range(d.lineNumber,d.column,r.lineNumber,r.column)}getValueInRange(a,l=0){if(a.isEmpty())return"";const c=this._getEndOfLine(l);return this._pieceTree.getValueInRange(a,c)}getValueLengthInRange(a,l=0){if(a.isEmpty())return 0;if(a.startLineNumber===a.endLineNumber)return a.endColumn-a.startColumn;let c=this.getOffsetAt(a.startLineNumber,a.startColumn);return this.getOffsetAt(a.endLineNumber,a.endColumn)-c}getCharacterCountInRange(a,l=0){if(this._mightContainNonBasicASCII){let c=0;const d=a.startLineNumber,r=a.endLineNumber;for(let n=d;n<=r;n++){const s=this.getLineContent(n),t=n===d?a.startColumn-1:0,o=n===r?a.endColumn-1:s.length;for(let h=t;h<o;h++)I.isHighSurrogate(s.charCodeAt(h))?(c=c+1,h=h+1):c=c+1}return c+=this._getEndOfLine(l).length*(r-d),c}return this.getValueLengthInRange(a,l)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(a){return this._pieceTree.getLineContent(a)}getLineCharCode(a,l){return this._pieceTree.getLineCharCode(a,l)}getLineLength(a){return this._pieceTree.getLineLength(a)}getLineFirstNonWhitespaceColumn(a){const l=I.firstNonWhitespaceIndex(this.getLineContent(a));return l===-1?0:l+1}getLineLastNonWhitespaceColumn(a){const l=I.lastNonWhitespaceIndex(this.getLineContent(a));return l===-1?0:l+2}_getEndOfLine(a){switch(a){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(a){this._pieceTree.setEOL(a)}applyEdits(a,l,c){let d=this._mightContainRTL,r=this._mightContainUnusualLineTerminators,n=this._mightContainNonBasicASCII,s=!0,t=[];for(let y=0;y<a.length;y++){let L=a[y];s&&L._isTracked&&(s=!1);let N=L.range;if(L.text){let O=!0;n||(O=!I.isBasicASCII(L.text),n=O),!d&&O&&(d=I.containsRTL(L.text)),!r&&O&&(r=I.containsUnusualLineTerminators(L.text))}let M="",D=0,R=0,P=0;if(L.text){let O;[D,R,P,O]=(0,p.countEOL)(L.text);const W=this.getEOL();O===0||O===(W===`\r
`?2:1)?M=L.text:M=L.text.replace(/\r\n|\r|\n/g,W)}t[y]={sortIndex:y,identifier:L.identifier||null,range:N,rangeOffset:this.getOffsetAt(N.startLineNumber,N.startColumn),rangeLength:this.getValueLengthInRange(N),text:M,eolCount:D,firstLineLength:R,lastLineLength:P,forceMoveMarkers:Boolean(L.forceMoveMarkers),isAutoWhitespaceEdit:L.isAutoWhitespaceEdit||!1}}t.sort(_._sortOpsAscending);let o=!1;for(let y=0,L=t.length-1;y<L;y++){let N=t[y].range.getEndPosition(),M=t[y+1].range.getStartPosition();if(M.isBeforeOrEqual(N)){if(M.isBefore(N))throw new Error("Overlapping ranges are not allowed!");o=!0}}s&&(t=this._reduceOperations(t));let h=c||l?_._getInverseEditRanges(t):[],f=[];if(l)for(let y=0;y<t.length;y++){let L=t[y],N=h[y];if(L.isAutoWhitespaceEdit&&L.range.isEmpty())for(let M=N.startLineNumber;M<=N.endLineNumber;M++){let D="";M===N.startLineNumber&&(D=this.getLineContent(L.range.startLineNumber),I.firstNonWhitespaceIndex(D)!==-1)||f.push({lineNumber:M,oldContent:D})}}let m=null;if(c){let y=0;m=[];for(let L=0;L<t.length;L++){const N=t[L],M=h[L],D=this.getValueInRange(N.range),R=N.rangeOffset+y;y+=N.text.length-D.length,m[L]={sortIndex:N.sortIndex,identifier:N.identifier,range:M,text:D,textChange:new C.TextChange(N.rangeOffset,D,R,N.text)}}o||m.sort((L,N)=>L.sortIndex-N.sortIndex)}this._mightContainRTL=d,this._mightContainUnusualLineTerminators=r,this._mightContainNonBasicASCII=n;const g=this._doApplyEdits(t);let b=null;if(l&&f.length>0){f.sort((y,L)=>L.lineNumber-y.lineNumber),b=[];for(let y=0,L=f.length;y<L;y++){let N=f[y].lineNumber;if(!(y>0&&f[y-1].lineNumber===N)){let M=f[y].oldContent,D=this.getLineContent(N);D.length===0||D===M||I.firstNonWhitespaceIndex(D)!==-1||b.push(N)}}}return this._onDidChangeContent.fire(),new w.ApplyEditsResult(m,g,b)}_reduceOperations(a){return a.length<1e3?a:[this._toSingleEditOperation(a)]}_toSingleEditOperation(a){let l=!1;const c=a[0].range,d=a[a.length-1].range,r=new k.Range(c.startLineNumber,c.startColumn,d.endLineNumber,d.endColumn);let n=c.startLineNumber,s=c.startColumn;const t=[];for(let g=0,b=a.length;g<b;g++){const y=a[g],L=y.range;l=l||y.forceMoveMarkers,t.push(this.getValueInRange(new k.Range(n,s,L.startLineNumber,L.startColumn))),y.text.length>0&&t.push(y.text),n=L.endLineNumber,s=L.endColumn}const o=t.join(""),[h,f,m]=(0,p.countEOL)(o);return{sortIndex:0,identifier:a[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:o,eolCount:h,firstLineLength:f,lastLineLength:m,forceMoveMarkers:l,isAutoWhitespaceEdit:!1}}_doApplyEdits(a){a.sort(_._sortOpsDescending);let l=[];for(let c=0;c<a.length;c++){let d=a[c];const r=d.range.startLineNumber,n=d.range.startColumn,s=d.range.endLineNumber,t=d.range.endColumn;if(!(r===s&&n===t&&d.text.length===0)){d.text?(this._pieceTree.delete(d.rangeOffset,d.rangeLength),this._pieceTree.insert(d.rangeOffset,d.text,!0)):this._pieceTree.delete(d.rangeOffset,d.rangeLength);const o=new k.Range(r,n,s,t);l.push({range:o,rangeLength:d.rangeLength,text:d.text,rangeOffset:d.rangeOffset,forceMoveMarkers:d.forceMoveMarkers})}}return l}findMatchesLineByLine(a,l,c,d){return this._pieceTree.findMatchesLineByLine(a,l,c,d)}static _getInverseEditRanges(a){let l=[],c=0,d=0,r=null;for(let n=0,s=a.length;n<s;n++){let t=a[n],o,h;r?r.range.endLineNumber===t.range.startLineNumber?(o=c,h=d+(t.range.startColumn-r.range.endColumn)):(o=c+(t.range.startLineNumber-r.range.endLineNumber),h=t.range.startColumn):(o=t.range.startLineNumber,h=t.range.startColumn);let f;if(t.text.length>0){const m=t.eolCount+1;m===1?f=new k.Range(o,h,o,h+t.firstLineLength):f=new k.Range(o,h,o+m-1,t.lastLineLength+1)}else f=new k.Range(o,h,o,h);c=f.endLineNumber,d=f.endColumn,l.push(f),r=t}return l}static _sortOpsAscending(a,l){let c=k.Range.compareRangesUsingEnds(a.range,l.range);return c===0?a.sortIndex-l.sortIndex:c}static _sortOpsDescending(a,l){let c=k.Range.compareRangesUsingEnds(a.range,l.range);return c===0?l.sortIndex-a.sortIndex:-c}}e.PieceTreeTextBuffer=_}),define(te[438],ie([0,1,8,227,205]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class w{constructor(C,i,_,u,a,l,c,d,r){this._chunks=C,this._bom=i,this._cr=_,this._lf=u,this._crlf=a,this._containsRTL=l,this._containsUnusualLineTerminators=c,this._isBasicASCII=d,this._normalizeEOL=r}_getEOL(C){const i=this._cr+this._lf+this._crlf,_=this._cr+this._crlf;return i===0?C===1?`
`:`\r
`:_>i/2?`\r
`:`
`}create(C){const i=this._getEOL(C);let _=this._chunks;if(this._normalizeEOL&&(i===`\r
`&&(this._cr>0||this._lf>0)||i===`
`&&(this._cr>0||this._crlf>0)))for(let a=0,l=_.length;a<l;a++){let c=_[a].buffer.replace(/\r\n|\r|\n/g,i),d=(0,I.createLineStartsFast)(c);_[a]=new I.StringBuffer(c,d)}const u=new k.PieceTreeTextBuffer(_,this._bom,i,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:u,disposable:u}}}e.PieceTreeTextBufferFactory=w;class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(C){if(C.length!==0){this.chunks.length===0&&v.startsWithUTF8BOM(C)&&(this.BOM=v.UTF8_BOM_CHARACTER,C=C.substr(1));const i=C.charCodeAt(C.length-1);i===13||i>=55296&&i<=56319?(this._acceptChunk1(C.substr(0,C.length-1),!1),this._hasPreviousChar=!0,this._previousChar=i):(this._acceptChunk1(C,!1),this._hasPreviousChar=!1,this._previousChar=i)}}_acceptChunk1(C,i){!i&&C.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+C):this._acceptChunk2(C))}_acceptChunk2(C){const i=(0,I.createLineStarts)(this._tmpLineStarts,C);this.chunks.push(new I.StringBuffer(C,i.lineStarts)),this.cr+=i.cr,this.lf+=i.lf,this.crlf+=i.crlf,this.isBasicASCII&&(this.isBasicASCII=i.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=v.containsRTL(C)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=v.containsUnusualLineTerminators(C))}finish(C=!0){return this._finish(),new w(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,C)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let C=this.chunks[this.chunks.length-1];C.buffer+=String.fromCharCode(this._previousChar);let i=(0,I.createLineStartsFast)(C.buffer);C.lineStarts=i,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(te[72],ie([0,1,128,18]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenize2=e.nullTokenize=e.NULL_LANGUAGE_IDENTIFIER=e.NULL_MODE_ID=e.NULL_STATE=void 0;class k{clone(){return this}equals(C){return this===C}}e.NULL_STATE=new k,e.NULL_MODE_ID="vs.editor.nullMode",e.NULL_LANGUAGE_IDENTIFIER=new I.LanguageIdentifier(e.NULL_MODE_ID,0);function w(p,C,i,_){return new v.TokenizationResult([new v.Token(_,"",p)],i)}e.nullTokenize=w;function S(p,C,i,_){let u=new Uint32Array(2);return u[0]=_,u[1]=(p<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new v.TokenizationResult2(u,i===null?e.NULL_STATE:i)}e.nullTokenize2=S}),define(te[440],ie([0,1,19,11,106,14,18,72,2,82,120,17]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class a{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(n){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,n&&this._setBeginState(0,n)}flush(n){this._reset(n)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(n){n<this._len&&(this._valid[n]=!1),n<this._invalidLineStartIndex&&(this._invalidLineStartIndex=n)}_isValid(n){return n<this._len?this._valid[n]:!1}getBeginState(n){return n<this._len?this._beginState[n]:null}_ensureLine(n){for(;n>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(n,s){s!==0&&(n+s>this._len&&(s=this._len-n),this._beginState.splice(n,s),this._valid.splice(n,s),this._len-=s)}_insertLines(n,s){if(s!==0){let t=[],o=[];for(let h=0;h<s;h++)t[h]=null,o[h]=!1;this._beginState=v.arrayInsert(this._beginState,n,t),this._valid=v.arrayInsert(this._valid,n,o),this._len+=s}}_setValid(n,s){this._ensureLine(n),this._valid[n]=s}_setBeginState(n,s){this._ensureLine(n),this._beginState[n]=s}setEndState(n,s,t){if(this._setValid(s,!0),this._invalidLineStartIndex=s+1,s!==n-1){const o=this.getBeginState(s+1);if(o===null||!t.equals(o)){this._setBeginState(s+1,t),this._invalidateLine(s+1);return}let h=s+1;for(;h<n&&this._isValid(h);)h++;this._invalidLineStartIndex=h}}setFakeTokens(n){this._setValid(n,!1)}applyEdits(n,s){const t=n.endLineNumber-n.startLineNumber,h=Math.min(t,s);for(let f=h;f>=0;f--)this._invalidateLine(n.startLineNumber+f-1);this._acceptDeleteRange(n),this._acceptInsertText(new w.Position(n.startLineNumber,n.startColumn),s)}_acceptDeleteRange(n){n.startLineNumber-1>=this._len||this._deleteLines(n.startLineNumber,n.endLineNumber-n.startLineNumber)}_acceptInsertText(n,s){n.lineNumber-1>=this._len||this._insertLines(n.lineNumber,s)}}e.TokenizationStateStore=a;class l extends C.Disposable{constructor(n){super();this._isDisposed=!1,this._textModel=n,this._tokenizationStateStore=new a,this._tokenizationSupport=null,this._register(S.TokenizationRegistry.onDidChange(s=>{const t=this._textModel.getLanguageIdentifier();s.changedLanguages.indexOf(t.language)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeRawContentFast(s=>{if(s.containsEvent(1)){this._resetTokenizationState();return}})),this._register(this._textModel.onDidChangeContentFast(s=>{for(let t=0,o=s.changes.length;t<o;t++){const h=s.changes[t],[f]=(0,_.countEOL)(h.text);this._tokenizationStateStore.applyEdits(h.range,f)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[n,s]=c(this._textModel);this._tokenizationSupport=n,this._tokenizationStateStore.flush(s),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&u.setImmediate(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(n=this._textModel.getLineCount()){const s=1,t=new _.MultilineTokensBuilder,o=i.StopWatch.create(!1);for(;this._hasLinesToTokenize()&&!(o.elapsed()>s||this._tokenizeOneInvalidLine(t)>=n););this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens)}tokenizeViewport(n,s){const t=new _.MultilineTokensBuilder;this._tokenizeViewport(t,n,s),this._textModel.setTokens(t.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(n){const s=new _.MultilineTokensBuilder;this._updateTokensUntilLine(s,n),this._textModel.setTokens(s.tokens)}isCheapToTokenize(n){if(!this._tokenizationSupport)return!0;const s=this._tokenizationStateStore.invalidLineStartIndex+1;return n>s?!1:n<s||this._textModel.getLineLength(n)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(n){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const s=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(n,s),s}_updateTokensUntilLine(n,s){if(!!this._tokenizationSupport){const t=this._textModel.getLanguageIdentifier(),o=this._textModel.getLineCount(),h=s-1;for(let f=this._tokenizationStateStore.invalidLineStartIndex;f<=h;f++){const m=this._textModel.getLineContent(f+1),g=this._tokenizationStateStore.getBeginState(f),b=d(t,this._tokenizationSupport,m,!0,g);n.add(f+1,b.tokens),this._tokenizationStateStore.setEndState(o,f,b.endState),f=this._tokenizationStateStore.invalidLineStartIndex-1}}}_tokenizeViewport(n,s,t){if(!!this._tokenizationSupport&&!(t<=this._tokenizationStateStore.invalidLineStartIndex)){if(s<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(n,t);return}let o=this._textModel.getLineFirstNonWhitespaceColumn(s),h=[],f=null;for(let b=s-1;o>0&&b>=1;b--){let y=this._textModel.getLineFirstNonWhitespaceColumn(b);if(y!==0&&y<o){if(f=this._tokenizationStateStore.getBeginState(b-1),f)break;h.push(this._textModel.getLineContent(b)),o=y}}f||(f=this._tokenizationSupport.getInitialState());const m=this._textModel.getLanguageIdentifier();let g=f;for(let b=h.length-1;b>=0;b--)g=d(m,this._tokenizationSupport,h[b],!1,g).endState;for(let b=s;b<=t;b++){let y=this._textModel.getLineContent(b),L=d(m,this._tokenizationSupport,y,!0,g);n.add(b,L.tokens),this._tokenizationStateStore.setFakeTokens(b-1),g=L.endState}}}}e.TextModelTokenization=l;function c(r){const n=r.getLanguageIdentifier();let s=r.isTooLargeForTokenization()?null:S.TokenizationRegistry.get(n.language),t=null;if(s)try{t=s.getInitialState()}catch(o){(0,I.onUnexpectedError)(o),s=null}return[s,t]}function d(r,n,s,t,o){let h=null;if(n)try{h=n.tokenize2(s,t,o.clone(),0)}catch(f){(0,I.onUnexpectedError)(f)}return h||(h=(0,p.nullTokenize2)(r.id,s,o,0)),k.LineTokens.convertToEndOffset(h.tokens,s.length),h}}),define(te[31],ie([0,1,11,6,2,8,23,38,14,3,21,50,209,488,489,438,495,187,440,126,42,72,193,150,120,29,205]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m,g,b,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function L(){return new d.PieceTreeTextBufferBuilder}function N(Z){const T=L();return T.acceptChunk(Z),T.finish()}e.createTextBufferFactory=N;function M(Z,T){return(typeof Z=="string"?N(Z):Z).create(T)}e.createTextBuffer=M;let D=0;const R=999;e.LONG_LINE_BOUNDARY=1e4;class P{constructor(T){this._source=T,this._eos=!1}read(){if(this._eos)return null;let T=[],x=0,H=0;do{let V=this._source.read();if(V===null)return this._eos=!0,x===0?null:T.join("");if(V.length>0&&(T[x++]=V,H+=V.length),H>=64*1024)return T.join("")}while(!0)}}const O=()=>{throw new Error("Invalid change accessor")};class W{constructor(){this._searchCanceledBrand=void 0}}W.INSTANCE=new W;function F(Z){return Z instanceof W?null:Z}class E extends k.Disposable{constructor(T,x,H,V=null,q){super();this._onWillDispose=this._register(new I.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ae),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new I.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new I.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new I.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new I.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new I.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._eventEmitter=this._register(new se),D++,this.id="$model"+D,this.isForSimpleWidget=x.isForSimpleWidget,typeof V=="undefined"||V===null?this._associatedResource=S.URI.parse("inmemory://model/"+D):this._associatedResource=V,this._undoRedoService=q,this._attachedEditorCount=0;const{textBuffer:ee,disposable:oe}=M(T,x.defaultEOL);this._buffer=ee,this._bufferDisposable=oe,this._options=E.resolveOptions(this._buffer,x);const le=this._buffer.getLineCount(),Y=this._buffer.getValueLengthInRange(new i.Range(1,1,le,this._buffer.getLineLength(le)+1),0);x.largeFileOptimizations?this._isTooLargeForTokenization=Y>E.LARGE_FILE_SIZE_THRESHOLD||le>E.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Y>E.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=H||h.NULL_LANGUAGE_IDENTIFIER,this._languageRegistryListener=o.LanguageConfigurationRegistry.onDidChange(j=>{j.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=w.singleLetterHash(D),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new A,this._commandManager=new a.EditStack(this,q),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new g.TokensStore,this._tokens2=new g.TokensStore2,this._tokenization=new s.TextModelTokenization(this)}static resolveOptions(T,x){if(x.detectIndentation){const H=(0,l.guessIndentation)(T,x.tabSize,x.insertSpaces);return new u.TextModelResolvedOptions({tabSize:H.tabSize,indentSize:H.tabSize,insertSpaces:H.insertSpaces,trimAutoWhitespace:x.trimAutoWhitespace,defaultEOL:x.defaultEOL})}return new u.TextModelResolvedOptions({tabSize:x.tabSize,indentSize:x.indentSize,insertSpaces:x.insertSpaces,trimAutoWhitespace:x.trimAutoWhitespace,defaultEOL:x.defaultEOL})}onDidChangeRawContentFast(T){return this._eventEmitter.fastEvent(x=>T(x.rawContentChangedEvent))}onDidChangeContentFast(T){return this._eventEmitter.fastEvent(x=>T(x.contentChangedEvent))}onDidChangeContent(T){return this._eventEmitter.slowEvent(x=>T(x.contentChangedEvent))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const T=new y.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);T.dispose(),this._buffer=T}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(T,x){this._isDisposing||this._eventEmitter.fire(new r.InternalModelContentChangeEvent(T,x))}setValue(T){if(this._assertNotDisposed(),T!==null){const{textBuffer:x,disposable:H}=M(T,this._options.defaultEOL);this._setValueFromTextBuffer(x,H)}}_createContentChanged2(T,x,H,V,q,ee,oe){return{changes:[{range:T,rangeOffset:x,rangeLength:H,text:V}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:q,isRedoing:ee,isFlush:oe}}_setValueFromTextBuffer(T,x){this._assertNotDisposed();const H=this.getFullModelRange(),V=this.getValueLengthInRange(H),q=this.getLineCount(),ee=this.getLineMaxColumn(q);this._buffer=T,this._bufferDisposable.dispose(),this._bufferDisposable=x,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new A,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new r.ModelRawContentChangedEvent([new r.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,q,ee),0,V,this.getValue(),!1,!1,!0))}setEOL(T){this._assertNotDisposed();const x=T===1?`\r
`:`
`;if(this._buffer.getEOL()!==x){const H=this.getFullModelRange(),V=this.getValueLengthInRange(H),q=this.getLineCount(),ee=this.getLineMaxColumn(q);this._onBeforeEOLChange(),this._buffer.setEOL(x),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new r.ModelRawContentChangedEvent([new r.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,q,ee),0,V,this.getValue(),!1,!1,!1))}}_onBeforeEOLChange(){const T=this.getVersionId(),x=this._decorationsTree.search(0,!1,!1,T);this._ensureNodesHaveRanges(x)}_onAfterEOLChange(){const T=this.getVersionId(),x=this._decorationsTree.collectNodesPostOrder();for(let H=0,V=x.length;H<V;H++){const q=x[H],ee=q.cachedAbsoluteStart-q.start,oe=this._buffer.getOffsetAt(q.range.startLineNumber,q.range.startColumn),le=this._buffer.getOffsetAt(q.range.endLineNumber,q.range.endColumn);q.cachedAbsoluteStart=oe,q.cachedAbsoluteEnd=le,q.cachedVersionId=T,q.start=oe-ee,q.end=le-ee,(0,c.recomputeMaxEnd)(q)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let T=0,x=0;const H=this._buffer.getLineCount();for(let V=1;V<=H;V++){const q=this._buffer.getLineLength(V);q>=e.LONG_LINE_BOUNDARY?x+=q:T+=q}return x>T}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(T){this._assertNotDisposed();let x=typeof T.tabSize!="undefined"?T.tabSize:this._options.tabSize,H=typeof T.indentSize!="undefined"?T.indentSize:this._options.indentSize,V=typeof T.insertSpaces!="undefined"?T.insertSpaces:this._options.insertSpaces,q=typeof T.trimAutoWhitespace!="undefined"?T.trimAutoWhitespace:this._options.trimAutoWhitespace,ee=new u.TextModelResolvedOptions({tabSize:x,indentSize:H,insertSpaces:V,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:q});if(!this._options.equals(ee)){let oe=this._options.createChangeEvent(ee);this._options=ee,this._onDidChangeOptions.fire(oe)}}detectIndentation(T,x){this._assertNotDisposed();let H=(0,l.guessIndentation)(this._buffer,x,T);this.updateOptions({insertSpaces:H.insertSpaces,tabSize:H.tabSize,indentSize:H.tabSize})}static _normalizeIndentationFromWhitespace(T,x,H){let V=0;for(let ee=0;ee<T.length;ee++)T.charAt(ee)==="	"?V+=x:V++;let q="";if(!H){let ee=Math.floor(V/x);V=V%x;for(let oe=0;oe<ee;oe++)q+="	"}for(let ee=0;ee<V;ee++)q+=" ";return q}static normalizeIndentation(T,x,H){let V=w.firstNonWhitespaceIndex(T);return V===-1&&(V=T.length),E._normalizeIndentationFromWhitespace(T.substring(0,V),x,H)+T.substring(V)}normalizeIndentation(T){return this._assertNotDisposed(),E.normalizeIndentation(T,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(T=null){const x=this.findMatches(w.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(T,x.map(H=>({range:H.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(T){this._assertNotDisposed();let x=this._validatePosition(T.lineNumber,T.column,0);return this._buffer.getOffsetAt(x.lineNumber,x.column)}getPositionAt(T){this._assertNotDisposed();let x=Math.min(this._buffer.getLength(),Math.max(0,T));return this._buffer.getPositionAt(x)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(T){this._versionId=T}_overwriteAlternativeVersionId(T){this._alternativeVersionId=T}_overwriteInitialUndoRedoSnapshot(T){this._initialUndoRedoSnapshot=T}getValue(T,x=!1){this._assertNotDisposed();const H=this.getFullModelRange(),V=this.getValueInRange(H,T);return x?this._buffer.getBOM()+V:V}createSnapshot(T=!1){return new P(this._buffer.createSnapshot(T))}getValueLength(T,x=!1){this._assertNotDisposed();const H=this.getFullModelRange(),V=this.getValueLengthInRange(H,T);return x?this._buffer.getBOM().length+V:V}getValueInRange(T,x=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(T),x)}getValueLengthInRange(T,x=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(T),x)}getCharacterCountInRange(T,x=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(T),x)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(T)}getLineLength(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(T)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(T){return this._assertNotDisposed(),1}getLineMaxColumn(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(T)+1}getLineFirstNonWhitespaceColumn(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(T)}getLineLastNonWhitespaceColumn(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(T)}_validateRangeRelaxedNoAllocations(T){const x=this._buffer.getLineCount(),H=T.startLineNumber,V=T.startColumn;let q=Math.floor(typeof H=="number"&&!isNaN(H)?H:1),ee=Math.floor(typeof V=="number"&&!isNaN(V)?V:1);if(q<1)q=1,ee=1;else if(q>x)q=x,ee=this.getLineMaxColumn(q);else if(ee<=1)ee=1;else{const ne=this.getLineMaxColumn(q);ee>=ne&&(ee=ne)}const oe=T.endLineNumber,le=T.endColumn;let Y=Math.floor(typeof oe=="number"&&!isNaN(oe)?oe:1),j=Math.floor(typeof le=="number"&&!isNaN(le)?le:1);if(Y<1)Y=1,j=1;else if(Y>x)Y=x,j=this.getLineMaxColumn(Y);else if(j<=1)j=1;else{const ne=this.getLineMaxColumn(Y);j>=ne&&(j=ne)}return H===q&&V===ee&&oe===Y&&le===j&&T instanceof i.Range&&!(T instanceof _.Selection)?T:new i.Range(q,ee,Y,j)}_isValidPosition(T,x,H){if(typeof T!="number"||typeof x!="number"||isNaN(T)||isNaN(x)||T<1||x<1||(T|0)!==T||(x|0)!==x)return!1;const V=this._buffer.getLineCount();if(T>V)return!1;if(x===1)return!0;const q=this.getLineMaxColumn(T);if(x>q)return!1;if(H===1){const ee=this._buffer.getLineCharCode(T,x-2);if(w.isHighSurrogate(ee))return!1}return!0}_validatePosition(T,x,H){const V=Math.floor(typeof T=="number"&&!isNaN(T)?T:1),q=Math.floor(typeof x=="number"&&!isNaN(x)?x:1),ee=this._buffer.getLineCount();if(V<1)return new C.Position(1,1);if(V>ee)return new C.Position(ee,this.getLineMaxColumn(ee));if(q<=1)return new C.Position(V,1);const oe=this.getLineMaxColumn(V);if(q>=oe)return new C.Position(V,oe);if(H===1){const le=this._buffer.getLineCharCode(V,q-2);if(w.isHighSurrogate(le))return new C.Position(V,q-1)}return new C.Position(V,q)}validatePosition(T){const x=1;return this._assertNotDisposed(),T instanceof C.Position&&this._isValidPosition(T.lineNumber,T.column,x)?T:this._validatePosition(T.lineNumber,T.column,x)}_isValidRange(T,x){const H=T.startLineNumber,V=T.startColumn,q=T.endLineNumber,ee=T.endColumn;if(!this._isValidPosition(H,V,0)||!this._isValidPosition(q,ee,0))return!1;if(x===1){const oe=V>1?this._buffer.getLineCharCode(H,V-2):0,le=ee>1&&ee<=this._buffer.getLineLength(q)?this._buffer.getLineCharCode(q,ee-2):0,Y=w.isHighSurrogate(oe),j=w.isHighSurrogate(le);return!Y&&!j}return!0}validateRange(T){const x=1;if(this._assertNotDisposed(),T instanceof i.Range&&!(T instanceof _.Selection)&&this._isValidRange(T,x))return T;const H=this._validatePosition(T.startLineNumber,T.startColumn,0),V=this._validatePosition(T.endLineNumber,T.endColumn,0),q=H.lineNumber,ee=H.column,oe=V.lineNumber,le=V.column;if(x===1){const Y=ee>1?this._buffer.getLineCharCode(q,ee-2):0,j=le>1&&le<=this._buffer.getLineLength(oe)?this._buffer.getLineCharCode(oe,le-2):0,ne=w.isHighSurrogate(Y),X=w.isHighSurrogate(j);return!ne&&!X?new i.Range(q,ee,oe,le):q===oe&&ee===le?new i.Range(q,ee-1,oe,le-1):ne&&X?new i.Range(q,ee-1,oe,le+1):ne?new i.Range(q,ee-1,oe,le):new i.Range(q,ee,oe,le+1)}return new i.Range(q,ee,oe,le)}modifyPosition(T,x){this._assertNotDisposed();let H=this.getOffsetAt(T)+x;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,H)))}getFullModelRange(){this._assertNotDisposed();const T=this.getLineCount();return new i.Range(1,1,T,this.getLineMaxColumn(T))}findMatchesLineByLine(T,x,H,V){return this._buffer.findMatchesLineByLine(T,x,H,V)}findMatches(T,x,H,V,q,ee,oe=R){this._assertNotDisposed();let le=null;x!==null&&(Array.isArray(x)||(x=[x]),x.every(ne=>i.Range.isIRange(ne))&&(le=x.map(ne=>this.validateRange(ne)))),le===null&&(le=[this.getFullModelRange()]),le=le.sort((ne,X)=>ne.startLineNumber-X.startLineNumber||ne.startColumn-X.startColumn);const Y=[];Y.push(le.reduce((ne,X)=>i.Range.areIntersecting(ne,X)?ne.plusRange(X):(Y.push(ne),X)));let j;if(!H&&T.indexOf(`
`)<0){const X=new n.SearchParams(T,H,V,q).parseSearchRequest();if(!X)return[];j=ue=>this.findMatchesLineByLine(ue,X,ee,oe)}else j=ne=>n.TextModelSearch.findMatches(this,new n.SearchParams(T,H,V,q),ne,ee,oe);return Y.map(j).reduce((ne,X)=>ne.concat(X),[])}findNextMatch(T,x,H,V,q,ee){this._assertNotDisposed();const oe=this.validatePosition(x);if(!H&&T.indexOf(`
`)<0){const Y=new n.SearchParams(T,H,V,q).parseSearchRequest();if(!Y)return null;const j=this.getLineCount();let ne=new i.Range(oe.lineNumber,oe.column,j,this.getLineMaxColumn(j)),X=this.findMatchesLineByLine(ne,Y,ee,1);return n.TextModelSearch.findNextMatch(this,new n.SearchParams(T,H,V,q),oe,ee),X.length>0||(ne=new i.Range(1,1,oe.lineNumber,this.getLineMaxColumn(oe.lineNumber)),X=this.findMatchesLineByLine(ne,Y,ee,1),X.length>0)?X[0]:null}return n.TextModelSearch.findNextMatch(this,new n.SearchParams(T,H,V,q),oe,ee)}findPreviousMatch(T,x,H,V,q,ee){this._assertNotDisposed();const oe=this.validatePosition(x);return n.TextModelSearch.findPreviousMatch(this,new n.SearchParams(T,H,V,q),oe,ee)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(T){if((this.getEOL()===`
`?0:1)!==T)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(T)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(T){return T instanceof u.ValidAnnotatedEditOperation?T:new u.ValidAnnotatedEditOperation(T.identifier||null,this.validateRange(T.range),T.text,T.forceMoveMarkers||!1,T.isAutoWhitespaceEdit||!1,T._isTracked||!1)}_validateEditOperations(T){const x=[];for(let H=0,V=T.length;H<V;H++)x[H]=this._validateEditOperation(T[H]);return x}pushEditOperations(T,x,H){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(T,this._validateEditOperations(x),H)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(T,x,H){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let V=x.map(ee=>({range:this.validateRange(ee.range),text:ee.text})),q=!0;if(T)for(let ee=0,oe=T.length;ee<oe;ee++){let le=T[ee],Y=!1;for(let j=0,ne=V.length;j<ne;j++){let X=V[j].range,ue=X.startLineNumber>le.endLineNumber,he=le.startLineNumber>X.endLineNumber;if(!ue&&!he){Y=!0;break}}if(!Y){q=!1;break}}if(q)for(let ee=0,oe=this._trimAutoWhitespaceLines.length;ee<oe;ee++){let le=this._trimAutoWhitespaceLines[ee],Y=this.getLineMaxColumn(le),j=!0;for(let ne=0,X=V.length;ne<X;ne++){let ue=V[ne].range,he=V[ne].text;if(!(le<ue.startLineNumber||le>ue.endLineNumber)&&!(le===ue.startLineNumber&&ue.startColumn===Y&&ue.isEmpty()&&he&&he.length>0&&he.charAt(0)===`
`)&&!(le===ue.startLineNumber&&ue.startColumn===1&&ue.isEmpty()&&he&&he.length>0&&he.charAt(he.length-1)===`
`)){j=!1;break}}if(j){const ne=new i.Range(le,1,le,Y);x.push(new u.ValidAnnotatedEditOperation(null,ne,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(T,x,H)}_applyUndo(T,x,H,V){const q=T.map(ee=>{const oe=this.getPositionAt(ee.newPosition),le=this.getPositionAt(ee.newEnd);return{range:new i.Range(oe.lineNumber,oe.column,le.lineNumber,le.column),text:ee.oldText}});this._applyUndoRedoEdits(q,x,!0,!1,H,V)}_applyRedo(T,x,H,V){const q=T.map(ee=>{const oe=this.getPositionAt(ee.oldPosition),le=this.getPositionAt(ee.oldEnd);return{range:new i.Range(oe.lineNumber,oe.column,le.lineNumber,le.column),text:ee.newText}});this._applyUndoRedoEdits(q,x,!1,!0,H,V)}_applyUndoRedoEdits(T,x,H,V,q,ee){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=H,this._isRedoing=V,this.applyEdits(T,!1),this.setEOL(x),this._overwriteAlternativeVersionId(q)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ee),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(T,x=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const H=this._validateEditOperations(T);return this._doApplyEdits(H,x)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(T,x){const H=this._buffer.getLineCount(),V=this._buffer.applyEdits(T,this._options.trimAutoWhitespace,x),q=this._buffer.getLineCount(),ee=V.changes;if(this._trimAutoWhitespaceLines=V.trimAutoWhitespaceLineNumbers,ee.length!==0){let oe=[],le=H;for(let Y=0,j=ee.length;Y<j;Y++){const ne=ee[Y],[X,ue,he]=(0,g.countEOL)(ne.text);this._tokens.acceptEdit(ne.range,X,ue),this._tokens2.acceptEdit(ne.range,X,ue,he,ne.text.length>0?ne.text.charCodeAt(0):0),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(ne.rangeOffset,ne.rangeLength,ne.text.length,ne.forceMoveMarkers);const re=ne.range.startLineNumber,ce=ne.range.endLineNumber,me=ce-re,Ce=X,we=Math.min(me,Ce),Ee=Ce-me;for(let Ie=we;Ie>=0;Ie--){const Ae=re+Ie,Le=q-le-Ee+Ae;oe.push(new r.ModelRawLineChanged(Ae,this.getLineContent(Le)))}if(we<me){const Ie=re+we;oe.push(new r.ModelRawLinesDeleted(Ie+1,ce))}if(we<Ce){const Ie=re+we,Ae=Ce-we,Le=q-le-Ae+Ie+1;let Te=[];for(let ve=0;ve<Ae;ve++){let Se=Le+ve;Te[Se-Le]=this.getLineContent(Se)}oe.push(new r.ModelRawLinesInserted(Ie+1,re+Ce,Te))}le+=Ee}this._increaseVersionId(),this._emitContentChangedEvent(new r.ModelRawContentChangedEvent(oe,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ee,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return V.reverseEdits===null?void 0:V.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}changeDecorations(T,x=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(x,T)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(T,x){let H={addDecoration:(q,ee)=>this._deltaDecorationsImpl(T,[],[{range:q,options:ee}])[0],changeDecoration:(q,ee)=>{this._changeDecorationImpl(q,ee)},changeDecorationOptions:(q,ee)=>{this._changeDecorationOptionsImpl(q,Q(ee))},removeDecoration:q=>{this._deltaDecorationsImpl(T,[q],[])},deltaDecorations:(q,ee)=>q.length===0&&ee.length===0?[]:this._deltaDecorationsImpl(T,q,ee)},V=null;try{V=x(H)}catch(q){(0,v.onUnexpectedError)(q)}return H.addDecoration=O,H.changeDecoration=O,H.changeDecorationOptions=O,H.removeDecoration=O,H.deltaDecorations=O,V}deltaDecorations(T,x,H=0){if(this._assertNotDisposed(),T||(T=[]),T.length===0&&x.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(H,T,x)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(T){return this.getDecorationRange(T)}_setTrackedRange(T,x,H){const V=T?this._decorations[T]:null;if(!V)return x?this._deltaDecorationsImpl(0,[],[{range:x,options:J[H]}])[0]:null;if(!x)return this._decorationsTree.delete(V),delete this._decorations[V.id],null;const q=this._validateRangeRelaxedNoAllocations(x),ee=this._buffer.getOffsetAt(q.startLineNumber,q.startColumn),oe=this._buffer.getOffsetAt(q.endLineNumber,q.endColumn);return this._decorationsTree.delete(V),V.reset(this.getVersionId(),ee,oe,q),V.setOptions(J[H]),this._decorationsTree.insert(V),V.id}removeAllDecorationsWithOwnerId(T){if(!this._isDisposed){const x=this._decorationsTree.collectNodesFromOwner(T);for(let H=0,V=x.length;H<V;H++){const q=x[H];this._decorationsTree.delete(q),delete this._decorations[q.id]}}}getDecorationOptions(T){const x=this._decorations[T];return x?x.options:null}getDecorationRange(T){const x=this._decorations[T];if(!x)return null;const H=this.getVersionId();return x.cachedVersionId!==H&&this._decorationsTree.resolveNode(x,H),x.range===null&&(x.range=this._getRangeAt(x.cachedAbsoluteStart,x.cachedAbsoluteEnd)),x.range}getLineDecorations(T,x=0,H=!1){return T<1||T>this.getLineCount()?[]:this.getLinesDecorations(T,T,x,H)}getLinesDecorations(T,x,H=0,V=!1){let q=this.getLineCount(),ee=Math.min(q,Math.max(1,T)),oe=Math.min(q,Math.max(1,x)),le=this.getLineMaxColumn(oe);return this._getDecorationsInRange(new i.Range(ee,1,oe,le),H,V)}getDecorationsInRange(T,x=0,H=!1){let V=this.validateRange(T);return this._getDecorationsInRange(V,x,H)}getOverviewRulerDecorations(T=0,x=!1){const H=this.getVersionId(),V=this._decorationsTree.search(T,x,!0,H);return this._ensureNodesHaveRanges(V)}getAllDecorations(T=0,x=!1){const H=this.getVersionId(),V=this._decorationsTree.search(T,x,!1,H);return this._ensureNodesHaveRanges(V)}_getDecorationsInRange(T,x,H){const V=this._buffer.getOffsetAt(T.startLineNumber,T.startColumn),q=this._buffer.getOffsetAt(T.endLineNumber,T.endColumn),ee=this.getVersionId(),oe=this._decorationsTree.intervalSearch(V,q,x,H,ee);return this._ensureNodesHaveRanges(oe)}_ensureNodesHaveRanges(T){for(let x=0,H=T.length;x<H;x++){const V=T[x];V.range===null&&(V.range=this._getRangeAt(V.cachedAbsoluteStart,V.cachedAbsoluteEnd))}return T}_getRangeAt(T,x){return this._buffer.getRangeAt(T,x-T)}_changeDecorationImpl(T,x){const H=this._decorations[T];if(!!H){const V=this._validateRangeRelaxedNoAllocations(x),q=this._buffer.getOffsetAt(V.startLineNumber,V.startColumn),ee=this._buffer.getOffsetAt(V.endLineNumber,V.endColumn);this._decorationsTree.delete(H),H.reset(this.getVersionId(),q,ee,V),this._decorationsTree.insert(H),this._onDidChangeDecorations.checkAffectedAndFire(H.options)}}_changeDecorationOptionsImpl(T,x){const H=this._decorations[T];if(!!H){const V=!!(H.options.overviewRuler&&H.options.overviewRuler.color),q=!!(x.overviewRuler&&x.overviewRuler.color);this._onDidChangeDecorations.checkAffectedAndFire(H.options),this._onDidChangeDecorations.checkAffectedAndFire(x),V!==q?(this._decorationsTree.delete(H),H.setOptions(x),this._decorationsTree.insert(H)):H.setOptions(x)}}_deltaDecorationsImpl(T,x,H){const V=this.getVersionId(),q=x.length;let ee=0;const oe=H.length;let le=0,Y=new Array(oe);for(;ee<q||le<oe;){let j=null;if(ee<q){do j=this._decorations[x[ee++]];while(!j&&ee<q);j&&(this._decorationsTree.delete(j),this._onDidChangeDecorations.checkAffectedAndFire(j.options))}if(le<oe){if(!j){const ce=++this._lastDecorationId,me=`${this._instanceId};${ce}`;j=new c.IntervalNode(me,0,0),this._decorations[me]=j}const ne=H[le],X=this._validateRangeRelaxedNoAllocations(ne.range),ue=Q(ne.options),he=this._buffer.getOffsetAt(X.startLineNumber,X.startColumn),re=this._buffer.getOffsetAt(X.endLineNumber,X.endColumn);j.ownerId=T,j.reset(V,he,re,X),j.setOptions(ue),this._onDidChangeDecorations.checkAffectedAndFire(ue),this._decorationsTree.insert(j),Y[le]=j.id,le++}else j&&delete this._decorations[j.id]}return Y}setTokens(T){if(T.length!==0){let x=[];for(let H=0,V=T.length;H<V;H++){const q=T[H];let ee=0,oe=0,le=!1;for(let Y=0,j=q.tokens.length;Y<j;Y++){const ne=q.startLineNumber+Y;le?(this._tokens.setTokens(this._languageIdentifier.id,ne-1,this._buffer.getLineLength(ne),q.tokens[Y],!1),oe=ne):this._tokens.setTokens(this._languageIdentifier.id,ne-1,this._buffer.getLineLength(ne),q.tokens[Y],!0)&&(le=!0,ee=ne,oe=ne)}le&&x.push({fromLineNumber:ee,toLineNumber:oe})}x.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:x})}}setSemanticTokens(T,x){this._tokens2.set(T,x),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:T!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(T,x){if(!this.hasCompleteSemanticTokens()){const H=this._tokens2.setPartial(T,x);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:H.startLineNumber,toLineNumber:H.endLineNumber}]})}}tokenizeViewport(T,x){T=Math.max(1,T),x=Math.min(this._buffer.getLineCount(),x),this._tokenization.tokenizeViewport(T,x)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(T){this._isDisposing||this._onDidChangeTokens.fire(T)}resetTokenization(){this._tokenization.reset()}forceTokenization(T){if(T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(T)}isCheapToTokenize(T){return this._tokenization.isCheapToTokenize(T)}tokenizeIfCheap(T){this.isCheapToTokenize(T)&&this.forceTokenization(T)}getLineTokens(T){if(T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(T)}_getLineTokens(T){const x=this.getLineContent(T),H=this._tokens.getTokens(this._languageIdentifier.id,T-1,x);return this._tokens2.addSemanticTokens(T,H)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(T){if(this._languageIdentifier.id!==T.id){let x={oldLanguage:this._languageIdentifier.language,newLanguage:T.language};this._languageIdentifier=T,this._onDidChangeLanguage.fire(x),this._onDidChangeLanguageConfiguration.fire({})}}getLanguageIdAtPosition(T,x){const H=this.validatePosition(new C.Position(T,x)),V=this.getLineTokens(H.lineNumber);return V.getLanguageId(V.findTokenIndexAtOffset(H.column-1))}getWordAtPosition(T){this._assertNotDisposed();const x=this.validatePosition(T),H=this.getLineContent(x.lineNumber),V=this._getLineTokens(x.lineNumber),q=V.findTokenIndexAtOffset(x.column-1),[ee,oe]=E._findLanguageBoundaries(V,q),le=(0,t.getWordAtText)(x.column,o.LanguageConfigurationRegistry.getWordDefinition(V.getLanguageId(q)),H.substring(ee,oe),ee);if(le&&le.startColumn<=T.column&&T.column<=le.endColumn)return le;if(q>0&&ee===x.column-1){const[Y,j]=E._findLanguageBoundaries(V,q-1),ne=(0,t.getWordAtText)(x.column,o.LanguageConfigurationRegistry.getWordDefinition(V.getLanguageId(q-1)),H.substring(Y,j),Y);if(ne&&ne.startColumn<=T.column&&T.column<=ne.endColumn)return ne}return null}static _findLanguageBoundaries(T,x){const H=T.getLanguageId(x);let V=0;for(let ee=x;ee>=0&&T.getLanguageId(ee)===H;ee--)V=T.getStartOffset(ee);let q=T.getLineContent().length;for(let ee=x,oe=T.getCount();ee<oe&&T.getLanguageId(ee)===H;ee++)q=T.getEndOffset(ee);return[V,q]}getWordUntilPosition(T){const x=this.getWordAtPosition(T);return x?{word:x.word.substr(0,T.column-x.startColumn),startColumn:x.startColumn,endColumn:T.column}:{word:"",startColumn:T.column,endColumn:T.column}}findMatchingBracketUp(T,x){let H=T.toLowerCase(),V=this.validatePosition(x),q=this._getLineTokens(V.lineNumber),ee=q.getLanguageId(q.findTokenIndexAtOffset(V.column-1)),oe=o.LanguageConfigurationRegistry.getBracketsSupport(ee);if(!oe)return null;let le=oe.textIsBracket[H];return le?F(this._findMatchingBracketUp(le,V,null)):null}matchBracket(T){return this._matchBracket(this.validatePosition(T))}_establishBracketSearchOffsets(T,x,H,V){const q=x.getCount(),ee=x.getLanguageId(V);let oe=Math.max(0,T.column-1-H.maxBracketLength);for(let Y=V-1;Y>=0;Y--){const j=x.getEndOffset(Y);if(j<=oe)break;if((0,f.ignoreBracketsInToken)(x.getStandardTokenType(Y))||x.getLanguageId(Y)!==ee){oe=j;break}}let le=Math.min(x.getLineContent().length,T.column-1+H.maxBracketLength);for(let Y=V+1;Y<q;Y++){const j=x.getStartOffset(Y);if(j>=le)break;if((0,f.ignoreBracketsInToken)(x.getStandardTokenType(Y))||x.getLanguageId(Y)!==ee){le=j;break}}return{searchStartOffset:oe,searchEndOffset:le}}_matchBracket(T){const x=T.lineNumber,H=this._getLineTokens(x),V=this._buffer.getLineContent(x),q=H.findTokenIndexAtOffset(T.column-1);if(q<0)return null;const ee=o.LanguageConfigurationRegistry.getBracketsSupport(H.getLanguageId(q));if(ee&&!(0,f.ignoreBracketsInToken)(H.getStandardTokenType(q))){let{searchStartOffset:oe,searchEndOffset:le}=this._establishBracketSearchOffsets(T,H,ee,q),Y=null;for(;;){const j=m.BracketsUtils.findNextBracketInRange(ee.forwardRegex,x,V,oe,le);if(!j)break;if(j.startColumn<=T.column&&T.column<=j.endColumn){const ne=V.substring(j.startColumn-1,j.endColumn-1).toLowerCase(),X=this._matchFoundBracket(j,ee.textIsBracket[ne],ee.textIsOpenBracket[ne],null);if(X){if(X instanceof W)return null;Y=X}}oe=j.endColumn-1}if(Y)return Y}if(q>0&&H.getStartOffset(q)===T.column-1){const oe=q-1,le=o.LanguageConfigurationRegistry.getBracketsSupport(H.getLanguageId(oe));if(le&&!(0,f.ignoreBracketsInToken)(H.getStandardTokenType(oe))){let{searchStartOffset:Y,searchEndOffset:j}=this._establishBracketSearchOffsets(T,H,le,oe);const ne=m.BracketsUtils.findPrevBracketInRange(le.reversedRegex,x,V,Y,j);if(ne&&ne.startColumn<=T.column&&T.column<=ne.endColumn){const X=V.substring(ne.startColumn-1,ne.endColumn-1).toLowerCase(),ue=this._matchFoundBracket(ne,le.textIsBracket[X],le.textIsOpenBracket[X],null);if(ue)return ue instanceof W?null:ue}}}return null}_matchFoundBracket(T,x,H,V){if(!x)return null;const q=H?this._findMatchingBracketDown(x,T.getEndPosition(),V):this._findMatchingBracketUp(x,T.getStartPosition(),V);return q?q instanceof W?q:[T,q]:null}_findMatchingBracketUp(T,x,H){const V=T.languageIdentifier.id,q=T.reversedRegex;let ee=-1,oe=0;const le=(Y,j,ne,X)=>{for(;;){if(H&&++oe%100==0&&!H())return W.INSTANCE;const ue=m.BracketsUtils.findPrevBracketInRange(q,Y,j,ne,X);if(!ue)break;const he=j.substring(ue.startColumn-1,ue.endColumn-1).toLowerCase();if(T.isOpen(he)?ee++:T.isClose(he)&&ee--,ee===0)return ue;X=ue.startColumn-1}return null};for(let Y=x.lineNumber;Y>=1;Y--){const j=this._getLineTokens(Y),ne=j.getCount(),X=this._buffer.getLineContent(Y);let ue=ne-1,he=X.length,re=X.length;Y===x.lineNumber&&(ue=j.findTokenIndexAtOffset(x.column-1),he=x.column-1,re=x.column-1);let ce=!0;for(;ue>=0;ue--){const me=j.getLanguageId(ue)===V&&!(0,f.ignoreBracketsInToken)(j.getStandardTokenType(ue));if(me)ce?he=j.getStartOffset(ue):(he=j.getStartOffset(ue),re=j.getEndOffset(ue));else if(ce&&he!==re){const Ce=le(Y,X,he,re);if(Ce)return Ce}ce=me}if(ce&&he!==re){const me=le(Y,X,he,re);if(me)return me}}return null}_findMatchingBracketDown(T,x,H){const V=T.languageIdentifier.id,q=T.forwardRegex;let ee=1,oe=0;const le=(j,ne,X,ue)=>{for(;;){if(H&&++oe%100==0&&!H())return W.INSTANCE;const he=m.BracketsUtils.findNextBracketInRange(q,j,ne,X,ue);if(!he)break;const re=ne.substring(he.startColumn-1,he.endColumn-1).toLowerCase();if(T.isOpen(re)?ee++:T.isClose(re)&&ee--,ee===0)return he;X=he.endColumn-1}return null},Y=this.getLineCount();for(let j=x.lineNumber;j<=Y;j++){const ne=this._getLineTokens(j),X=ne.getCount(),ue=this._buffer.getLineContent(j);let he=0,re=0,ce=0;j===x.lineNumber&&(he=ne.findTokenIndexAtOffset(x.column-1),re=x.column-1,ce=x.column-1);let me=!0;for(;he<X;he++){const Ce=ne.getLanguageId(he)===V&&!(0,f.ignoreBracketsInToken)(ne.getStandardTokenType(he));if(Ce)me||(re=ne.getStartOffset(he)),ce=ne.getEndOffset(he);else if(me&&re!==ce){const we=le(j,ue,re,ce);if(we)return we}me=Ce}if(me&&re!==ce){const Ce=le(j,ue,re,ce);if(Ce)return Ce}}return null}findPrevBracket(T){const x=this.validatePosition(T);let H=-1,V=null;for(let q=x.lineNumber;q>=1;q--){const ee=this._getLineTokens(q),oe=ee.getCount(),le=this._buffer.getLineContent(q);let Y=oe-1,j=le.length,ne=le.length;if(q===x.lineNumber){Y=ee.findTokenIndexAtOffset(x.column-1),j=x.column-1,ne=x.column-1;const ue=ee.getLanguageId(Y);H!==ue&&(H=ue,V=o.LanguageConfigurationRegistry.getBracketsSupport(H))}let X=!0;for(;Y>=0;Y--){const ue=ee.getLanguageId(Y);if(H!==ue){if(V&&X&&j!==ne){const re=m.BracketsUtils.findPrevBracketInRange(V.reversedRegex,q,le,j,ne);if(re)return this._toFoundBracket(V,re);X=!1}H=ue,V=o.LanguageConfigurationRegistry.getBracketsSupport(H)}const he=!!V&&!(0,f.ignoreBracketsInToken)(ee.getStandardTokenType(Y));if(he)X?j=ee.getStartOffset(Y):(j=ee.getStartOffset(Y),ne=ee.getEndOffset(Y));else if(V&&X&&j!==ne){const re=m.BracketsUtils.findPrevBracketInRange(V.reversedRegex,q,le,j,ne);if(re)return this._toFoundBracket(V,re)}X=he}if(V&&X&&j!==ne){const ue=m.BracketsUtils.findPrevBracketInRange(V.reversedRegex,q,le,j,ne);if(ue)return this._toFoundBracket(V,ue)}}return null}findNextBracket(T){const x=this.validatePosition(T),H=this.getLineCount();let V=-1,q=null;for(let ee=x.lineNumber;ee<=H;ee++){const oe=this._getLineTokens(ee),le=oe.getCount(),Y=this._buffer.getLineContent(ee);let j=0,ne=0,X=0;if(ee===x.lineNumber){j=oe.findTokenIndexAtOffset(x.column-1),ne=x.column-1,X=x.column-1;const he=oe.getLanguageId(j);V!==he&&(V=he,q=o.LanguageConfigurationRegistry.getBracketsSupport(V))}let ue=!0;for(;j<le;j++){const he=oe.getLanguageId(j);if(V!==he){if(q&&ue&&ne!==X){const ce=m.BracketsUtils.findNextBracketInRange(q.forwardRegex,ee,Y,ne,X);if(ce)return this._toFoundBracket(q,ce);ue=!1}V=he,q=o.LanguageConfigurationRegistry.getBracketsSupport(V)}const re=!!q&&!(0,f.ignoreBracketsInToken)(oe.getStandardTokenType(j));if(re)ue||(ne=oe.getStartOffset(j)),X=oe.getEndOffset(j);else if(q&&ue&&ne!==X){const ce=m.BracketsUtils.findNextBracketInRange(q.forwardRegex,ee,Y,ne,X);if(ce)return this._toFoundBracket(q,ce)}ue=re}if(q&&ue&&ne!==X){const he=m.BracketsUtils.findNextBracketInRange(q.forwardRegex,ee,Y,ne,X);if(he)return this._toFoundBracket(q,he)}}return null}findEnclosingBrackets(T,x){let H;if(typeof x=="undefined")H=null;else{const ue=Date.now();H=()=>Date.now()-ue<=x}const V=this.validatePosition(T),q=this.getLineCount(),ee=new Map;let oe=[];const le=(ue,he)=>{if(!ee.has(ue)){let re=[];for(let ce=0,me=he?he.brackets.length:0;ce<me;ce++)re[ce]=0;ee.set(ue,re)}oe=ee.get(ue)};let Y=0;const j=(ue,he,re,ce,me)=>{for(;;){if(H&&++Y%100==0&&!H())return W.INSTANCE;const Ce=m.BracketsUtils.findNextBracketInRange(ue.forwardRegex,he,re,ce,me);if(!Ce)break;const we=re.substring(Ce.startColumn-1,Ce.endColumn-1).toLowerCase(),Ee=ue.textIsBracket[we];if(Ee&&(Ee.isOpen(we)?oe[Ee.index]++:Ee.isClose(we)&&oe[Ee.index]--,oe[Ee.index]===-1))return this._matchFoundBracket(Ce,Ee,!1,H);ce=Ce.endColumn-1}return null};let ne=-1,X=null;for(let ue=V.lineNumber;ue<=q;ue++){const he=this._getLineTokens(ue),re=he.getCount(),ce=this._buffer.getLineContent(ue);let me=0,Ce=0,we=0;if(ue===V.lineNumber){me=he.findTokenIndexAtOffset(V.column-1),Ce=V.column-1,we=V.column-1;const Ie=he.getLanguageId(me);ne!==Ie&&(ne=Ie,X=o.LanguageConfigurationRegistry.getBracketsSupport(ne),le(ne,X))}let Ee=!0;for(;me<re;me++){const Ie=he.getLanguageId(me);if(ne!==Ie){if(X&&Ee&&Ce!==we){const Le=j(X,ue,ce,Ce,we);if(Le)return F(Le);Ee=!1}ne=Ie,X=o.LanguageConfigurationRegistry.getBracketsSupport(ne),le(ne,X)}const Ae=!!X&&!(0,f.ignoreBracketsInToken)(he.getStandardTokenType(me));if(Ae)Ee||(Ce=he.getStartOffset(me)),we=he.getEndOffset(me);else if(X&&Ee&&Ce!==we){const Le=j(X,ue,ce,Ce,we);if(Le)return F(Le)}Ee=Ae}if(X&&Ee&&Ce!==we){const Ie=j(X,ue,ce,Ce,we);if(Ie)return F(Ie)}}return null}_toFoundBracket(T,x){if(!x)return null;let H=this.getValueInRange(x);H=H.toLowerCase();let V=T.textIsBracket[H];return V?{range:x,open:V.open,close:V.close,isOpen:T.textIsOpenBracket[H]}:null}static computeIndentLevel(T,x){let H=0,V=0,q=T.length;for(;V<q;){let ee=T.charCodeAt(V);if(ee===32)H++;else if(ee===9)H=H-H%x+x;else break;V++}return V===q?-1:H}_computeIndentLevel(T){return E.computeIndentLevel(this._buffer.getLineContent(T+1),this._options.tabSize)}getActiveIndentGuide(T,x,H){this._assertNotDisposed();const V=this.getLineCount();if(T<1||T>V)throw new Error("Illegal value for lineNumber");const q=o.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),ee=Boolean(q&&q.offSide);let oe=-2,le=-1,Y=-2,j=-1;const ne=Le=>{if(oe!==-1&&(oe===-2||oe>Le-1)){oe=-1,le=-1;for(let Te=Le-2;Te>=0;Te--){let ve=this._computeIndentLevel(Te);if(ve>=0){oe=Te,le=ve;break}}}if(Y===-2){Y=-1,j=-1;for(let Te=Le;Te<V;Te++){let ve=this._computeIndentLevel(Te);if(ve>=0){Y=Te,j=ve;break}}}};let X=-2,ue=-1,he=-2,re=-1;const ce=Le=>{if(X===-2){X=-1,ue=-1;for(let Te=Le-2;Te>=0;Te--){let ve=this._computeIndentLevel(Te);if(ve>=0){X=Te,ue=ve;break}}}if(he!==-1&&(he===-2||he<Le-1)){he=-1,re=-1;for(let Te=Le;Te<V;Te++){let ve=this._computeIndentLevel(Te);if(ve>=0){he=Te,re=ve;break}}}};let me=0,Ce=!0,we=0,Ee=!0,Ie=0,Ae=0;for(let Le=0;Ce||Ee;Le++){const Te=T-Le,ve=T+Le;Le>1&&(Te<1||Te<x)&&(Ce=!1),Le>1&&(ve>V||ve>H)&&(Ee=!1),Le>5e4&&(Ce=!1,Ee=!1);let Se=-1;if(Ce){const fe=this._computeIndentLevel(Te-1);fe>=0?(Y=Te-1,j=fe,Se=Math.ceil(fe/this._options.indentSize)):(ne(Te),Se=this._getIndentLevelForWhitespaceLine(ee,le,j))}let ye=-1;if(Ee){const fe=this._computeIndentLevel(ve-1);fe>=0?(X=ve-1,ue=fe,ye=Math.ceil(fe/this._options.indentSize)):(ce(ve),ye=this._getIndentLevelForWhitespaceLine(ee,ue,re))}if(Le===0){Ae=Se;continue}if(Le===1){if(ve<=V&&ye>=0&&Ae+1===ye){Ce=!1,me=ve,we=ve,Ie=ye;continue}if(Te>=1&&Se>=0&&Se-1===Ae){Ee=!1,me=Te,we=Te,Ie=Se;continue}if(me=T,we=T,Ie=Ae,Ie===0)return{startLineNumber:me,endLineNumber:we,indent:Ie}}Ce&&(Se>=Ie?me=Te:Ce=!1),Ee&&(ye>=Ie?we=ve:Ee=!1)}return{startLineNumber:me,endLineNumber:we,indent:Ie}}getLinesIndentGuides(T,x){this._assertNotDisposed();const H=this.getLineCount();if(T<1||T>H)throw new Error("Illegal value for startLineNumber");if(x<1||x>H)throw new Error("Illegal value for endLineNumber");const V=o.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),q=Boolean(V&&V.offSide);let ee=new Array(x-T+1),oe=-2,le=-1,Y=-2,j=-1;for(let ne=T;ne<=x;ne++){let X=ne-T;const ue=this._computeIndentLevel(ne-1);if(ue>=0){oe=ne-1,le=ue,ee[X]=Math.ceil(ue/this._options.indentSize);continue}if(oe===-2){oe=-1,le=-1;for(let he=ne-2;he>=0;he--){let re=this._computeIndentLevel(he);if(re>=0){oe=he,le=re;break}}}if(Y!==-1&&(Y===-2||Y<ne-1)){Y=-1,j=-1;for(let he=ne;he<H;he++){let re=this._computeIndentLevel(he);if(re>=0){Y=he,j=re;break}}}ee[X]=this._getIndentLevelForWhitespaceLine(q,le,j)}return ee}_getIndentLevelForWhitespaceLine(T,x,H){return x===-1||H===-1?0:x<H?1+Math.floor(x/this._options.indentSize):x===H?Math.ceil(H/this._options.indentSize):T?Math.ceil(H/this._options.indentSize):1+Math.floor(H/this._options.indentSize)}}e.TextModel=E,E.MODEL_SYNC_LIMIT=50*1024*1024,E.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,E.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,E.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:p.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:p.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:p.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:p.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:p.EDITOR_MODEL_DEFAULTS.largeFileOptimizations};class A{constructor(){this._decorationsTree0=new c.IntervalTree,this._decorationsTree1=new c.IntervalTree}intervalSearch(T,x,H,V,q){const ee=this._decorationsTree0.intervalSearch(T,x,H,V,q),oe=this._decorationsTree1.intervalSearch(T,x,H,V,q);return ee.concat(oe)}search(T,x,H,V){if(H)return this._decorationsTree1.search(T,x,V);{const q=this._decorationsTree0.search(T,x,V),ee=this._decorationsTree1.search(T,x,V);return q.concat(ee)}}collectNodesFromOwner(T){const x=this._decorationsTree0.collectNodesFromOwner(T),H=this._decorationsTree1.collectNodesFromOwner(T);return x.concat(H)}collectNodesPostOrder(){const T=this._decorationsTree0.collectNodesPostOrder(),x=this._decorationsTree1.collectNodesPostOrder();return T.concat(x)}insert(T){(0,c.getNodeIsInOverviewRuler)(T)?this._decorationsTree1.insert(T):this._decorationsTree0.insert(T)}delete(T){(0,c.getNodeIsInOverviewRuler)(T)?this._decorationsTree1.delete(T):this._decorationsTree0.delete(T)}resolveNode(T,x){(0,c.getNodeIsInOverviewRuler)(T)?this._decorationsTree1.resolveNode(T,x):this._decorationsTree0.resolveNode(T,x)}acceptReplace(T,x,H,V){this._decorationsTree0.acceptReplace(T,x,H,V),this._decorationsTree1.acceptReplace(T,x,H,V)}}function B(Z){return Z.replace(/[^a-z0-9\-_]/gi," ")}class z{constructor(T){this.color=T.color||"",this.darkColor=T.darkColor||""}}class U extends z{constructor(T){super(T);this._resolvedColor=null,this.position=typeof T.position=="number"?T.position:u.OverviewRulerLane.Center}getColor(T){return this._resolvedColor||(T.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,T):this._resolvedColor=this._resolveColor(this.color,T)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(T,x){if(typeof T=="string")return T;let H=T?x.getColor(T.id):null;return H?H.toString():""}}e.ModelDecorationOverviewRulerOptions=U;class K extends z{constructor(T){super(T);this.position=T.position}getColor(T){return this._resolvedColor||(T.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,T):this._resolvedColor=this._resolveColor(this.color,T)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(T,x){return typeof T=="string"?b.Color.fromHex(T):x.getColor(T.id)}}e.ModelDecorationMinimapOptions=K;class G{constructor(T){this.stickiness=T.stickiness||0,this.zIndex=T.zIndex||0,this.className=T.className?B(T.className):null,this.hoverMessage=T.hoverMessage||null,this.glyphMarginHoverMessage=T.glyphMarginHoverMessage||null,this.isWholeLine=T.isWholeLine||!1,this.showIfCollapsed=T.showIfCollapsed||!1,this.collapseOnReplaceEdit=T.collapseOnReplaceEdit||!1,this.overviewRuler=T.overviewRuler?new U(T.overviewRuler):null,this.minimap=T.minimap?new K(T.minimap):null,this.glyphMarginClassName=T.glyphMarginClassName?B(T.glyphMarginClassName):null,this.linesDecorationsClassName=T.linesDecorationsClassName?B(T.linesDecorationsClassName):null,this.firstLineDecorationClassName=T.firstLineDecorationClassName?B(T.firstLineDecorationClassName):null,this.marginClassName=T.marginClassName?B(T.marginClassName):null,this.inlineClassName=T.inlineClassName?B(T.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=T.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=T.beforeContentClassName?B(T.beforeContentClassName):null,this.afterContentClassName=T.afterContentClassName?B(T.afterContentClassName):null}static register(T){return new G(T)}static createDynamic(T){return new G(T)}}e.ModelDecorationOptions=G,G.EMPTY=G.register({});const J=[G.register({stickiness:0}),G.register({stickiness:1}),G.register({stickiness:2}),G.register({stickiness:3})];function Q(Z){return Z instanceof G?Z:G.createDynamic(Z)}class ae extends k.Disposable{constructor(){super();this._actual=this._register(new I.Emitter),this.event=this._actual.event,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){if(this._deferredCnt--,this._deferredCnt===0&&this._shouldFire){const T={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(T)}}checkAffectedAndFire(T){this._affectsMinimap||(this._affectsMinimap=!!(T.minimap&&T.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(T.overviewRuler&&T.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=ae;class se extends k.Disposable{constructor(){super();this._fastEmitter=this._register(new I.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new I.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(T=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=T;const x=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(x),this._slowEmitter.fire(x)}}fire(T){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(T):this._deferredEvent=T;return}this._fastEmitter.fire(T),this._slowEmitter.fire(T)}}e.DidChangeContentEmitter=se}),define(te[39],ie([0,1,11,8,14,3,21,31,42]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.CursorColumns=e.EditOperationResult=e.CursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorContext=e.SingleCursorState=e.CursorConfiguration=void 0;const i=()=>!0,_=()=>!1,u=h=>h===" "||h==="	";class a{constructor(f,m,g){this._languageIdentifier=f;const b=g.options,y=b.get(126);this.readOnly=b.get(77),this.tabSize=m.tabSize,this.indentSize=m.indentSize,this.insertSpaces=m.insertSpaces,this.stickyTabStops=b.get(101),this.lineHeight=b.get(55),this.pageSize=Math.max(1,Math.floor(y.height/this.lineHeight)-2),this.useTabStops=b.get(111),this.wordSeparators=b.get(112),this.emptySelectionClipboard=b.get(30),this.copyWithSyntaxHighlighting=b.get(19),this.multiCursorMergeOverlapping=b.get(65),this.multiCursorPaste=b.get(67),this.autoClosingBrackets=b.get(5),this.autoClosingQuotes=b.get(8),this.autoClosingDelete=b.get(6),this.autoClosingOvertype=b.get(7),this.autoSurround=b.get(11),this.autoIndent=b.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:a._getShouldAutoClose(f,this.autoClosingQuotes),bracket:a._getShouldAutoClose(f,this.autoClosingBrackets)},this.autoClosingPairs=C.LanguageConfigurationRegistry.getAutoClosingPairs(f.id);let L=a._getSurroundingPairs(f);if(L)for(const N of L)this.surroundingPairs[N.open]=N.close}static shouldRecreate(f){return f.hasChanged(126)||f.hasChanged(112)||f.hasChanged(30)||f.hasChanged(65)||f.hasChanged(67)||f.hasChanged(5)||f.hasChanged(8)||f.hasChanged(6)||f.hasChanged(7)||f.hasChanged(11)||f.hasChanged(111)||f.hasChanged(55)||f.hasChanged(77)}get electricChars(){if(!this._electricChars){this._electricChars={};let f=a._getElectricCharacters(this._languageIdentifier);if(f)for(const m of f)this._electricChars[m]=!0}return this._electricChars}normalizeIndentation(f){return p.TextModel.normalizeIndentation(f,this.indentSize,this.insertSpaces)}static _getElectricCharacters(f){try{return C.LanguageConfigurationRegistry.getElectricCharacters(f.id)}catch(m){return(0,v.onUnexpectedError)(m),null}}static _getShouldAutoClose(f,m){switch(m){case"beforeWhitespace":return u;case"languageDefined":return a._getLanguageDefinedShouldAutoClose(f);case"always":return i;case"never":return _}}static _getLanguageDefinedShouldAutoClose(f){try{const m=C.LanguageConfigurationRegistry.getAutoCloseBeforeSet(f.id);return g=>m.indexOf(g)!==-1}catch(m){return(0,v.onUnexpectedError)(m),_}}static _getSurroundingPairs(f){try{return C.LanguageConfigurationRegistry.getSurroundingPairs(f.id)}catch(m){return(0,v.onUnexpectedError)(m),null}}}e.CursorConfiguration=a;class l{constructor(f,m,g,b){this.selectionStart=f,this.selectionStartLeftoverVisibleColumns=m,this.position=g,this.leftoverVisibleColumns=b,this.selection=l._computeSelection(this.selectionStart,this.position)}equals(f){return this.selectionStartLeftoverVisibleColumns===f.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===f.leftoverVisibleColumns&&this.position.equals(f.position)&&this.selectionStart.equalsRange(f.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(f,m,g,b){return f?new l(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new k.Position(m,g),b):new l(new w.Range(m,g,m,g),b,new k.Position(m,g),b)}static _computeSelection(f,m){let g,b,y,L;return f.isEmpty()?(g=f.startLineNumber,b=f.startColumn,y=m.lineNumber,L=m.column):m.isBeforeOrEqual(f.getStartPosition())?(g=f.endLineNumber,b=f.endColumn,y=m.lineNumber,L=m.column):(g=f.startLineNumber,b=f.startColumn,y=m.lineNumber,L=m.column),new S.Selection(g,b,y,L)}}e.SingleCursorState=l;class c{constructor(f,m,g){this.model=f,this.coordinatesConverter=m,this.cursorConfig=g}}e.CursorContext=c;class d{constructor(f){this.modelState=f,this.viewState=null}}e.PartialModelCursorState=d;class r{constructor(f){this.modelState=null,this.viewState=f}}e.PartialViewCursorState=r;class n{constructor(f,m){this.modelState=f,this.viewState=m}static fromModelState(f){return new d(f)}static fromViewState(f){return new r(f)}static fromModelSelection(f){const m=f.selectionStartLineNumber,g=f.selectionStartColumn,b=f.positionLineNumber,y=f.positionColumn,L=new l(new w.Range(m,g,m,g),0,new k.Position(b,y),0);return n.fromModelState(L)}static fromModelSelections(f){let m=[];for(let g=0,b=f.length;g<b;g++)m[g]=this.fromModelSelection(f[g]);return m}equals(f){return this.viewState.equals(f.viewState)&&this.modelState.equals(f.modelState)}}e.CursorState=n;class s{constructor(f,m,g){this.type=f,this.commands=m,this.shouldPushStackElementBefore=g.shouldPushStackElementBefore,this.shouldPushStackElementAfter=g.shouldPushStackElementAfter}}e.EditOperationResult=s;class t{static visibleColumnFromColumn(f,m,g){const b=f.length,y=m-1<b?m-1:b;let L=0,N=0;for(;N<y;){const M=I.getNextCodePoint(f,y,N);if(N+=M>=65536?2:1,M===9)L=t.nextRenderTabStop(L,g);else{let D=I.getGraphemeBreakType(M);for(;N<y;){const R=I.getNextCodePoint(f,y,N),P=I.getGraphemeBreakType(R);if(I.breakBetweenGraphemeBreakType(D,P))break;N+=R>=65536?2:1,D=P}I.isFullWidthCharacter(M)||I.isEmojiImprecise(M)?L=L+2:L=L+1}}return L}static visibleColumnFromColumn2(f,m,g){return this.visibleColumnFromColumn(m.getLineContent(g.lineNumber),g.column,f.tabSize)}static columnFromVisibleColumn(f,m,g){if(m<=0)return 1;const b=f.length;let y=0,L=1,N=0;for(;N<b;){const M=I.getNextCodePoint(f,b,N);N+=M>=65536?2:1;let D;if(M===9)D=t.nextRenderTabStop(y,g);else{let P=I.getGraphemeBreakType(M);for(;N<b;){const O=I.getNextCodePoint(f,b,N),W=I.getGraphemeBreakType(O);if(I.breakBetweenGraphemeBreakType(P,W))break;N+=O>=65536?2:1,P=W}I.isFullWidthCharacter(M)||I.isEmojiImprecise(M)?D=y+2:D=y+1}const R=N+1;if(D>=m){const P=m-y;return D-m<P?R:L}y=D,L=R}return b+1}static columnFromVisibleColumn2(f,m,g,b){let y=this.columnFromVisibleColumn(m.getLineContent(g),b,f.tabSize),L=m.getLineMinColumn(g);if(y<L)return L;let N=m.getLineMaxColumn(g);return y>N?N:y}static nextRenderTabStop(f,m){return f+m-f%m}static nextIndentTabStop(f,m){return f+m-f%m}static prevRenderTabStop(f,m){return f-1-(f-1)%m}static prevIndentTabStop(f,m){return f-1-(f-1)%m}}e.CursorColumns=t;function o(h){return h==="'"||h==='"'||h==="`"}e.isQuote=o}),define(te[178],ie([0,1,8,39,3,21,42]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const p=Object.create(null);function C(_,u){p[_]||(p[_]=["",_]);const a=p[_];for(let l=a.length;l<=u;l++)a[l]=a[l-1]+_;return a[u]}e.cachedStringRepeat=C;class i{constructor(u,a){this._opts=a,this._selection=u,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(u,a,l,c,d){const r=I.CursorColumns.visibleColumnFromColumn(u,a,l);if(d){const n=C(" ",c),t=I.CursorColumns.prevIndentTabStop(r,c)/c;return C(n,t)}else{const n="	",t=I.CursorColumns.prevRenderTabStop(r,l)/l;return C(n,t)}}static shiftIndent(u,a,l,c,d){const r=I.CursorColumns.visibleColumnFromColumn(u,a,l);if(d){const n=C(" ",c),t=I.CursorColumns.nextIndentTabStop(r,c)/c;return C(n,t)}else{const n="	",t=I.CursorColumns.nextRenderTabStop(r,l)/l;return C(n,t)}}_addEditOperation(u,a,l){this._useLastEditRangeForCursorEndPosition?u.addTrackedEditOperation(a,l):u.addEditOperation(a,l)}getEditOperations(u,a){const l=this._selection.startLineNumber;let c=this._selection.endLineNumber;this._selection.endColumn===1&&l!==c&&(c=c-1);const{tabSize:d,indentSize:r,insertSpaces:n}=this._opts,s=l===c;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(u.getLineContent(l))&&(this._useLastEditRangeForCursorEndPosition=!0);let t=0,o=0;for(let h=l;h<=c;h++,t=o){o=0;let f=u.getLineContent(h),m=v.firstNonWhitespaceIndex(f);if(!(this._opts.isUnshift&&(f.length===0||m===0))&&!(!s&&!this._opts.isUnshift&&f.length===0)){if(m===-1&&(m=f.length),h>1&&I.CursorColumns.visibleColumnFromColumn(f,m+1,d)%r!=0&&u.isCheapToTokenize(h-1)){let y=S.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,u,new k.Range(h-1,u.getLineMaxColumn(h-1),h-1,u.getLineMaxColumn(h-1)));if(y){if(o=t,y.appendText)for(let L=0,N=y.appendText.length;L<N&&o<r&&y.appendText.charCodeAt(L)===32;L++)o++;y.removeText&&(o=Math.max(0,o-y.removeText));for(let L=0;L<o&&!(m===0||f.charCodeAt(m-1)!==32);L++)m--}}if(!(this._opts.isUnshift&&m===0)){let g;this._opts.isUnshift?g=i.unshiftIndent(f,m+1,d,r,n):g=i.shiftIndent(f,m+1,d,r,n),this._addEditOperation(a,new k.Range(h,1,h,m+1),g),h===l&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=m+1)}}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&u.getLineLength(l)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const t=n?C(" ",r):"	";for(let o=l;o<=c;o++){const h=u.getLineContent(o);let f=v.firstNonWhitespaceIndex(h);if(!(this._opts.isUnshift&&(h.length===0||f===0))&&!(!s&&!this._opts.isUnshift&&h.length===0)&&(f===-1&&(f=h.length),!(this._opts.isUnshift&&f===0)))if(this._opts.isUnshift){f=Math.min(f,r);for(let m=0;m<f;m++)if(h.charCodeAt(m)===9){f=m+1;break}this._addEditOperation(a,new k.Range(o,1,o,f+1),"")}else this._addEditOperation(a,new k.Range(o,1,o,1),t),o===l&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=a.trackSelection(this._selection)}computeCursorState(u,a){if(this._useLastEditRangeForCursorEndPosition){let c=a.getInverseEditOperations()[0];return new w.Selection(c.range.endLineNumber,c.range.endColumn,c.range.endLineNumber,c.range.endColumn)}const l=a.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let c=this._selection.startColumn;return l.startColumn<=c?l:l.getDirection()===0?new w.Selection(l.startLineNumber,c,l.endLineNumber,l.endColumn):new w.Selection(l.endLineNumber,l.endColumn,l.startLineNumber,c)}return l}}e.ShiftCommand=i}),define(te[204],ie([0,1,39]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class I{static whitespaceVisibleColumn(w,S,p){const C=w.length;let i=0,_=-1,u=-1;for(let a=0;a<C;a++){if(a===S)return[_,u,i];switch(i%p==0&&(_=a,u=i),w.charCodeAt(a)){case 32:i+=1;break;case 9:i=v.CursorColumns.nextRenderTabStop(i,p);break;default:return[-1,-1,-1]}}return S===C?[_,u,i]:[-1,-1,-1]}static atomicPosition(w,S,p,C){const i=w.length,[_,u,a]=I.whitespaceVisibleColumn(w,S,p);if(a===-1)return-1;let l;switch(C){case 0:l=!0;break;case 1:l=!1;break;case 2:if(a%p==0)return S;l=a%p<=p/2;break}if(l){if(_===-1)return-1;let r=u;for(let n=_;n<i;++n){if(r===u+p)return _;switch(w.charCodeAt(n)){case 32:r+=1;break;case 9:r=v.CursorColumns.nextRenderTabStop(r,p);break;default:return-1}}return r===u+p?_:-1}const c=v.CursorColumns.nextRenderTabStop(a,p);let d=a;for(let r=S;r<i;r++){if(d===c)return r;switch(w.charCodeAt(r)){case 32:d+=1;break;case 9:d=v.CursorColumns.nextRenderTabStop(d,p);break;default:return-1}}return d===c?i:-1}}e.AtomicTabMoveOperations=I}),define(te[445],ie([0,1,39,14,3]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class w{static columnSelect(p,C,i,_,u,a){let l=Math.abs(u-i)+1,c=i>u,d=_>a,r=_<a,n=[];for(let s=0;s<l;s++){let t=i+(c?-s:s),o=v.CursorColumns.columnFromVisibleColumn2(p,C,t,_),h=v.CursorColumns.columnFromVisibleColumn2(p,C,t,a),f=v.CursorColumns.visibleColumnFromColumn2(p,C,new I.Position(t,o)),m=v.CursorColumns.visibleColumnFromColumn2(p,C,new I.Position(t,h));r&&(f>a||m<_)||d&&(m>_||f<a)||n.push(new v.SingleCursorState(new k.Range(t,o,t,o),0,new I.Position(t,h),0))}if(n.length===0)for(let s=0;s<l;s++){const t=i+(c?-s:s),o=C.getLineMaxColumn(t);n.push(new v.SingleCursorState(new k.Range(t,o,t,o),0,new I.Position(t,o),0))}return{viewStates:n,reversed:c,fromLineNumber:i,fromVisualColumn:_,toLineNumber:u,toVisualColumn:a}}static columnSelectLeft(p,C,i){let _=i.toViewVisualColumn;return _>0&&_--,w.columnSelect(p,C,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,_)}static columnSelectRight(p,C,i){let _=0;const u=Math.min(i.fromViewLineNumber,i.toViewLineNumber),a=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let c=u;c<=a;c++){const d=C.getLineMaxColumn(c),r=v.CursorColumns.visibleColumnFromColumn2(p,C,new I.Position(c,d));_=Math.max(_,r)}let l=i.toViewVisualColumn;return l<_&&l++,this.columnSelect(p,C,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,l)}static columnSelectUp(p,C,i,_){const u=_?p.pageSize:1,a=Math.max(1,i.toViewLineNumber-u);return this.columnSelect(p,C,i.fromViewLineNumber,i.fromViewVisualColumn,a,i.toViewVisualColumn)}static columnSelectDown(p,C,i,_){const u=_?p.pageSize:1,a=Math.min(C.getLineCount(),i.toViewLineNumber+u);return this.columnSelect(p,C,i.fromViewLineNumber,i.fromViewVisualColumn,a,i.toViewVisualColumn)}}e.ColumnSelection=w}),define(te[180],ie([0,1,39,14,3,8,204]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class p{constructor(_,u,a){this.lineNumber=_,this.column=u,this.leftoverVisibleColumns=a}}e.CursorPosition=p;class C{static leftPosition(_,u,a){return a>_.getLineMinColumn(u)?a=a-w.prevCharLength(_.getLineContent(u),a-1):u>1&&(u=u-1,a=_.getLineMaxColumn(u)),new I.Position(u,a)}static leftPositionAtomicSoftTabs(_,u,a,l){const c=_.getLineMinColumn(u),d=_.getLineContent(u),r=S.AtomicTabMoveOperations.atomicPosition(d,a-1,l,0);return r===-1||r+1<c?this.leftPosition(_,u,a):new I.Position(u,r+1)}static left(_,u,a,l){const c=_.stickyTabStops?C.leftPositionAtomicSoftTabs(u,a,l,_.tabSize):C.leftPosition(u,a,l);return new p(c.lineNumber,c.column,0)}static moveLeft(_,u,a,l,c){let d,r;if(a.hasSelection()&&!l)d=a.selection.startLineNumber,r=a.selection.startColumn;else{let n=C.left(_,u,a.position.lineNumber,a.position.column-(c-1));d=n.lineNumber,r=n.column}return a.move(l,d,r,0)}static rightPosition(_,u,a){return a<_.getLineMaxColumn(u)?a=a+w.nextCharLength(_.getLineContent(u),a-1):u<_.getLineCount()&&(u=u+1,a=_.getLineMinColumn(u)),new I.Position(u,a)}static rightPositionAtomicSoftTabs(_,u,a,l,c){const d=_.getLineContent(u),r=S.AtomicTabMoveOperations.atomicPosition(d,a-1,l,1);return r===-1?this.rightPosition(_,u,a):new I.Position(u,r+1)}static right(_,u,a,l){const c=_.stickyTabStops?C.rightPositionAtomicSoftTabs(u,a,l,_.tabSize,_.indentSize):C.rightPosition(u,a,l);return new p(c.lineNumber,c.column,0)}static moveRight(_,u,a,l,c){let d,r;if(a.hasSelection()&&!l)d=a.selection.endLineNumber,r=a.selection.endColumn;else{let n=C.right(_,u,a.position.lineNumber,a.position.column+(c-1));d=n.lineNumber,r=n.column}return a.move(l,d,r,0)}static down(_,u,a,l,c,d,r){const n=v.CursorColumns.visibleColumnFromColumn(u.getLineContent(a),l,_.tabSize)+c,s=u.getLineCount(),t=a===s&&l===u.getLineMaxColumn(a);return a=a+d,a>s?(a=s,r?l=u.getLineMaxColumn(a):l=Math.min(u.getLineMaxColumn(a),l)):l=v.CursorColumns.columnFromVisibleColumn2(_,u,a,n),t?c=0:c=n-v.CursorColumns.visibleColumnFromColumn(u.getLineContent(a),l,_.tabSize),new p(a,l,c)}static moveDown(_,u,a,l,c){let d,r;a.hasSelection()&&!l?(d=a.selection.endLineNumber,r=a.selection.endColumn):(d=a.position.lineNumber,r=a.position.column);let n=C.down(_,u,d,r,a.leftoverVisibleColumns,c,!0);return a.move(l,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateDown(_,u,a){let l=a.selection,c=C.down(_,u,l.selectionStartLineNumber,l.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),d=C.down(_,u,l.positionLineNumber,l.positionColumn,a.leftoverVisibleColumns,1,!1);return new v.SingleCursorState(new k.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new I.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static up(_,u,a,l,c,d,r){const n=v.CursorColumns.visibleColumnFromColumn(u.getLineContent(a),l,_.tabSize)+c,s=a===1&&l===1;return a=a-d,a<1?(a=1,r?l=u.getLineMinColumn(a):l=Math.min(u.getLineMaxColumn(a),l)):l=v.CursorColumns.columnFromVisibleColumn2(_,u,a,n),s?c=0:c=n-v.CursorColumns.visibleColumnFromColumn(u.getLineContent(a),l,_.tabSize),new p(a,l,c)}static moveUp(_,u,a,l,c){let d,r;a.hasSelection()&&!l?(d=a.selection.startLineNumber,r=a.selection.startColumn):(d=a.position.lineNumber,r=a.position.column);let n=C.up(_,u,d,r,a.leftoverVisibleColumns,c,!0);return a.move(l,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateUp(_,u,a){let l=a.selection,c=C.up(_,u,l.selectionStartLineNumber,l.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),d=C.up(_,u,l.positionLineNumber,l.positionColumn,a.leftoverVisibleColumns,1,!1);return new v.SingleCursorState(new k.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new I.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static _isBlankLine(_,u){return _.getLineFirstNonWhitespaceColumn(u)===0}static moveToPrevBlankLine(_,u,a,l){let c=a.position.lineNumber;for(;c>1&&this._isBlankLine(u,c);)c--;for(;c>1&&!this._isBlankLine(u,c);)c--;return a.move(l,c,u.getLineMinColumn(c),0)}static moveToNextBlankLine(_,u,a,l){const c=u.getLineCount();let d=a.position.lineNumber;for(;d<c&&this._isBlankLine(u,d);)d++;for(;d<c&&!this._isBlankLine(u,d);)d++;return a.move(l,d,u.getLineMinColumn(d),0)}static moveToBeginningOfLine(_,u,a,l){let c=a.position.lineNumber,d=u.getLineMinColumn(c),r=u.getLineFirstNonWhitespaceColumn(c)||d,n;return a.position.column===r?n=d:n=r,a.move(l,c,n,0)}static moveToEndOfLine(_,u,a,l,c){let d=a.position.lineNumber,r=u.getLineMaxColumn(d);return a.move(l,d,r,c?1073741824-r:0)}static moveToBeginningOfBuffer(_,u,a,l){return a.move(l,1,1,0)}static moveToEndOfBuffer(_,u,a,l){let c=u.getLineCount(),d=u.getLineMaxColumn(c);return a.move(l,c,d,0)}}e.MoveOperations=C}),define(te[181],ie([0,1,8,97,39,180,3]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class p{static deleteRight(i,_,u,a){let l=[],c=i!==3;for(let d=0,r=a.length;d<r;d++){const n=a[d];let s=n;if(s.isEmpty()){let t=n.getPosition(),o=w.MoveOperations.right(_,u,t.lineNumber,t.column);s=new S.Range(o.lineNumber,o.column,t.lineNumber,t.column)}if(s.isEmpty()){l[d]=null;continue}s.startLineNumber!==s.endLineNumber&&(c=!0),l[d]=new I.ReplaceCommand(s,"")}return[c,l]}static isAutoClosingPairDelete(i,_,u,a,l,c,d){if(_==="never"&&u==="never"||i==="never")return!1;for(let r=0,n=c.length;r<n;r++){const s=c[r],t=s.getPosition();if(!s.isEmpty())return!1;const o=l.getLineContent(t.lineNumber);if(t.column<2||t.column>=o.length+1)return!1;const h=o.charAt(t.column-2),f=a.get(h);if(!f)return!1;if((0,k.isQuote)(h)){if(u==="never")return!1}else if(_==="never")return!1;const m=o.charAt(t.column-1);let g=!1;for(const b of f)b.open===h&&b.close===m&&(g=!0);if(!g)return!1;if(i==="auto"){let b=!1;for(let y=0,L=d.length;y<L;y++){const N=d[y];if(t.lineNumber===N.startLineNumber&&t.column===N.startColumn){b=!0;break}}if(!b)return!1}}return!0}static _runAutoClosingPairDelete(i,_,u){let a=[];for(let l=0,c=u.length;l<c;l++){const d=u[l].getPosition(),r=new S.Range(d.lineNumber,d.column-1,d.lineNumber,d.column+1);a[l]=new I.ReplaceCommand(r,"")}return[!0,a]}static deleteLeft(i,_,u,a,l){if(this.isAutoClosingPairDelete(_.autoClosingDelete,_.autoClosingBrackets,_.autoClosingQuotes,_.autoClosingPairs.autoClosingPairsOpenByEnd,u,a,l))return this._runAutoClosingPairDelete(_,u,a);let c=[],d=i!==2;for(let r=0,n=a.length;r<n;r++){const s=a[r];let t=s;if(t.isEmpty()){let o=s.getPosition();if(_.useTabStops&&o.column>1){let h=u.getLineContent(o.lineNumber),f=v.firstNonWhitespaceIndex(h),m=f===-1?h.length+1:f+1;if(o.column<=m){let g=k.CursorColumns.visibleColumnFromColumn2(_,u,o),b=k.CursorColumns.prevIndentTabStop(g,_.indentSize),y=k.CursorColumns.columnFromVisibleColumn2(_,u,o.lineNumber,b);t=new S.Range(o.lineNumber,y,o.lineNumber,o.column)}else t=new S.Range(o.lineNumber,o.column-1,o.lineNumber,o.column)}else{let h=w.MoveOperations.left(_,u,o.lineNumber,o.column);t=new S.Range(h.lineNumber,h.column,o.lineNumber,o.column)}}if(t.isEmpty()){c[r]=null;continue}t.startLineNumber!==t.endLineNumber&&(d=!0),c[r]=new I.ReplaceCommand(t,"")}return[d,c]}static cut(i,_,u){let a=[];for(let l=0,c=u.length;l<c;l++){const d=u[l];if(d.isEmpty())if(i.emptySelectionClipboard){let r=d.getPosition(),n,s,t,o;r.lineNumber<_.getLineCount()?(n=r.lineNumber,s=1,t=r.lineNumber+1,o=1):r.lineNumber>1?(n=r.lineNumber-1,s=_.getLineMaxColumn(r.lineNumber-1),t=r.lineNumber,o=_.getLineMaxColumn(r.lineNumber)):(n=r.lineNumber,s=1,t=r.lineNumber,o=_.getLineMaxColumn(r.lineNumber));let h=new S.Range(n,s,t,o);h.isEmpty()?a[l]=null:a[l]=new I.ReplaceCommand(h,"")}else a[l]=null;else a[l]=new I.ReplaceCommand(d,"")}return new k.EditOperationResult(0,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=p}),define(te[182],ie([0,1,11,8,97,178,471,39,109,3,21,111,42]),function($,e,v,I,k,w,S,p,C,i,_,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class l{static indent(r,n,s){if(n===null||s===null)return[];let t=[];for(let o=0,h=s.length;o<h;o++)t[o]=new w.ShiftCommand(s[o],{isUnshift:!1,tabSize:r.tabSize,indentSize:r.indentSize,insertSpaces:r.insertSpaces,useTabStops:r.useTabStops,autoIndent:r.autoIndent});return t}static outdent(r,n,s){let t=[];for(let o=0,h=s.length;o<h;o++)t[o]=new w.ShiftCommand(s[o],{isUnshift:!0,tabSize:r.tabSize,indentSize:r.indentSize,insertSpaces:r.insertSpaces,useTabStops:r.useTabStops,autoIndent:r.autoIndent});return t}static shiftIndent(r,n,s){return s=s||1,w.ShiftCommand.shiftIndent(n,n.length+s,r.tabSize,r.indentSize,r.insertSpaces)}static unshiftIndent(r,n,s){return s=s||1,w.ShiftCommand.unshiftIndent(n,n.length+s,r.tabSize,r.indentSize,r.insertSpaces)}static _distributedPaste(r,n,s,t){let o=[];for(let h=0,f=s.length;h<f;h++)o[h]=new k.ReplaceCommand(s[h],t[h]);return new p.EditOperationResult(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(r,n,s,t,o){let h=[];for(let f=0,m=s.length;f<m;f++){const g=s[f];let b=g.getPosition();if(o&&!g.isEmpty()&&(o=!1),o&&t.indexOf(`
`)!==t.length-1&&(o=!1),o){let y=new i.Range(b.lineNumber,1,b.lineNumber,1);h[f]=new k.ReplaceCommandThatPreservesSelection(y,t,g,!0)}else h[f]=new k.ReplaceCommand(g,t)}return new p.EditOperationResult(0,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(r,n,s,t,o){if(t||n.length===1)return null;if(o&&o.length===n.length)return o;if(r.multiCursorPaste==="spread"){s.charCodeAt(s.length-1)===10&&(s=s.substr(0,s.length-1)),s.charCodeAt(s.length-1)===13&&(s=s.substr(0,s.length-1));let h=I.splitLines(s);if(h.length===n.length)return h}return null}static paste(r,n,s,t,o,h){const f=this._distributePasteToCursors(r,s,t,o,h);return f?(s=s.sort(i.Range.compareRangesUsingStarts),this._distributedPaste(r,n,s,f)):this._simplePaste(r,n,s,t,o)}static _goodIndentForLine(r,n,s){let t=null,o="";const h=a.LanguageConfigurationRegistry.getInheritIndentForLine(r.autoIndent,n,s,!1);if(h)t=h.action,o=h.indentation;else if(s>1){let f;for(f=s-1;f>=1;f--){const b=n.getLineContent(f);if(I.lastNonWhitespaceIndex(b)>=0)break}if(f<1)return null;const m=n.getLineMaxColumn(f),g=a.LanguageConfigurationRegistry.getEnterAction(r.autoIndent,n,new i.Range(f,m,f,m));g&&(o=g.indentation+g.appendText)}return t&&(t===u.IndentAction.Indent&&(o=l.shiftIndent(r,o)),t===u.IndentAction.Outdent&&(o=l.unshiftIndent(r,o)),o=r.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(r,n,s,t){let o="",h=s.getStartPosition();if(r.insertSpaces){let f=p.CursorColumns.visibleColumnFromColumn2(r,n,h),m=r.indentSize,g=m-f%m;for(let b=0;b<g;b++)o+=" "}else o="	";return new k.ReplaceCommand(s,o,t)}static tab(r,n,s){let t=[];for(let o=0,h=s.length;o<h;o++){const f=s[o];if(f.isEmpty()){let m=n.getLineContent(f.startLineNumber);if(/^\s*$/.test(m)&&n.isCheapToTokenize(f.startLineNumber)){let g=this._goodIndentForLine(r,n,f.startLineNumber);g=g||"	";let b=r.normalizeIndentation(g);if(!m.startsWith(b)){t[o]=new k.ReplaceCommand(new i.Range(f.startLineNumber,1,f.startLineNumber,m.length+1),b,!0);continue}}t[o]=this._replaceJumpToNextIndent(r,n,f,!0)}else{if(f.startLineNumber===f.endLineNumber){let m=n.getLineMaxColumn(f.startLineNumber);if(f.startColumn!==1||f.endColumn!==m){t[o]=this._replaceJumpToNextIndent(r,n,f,!1);continue}}t[o]=new w.ShiftCommand(f,{isUnshift:!1,tabSize:r.tabSize,indentSize:r.indentSize,insertSpaces:r.insertSpaces,useTabStops:r.useTabStops,autoIndent:r.autoIndent})}}return t}static compositionType(r,n,s,t,o,h,f,m){const g=t.map(b=>this._compositionType(s,b,o,h,f,m));return new p.EditOperationResult(1,g,{shouldPushStackElementBefore:r!==1,shouldPushStackElementAfter:!1})}static _compositionType(r,n,s,t,o,h){if(!n.isEmpty())return null;const f=n.getPosition(),m=Math.max(1,f.column-t),g=Math.min(r.getLineMaxColumn(f.lineNumber),f.column+o),b=new i.Range(f.lineNumber,m,f.lineNumber,g);return r.getValueInRange(b)===s&&h===0?null:new k.ReplaceCommandWithOffsetCursorState(b,s,0,h)}static _typeCommand(r,n,s){return s?new k.ReplaceCommandWithoutChangingPosition(r,n,!0):new k.ReplaceCommand(r,n,!0)}static _enter(r,n,s,t){if(r.autoIndent===0)return l._typeCommand(t,`
`,s);if(!n.isCheapToTokenize(t.getStartPosition().lineNumber)||r.autoIndent===1){let m=n.getLineContent(t.startLineNumber),g=I.getLeadingWhitespace(m).substring(0,t.startColumn-1);return l._typeCommand(t,`
`+r.normalizeIndentation(g),s)}const o=a.LanguageConfigurationRegistry.getEnterAction(r.autoIndent,n,t);if(o){if(o.indentAction===u.IndentAction.None)return l._typeCommand(t,`
`+r.normalizeIndentation(o.indentation+o.appendText),s);if(o.indentAction===u.IndentAction.Indent)return l._typeCommand(t,`
`+r.normalizeIndentation(o.indentation+o.appendText),s);if(o.indentAction===u.IndentAction.IndentOutdent){const m=r.normalizeIndentation(o.indentation),g=r.normalizeIndentation(o.indentation+o.appendText),b=`
`+g+`
`+m;return s?new k.ReplaceCommandWithoutChangingPosition(t,b,!0):new k.ReplaceCommandWithOffsetCursorState(t,b,-1,g.length-m.length,!0)}else if(o.indentAction===u.IndentAction.Outdent){const m=l.unshiftIndent(r,o.indentation);return l._typeCommand(t,`
`+r.normalizeIndentation(m+o.appendText),s)}}const h=n.getLineContent(t.startLineNumber),f=I.getLeadingWhitespace(h).substring(0,t.startColumn-1);if(r.autoIndent>=4){const m=a.LanguageConfigurationRegistry.getIndentForEnter(r.autoIndent,n,t,{unshiftIndent:g=>l.unshiftIndent(r,g),shiftIndent:g=>l.shiftIndent(r,g),normalizeIndentation:g=>r.normalizeIndentation(g)});if(m){let g=p.CursorColumns.visibleColumnFromColumn2(r,n,t.getEndPosition());const b=t.endColumn,y=n.getLineContent(t.endLineNumber),L=I.firstNonWhitespaceIndex(y);if(L>=0?t=t.setEndPosition(t.endLineNumber,Math.max(t.endColumn,L+1)):t=t.setEndPosition(t.endLineNumber,n.getLineMaxColumn(t.endLineNumber)),s)return new k.ReplaceCommandWithoutChangingPosition(t,`
`+r.normalizeIndentation(m.afterEnter),!0);{let N=0;return b<=L+1&&(r.insertSpaces||(g=Math.ceil(g/r.indentSize)),N=Math.min(g+1-r.normalizeIndentation(m.afterEnter).length-1,0)),new k.ReplaceCommandWithOffsetCursorState(t,`
`+r.normalizeIndentation(m.afterEnter),0,N,!0)}}}return l._typeCommand(t,`
`+r.normalizeIndentation(f),s)}static _isAutoIndentType(r,n,s){if(r.autoIndent<4)return!1;for(let t=0,o=s.length;t<o;t++)if(!n.isCheapToTokenize(s[t].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(r,n,s,t){const o=a.LanguageConfigurationRegistry.getIndentationAtPosition(n,s.startLineNumber,s.startColumn),h=a.LanguageConfigurationRegistry.getIndentActionForType(r.autoIndent,n,s,t,{shiftIndent:f=>l.shiftIndent(r,f),unshiftIndent:f=>l.unshiftIndent(r,f)});if(h===null)return null;if(h!==r.normalizeIndentation(o)){const f=n.getLineFirstNonWhitespaceColumn(s.startLineNumber);return f===0?l._typeCommand(new i.Range(s.startLineNumber,1,s.endLineNumber,s.endColumn),r.normalizeIndentation(h)+t,!1):l._typeCommand(new i.Range(s.startLineNumber,1,s.endLineNumber,s.endColumn),r.normalizeIndentation(h)+n.getLineContent(s.startLineNumber).substring(f-1,s.startColumn-1)+t,!1)}return null}static _isAutoClosingOvertype(r,n,s,t,o){if(r.autoClosingOvertype==="never"||!r.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let h=0,f=s.length;h<f;h++){const m=s[h];if(!m.isEmpty())return!1;const g=m.getPosition(),b=n.getLineContent(g.lineNumber);if(b.charAt(g.column-1)!==o)return!1;const L=(0,p.isQuote)(o);if((g.column>2?b.charCodeAt(g.column-2):0)===92&&L)return!1;if(r.autoClosingOvertype==="auto"){let M=!1;for(let D=0,R=t.length;D<R;D++){const P=t[D];if(g.lineNumber===P.startLineNumber&&g.column===P.startColumn){M=!0;break}}if(!M)return!1}}return!0}static _runAutoClosingOvertype(r,n,s,t,o){let h=[];for(let f=0,m=t.length;f<m;f++){const b=t[f].getPosition(),y=new i.Range(b.lineNumber,b.column,b.lineNumber,b.column+1);h[f]=new k.ReplaceCommand(y,o)}return new p.EditOperationResult(1,h,{shouldPushStackElementBefore:r!==1,shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(r,n){const s=n.charAt(0),t=r.autoClosingPairs.autoClosingPairsOpenByStart.get(s)||[],o=r.autoClosingPairs.autoClosingPairsCloseByStart.get(s)||[],h=t.some(m=>n.startsWith(m.open)),f=o.some(m=>n.startsWith(m.close));return!h&&f}static _findAutoClosingPairOpen(r,n,s,t){const o=r.autoClosingPairs.autoClosingPairsOpenByEnd.get(t);if(!o)return null;let h=null;for(const f of o)if(h===null||f.open.length>h.open.length){let m=!0;for(const g of s)if(n.getValueInRange(new i.Range(g.lineNumber,g.column-f.open.length+1,g.lineNumber,g.column))+t!==f.open){m=!1;break}m&&(h=f)}return h}static _findSubAutoClosingPairClose(r,n){if(n.open.length<=1)return"";const s=n.close.charAt(n.close.length-1),t=r.autoClosingPairs.autoClosingPairsCloseByEnd.get(s)||[];let o=null;for(const h of t)h.open!==n.open&&n.open.includes(h.open)&&n.close.endsWith(h.close)&&(!o||h.open.length>o.open.length)&&(o=h);return o?o.close:""}static _getAutoClosingPairClose(r,n,s,t,o){const h=(0,p.isQuote)(t),f=h?r.autoClosingQuotes:r.autoClosingBrackets;if(f==="never")return null;const m=this._findAutoClosingPairOpen(r,n,s.map(L=>L.getPosition()),t);if(!m)return null;const g=this._findSubAutoClosingPairClose(r,m);let b=!0;const y=h?r.shouldAutoCloseBefore.quote:r.shouldAutoCloseBefore.bracket;for(let L=0,N=s.length;L<N;L++){const M=s[L];if(!M.isEmpty())return null;const D=M.getPosition(),R=n.getLineContent(D.lineNumber),P=R.substring(D.column-1);if(P.startsWith(g)||(b=!1),R.length>D.column-1){const F=R.charAt(D.column-1);if(!l._isBeforeClosingBrace(r,P)&&!y(F))return null}if(!n.isCheapToTokenize(D.lineNumber))return null;if(m.open.length===1&&h&&f!=="always"){const F=(0,C.getMapForWordSeparators)(r.wordSeparators);if(o&&D.column>1&&F.get(R.charCodeAt(D.column-2))===0||!o&&D.column>2&&F.get(R.charCodeAt(D.column-3))===0)return null}n.forceTokenization(D.lineNumber);const O=n.getLineTokens(D.lineNumber);let W=!1;try{W=a.LanguageConfigurationRegistry.shouldAutoClosePair(m,O,o?D.column:D.column-1)}catch(F){(0,v.onUnexpectedError)(F)}if(!W)return null}return b?m.close.substring(0,m.close.length-g.length):m.close}static _runAutoClosingOpenCharType(r,n,s,t,o,h,f){let m=[];for(let g=0,b=t.length;g<b;g++){const y=t[g];m[g]=new c(y,o,h,f)}return new p.EditOperationResult(1,m,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(r,n){return(0,p.isQuote)(n)?r.autoSurround==="quotes"||r.autoSurround==="languageDefined":r.autoSurround==="brackets"||r.autoSurround==="languageDefined"}static _isSurroundSelectionType(r,n,s,t){if(!l._shouldSurroundChar(r,t)||!r.surroundingPairs.hasOwnProperty(t))return!1;const o=(0,p.isQuote)(t);for(let h=0,f=s.length;h<f;h++){const m=s[h];if(m.isEmpty())return!1;let g=!0;for(let b=m.startLineNumber;b<=m.endLineNumber;b++){const y=n.getLineContent(b),L=b===m.startLineNumber?m.startColumn-1:0,N=b===m.endLineNumber?m.endColumn-1:y.length,M=y.substring(L,N);if(/[^ \t]/.test(M)){g=!1;break}}if(g)return!1;if(o&&m.startLineNumber===m.endLineNumber&&m.startColumn+1===m.endColumn){const b=n.getValueInRange(m);if((0,p.isQuote)(b))return!1}}return!0}static _runSurroundSelectionType(r,n,s,t,o){let h=[];for(let f=0,m=t.length;f<m;f++){const g=t[f],b=n.surroundingPairs[o];h[f]=new S.SurroundSelectionCommand(g,o,b)}return new p.EditOperationResult(0,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(r,n,s){return!!(s.length===1&&n.isCheapToTokenize(s[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(r,n,s,t,o){if(!n.electricChars.hasOwnProperty(o)||!t.isEmpty())return null;let h=t.getPosition();s.forceTokenization(h.lineNumber);let f=s.getLineTokens(h.lineNumber),m;try{m=a.LanguageConfigurationRegistry.onElectricCharacter(o,f,h.column)}catch(g){return(0,v.onUnexpectedError)(g),null}if(!m)return null;if(m.matchOpenBracket){let g=(f.getLineContent()+o).lastIndexOf(m.matchOpenBracket)+1,b=s.findMatchingBracketUp(m.matchOpenBracket,{lineNumber:h.lineNumber,column:g});if(b){if(b.startLineNumber===h.lineNumber)return null;let y=s.getLineContent(b.startLineNumber),L=I.getLeadingWhitespace(y),N=n.normalizeIndentation(L),M=s.getLineContent(h.lineNumber),D=s.getLineFirstNonWhitespaceColumn(h.lineNumber)||h.column,R=M.substring(D-1,h.column-1),P=N+R+o,O=new i.Range(h.lineNumber,1,h.lineNumber,h.column);const W=new k.ReplaceCommand(O,P);return new p.EditOperationResult(1,[W],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(r,n,s,t,o,h){if(!t||_.Selection.selectionsArrEqual(t,o))return null;let f=null;for(const g of o){if(!g.isEmpty())return null;const b=g.getPosition(),y=s.getValueInRange(new i.Range(b.lineNumber,b.column-1,b.lineNumber,b.column));if(f===null)f=y;else if(f!==y)return null}if(!f)return null;if(this._isAutoClosingOvertype(n,s,o,h,f)){const g=o.map(b=>new k.ReplaceCommand(new i.Range(b.positionLineNumber,b.positionColumn,b.positionLineNumber,b.positionColumn+1),"",!1));return new p.EditOperationResult(1,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const m=this._getAutoClosingPairClose(n,s,o,f,!1);return m!==null?this._runAutoClosingOpenCharType(r,n,s,o,f,!1,m):null}static typeWithInterceptors(r,n,s,t,o,h,f){if(!r&&f===`
`){let b=[];for(let y=0,L=o.length;y<L;y++)b[y]=l._enter(s,t,!1,o[y]);return new p.EditOperationResult(1,b,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!r&&this._isAutoIndentType(s,t,o)){let b=[],y=!1;for(let L=0,N=o.length;L<N;L++)if(b[L]=this._runAutoIndentType(s,t,o[L],f),!b[L]){y=!0;break}if(!y)return new p.EditOperationResult(1,b,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!r&&this._isAutoClosingOvertype(s,t,o,h,f))return this._runAutoClosingOvertype(n,s,t,o,f);if(!r){const b=this._getAutoClosingPairClose(s,t,o,f,!0);if(b)return this._runAutoClosingOpenCharType(n,s,t,o,f,!0,b)}if(this._isSurroundSelectionType(s,t,o,f))return this._runSurroundSelectionType(n,s,t,o,f);if(!r&&this._isTypeInterceptorElectricChar(s,t,o)){const b=this._typeInterceptorElectricChar(n,s,t,o[0],f);if(b)return b}let m=[];for(let b=0,y=o.length;b<y;b++)m[b]=new k.ReplaceCommand(o[b],f);let g=n!==1;return f===" "&&(g=!0),new p.EditOperationResult(1,m,{shouldPushStackElementBefore:g,shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(r,n,s,t,o){let h=[];for(let f=0,m=t.length;f<m;f++)h[f]=new k.ReplaceCommand(t[f],o);return new p.EditOperationResult(1,h,{shouldPushStackElementBefore:r!==1,shouldPushStackElementAfter:!1})}static lineInsertBefore(r,n,s){if(n===null||s===null)return[];let t=[];for(let o=0,h=s.length;o<h;o++){let f=s[o].positionLineNumber;if(f===1)t[o]=new k.ReplaceCommandWithoutChangingPosition(new i.Range(1,1,1,1),`
`);else{f--;let m=n.getLineMaxColumn(f);t[o]=this._enter(r,n,!1,new i.Range(f,m,f,m))}}return t}static lineInsertAfter(r,n,s){if(n===null||s===null)return[];let t=[];for(let o=0,h=s.length;o<h;o++){const f=s[o].positionLineNumber;let m=n.getLineMaxColumn(f);t[o]=this._enter(r,n,!1,new i.Range(f,m,f,m))}return t}static lineBreakInsert(r,n,s){let t=[];for(let o=0,h=s.length;o<h;o++)t[o]=this._enter(r,n,!0,s[o]);return t}}e.TypeOperations=l;class c extends k.ReplaceCommandWithOffsetCursorState{constructor(r,n,s,t){super(r,(s?n:"")+t,0,-t.length);this._openCharacter=n,this._closeCharacter=t,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(r,n){let t=n.getInverseEditOperations()[0].range;return this.closeCharacterRange=new i.Range(t.startLineNumber,t.endColumn-this._closeCharacter.length,t.endLineNumber,t.endColumn),this.enclosingRange=new i.Range(t.startLineNumber,t.endColumn-this._openCharacter.length-this._closeCharacter.length,t.endLineNumber,t.endColumn),super.computeCursorState(r,n)}}e.TypeWithAutoClosingCommand=c}),define(te[140],ie([0,1,8,39,181,109,14,3]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class C{static _createWord(a,l,c,d,r){return{start:d,end:r,wordType:l,nextCharClass:c}}static _findPreviousWordOnLine(a,l,c){let d=l.getLineContent(c.lineNumber);return this._doFindPreviousWordOnLine(d,a,c)}static _doFindPreviousWordOnLine(a,l,c){let d=0;for(let r=c.column-2;r>=0;r--){let n=a.charCodeAt(r),s=l.get(n);if(s===0){if(d===2)return this._createWord(a,d,s,r+1,this._findEndOfWord(a,l,d,r+1));d=1}else if(s===2){if(d===1)return this._createWord(a,d,s,r+1,this._findEndOfWord(a,l,d,r+1));d=2}else if(s===1&&d!==0)return this._createWord(a,d,s,r+1,this._findEndOfWord(a,l,d,r+1))}return d!==0?this._createWord(a,d,1,0,this._findEndOfWord(a,l,d,0)):null}static _findEndOfWord(a,l,c,d){let r=a.length;for(let n=d;n<r;n++){let s=a.charCodeAt(n),t=l.get(s);if(t===1||c===1&&t===2||c===2&&t===0)return n}return r}static _findNextWordOnLine(a,l,c){let d=l.getLineContent(c.lineNumber);return this._doFindNextWordOnLine(d,a,c)}static _doFindNextWordOnLine(a,l,c){let d=0,r=a.length;for(let n=c.column-1;n<r;n++){let s=a.charCodeAt(n),t=l.get(s);if(t===0){if(d===2)return this._createWord(a,d,t,this._findStartOfWord(a,l,d,n-1),n);d=1}else if(t===2){if(d===1)return this._createWord(a,d,t,this._findStartOfWord(a,l,d,n-1),n);d=2}else if(t===1&&d!==0)return this._createWord(a,d,t,this._findStartOfWord(a,l,d,n-1),n)}return d!==0?this._createWord(a,d,1,this._findStartOfWord(a,l,d,r-1),r):null}static _findStartOfWord(a,l,c,d){for(let r=d;r>=0;r--){let n=a.charCodeAt(r),s=l.get(n);if(s===1||c===1&&s===2||c===2&&s===0)return r+1}return 0}static moveWordLeft(a,l,c,d){let r=c.lineNumber,n=c.column;n===1&&r>1&&(r=r-1,n=l.getLineMaxColumn(r));let s=C._findPreviousWordOnLine(a,l,new S.Position(r,n));if(d===0)return new S.Position(r,s?s.start+1:1);if(d===1)return s&&s.wordType===2&&s.end-s.start==1&&s.nextCharClass===0&&(s=C._findPreviousWordOnLine(a,l,new S.Position(r,s.start+1))),new S.Position(r,s?s.start+1:1);if(d===3){for(;s&&s.wordType===2;)s=C._findPreviousWordOnLine(a,l,new S.Position(r,s.start+1));return new S.Position(r,s?s.start+1:1)}return s&&n<=s.end+1&&(s=C._findPreviousWordOnLine(a,l,new S.Position(r,s.start+1))),new S.Position(r,s?s.end+1:1)}static _moveWordPartLeft(a,l){const c=l.lineNumber,d=a.getLineMaxColumn(c);if(l.column===1)return c>1?new S.Position(c-1,a.getLineMaxColumn(c-1)):l;const r=a.getLineContent(c);for(let n=l.column-1;n>1;n--){const s=r.charCodeAt(n-2),t=r.charCodeAt(n-1);if(s===95&&t!==95)return new S.Position(c,n);if(v.isLowerAsciiLetter(s)&&v.isUpperAsciiLetter(t))return new S.Position(c,n);if(v.isUpperAsciiLetter(s)&&v.isUpperAsciiLetter(t)&&n+1<d){const o=r.charCodeAt(n);if(v.isLowerAsciiLetter(o))return new S.Position(c,n)}}return new S.Position(c,1)}static moveWordRight(a,l,c,d){let r=c.lineNumber,n=c.column,s=!1;n===l.getLineMaxColumn(r)&&r<l.getLineCount()&&(s=!0,r=r+1,n=1);let t=C._findNextWordOnLine(a,l,new S.Position(r,n));if(d===2)t&&t.wordType===2&&t.end-t.start==1&&t.nextCharClass===0&&(t=C._findNextWordOnLine(a,l,new S.Position(r,t.end+1))),t?n=t.end+1:n=l.getLineMaxColumn(r);else if(d===3){for(s&&(n=0);t&&(t.wordType===2||t.start+1<=n);)t=C._findNextWordOnLine(a,l,new S.Position(r,t.end+1));t?n=t.start+1:n=l.getLineMaxColumn(r)}else t&&!s&&n>=t.start+1&&(t=C._findNextWordOnLine(a,l,new S.Position(r,t.end+1))),t?n=t.start+1:n=l.getLineMaxColumn(r);return new S.Position(r,n)}static _moveWordPartRight(a,l){const c=l.lineNumber,d=a.getLineMaxColumn(c);if(l.column===d)return c<a.getLineCount()?new S.Position(c+1,1):l;const r=a.getLineContent(c);for(let n=l.column+1;n<d;n++){const s=r.charCodeAt(n-2),t=r.charCodeAt(n-1);if(s!==95&&t===95)return new S.Position(c,n);if(v.isLowerAsciiLetter(s)&&v.isUpperAsciiLetter(t))return new S.Position(c,n);if(v.isUpperAsciiLetter(s)&&v.isUpperAsciiLetter(t)&&n+1<d){const o=r.charCodeAt(n);if(v.isLowerAsciiLetter(o))return new S.Position(c,n)}}return new S.Position(c,d)}static _deleteWordLeftWhitespace(a,l){const c=a.getLineContent(l.lineNumber),d=l.column-2,r=v.lastNonWhitespaceIndex(c,d);return r+1<d?new p.Range(l.lineNumber,r+2,l.lineNumber,l.column):null}static deleteWordLeft(a,l){const c=a.wordSeparators,d=a.model,r=a.selection,n=a.whitespaceHeuristics;if(!r.isEmpty())return r;if(k.DeleteOperations.isAutoClosingPairDelete(a.autoClosingDelete,a.autoClosingBrackets,a.autoClosingQuotes,a.autoClosingPairs.autoClosingPairsOpenByEnd,a.model,[a.selection],a.autoClosedCharacters)){const f=a.selection.getPosition();return new p.Range(f.lineNumber,f.column-1,f.lineNumber,f.column+1)}const s=new S.Position(r.positionLineNumber,r.positionColumn);let t=s.lineNumber,o=s.column;if(t===1&&o===1)return null;if(n){let f=this._deleteWordLeftWhitespace(d,s);if(f)return f}let h=C._findPreviousWordOnLine(c,d,s);return l===0?h?o=h.start+1:o>1?o=1:(t--,o=d.getLineMaxColumn(t)):(h&&o<=h.end+1&&(h=C._findPreviousWordOnLine(c,d,new S.Position(t,h.start+1))),h?o=h.end+1:o>1?o=1:(t--,o=d.getLineMaxColumn(t))),new p.Range(t,o,s.lineNumber,s.column)}static deleteInsideWord(a,l,c){if(!c.isEmpty())return c;const d=new S.Position(c.positionLineNumber,c.positionColumn);let r=this._deleteInsideWordWhitespace(l,d);return r||this._deleteInsideWordDetermineDeleteRange(a,l,d)}static _charAtIsWhitespace(a,l){const c=a.charCodeAt(l);return c===32||c===9}static _deleteInsideWordWhitespace(a,l){const c=a.getLineContent(l.lineNumber),d=c.length;if(d===0)return null;let r=Math.max(l.column-2,0);if(!this._charAtIsWhitespace(c,r))return null;let n=Math.min(l.column-1,d-1);if(!this._charAtIsWhitespace(c,n))return null;for(;r>0&&this._charAtIsWhitespace(c,r-1);)r--;for(;n+1<d&&this._charAtIsWhitespace(c,n+1);)n++;return new p.Range(l.lineNumber,r+1,l.lineNumber,n+2)}static _deleteInsideWordDetermineDeleteRange(a,l,c){const d=l.getLineContent(c.lineNumber),r=d.length;if(r===0)return c.lineNumber>1?new p.Range(c.lineNumber-1,l.getLineMaxColumn(c.lineNumber-1),c.lineNumber,1):c.lineNumber<l.getLineCount()?new p.Range(c.lineNumber,1,c.lineNumber+1,1):new p.Range(c.lineNumber,1,c.lineNumber,1);const n=f=>f.start+1<=c.column&&c.column<=f.end+1,s=(f,m)=>(f=Math.min(f,c.column),m=Math.max(m,c.column),new p.Range(c.lineNumber,f,c.lineNumber,m)),t=f=>{let m=f.start+1,g=f.end+1,b=!1;for(;g-1<r&&this._charAtIsWhitespace(d,g-1);)b=!0,g++;if(!b)for(;m>1&&this._charAtIsWhitespace(d,m-2);)m--;return s(m,g)},o=C._findPreviousWordOnLine(a,l,c);if(o&&n(o))return t(o);const h=C._findNextWordOnLine(a,l,c);return h&&n(h)?t(h):o&&h?s(o.end+1,h.start+1):o?s(o.start+1,o.end+1):h?s(h.start+1,h.end+1):s(1,r+1)}static _deleteWordPartLeft(a,l){if(!l.isEmpty())return l;const c=l.getPosition(),d=C._moveWordPartLeft(a,c);return new p.Range(c.lineNumber,c.column,d.lineNumber,d.column)}static _findFirstNonWhitespaceChar(a,l){let c=a.length;for(let d=l;d<c;d++){let r=a.charAt(d);if(r!==" "&&r!=="	")return d}return c}static _deleteWordRightWhitespace(a,l){const c=a.getLineContent(l.lineNumber),d=l.column-1,r=this._findFirstNonWhitespaceChar(c,d);return d+1<r?new p.Range(l.lineNumber,l.column,l.lineNumber,r+1):null}static deleteWordRight(a,l){const c=a.wordSeparators,d=a.model,r=a.selection,n=a.whitespaceHeuristics;if(!r.isEmpty())return r;const s=new S.Position(r.positionLineNumber,r.positionColumn);let t=s.lineNumber,o=s.column;const h=d.getLineCount(),f=d.getLineMaxColumn(t);if(t===h&&o===f)return null;if(n){let g=this._deleteWordRightWhitespace(d,s);if(g)return g}let m=C._findNextWordOnLine(c,d,s);return l===2?m?o=m.end+1:o<f||t===h?o=f:(t++,m=C._findNextWordOnLine(c,d,new S.Position(t,1)),m?o=m.start+1:o=d.getLineMaxColumn(t)):(m&&o>=m.start+1&&(m=C._findNextWordOnLine(c,d,new S.Position(t,m.end+1))),m?o=m.start+1:o<f||t===h?o=f:(t++,m=C._findNextWordOnLine(c,d,new S.Position(t,1)),m?o=m.start+1:o=d.getLineMaxColumn(t))),new p.Range(t,o,s.lineNumber,s.column)}static _deleteWordPartRight(a,l){if(!l.isEmpty())return l;const c=l.getPosition(),d=C._moveWordPartRight(a,c);return new p.Range(c.lineNumber,c.column,d.lineNumber,d.column)}static _createWordAtPosition(a,l,c){const d=new p.Range(l,c.start+1,l,c.end+1);return{word:a.getValueInRange(d),startColumn:d.startColumn,endColumn:d.endColumn}}static getWordAtPosition(a,l,c){const d=(0,w.getMapForWordSeparators)(l),r=C._findPreviousWordOnLine(d,a,c);if(r&&r.wordType===1&&r.start<=c.column-1&&c.column-1<=r.end)return C._createWordAtPosition(a,c.lineNumber,r);const n=C._findNextWordOnLine(d,a,c);return n&&n.wordType===1&&n.start<=c.column-1&&c.column-1<=n.end?C._createWordAtPosition(a,c.lineNumber,n):null}static word(a,l,c,d,r){const n=(0,w.getMapForWordSeparators)(a.wordSeparators);let s=C._findPreviousWordOnLine(n,l,r),t=C._findNextWordOnLine(n,l,r);if(!d){let g,b;return s&&s.wordType===1&&s.start<=r.column-1&&r.column-1<=s.end?(g=s.start+1,b=s.end+1):t&&t.wordType===1&&t.start<=r.column-1&&r.column-1<=t.end?(g=t.start+1,b=t.end+1):(s?g=s.end+1:g=1,t?b=t.start+1:b=l.getLineMaxColumn(r.lineNumber)),new I.SingleCursorState(new p.Range(r.lineNumber,g,r.lineNumber,b),0,new S.Position(r.lineNumber,b),0)}let o,h;s&&s.wordType===1&&s.start<r.column-1&&r.column-1<s.end?(o=s.start+1,h=s.end+1):t&&t.wordType===1&&t.start<r.column-1&&r.column-1<t.end?(o=t.start+1,h=t.end+1):(o=r.column,h=r.column);let f=r.lineNumber,m;if(c.selectionStart.containsPosition(r))m=c.selectionStart.endColumn;else if(r.isBeforeOrEqual(c.selectionStart.getStartPosition())){m=o;let g=new S.Position(f,m);c.selectionStart.containsPosition(g)&&(m=c.selectionStart.endColumn)}else{m=h;let g=new S.Position(f,m);c.selectionStart.containsPosition(g)&&(m=c.selectionStart.startColumn)}return c.move(!0,f,m,0)}}e.WordOperations=C;class i extends C{static deleteWordPartLeft(a){const l=_([C.deleteWordLeft(a,0),C.deleteWordLeft(a,2),C._deleteWordPartLeft(a.model,a.selection)]);return l.sort(p.Range.compareRangesUsingEnds),l[2]}static deleteWordPartRight(a){const l=_([C.deleteWordRight(a,0),C.deleteWordRight(a,2),C._deleteWordPartRight(a.model,a.selection)]);return l.sort(p.Range.compareRangesUsingStarts),l[0]}static moveWordPartLeft(a,l,c){const d=_([C.moveWordLeft(a,l,c,0),C.moveWordLeft(a,l,c,2),C._moveWordPartLeft(l,c)]);return d.sort(S.Position.compare),d[2]}static moveWordPartRight(a,l,c){const d=_([C.moveWordRight(a,l,c,0),C.moveWordRight(a,l,c,2),C._moveWordPartRight(l,c)]);return d.sort(S.Position.compare),d[0]}}e.WordPartOperations=i;function _(u){return u.filter(a=>Boolean(a))}}),define(te[203],ie([0,1,20,39,180,140,14,3]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class C{static addCursorDown(u,a,l){let c=[],d=0;for(let r=0,n=a.length;r<n;r++){const s=a[r];c[d++]=new I.CursorState(s.modelState,s.viewState),l?c[d++]=I.CursorState.fromModelState(k.MoveOperations.translateDown(u.cursorConfig,u.model,s.modelState)):c[d++]=I.CursorState.fromViewState(k.MoveOperations.translateDown(u.cursorConfig,u,s.viewState))}return c}static addCursorUp(u,a,l){let c=[],d=0;for(let r=0,n=a.length;r<n;r++){const s=a[r];c[d++]=new I.CursorState(s.modelState,s.viewState),l?c[d++]=I.CursorState.fromModelState(k.MoveOperations.translateUp(u.cursorConfig,u.model,s.modelState)):c[d++]=I.CursorState.fromViewState(k.MoveOperations.translateUp(u.cursorConfig,u,s.viewState))}return c}static moveToBeginningOfLine(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d];c[d]=this._moveToLineStart(u,n,l)}return c}static _moveToLineStart(u,a,l){const c=a.viewState.position.column,d=a.modelState.position.column,r=c===d,n=a.viewState.position.lineNumber,s=u.getLineFirstNonWhitespaceColumn(n);return!r&&!(c===s)?this._moveToLineStartByView(u,a,l):this._moveToLineStartByModel(u,a,l)}static _moveToLineStartByView(u,a,l){return I.CursorState.fromViewState(k.MoveOperations.moveToBeginningOfLine(u.cursorConfig,u,a.viewState,l))}static _moveToLineStartByModel(u,a,l){return I.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfLine(u.cursorConfig,u.model,a.modelState,l))}static moveToEndOfLine(u,a,l,c){let d=[];for(let r=0,n=a.length;r<n;r++){const s=a[r];d[r]=this._moveToLineEnd(u,s,l,c)}return d}static _moveToLineEnd(u,a,l,c){const d=a.viewState.position,r=u.getLineMaxColumn(d.lineNumber),n=d.column===r,s=a.modelState.position,t=u.model.getLineMaxColumn(s.lineNumber),o=r-d.column==t-s.column;return n||o?this._moveToLineEndByModel(u,a,l,c):this._moveToLineEndByView(u,a,l,c)}static _moveToLineEndByView(u,a,l,c){return I.CursorState.fromViewState(k.MoveOperations.moveToEndOfLine(u.cursorConfig,u,a.viewState,l,c))}static _moveToLineEndByModel(u,a,l,c){return I.CursorState.fromModelState(k.MoveOperations.moveToEndOfLine(u.cursorConfig,u.model,a.modelState,l,c))}static expandLineSelection(u,a){let l=[];for(let c=0,d=a.length;c<d;c++){const r=a[c],n=r.modelState.selection.startLineNumber,s=u.model.getLineCount();let t=r.modelState.selection.endLineNumber,o;t===s?o=u.model.getLineMaxColumn(s):(t++,o=1),l[c]=I.CursorState.fromModelState(new I.SingleCursorState(new p.Range(n,1,n,1),0,new S.Position(t,o),0))}return l}static moveToBeginningOfBuffer(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d];c[d]=I.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfBuffer(u.cursorConfig,u.model,n.modelState,l))}return c}static moveToEndOfBuffer(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d];c[d]=I.CursorState.fromModelState(k.MoveOperations.moveToEndOfBuffer(u.cursorConfig,u.model,n.modelState,l))}return c}static selectAll(u,a){const l=u.model.getLineCount(),c=u.model.getLineMaxColumn(l);return I.CursorState.fromModelState(new I.SingleCursorState(new p.Range(1,1,1,1),0,new S.Position(l,c),0))}static line(u,a,l,c,d){const r=u.model.validatePosition(c),n=d?u.coordinatesConverter.validateViewPosition(new S.Position(d.lineNumber,d.column),r):u.coordinatesConverter.convertModelPositionToViewPosition(r);if(!l||!a.modelState.hasSelection()){const t=u.model.getLineCount();let o=r.lineNumber+1,h=1;return o>t&&(o=t,h=u.model.getLineMaxColumn(o)),I.CursorState.fromModelState(new I.SingleCursorState(new p.Range(r.lineNumber,1,o,h),0,new S.Position(o,h),0))}const s=a.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<s)return I.CursorState.fromViewState(a.viewState.move(a.modelState.hasSelection(),n.lineNumber,1,0));if(r.lineNumber>s){const t=u.getLineCount();let o=n.lineNumber+1,h=1;return o>t&&(o=t,h=u.getLineMaxColumn(o)),I.CursorState.fromViewState(a.viewState.move(a.modelState.hasSelection(),o,h,0))}else{const t=a.modelState.selectionStart.getEndPosition();return I.CursorState.fromModelState(a.modelState.move(a.modelState.hasSelection(),t.lineNumber,t.column,0))}}static word(u,a,l,c){const d=u.model.validatePosition(c);return I.CursorState.fromModelState(w.WordOperations.word(u.cursorConfig,u.model,a.modelState,l,d))}static cancelSelection(u,a){if(!a.modelState.hasSelection())return new I.CursorState(a.modelState,a.viewState);const l=a.viewState.position.lineNumber,c=a.viewState.position.column;return I.CursorState.fromViewState(new I.SingleCursorState(new p.Range(l,c,l,c),0,new S.Position(l,c),0))}static moveTo(u,a,l,c,d){const r=u.model.validatePosition(c),n=d?u.coordinatesConverter.validateViewPosition(new S.Position(d.lineNumber,d.column),r):u.coordinatesConverter.convertModelPositionToViewPosition(r);return I.CursorState.fromViewState(a.viewState.move(l,n.lineNumber,n.column,0))}static simpleMove(u,a,l,c,d,r){switch(l){case 0:return r===4?this._moveHalfLineLeft(u,a,c):this._moveLeft(u,a,c,d);case 1:return r===4?this._moveHalfLineRight(u,a,c):this._moveRight(u,a,c,d);case 2:return r===2?this._moveUpByViewLines(u,a,c,d):this._moveUpByModelLines(u,a,c,d);case 3:return r===2?this._moveDownByViewLines(u,a,c,d):this._moveDownByModelLines(u,a,c,d);case 4:return r===2?a.map(n=>I.CursorState.fromViewState(k.MoveOperations.moveToPrevBlankLine(u.cursorConfig,u,n.viewState,c))):a.map(n=>I.CursorState.fromModelState(k.MoveOperations.moveToPrevBlankLine(u.cursorConfig,u.model,n.modelState,c)));case 5:return r===2?a.map(n=>I.CursorState.fromViewState(k.MoveOperations.moveToNextBlankLine(u.cursorConfig,u,n.viewState,c))):a.map(n=>I.CursorState.fromModelState(k.MoveOperations.moveToNextBlankLine(u.cursorConfig,u.model,n.modelState,c)));case 6:return this._moveToViewMinColumn(u,a,c);case 7:return this._moveToViewFirstNonWhitespaceColumn(u,a,c);case 8:return this._moveToViewCenterColumn(u,a,c);case 9:return this._moveToViewMaxColumn(u,a,c);case 10:return this._moveToViewLastNonWhitespaceColumn(u,a,c);default:return null}}static viewportMove(u,a,l,c,d){const r=u.getCompletelyVisibleViewRange(),n=u.coordinatesConverter.convertViewRangeToModelRange(r);switch(l){case 11:{const s=this._firstLineNumberInRange(u.model,n,d),t=u.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(u,a[0],c,s,t)]}case 13:{const s=this._lastLineNumberInRange(u.model,n,d),t=u.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(u,a[0],c,s,t)]}case 12:{const s=Math.round((n.startLineNumber+n.endLineNumber)/2),t=u.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(u,a[0],c,s,t)]}case 14:{let s=[];for(let t=0,o=a.length;t<o;t++){const h=a[t];s[t]=this.findPositionInViewportIfOutside(u,h,r,c)}return s}default:return null}}static findPositionInViewportIfOutside(u,a,l,c){let d=a.viewState.position.lineNumber;if(l.startLineNumber<=d&&d<=l.endLineNumber-1)return new I.CursorState(a.modelState,a.viewState);{d>l.endLineNumber-1&&(d=l.endLineNumber-1),d<l.startLineNumber&&(d=l.startLineNumber);const r=u.getLineFirstNonWhitespaceColumn(d);return this._moveToViewPosition(u,a,c,d,r)}}static _firstLineNumberInRange(u,a,l){let c=a.startLineNumber;return a.startColumn!==u.getLineMinColumn(c)&&c++,Math.min(a.endLineNumber,c+l-1)}static _lastLineNumberInRange(u,a,l){let c=a.startLineNumber;return a.startColumn!==u.getLineMinColumn(c)&&c++,Math.max(c,a.endLineNumber-l+1)}static _moveLeft(u,a,l,c){const d=a.length>1;let r=[];for(let n=0,s=a.length;n<s;n++){const t=a[n],o=d||!t.viewState.hasSelection();let h=k.MoveOperations.moveLeft(u.cursorConfig,u,t.viewState,l,c);o&&c===1&&t.viewState.position.column===u.getLineMinColumn(t.viewState.position.lineNumber)&&h.position.lineNumber!==t.viewState.position.lineNumber&&u.coordinatesConverter.convertViewPositionToModelPosition(h.position).lineNumber===t.modelState.position.lineNumber&&(h=k.MoveOperations.moveLeft(u.cursorConfig,u,h,l,1)),r[n]=I.CursorState.fromViewState(h)}return r}static _moveHalfLineLeft(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=Math.round(u.getLineContent(s).length/2);c[d]=I.CursorState.fromViewState(k.MoveOperations.moveLeft(u.cursorConfig,u,n.viewState,l,t))}return c}static _moveRight(u,a,l,c){const d=a.length>1;let r=[];for(let n=0,s=a.length;n<s;n++){const t=a[n],o=d||!t.viewState.hasSelection();let h=k.MoveOperations.moveRight(u.cursorConfig,u,t.viewState,l,c);o&&c===1&&t.viewState.position.column===u.getLineMaxColumn(t.viewState.position.lineNumber)&&h.position.lineNumber!==t.viewState.position.lineNumber&&u.coordinatesConverter.convertViewPositionToModelPosition(h.position).lineNumber===t.modelState.position.lineNumber&&(h=k.MoveOperations.moveRight(u.cursorConfig,u,h,l,1)),r[n]=I.CursorState.fromViewState(h)}return r}static _moveHalfLineRight(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=Math.round(u.getLineContent(s).length/2);c[d]=I.CursorState.fromViewState(k.MoveOperations.moveRight(u.cursorConfig,u,n.viewState,l,t))}return c}static _moveDownByViewLines(u,a,l,c){let d=[];for(let r=0,n=a.length;r<n;r++){const s=a[r];d[r]=I.CursorState.fromViewState(k.MoveOperations.moveDown(u.cursorConfig,u,s.viewState,l,c))}return d}static _moveDownByModelLines(u,a,l,c){let d=[];for(let r=0,n=a.length;r<n;r++){const s=a[r];d[r]=I.CursorState.fromModelState(k.MoveOperations.moveDown(u.cursorConfig,u.model,s.modelState,l,c))}return d}static _moveUpByViewLines(u,a,l,c){let d=[];for(let r=0,n=a.length;r<n;r++){const s=a[r];d[r]=I.CursorState.fromViewState(k.MoveOperations.moveUp(u.cursorConfig,u,s.viewState,l,c))}return d}static _moveUpByModelLines(u,a,l,c){let d=[];for(let r=0,n=a.length;r<n;r++){const s=a[r];d[r]=I.CursorState.fromModelState(k.MoveOperations.moveUp(u.cursorConfig,u.model,s.modelState,l,c))}return d}static _moveToViewPosition(u,a,l,c,d){return I.CursorState.fromViewState(a.viewState.move(l,c,d,0))}static _moveToModelPosition(u,a,l,c,d){return I.CursorState.fromModelState(a.modelState.move(l,c,d,0))}static _moveToViewMinColumn(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=u.getLineMinColumn(s);c[d]=this._moveToViewPosition(u,n,l,s,t)}return c}static _moveToViewFirstNonWhitespaceColumn(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=u.getLineFirstNonWhitespaceColumn(s);c[d]=this._moveToViewPosition(u,n,l,s,t)}return c}static _moveToViewCenterColumn(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=Math.round((u.getLineMaxColumn(s)+u.getLineMinColumn(s))/2);c[d]=this._moveToViewPosition(u,n,l,s,t)}return c}static _moveToViewMaxColumn(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=u.getLineMaxColumn(s);c[d]=this._moveToViewPosition(u,n,l,s,t)}return c}static _moveToViewLastNonWhitespaceColumn(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=u.getLineLastNonWhitespaceColumn(s);c[d]=this._moveToViewPosition(u,n,l,s,t)}return c}}e.CursorMoveCommands=C;var i;(function(_){const u=function(l){if(!v.isObject(l))return!1;let c=l;return!(!v.isString(c.to)||!v.isUndefined(c.select)&&!v.isBoolean(c.select)||!v.isUndefined(c.by)&&!v.isString(c.by)||!v.isUndefined(c.value)&&!v.isNumber(c.value))};_.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:u,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},_.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},_.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function a(l){if(!l.to)return null;let c;switch(l.to){case _.RawDirection.Left:c=0;break;case _.RawDirection.Right:c=1;break;case _.RawDirection.Up:c=2;break;case _.RawDirection.Down:c=3;break;case _.RawDirection.PrevBlankLine:c=4;break;case _.RawDirection.NextBlankLine:c=5;break;case _.RawDirection.WrappedLineStart:c=6;break;case _.RawDirection.WrappedLineFirstNonWhitespaceCharacter:c=7;break;case _.RawDirection.WrappedLineColumnCenter:c=8;break;case _.RawDirection.WrappedLineEnd:c=9;break;case _.RawDirection.WrappedLineLastNonWhitespaceCharacter:c=10;break;case _.RawDirection.ViewPortTop:c=11;break;case _.RawDirection.ViewPortBottom:c=13;break;case _.RawDirection.ViewPortCenter:c=12;break;case _.RawDirection.ViewPortIfOutside:c=14;break;default:return null}let d=0;switch(l.by){case _.RawUnit.Line:d=1;break;case _.RawUnit.WrappedLine:d=2;break;case _.RawUnit.Character:d=3;break;case _.RawUnit.HalfLine:d=4;break}return{direction:c,unit:d,select:!!l.select,value:l.value||1}}_.parse=a})(i=e.CursorMove||(e.CursorMove={}))}),define(te[451],ie([0,1,39,14,3,21]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OneCursor=void 0;class S{constructor(C){this._selTrackedRange=null,this._trackSelection=!0,this._setState(C,new v.SingleCursorState(new k.Range(1,1,1,1),0,new I.Position(1,1),0),new v.SingleCursorState(new k.Range(1,1,1,1),0,new I.Position(1,1),0))}dispose(C){this._removeTrackedRange(C)}startTrackingSelection(C){this._trackSelection=!0,this._updateTrackedRange(C)}stopTrackingSelection(C){this._trackSelection=!1,this._removeTrackedRange(C)}_updateTrackedRange(C){!this._trackSelection||(this._selTrackedRange=C.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(C){this._selTrackedRange=C.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new v.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(C){const i=C.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new w.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new w.Selection(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}ensureValidState(C){this._setState(C,this.modelState,this.viewState)}setState(C,i,_){this._setState(C,i,_)}_setState(C,i,_){if(i){const u=C.model.validateRange(i.selectionStart),a=i.selectionStart.equalsRange(u)?i.selectionStartLeftoverVisibleColumns:0,l=C.model.validatePosition(i.position),c=i.position.equals(l)?i.leftoverVisibleColumns:0;i=new v.SingleCursorState(u,a,l,c)}else{if(!_)return;const u=C.model.validateRange(C.coordinatesConverter.convertViewRangeToModelRange(_.selectionStart)),a=C.model.validatePosition(C.coordinatesConverter.convertViewPositionToModelPosition(_.position));i=new v.SingleCursorState(u,_.selectionStartLeftoverVisibleColumns,a,_.leftoverVisibleColumns)}if(_){const u=C.coordinatesConverter.validateViewRange(_.selectionStart,i.selectionStart),a=C.coordinatesConverter.validateViewPosition(_.position,i.position);_=new v.SingleCursorState(u,i.selectionStartLeftoverVisibleColumns,a,i.leftoverVisibleColumns)}else{const u=C.coordinatesConverter.convertModelPositionToViewPosition(new I.Position(i.selectionStart.startLineNumber,i.selectionStart.startColumn)),a=C.coordinatesConverter.convertModelPositionToViewPosition(new I.Position(i.selectionStart.endLineNumber,i.selectionStart.endColumn)),l=new k.Range(u.lineNumber,u.column,a.lineNumber,a.column),c=C.coordinatesConverter.convertModelPositionToViewPosition(i.position);_=new v.SingleCursorState(l,i.selectionStartLeftoverVisibleColumns,c,i.leftoverVisibleColumns)}this.modelState=i,this.viewState=_,this._updateTrackedRange(C)}}e.OneCursor=S}),define(te[452],ie([0,1,39,451,21]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class w{constructor(p){this.context=p,this.primaryCursor=new I.OneCursor(p),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let p=0,C=this.secondaryCursors.length;p<C;p++)this.secondaryCursors[p].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let p=0,C=this.secondaryCursors.length;p<C;p++)this.secondaryCursors[p].stopTrackingSelection(this.context)}updateContext(p){this.context=p}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let p=0,C=this.secondaryCursors.length;p<C;p++)this.secondaryCursors[p].ensureValidState(this.context)}readSelectionFromMarkers(){let p=[];p[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let C=0,i=this.secondaryCursors.length;C<i;C++)p[C+1]=this.secondaryCursors[C].readSelectionFromMarkers(this.context);return p}getAll(){let p=[];p[0]=this.primaryCursor.asCursorState();for(let C=0,i=this.secondaryCursors.length;C<i;C++)p[C+1]=this.secondaryCursors[C].asCursorState();return p}getViewPositions(){let p=[];p[0]=this.primaryCursor.viewState.position;for(let C=0,i=this.secondaryCursors.length;C<i;C++)p[C+1]=this.secondaryCursors[C].viewState.position;return p}getTopMostViewPosition(){let p=this.primaryCursor.viewState.position;for(let C=0,i=this.secondaryCursors.length;C<i;C++){const _=this.secondaryCursors[C].viewState.position;_.isBefore(p)&&(p=_)}return p}getBottomMostViewPosition(){let p=this.primaryCursor.viewState.position;for(let C=0,i=this.secondaryCursors.length;C<i;C++){const _=this.secondaryCursors[C].viewState.position;p.isBeforeOrEqual(_)&&(p=_)}return p}getSelections(){let p=[];p[0]=this.primaryCursor.modelState.selection;for(let C=0,i=this.secondaryCursors.length;C<i;C++)p[C+1]=this.secondaryCursors[C].modelState.selection;return p}getViewSelections(){let p=[];p[0]=this.primaryCursor.viewState.selection;for(let C=0,i=this.secondaryCursors.length;C<i;C++)p[C+1]=this.secondaryCursors[C].viewState.selection;return p}setSelections(p){this.setStates(v.CursorState.fromModelSelections(p))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(p){p!==null&&(this.primaryCursor.setState(this.context,p[0].modelState,p[0].viewState),this._setSecondaryStates(p.slice(1)))}_setSecondaryStates(p){const C=this.secondaryCursors.length,i=p.length;if(C<i){let _=i-C;for(let u=0;u<_;u++)this._addSecondaryCursor()}else if(C>i){let _=C-i;for(let u=0;u<_;u++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let _=0;_<i;_++)this.secondaryCursors[_].setState(this.context,p[_].modelState,p[_].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new I.OneCursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(p){this.lastAddedCursorIndex>=p+1&&this.lastAddedCursorIndex--,this.secondaryCursors[p].dispose(this.context),this.secondaryCursors.splice(p,1)}_getAll(){let p=[];p[0]=this.primaryCursor;for(let C=0,i=this.secondaryCursors.length;C<i;C++)p[C+1]=this.secondaryCursors[C];return p}normalize(){if(this.secondaryCursors.length!==0){let p=this._getAll(),C=[];for(let i=0,_=p.length;i<_;i++)C.push({index:i,selection:p[i].modelState.selection});C.sort((i,_)=>i.selection.startLineNumber===_.selection.startLineNumber?i.selection.startColumn-_.selection.startColumn:i.selection.startLineNumber-_.selection.startLineNumber);for(let i=0;i<C.length-1;i++){const _=C[i],u=C[i+1],a=_.selection,l=u.selection;if(!!this.context.cursorConfig.multiCursorMergeOverlapping){let c;if(l.isEmpty()||a.isEmpty()?c=l.getStartPosition().isBeforeOrEqual(a.getEndPosition()):c=l.getStartPosition().isBefore(a.getEndPosition()),c){const d=_.index<u.index?i:i+1,r=_.index<u.index?i+1:i,n=C[r].index,s=C[d].index,t=C[r].selection,o=C[d].selection;if(!t.equalsSelection(o)){const h=t.plusRange(o),f=t.selectionStartLineNumber===t.startLineNumber&&t.selectionStartColumn===t.startColumn,m=o.selectionStartLineNumber===o.startLineNumber&&o.selectionStartColumn===o.startColumn;let g;n===this.lastAddedCursorIndex?(g=f,this.lastAddedCursorIndex=s):g=m;let b;g?b=new k.Selection(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn):b=new k.Selection(h.endLineNumber,h.endColumn,h.startLineNumber,h.startColumn),C[d].selection=b;const y=v.CursorState.fromModelSelection(b);p[s].setState(this.context,y.modelState,y.viewState)}for(const h of C)h.index>n&&h.index--;p.splice(n,1),C.splice(r,1),this._removeSecondaryCursor(n-1),i--}}}}}}e.CursorCollection=w}),define(te[201],ie([0,1,11,8,452,39,181,182,3,21,158,2,169]),function($,e,v,I,k,w,S,p,C,i,_,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=e.CursorModelState=void 0;class l{constructor(s,t){this.modelVersionId=s.getVersionId(),this.cursorState=t.getCursorStates()}equals(s){if(!s||this.modelVersionId!==s.modelVersionId||this.cursorState.length!==s.cursorState.length)return!1;for(let t=0,o=this.cursorState.length;t<o;t++)if(!this.cursorState[t].equals(s.cursorState[t]))return!1;return!0}}e.CursorModelState=l;class c{constructor(s,t,o){this._model=s,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=o}static getAllAutoClosedCharacters(s){let t=[];for(const o of s)t=t.concat(o.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let s=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const o=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);o&&s.push(o)}return s}isValid(s){let t=[];for(let o=0;o<this._autoClosedEnclosingDecorations.length;o++){const h=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[o]);if(h&&(t.push(h),h.startLineNumber!==h.endLineNumber))return!1}t.sort(C.Range.compareRangesUsingStarts),s.sort(C.Range.compareRangesUsingStarts);for(let o=0;o<s.length;o++)if(o>=t.length||!t[o].strictContainsRange(s[o]))return!1;return!0}}class d extends u.Disposable{constructor(s,t,o,h){super();this._model=s,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=o,this.context=new w.CursorContext(this._model,this._coordinatesConverter,h),this._cursors=new k.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,u.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(s){this.context=new w.CursorContext(this._model,this._coordinatesConverter,s),this._cursors.updateContext(this.context)}onLineMappingChanged(s){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(s,"viewModel",0,this.getCursorStates())}setHasFocus(s){this._hasFocus=s}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let s=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const o=this._autoClosedActions[t];o.isValid(s)||(o.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(s,t,o,h){let f=!1;h!==null&&h.length>d.MAX_CURSOR_COUNT&&(h=h.slice(0,d.MAX_CURSOR_COUNT),f=!0);const m=new l(this._model,this);return this._cursors.setStates(h),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(s,t,o,m,f)}setCursorColumnSelectData(s){this._columnSelectData=s}revealPrimary(s,t,o,h){const f=this._cursors.getViewPositions();if(f.length>1){this._emitCursorRevealRange(s,t,null,this._cursors.getViewSelections(),0,o,h);return}else{const m=f[0],g=new C.Range(m.lineNumber,m.column,m.lineNumber,m.column);this._emitCursorRevealRange(s,t,g,null,0,o,h)}}_revealPrimaryCursor(s,t,o,h,f){const m=this._cursors.getViewPositions();if(m.length>1)this._emitCursorRevealRange(s,t,null,this._cursors.getViewSelections(),o,h,f);else{const g=m[0],b=new C.Range(g.lineNumber,g.column,g.lineNumber,g.column);this._emitCursorRevealRange(s,t,b,null,o,h,f)}}_emitCursorRevealRange(s,t,o,h,f,m,g){s.emitViewEvent(new _.ViewRevealRangeRequestEvent(t,o,h,f,m,g))}saveState(){let s=[];const t=this._cursors.getSelections();for(let o=0,h=t.length;o<h;o++){const f=t[o];s.push({inSelectionMode:!f.isEmpty(),selectionStart:{lineNumber:f.selectionStartLineNumber,column:f.selectionStartColumn},position:{lineNumber:f.positionLineNumber,column:f.positionColumn}})}return s}restoreState(s,t){let o=[];for(let h=0,f=t.length;h<f;h++){const m=t[h];let g=1,b=1;m.position&&m.position.lineNumber&&(g=m.position.lineNumber),m.position&&m.position.column&&(b=m.position.column);let y=g,L=b;m.selectionStart&&m.selectionStart.lineNumber&&(y=m.selectionStart.lineNumber),m.selectionStart&&m.selectionStart.column&&(L=m.selectionStart.column),o.push({selectionStartLineNumber:y,selectionStartColumn:L,positionLineNumber:g,positionColumn:b})}this.setStates(s,"restoreState",0,w.CursorState.fromModelSelections(o)),this.revealPrimary(s,"restoreState",!0,1)}onModelContentChanged(s,t){if(this._knownModelVersionId=t.versionId,!this._isHandling){const o=t.containsEvent(1);if(this._prevEditOperationType=0,o)this._cursors.dispose(),this._cursors=new k.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(s,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const h=w.CursorState.fromModelSelections(t.resultingSelection);this.setStates(s,"modelChange",t.isUndoing?5:t.isRedoing?6:2,h)&&this._revealPrimaryCursor(s,"modelChange",0,!0,0)}else{const h=this._cursors.readSelectionFromMarkers();this.setStates(s,"modelChange",2,w.CursorState.fromModelSelections(h))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const s=this._cursors.getPrimaryCursor(),t=s.viewState.selectionStart.getStartPosition(),o=s.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:w.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:o.lineNumber,toViewVisualColumn:w.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,o)}}getSelections(){return this._cursors.getSelections()}setSelections(s,t,o,h){this.setStates(s,t,h,w.CursorState.fromModelSelections(o))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(s){this._prevEditOperationType=s}_pushAutoClosedAction(s,t){let o=[],h=[];for(let g=0,b=s.length;g<b;g++)o.push({range:s[g],options:{inlineClassName:"auto-closed-character",stickiness:1}}),h.push({range:t[g],options:{stickiness:1}});const f=this._model.deltaDecorations([],o),m=this._model.deltaDecorations([],h);this._autoClosedActions.push(new c(this._model,f,m))}_executeEditOperation(s){if(!!s){s.shouldPushStackElementBefore&&this._model.pushStackElement();const t=r.executeCommands(this._model,this._cursors.getSelections(),s.commands);if(t){this._interpretCommandResult(t);let o=[],h=[];for(let f=0;f<s.commands.length;f++){const m=s.commands[f];m instanceof p.TypeWithAutoClosingCommand&&m.enclosingRange&&m.closeCharacterRange&&(o.push(m.closeCharacterRange),h.push(m.enclosingRange))}o.length>0&&this._pushAutoClosedAction(o,h),this._prevEditOperationType=s.type}s.shouldPushStackElementAfter&&this._model.pushStackElement()}}_interpretCommandResult(s){(!s||s.length===0)&&(s=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(s),this._cursors.normalize()}_emitStateChangedIfNecessary(s,t,o,h,f){const m=new l(this._model,this);if(m.equals(h))return!1;const g=this._cursors.getSelections(),b=this._cursors.getViewSelections();if(s.emitViewEvent(new _.ViewCursorStateChangedEvent(b,g)),!h||h.cursorState.length!==m.cursorState.length||m.cursorState.some((y,L)=>!y.modelState.equals(h.cursorState[L].modelState))){const y=h?h.cursorState.map(N=>N.modelState.selection):null,L=h?h.modelVersionId:0;s.emitOutgoingEvent(new a.CursorStateChangedEvent(y,g,L,m.modelVersionId,t||"keyboard",o,f))}return!0}_findAutoClosingPairs(s){if(!s.length)return null;let t=[];for(let o=0,h=s.length;o<h;o++){const f=s[o];if(!f.text||f.text.indexOf(`
`)>=0)return null;const m=f.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!m)return null;const g=m[1],b=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(g);if(!b||b.length!==1)return null;const y=b[0].open,L=f.text.length-m[2].length-1,N=f.text.lastIndexOf(y,L-1);if(N===-1)return null;t.push([N,L])}return t}executeEdits(s,t,o,h){let f=null;t==="snippet"&&(f=this._findAutoClosingPairs(o)),f&&(o[0]._isTracked=!0);let m=[],g=[];const b=this._model.pushEditOperations(this.getSelections(),o,y=>{if(f)for(let N=0,M=f.length;N<M;N++){const[D,R]=f[N],P=y[N],O=P.range.startLineNumber,W=P.range.startColumn-1+D,F=P.range.startColumn-1+R;m.push(new C.Range(O,F+1,O,F+2)),g.push(new C.Range(O,W+1,O,F+2))}const L=h(y);return L&&(this._isHandling=!0),L});b&&(this._isHandling=!1,this.setSelections(s,t,b,0)),m.length>0&&this._pushAutoClosedAction(m,g)}_executeEdit(s,t,o,h=0){if(!this.context.cursorConfig.readOnly){const f=new l(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),s()}catch(m){(0,v.onUnexpectedError)(m)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,o,h,f,!1)&&this._revealPrimaryCursor(t,o,0,!0,0)}}setIsDoingComposition(s){this._isDoingComposition=s}getAutoClosedCharacters(){return c.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(s){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(s,t){this._executeEdit(()=>{t==="keyboard"&&(this._executeEditOperation(p.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},s,t)}type(s,t,o){this._executeEdit(()=>{if(o==="keyboard"){const h=t.length;let f=0;for(;f<h;){const m=I.nextCharLength(t,f),g=t.substr(f,m);this._executeEditOperation(p.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),g)),f+=m}}else this._executeEditOperation(p.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},s,o)}compositionType(s,t,o,h,f,m){if(t.length===0&&o===0&&h===0){if(f!==0){const g=this.getSelections().map(b=>{const y=b.getPosition();return new i.Selection(y.lineNumber,y.column+f,y.lineNumber,y.column+f)});this.setSelections(s,m,g,0)}return}this._executeEdit(()=>{this._executeEditOperation(p.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,o,h,f))},s,m)}paste(s,t,o,h,f){this._executeEdit(()=>{this._executeEditOperation(p.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),t,o,h||[]))},s,f,4)}cut(s,t){this._executeEdit(()=>{this._executeEditOperation(S.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},s,t)}executeCommand(s,t,o){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new w.EditOperationResult(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},s,o)}executeCommands(s,t,o){this._executeEdit(()=>{this._executeEditOperation(new w.EditOperationResult(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},s,o)}}e.Cursor=d,d.MAX_CURSOR_COUNT=1e4;class r{static executeCommands(s,t,o){const h={model:s,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},f=this._innerExecuteCommands(h,o);for(let m=0,g=h.trackedRanges.length;m<g;m++)h.model._setTrackedRange(h.trackedRanges[m],null,0);return f}static _innerExecuteCommands(s,t){if(this._arrayIsEmpty(t))return null;const o=this._getEditOperations(s,t);if(o.operations.length===0)return null;const h=o.operations,f=this._getLoserCursorMap(h);if(f.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let m=[];for(let y=0,L=h.length;y<L;y++)f.hasOwnProperty(h[y].identifier.major.toString())||m.push(h[y]);o.hadTrackedEditOperation&&m.length>0&&(m[0]._isTracked=!0);let g=s.model.pushEditOperations(s.selectionsBefore,m,y=>{let L=[];for(let D=0;D<s.selectionsBefore.length;D++)L[D]=[];for(const D of y)!D.identifier||L[D.identifier.major].push(D);const N=(D,R)=>D.identifier.minor-R.identifier.minor;let M=[];for(let D=0;D<s.selectionsBefore.length;D++)L[D].length>0?(L[D].sort(N),M[D]=t[D].computeCursorState(s.model,{getInverseEditOperations:()=>L[D],getTrackedSelection:R=>{const P=parseInt(R,10),O=s.model._getTrackedRange(s.trackedRanges[P]);return s.trackedRangesDirection[P]===0?new i.Selection(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):new i.Selection(O.endLineNumber,O.endColumn,O.startLineNumber,O.startColumn)}})):M[D]=s.selectionsBefore[D];return M});g||(g=s.selectionsBefore);let b=[];for(let y in f)f.hasOwnProperty(y)&&b.push(parseInt(y,10));b.sort((y,L)=>L-y);for(const y of b)g.splice(y,1);return g}static _arrayIsEmpty(s){for(let t=0,o=s.length;t<o;t++)if(s[t])return!1;return!0}static _getEditOperations(s,t){let o=[],h=!1;for(let f=0,m=t.length;f<m;f++){const g=t[f];if(g){const b=this._getEditOperationsFromCommand(s,f,g);o=o.concat(b.operations),h=h||b.hadTrackedEditOperation}}return{operations:o,hadTrackedEditOperation:h}}static _getEditOperationsFromCommand(s,t,o){let h=[],f=0;const m=(N,M,D=!1)=>{C.Range.isEmpty(N)&&M===""||h.push({identifier:{major:t,minor:f++},range:N,text:M,forceMoveMarkers:D,isAutoWhitespaceEdit:o.insertsAutoWhitespace})};let g=!1;const L={addEditOperation:m,addTrackedEditOperation:(N,M,D)=>{g=!0,m(N,M,D)},trackSelection:(N,M)=>{const D=i.Selection.liftSelection(N);let R;if(D.isEmpty())if(typeof M=="boolean")M?R=2:R=3;else{const W=s.model.getLineMaxColumn(D.startLineNumber);D.startColumn===W?R=2:R=3}else R=1;const P=s.trackedRanges.length,O=s.model._setTrackedRange(null,D,R);return s.trackedRanges[P]=O,s.trackedRangesDirection[P]=D.getDirection(),P.toString()}};try{o.getEditOperations(s.model,L)}catch(N){return(0,v.onUnexpectedError)(N),{operations:[],hadTrackedEditOperation:!1}}return{operations:h,hadTrackedEditOperation:g}}static _getLoserCursorMap(s){s=s.slice(0),s.sort((o,h)=>-C.Range.compareRangesUsingEnds(o.range,h.range));let t={};for(let o=1;o<s.length;o++){const h=s[o-1],f=s[o];if(C.Range.getStartPosition(h.range).isBefore(C.Range.getEndPosition(f.range))){let m;h.identifier.major>f.identifier.major?m=h.identifier.major:m=f.identifier.major,t[m.toString()]=!0;for(let g=0;g<s.length;g++)s[g].identifier.major===m&&(s.splice(g,1),g<o&&o--,g--);o>0&&o--}}return t}}}),define(te[200],ie([0,1,8,106,72]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeLineToHTML=e.tokenizeToString=void 0;const w={getInitialState:()=>k.NULL_STATE,tokenize2:(i,_,u,a)=>(0,k.nullTokenize2)(0,i,u,a)};function S(i,_=w){return C(i,_||w)}e.tokenizeToString=S;function p(i,_,u,a,l,c,d){let r="<div>",n=a,s=0;for(let t=0,o=_.getCount();t<o;t++){const h=_.getEndOffset(t);if(!(h<=a)){let f="";for(;n<h&&n<l;n++){const m=i.charCodeAt(n);switch(m){case 9:let g=c-(n+s)%c;for(s+=g-1;g>0;)f+=d?"&#160;":" ",g--;break;case 60:f+="&lt;";break;case 62:f+="&gt;";break;case 38:f+="&amp;";break;case 0:f+="&#00;";break;case 65279:case 8232:case 8233:case 133:f+="\uFFFD";break;case 13:f+="&#8203";break;case 32:f+=d?"&#160;":" ";break;default:f+=String.fromCharCode(m)}}if(r+=`<span style="${_.getInlineStyle(t,u)}">${f}</span>`,h>l||n>=l)break}}return r+="</div>",r}e.tokenizeLineToHTML=p;function C(i,_){let u='<div class="monaco-tokenized-source">',a=v.splitLines(i),l=_.getInitialState();for(let c=0,d=a.length;c<d;c++){let r=a[c];c>0&&(u+="<br/>");let n=_.tokenize2(r,!0,l,0);I.LineTokens.convertToEndOffset(n.tokens,r.length);let t=new I.LineTokens(n.tokens,r).inflate(),o=0;for(let h=0,f=t.getCount();h<f;h++){const m=t.getClassName(h),g=t.getEndOffset(h);u+=`<span class="${m}">${v.escape(r.substring(o,g))}</span>`,o=g}l=n.endState}return u+="</div>",u}}),define(te[66],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,v.createDecorator)("textModelService")}),define(te[144],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,v.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,v.createDecorator)("textResourcePropertiesService")}),define(te[199],ie([0,1,6,230,18]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class w{constructor(){this._onDidChange=new v.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),k.TokenizationRegistry.onDidChange(p=>{p.changedColorMap&&this._updateColorMap()})}static getInstance(){return this._INSTANCE||(this._INSTANCE=new w),this._INSTANCE}_updateColorMap(){const p=k.TokenizationRegistry.getColorMap();if(!p){this._colors=[I.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[I.RGBA8.Empty];for(let i=1;i<p.length;i++){const _=p[i].rgba;this._colors[i]=new I.RGBA8(_.r,_.g,_.b,Math.round(_.a*255))}let C=p[2].getRelativeLuminance();this._backgroundIsLight=C>=.5,this._onDidChange.fire(void 0)}getColor(p){return(p<1||p>=this._colors.length)&&(p=2),this._colors[p]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=w,w._INSTANCE=null}),define(te[458],ie([0,1,19,14,3,31,158,224,64]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IdentityLinesCollection=e.IdentityCoordinatesConverter=e.SplitLine=e.SplitLinesCollection=e.CoordinatesConverter=void 0;class i{constructor(m){this._lines=m}convertViewPositionToModelPosition(m){return this._lines.convertViewPositionToModelPosition(m.lineNumber,m.column)}convertViewRangeToModelRange(m){return this._lines.convertViewRangeToModelRange(m)}validateViewPosition(m,g){return this._lines.validateViewPosition(m.lineNumber,m.column,g)}validateViewRange(m,g){return this._lines.validateViewRange(m,g)}convertModelPositionToViewPosition(m){return this._lines.convertModelPositionToViewPosition(m.lineNumber,m.column)}convertModelRangeToViewRange(m){return this._lines.convertModelRangeToViewRange(m)}modelPositionIsVisible(m){return this._lines.modelPositionIsVisible(m.lineNumber,m.column)}getModelLineViewLineCount(m){return this._lines.getModelLineViewLineCount(m)}}e.CoordinatesConverter=i;class _{constructor(m){this._counts=m,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(m){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,m-1)}_ensureValid(){if(!this._isValid){for(let m=this._validEndIndex+1,g=this._counts.length;m<g;m++){const b=this._counts[m],y=m>0?this._modelToView[m-1]:0;this._modelToView[m]=y+b;for(let L=0;L<b;L++)this._viewToModel[y+L]=m}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(m,g){this._counts[m]!==g&&(this._counts[m]=g,this._invalidate(m))}removeValues(m,g){this._counts.splice(m,g),this._invalidate(m)}insertValues(m,g){this._counts=v.arrayInsert(this._counts,m,g),this._invalidate(m)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(m){return this._ensureValid(),this._modelToView[m]}getIndexOf(m){this._ensureValid();const g=this._viewToModel[m],b=g>0?this._modelToView[g-1]:0;return new p.PrefixSumIndexOfResult(g,m-b)}}class u{constructor(m,g,b,y,L,N,M,D){this.model=m,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=g,this._monospaceLineBreaksComputerFactory=b,this.fontInfo=y,this.tabSize=L,this.wrappingStrategy=N,this.wrappingColumn=M,this.wrappingIndent=D,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new i(this)}_constructLines(m,g){this.lines=[],m&&(this.hiddenAreasIds=[]);let b=this.model.getLinesContent();const y=b.length,L=this.createLineBreaksComputer();for(let F=0;F<y;F++)L.addRequest(b[F],g?g[F]:null);const N=L.finalize();let M=[],D=this.hiddenAreasIds.map(F=>this.model.getDecorationRange(F)).sort(k.Range.compareRangesUsingStarts),R=1,P=0,O=-1,W=O+1<D.length?P+1:y+2;for(let F=0;F<y;F++){let E=F+1;E===W&&(O++,R=D[O].startLineNumber,P=D[O].endLineNumber,W=O+1<D.length?P+1:y+2);let A=E>=R&&E<=P,B=s(N[F],!A);M[F]=B.getViewLineCount(),this.lines[F]=B}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new _(M)}getHiddenAreas(){return this.hiddenAreasIds.map(m=>this.model.getDecorationRange(m))}_reduceRanges(m){if(m.length===0)return[];let g=m.map(N=>this.model.validateRange(N)).sort(k.Range.compareRangesUsingStarts),b=[],y=g[0].startLineNumber,L=g[0].endLineNumber;for(let N=1,M=g.length;N<M;N++){let D=g[N];D.startLineNumber>L+1?(b.push(new k.Range(y,1,L,1)),y=D.startLineNumber,L=D.endLineNumber):D.endLineNumber>L&&(L=D.endLineNumber)}return b.push(new k.Range(y,1,L,1)),b}setHiddenAreas(m){let g=this._reduceRanges(m),b=this.hiddenAreasIds.map(O=>this.model.getDecorationRange(O)).sort(k.Range.compareRangesUsingStarts);if(g.length===b.length){let O=!1;for(let W=0;W<g.length;W++)if(!g[W].equalsRange(b[W])){O=!0;break}if(!O)return!1}let y=[];for(const O of g)y.push({range:O,options:w.ModelDecorationOptions.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,y);let L=g,N=1,M=0,D=-1,R=D+1<L.length?M+1:this.lines.length+2,P=!1;for(let O=0;O<this.lines.length;O++){let W=O+1;W===R&&(D++,N=L[D].startLineNumber,M=L[D].endLineNumber,R=D+1<L.length?M+1:this.lines.length+2);let F=!1;if(W>=N&&W<=M?this.lines[O].isVisible()&&(this.lines[O]=this.lines[O].setVisible(!1),F=!0):(P=!0,this.lines[O].isVisible()||(this.lines[O]=this.lines[O].setVisible(!0),F=!0)),F){let E=this.lines[O].getViewLineCount();this.prefixSumComputer.changeValue(O,E)}}return P||this.setHiddenAreas([]),!0}modelPositionIsVisible(m,g){return m<1||m>this.lines.length?!1:this.lines[m-1].isVisible()}getModelLineViewLineCount(m){return m<1||m>this.lines.length?1:this.lines[m-1].getViewLineCount()}setTabSize(m){return this.tabSize===m?!1:(this.tabSize=m,this._constructLines(!1,null),!0)}setWrappingSettings(m,g,b,y){const L=this.fontInfo.equals(m),N=this.wrappingStrategy===g,M=this.wrappingColumn===b,D=this.wrappingIndent===y;if(L&&N&&M&&D)return!1;const R=L&&N&&!M&&D;this.fontInfo=m,this.wrappingStrategy=g,this.wrappingColumn=b,this.wrappingIndent=y;let P=null;if(R){P=[];for(let O=0,W=this.lines.length;O<W;O++)P[O]=this.lines[O].getLineBreakData()}return this._constructLines(!1,P),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(m,g,b){if(m<=this._validModelVersionId)return null;let y=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,L=this.prefixSumComputer.getAccumulatedValue(b-1);return this.lines.splice(g-1,b-g+1),this.prefixSumComputer.removeValues(g-1,b-g+1),new S.ViewLinesDeletedEvent(y,L)}onModelLinesInserted(m,g,b,y){if(m<=this._validModelVersionId)return null;const L=g>2&&!this.lines[g-2].isVisible();let N=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,M=0,D=[],R=[];for(let P=0,O=y.length;P<O;P++){let W=s(y[P],!L);D.push(W);let F=W.getViewLineCount();M+=F,R[P]=F}return this.lines=this.lines.slice(0,g-1).concat(D).concat(this.lines.slice(g-1)),this.prefixSumComputer.insertValues(g-1,R),new S.ViewLinesInsertedEvent(N,N+M-1)}onModelLineChanged(m,g,b){if(m<=this._validModelVersionId)return[!1,null,null,null];let y=g-1,L=this.lines[y].getViewLineCount(),N=this.lines[y].isVisible(),M=s(b,N);this.lines[y]=M;let D=this.lines[y].getViewLineCount(),R=!1,P=0,O=-1,W=0,F=-1,E=0,A=-1;L>D?(P=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,O=P+D-1,E=O+1,A=E+(L-D)-1,R=!0):L<D?(P=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,O=P+L-1,W=O+1,F=W+(D-L)-1,R=!0):(P=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,O=P+D-1),this.prefixSumComputer.changeValue(y,D);const B=P<=O?new S.ViewLinesChangedEvent(P,O):null,z=W<=F?new S.ViewLinesInsertedEvent(W,F):null,U=E<=A?new S.ViewLinesDeletedEvent(E,A):null;return[R,B,z,U]}acceptVersionId(m){this._validModelVersionId=m,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(m){if(m<1)return 1;const g=this.getViewLineCount();return m>g?g:m|0}getActiveIndentGuide(m,g,b){m=this._toValidViewLineNumber(m),g=this._toValidViewLineNumber(g),b=this._toValidViewLineNumber(b);const y=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),L=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),N=this.convertViewPositionToModelPosition(b,this.getViewLineMinColumn(b)),M=this.model.getActiveIndentGuide(y.lineNumber,L.lineNumber,N.lineNumber),D=this.convertModelPositionToViewPosition(M.startLineNumber,1),R=this.convertModelPositionToViewPosition(M.endLineNumber,this.model.getLineMaxColumn(M.endLineNumber));return{startLineNumber:D.lineNumber,endLineNumber:R.lineNumber,indent:M.indent}}getViewLinesIndentGuides(m,g){m=this._toValidViewLineNumber(m),g=this._toValidViewLineNumber(g);const b=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),y=this.convertViewPositionToModelPosition(g,this.getViewLineMaxColumn(g));let L=[],N=[],M=[];const D=b.lineNumber-1,R=y.lineNumber-1;let P=null;for(let E=D;E<=R;E++){const A=this.lines[E];if(A.isVisible()){let B=A.getViewLineNumberOfModelPosition(0,E===D?b.column:1),z=A.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(E+1)),U=z-B+1,K=0;U>1&&A.getViewLineMinColumn(this.model,E+1,z)===1&&(K=B===0?1:2),N.push(U),M.push(K),P===null&&(P=new I.Position(E+1,0))}else P!==null&&(L=L.concat(this.model.getLinesIndentGuides(P.lineNumber,E)),P=null)}P!==null&&(L=L.concat(this.model.getLinesIndentGuides(P.lineNumber,y.lineNumber)),P=null);const O=g-m+1;let W=new Array(O),F=0;for(let E=0,A=L.length;E<A;E++){let B=L[E],z=Math.min(O-F,N[E]),U=M[E],K;U===2?K=0:U===1?K=1:K=z;for(let G=0;G<z;G++)G===K&&(B=0),W[F++]=B}return W}getViewLineContent(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,y=g.remainder;return this.lines[b].getViewLineContent(this.model,b+1,y)}getViewLineLength(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,y=g.remainder;return this.lines[b].getViewLineLength(this.model,b+1,y)}getViewLineMinColumn(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,y=g.remainder;return this.lines[b].getViewLineMinColumn(this.model,b+1,y)}getViewLineMaxColumn(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,y=g.remainder;return this.lines[b].getViewLineMaxColumn(this.model,b+1,y)}getViewLineData(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,y=g.remainder;return this.lines[b].getViewLineData(this.model,b+1,y)}getViewLinesData(m,g,b){m=this._toValidViewLineNumber(m),g=this._toValidViewLineNumber(g);let y=this.prefixSumComputer.getIndexOf(m-1),L=m,N=y.index,M=y.remainder,D=[];for(let R=N,P=this.model.getLineCount();R<P;R++){let O=this.lines[R];if(!!O.isVisible()){let W=R===N?M:0,F=O.getViewLineCount()-W,E=!1;L+F>g&&(E=!0,F=g-L+1);let A=W+F;if(O.getViewLinesData(this.model,R+1,W,A,L-m,b,D),L+=F,E)break}}return D}validateViewPosition(m,g,b){m=this._toValidViewLineNumber(m);let y=this.prefixSumComputer.getIndexOf(m-1),L=y.index,N=y.remainder,M=this.lines[L],D=M.getViewLineMinColumn(this.model,L+1,N),R=M.getViewLineMaxColumn(this.model,L+1,N);g<D&&(g=D),g>R&&(g=R);let P=M.getModelColumnOfViewPosition(N,g);return this.model.validatePosition(new I.Position(L+1,P)).equals(b)?new I.Position(m,g):this.convertModelPositionToViewPosition(b.lineNumber,b.column)}validateViewRange(m,g){const b=this.validateViewPosition(m.startLineNumber,m.startColumn,g.getStartPosition()),y=this.validateViewPosition(m.endLineNumber,m.endColumn,g.getEndPosition());return new k.Range(b.lineNumber,b.column,y.lineNumber,y.column)}convertViewPositionToModelPosition(m,g){m=this._toValidViewLineNumber(m);let b=this.prefixSumComputer.getIndexOf(m-1),y=b.index,L=b.remainder,N=this.lines[y].getModelColumnOfViewPosition(L,g);return this.model.validatePosition(new I.Position(y+1,N))}convertViewRangeToModelRange(m){const g=this.convertViewPositionToModelPosition(m.startLineNumber,m.startColumn),b=this.convertViewPositionToModelPosition(m.endLineNumber,m.endColumn);return new k.Range(g.lineNumber,g.column,b.lineNumber,b.column)}convertModelPositionToViewPosition(m,g){const b=this.model.validatePosition(new I.Position(m,g)),y=b.lineNumber,L=b.column;let N=y-1,M=!1;for(;N>0&&!this.lines[N].isVisible();)N--,M=!0;if(N===0&&!this.lines[N].isVisible())return new I.Position(1,1);const D=1+(N===0?0:this.prefixSumComputer.getAccumulatedValue(N-1));let R;return M?R=this.lines[N].getViewPositionOfModelPosition(D,this.model.getLineMaxColumn(N+1)):R=this.lines[y-1].getViewPositionOfModelPosition(D,L),R}convertModelRangeToViewRange(m){let g=this.convertModelPositionToViewPosition(m.startLineNumber,m.startColumn),b=this.convertModelPositionToViewPosition(m.endLineNumber,m.endColumn);return m.startLineNumber===m.endLineNumber&&g.lineNumber!==b.lineNumber&&b.column===this.getViewLineMinColumn(b.lineNumber)?new k.Range(g.lineNumber,g.column,b.lineNumber-1,this.getViewLineMaxColumn(b.lineNumber-1)):new k.Range(g.lineNumber,g.column,b.lineNumber,b.column)}_getViewLineNumberForModelPosition(m,g){let b=m-1;if(this.lines[b].isVisible()){const L=1+(b===0?0:this.prefixSumComputer.getAccumulatedValue(b-1));return this.lines[b].getViewLineNumberOfModelPosition(L,g)}for(;b>0&&!this.lines[b].isVisible();)b--;if(b===0&&!this.lines[b].isVisible())return 1;const y=1+(b===0?0:this.prefixSumComputer.getAccumulatedValue(b-1));return this.lines[b].getViewLineNumberOfModelPosition(y,this.model.getLineMaxColumn(b+1))}getAllOverviewRulerDecorations(m,g,b){const y=this.model.getOverviewRulerDecorations(m,g),L=new h;for(const N of y){const M=N.options.overviewRuler,D=M?M.position:0;if(D!==0){const R=M.getColor(b),P=this._getViewLineNumberForModelPosition(N.range.startLineNumber,N.range.startColumn),O=this._getViewLineNumberForModelPosition(N.range.endLineNumber,N.range.endColumn);L.accept(R,P,O,D)}}return L.result}getDecorationsInRange(m,g,b){const y=this.convertViewPositionToModelPosition(m.startLineNumber,m.startColumn),L=this.convertViewPositionToModelPosition(m.endLineNumber,m.endColumn);if(L.lineNumber-y.lineNumber<=m.endLineNumber-m.startLineNumber)return this.model.getDecorationsInRange(new k.Range(y.lineNumber,1,L.lineNumber,L.column),g,b);let N=[];const M=y.lineNumber-1,D=L.lineNumber-1;let R=null;for(let F=M;F<=D;F++)if(this.lines[F].isVisible())R===null&&(R=new I.Position(F+1,F===M?y.column:1));else if(R!==null){const A=this.model.getLineMaxColumn(F);N=N.concat(this.model.getDecorationsInRange(new k.Range(R.lineNumber,R.column,F,A),g,b)),R=null}R!==null&&(N=N.concat(this.model.getDecorationsInRange(new k.Range(R.lineNumber,R.column,L.lineNumber,L.column),g,b)),R=null),N.sort((F,E)=>{const A=k.Range.compareRangesUsingStarts(F.range,E.range);return A===0?F.id<E.id?-1:F.id>E.id?1:0:A});let P=[],O=0,W=null;for(const F of N){const E=F.id;W!==E&&(W=E,P[O++]=F)}return P}}e.SplitLinesCollection=u;class a{constructor(){}isVisible(){return!0}setVisible(m){return m?this:l.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(m,g,b){return m.getLineContent(g)}getViewLineLength(m,g,b){return m.getLineLength(g)}getViewLineMinColumn(m,g,b){return m.getLineMinColumn(g)}getViewLineMaxColumn(m,g,b){return m.getLineMaxColumn(g)}getViewLineData(m,g,b){let y=m.getLineTokens(g),L=y.getLineContent();return new C.ViewLineData(L,!1,1,L.length+1,0,y.inflate())}getViewLinesData(m,g,b,y,L,N,M){if(!N[L]){M[L]=null;return}M[L]=this.getViewLineData(m,g,0)}getModelColumnOfViewPosition(m,g){return g}getViewPositionOfModelPosition(m,g){return new I.Position(m,g)}getViewLineNumberOfModelPosition(m,g){return m}}a.INSTANCE=new a;class l{constructor(){}isVisible(){return!1}setVisible(m){return m?a.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(m,g,b){throw new Error("Not supported")}getViewLineLength(m,g,b){throw new Error("Not supported")}getViewLineMinColumn(m,g,b){throw new Error("Not supported")}getViewLineMaxColumn(m,g,b){throw new Error("Not supported")}getViewLineData(m,g,b){throw new Error("Not supported")}getViewLinesData(m,g,b,y,L,N,M){throw new Error("Not supported")}getModelColumnOfViewPosition(m,g){throw new Error("Not supported")}getViewPositionOfModelPosition(m,g){throw new Error("Not supported")}getViewLineNumberOfModelPosition(m,g){throw new Error("Not supported")}}l.INSTANCE=new l;class c{constructor(m,g){this._lineBreakData=m,this._isVisible=g}isVisible(){return this._isVisible}setVisible(m){return this._isVisible=m,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(m){return C.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,m,0)}getInputEndOffsetOfOutputLineIndex(m,g,b){return b+1===this._lineBreakData.breakOffsets.length?m.getLineMaxColumn(g)-1:C.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,b+1,0)}getViewLineContent(m,g,b){if(!this._isVisible)throw new Error("Not supported");let y=this.getInputStartOffsetOfOutputLineIndex(b),L=this.getInputEndOffsetOfOutputLineIndex(m,g,b),N=m.getValueInRange({startLineNumber:g,startColumn:y+1,endLineNumber:g,endColumn:L+1});return b>0&&(N=r(this._lineBreakData.wrappedTextIndentLength)+N),N}getViewLineLength(m,g,b){if(!this._isVisible)throw new Error("Not supported");let y=this.getInputStartOffsetOfOutputLineIndex(b),N=this.getInputEndOffsetOfOutputLineIndex(m,g,b)-y;return b>0&&(N=this._lineBreakData.wrappedTextIndentLength+N),N}getViewLineMinColumn(m,g,b){if(!this._isVisible)throw new Error("Not supported");return b>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(m,g,b){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(m,g,b).length+1}getViewLineData(m,g,b){if(!this._isVisible)throw new Error("Not supported");let y=this.getInputStartOffsetOfOutputLineIndex(b),L=this.getInputEndOffsetOfOutputLineIndex(m,g,b),N=m.getValueInRange({startLineNumber:g,startColumn:y+1,endLineNumber:g,endColumn:L+1});b>0&&(N=r(this._lineBreakData.wrappedTextIndentLength)+N);let M=b>0?this._lineBreakData.wrappedTextIndentLength+1:1,D=N.length+1,R=b+1<this.getViewLineCount(),P=0;b>0&&(P=this._lineBreakData.wrappedTextIndentLength);let O=m.getLineTokens(g);const W=b===0?0:this._lineBreakData.breakOffsetsVisibleColumn[b-1];return new C.ViewLineData(N,R,M,D,W,O.sliceAndInflate(y,L,P))}getViewLinesData(m,g,b,y,L,N,M){if(!this._isVisible)throw new Error("Not supported");for(let D=b;D<y;D++){let R=L+D-b;if(!N[R]){M[R]=null;continue}M[R]=this.getViewLineData(m,g,D)}}getModelColumnOfViewPosition(m,g){if(!this._isVisible)throw new Error("Not supported");let b=g-1;return m>0&&(b<this._lineBreakData.wrappedTextIndentLength?b=0:b-=this._lineBreakData.wrappedTextIndentLength),C.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,m,b)+1}getViewPositionOfModelPosition(m,g){if(!this._isVisible)throw new Error("Not supported");let b=C.LineBreakData.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,g-1),y=b.outputLineIndex,L=b.outputOffset+1;return y>0&&(L+=this._lineBreakData.wrappedTextIndentLength),new I.Position(m+y,L)}getViewLineNumberOfModelPosition(m,g){if(!this._isVisible)throw new Error("Not supported");const b=C.LineBreakData.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,g-1);return m+b.outputLineIndex}}e.SplitLine=c;let d=[""];function r(f){if(f>=d.length)for(let m=1;m<=f;m++)d[m]=n(m);return d[f]}function n(f){return new Array(f+1).join(" ")}function s(f,m){return f===null?m?a.INSTANCE:l.INSTANCE:new c(f,m)}class t{constructor(m){this._lines=m}_validPosition(m){return this._lines.model.validatePosition(m)}_validRange(m){return this._lines.model.validateRange(m)}convertViewPositionToModelPosition(m){return this._validPosition(m)}convertViewRangeToModelRange(m){return this._validRange(m)}validateViewPosition(m,g){return this._validPosition(g)}validateViewRange(m,g){return this._validRange(g)}convertModelPositionToViewPosition(m){return this._validPosition(m)}convertModelRangeToViewRange(m){return this._validRange(m)}modelPositionIsVisible(m){const g=this._lines.model.getLineCount();return!(m.lineNumber<1||m.lineNumber>g)}getModelLineViewLineCount(m){return 1}}e.IdentityCoordinatesConverter=t;class o{constructor(m){this.model=m}dispose(){}createCoordinatesConverter(){return new t(this)}getHiddenAreas(){return[]}setHiddenAreas(m){return!1}setTabSize(m){return!1}setWrappingSettings(m,g,b,y){return!1}createLineBreaksComputer(){let m=[];return{addRequest:(g,b)=>{m.push(null)},finalize:()=>m}}onModelFlushed(){}onModelLinesDeleted(m,g,b){return new S.ViewLinesDeletedEvent(g,b)}onModelLinesInserted(m,g,b,y){return new S.ViewLinesInsertedEvent(g,b)}onModelLineChanged(m,g,b){return[!1,new S.ViewLinesChangedEvent(g,g),null,null]}acceptVersionId(m){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(m,g,b){return{startLineNumber:m,endLineNumber:m,indent:0}}getViewLinesIndentGuides(m,g){const b=g-m+1;let y=new Array(b);for(let L=0;L<b;L++)y[L]=0;return y}getViewLineContent(m){return this.model.getLineContent(m)}getViewLineLength(m){return this.model.getLineLength(m)}getViewLineMinColumn(m){return this.model.getLineMinColumn(m)}getViewLineMaxColumn(m){return this.model.getLineMaxColumn(m)}getViewLineData(m){let g=this.model.getLineTokens(m),b=g.getLineContent();return new C.ViewLineData(b,!1,1,b.length+1,0,g.inflate())}getViewLinesData(m,g,b){const y=this.model.getLineCount();m=Math.min(Math.max(1,m),y),g=Math.min(Math.max(1,g),y);let L=[];for(let N=m;N<=g;N++){let M=N-m;b[M]||(L[M]=null),L[M]=this.getViewLineData(N)}return L}getAllOverviewRulerDecorations(m,g,b){const y=this.model.getOverviewRulerDecorations(m,g),L=new h;for(const N of y){const M=N.options.overviewRuler,D=M?M.position:0;if(D!==0){const R=M.getColor(b),P=N.range.startLineNumber,O=N.range.endLineNumber;L.accept(R,P,O,D)}}return L.result}getDecorationsInRange(m,g,b){return this.model.getDecorationsInRange(m,g,b)}}e.IdentityLinesCollection=o;class h{constructor(){this.result=Object.create(null)}accept(m,g,b,y){let L=this.result[m];if(L){const N=L[L.length-3],M=L[L.length-1];if(N===y&&M+1>=g){b>M&&(L[L.length-1]=b);return}L.push(y,g,b)}else this.result[m]=[y,g,b]}}}),define(te[459],ie([0,1,29,2,8,38,14,3,18,200,199,158,636,458,64,339,15,17,201,39,169]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const h=!0;class f extends I.Disposable{constructor(g,b,y,L,N,M){super();if(this._editorId=g,this._configuration=b,this.model=y,this._eventDispatcher=new o.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new r.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new r.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,h&&this.model.isTooLargeForTokenization())this._lines=new l.IdentityLinesCollection(this.model);else{const D=this._configuration.options,R=D.get(40),P=D.get(120),O=D.get(127),W=D.get(119);this._lines=new l.SplitLinesCollection(this.model,L,N,R,this.model.getOptions().tabSize,P,O.wrappingColumn,W)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new s.Cursor(y,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new a.ViewLayout(this._configuration,this.getLineCount(),M)),this._register(this.viewLayout.onDidScroll(D=>{D.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new u.ViewScrollChangedEvent(D)),this._eventDispatcher.emitOutgoingEvent(new o.ScrollChangedEvent(D.oldScrollWidth,D.oldScrollLeft,D.oldScrollHeight,D.oldScrollTop,D.scrollWidth,D.scrollLeft,D.scrollHeight,D.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(D=>{this._eventDispatcher.emitOutgoingEvent(D)})),this._decorations=new d.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(D=>{try{const R=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(R,D)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(_.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new u.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(g){this._eventDispatcher.addViewEventHandler(g)}removeViewEventHandler(g){this._eventDispatcher.removeViewEventHandler(g)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const g=this.viewLayout.getLinesViewportData(),b=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g.startLineNumber,1)),y=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g.endLineNumber,1));this.model.tokenizeViewport(b.lineNumber,y.lineNumber)}setHasFocus(g){this._hasFocus=g,this._cursor.setHasFocus(g),this._eventDispatcher.emitSingleViewEvent(new u.ViewFocusChangedEvent(g)),this._eventDispatcher.emitOutgoingEvent(new o.FocusChangedEvent(!g,g))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new u.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new u.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new u.ViewThemeChangedEvent)}_onConfigurationChanged(g,b){let y=null;if(this._viewportStartLine!==-1){let O=new S.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));y=this.coordinatesConverter.convertViewPositionToModelPosition(O)}let L=!1;const N=this._configuration.options,M=N.get(40),D=N.get(120),R=N.get(127),P=N.get(119);if(this._lines.setWrappingSettings(M,D,R.wrappingColumn,P)&&(g.emitViewEvent(new u.ViewFlushedEvent),g.emitViewEvent(new u.ViewLineMappingChangedEvent),g.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(g),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(L=!0),this._updateConfigurationViewLineCount.schedule()),b.hasChanged(77)&&(this._decorations.reset(),g.emitViewEvent(new u.ViewDecorationsChangedEvent(null))),g.emitViewEvent(new u.ViewConfigurationChangedEvent(b)),this.viewLayout.onConfigurationChanged(b),L&&y){const O=this.coordinatesConverter.convertModelPositionToViewPosition(y),W=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber);this.viewLayout.setScrollPosition({scrollTop:W+this._viewportStartLineDelta},1)}t.CursorConfiguration.shouldRecreate(b)&&(this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeRawContentFast(g=>{try{const b=this._eventDispatcher.beginEmitViewEvents();let y=!1,L=!1;const N=g.changes,M=g.versionId,D=this._lines.createLineBreaksComputer();for(const O of N)switch(O.changeType){case 4:{for(const W of O.detail)D.addRequest(W,null);break}case 2:{D.addRequest(O.detail,null);break}}const R=D.finalize();let P=0;for(const O of N)switch(O.changeType){case 1:{this._lines.onModelFlushed(),b.emitViewEvent(new u.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),y=!0;break}case 3:{const W=this._lines.onModelLinesDeleted(M,O.fromLineNumber,O.toLineNumber);W!==null&&(b.emitViewEvent(W),this.viewLayout.onLinesDeleted(W.fromLineNumber,W.toLineNumber)),y=!0;break}case 4:{const W=R.slice(P,P+O.detail.length);P+=O.detail.length;const F=this._lines.onModelLinesInserted(M,O.fromLineNumber,O.toLineNumber,W);F!==null&&(b.emitViewEvent(F),this.viewLayout.onLinesInserted(F.fromLineNumber,F.toLineNumber)),y=!0;break}case 2:{const W=R[P];P++;const[F,E,A,B]=this._lines.onModelLineChanged(M,O.lineNumber,W);L=F,E&&b.emitViewEvent(E),A&&(b.emitViewEvent(A),this.viewLayout.onLinesInserted(A.fromLineNumber,A.toLineNumber)),B&&(b.emitViewEvent(B),this.viewLayout.onLinesDeleted(B.fromLineNumber,B.toLineNumber));break}case 5:break}this._lines.acceptVersionId(M),this.viewLayout.onHeightMaybeChanged(),!y&&L&&(b.emitViewEvent(new u.ViewLineMappingChangedEvent),b.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const b=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(b){const y=this.coordinatesConverter.convertModelPositionToViewPosition(b.getStartPosition()),L=this.viewLayout.getVerticalOffsetForLineNumber(y.lineNumber);this.viewLayout.setScrollPosition({scrollTop:L+this._viewportStartLineDelta},1)}}try{const b=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(b,g)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(g=>{let b=[];for(let y=0,L=g.ranges.length;y<L;y++){const N=g.ranges[y],M=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(N.fromLineNumber,1)).lineNumber,D=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(N.toLineNumber,this.model.getLineMaxColumn(N.toLineNumber))).lineNumber;b[y]={fromLineNumber:M,toLineNumber:D}}this._eventDispatcher.emitSingleViewEvent(new u.ViewTokensChangedEvent(b)),g.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(g=>{this._eventDispatcher.emitSingleViewEvent(new u.ViewLanguageConfigurationEvent),this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(g=>{this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(g=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const b=this._eventDispatcher.beginEmitViewEvents();b.emitViewEvent(new u.ViewFlushedEvent),b.emitViewEvent(new u.ViewLineMappingChangedEvent),b.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(g=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new u.ViewDecorationsChangedEvent(g))}))}setHiddenAreas(g){try{const b=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(g)&&(b.emitViewEvent(new u.ViewFlushedEvent),b.emitViewEvent(new u.ViewLineMappingChangedEvent),b.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const g=this._configuration.options.get(126),b=this._configuration.options.get(55),y=Math.max(20,Math.round(g.height/b)),L=this.viewLayout.getLinesViewportData(),N=Math.max(1,L.completelyVisibleStartLineNumber-y),M=Math.min(this.getLineCount(),L.completelyVisibleEndLineNumber+y);return this._toModelVisibleRanges(new p.Range(N,this.getLineMinColumn(N),M,this.getLineMaxColumn(M)))}getVisibleRanges(){const g=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(g)}_toModelVisibleRanges(g){const b=this.coordinatesConverter.convertViewRangeToModelRange(g),y=this._lines.getHiddenAreas();if(y.length===0)return[b];let L=[],N=0,M=b.startLineNumber,D=b.startColumn,R=b.endLineNumber,P=b.endColumn;for(let O=0,W=y.length;O<W;O++){const F=y[O].startLineNumber,E=y[O].endLineNumber;E<M||F>R||(M<F&&(L[N++]=new p.Range(M,D,F-1,this.model.getLineMaxColumn(F-1))),M=E+1,D=1)}return(M<R||M===R&&D<P)&&(L[N++]=new p.Range(M,D,R,P)),L}getCompletelyVisibleViewRange(){const g=this.viewLayout.getLinesViewportData(),b=g.completelyVisibleStartLineNumber,y=g.completelyVisibleEndLineNumber;return new p.Range(b,this.getLineMinColumn(b),y,this.getLineMaxColumn(y))}getCompletelyVisibleViewRangeAtScrollTop(g){const b=this.viewLayout.getLinesViewportDataAtScrollTop(g),y=b.completelyVisibleStartLineNumber,L=b.completelyVisibleEndLineNumber;return new p.Range(y,this.getLineMinColumn(y),L,this.getLineMaxColumn(L))}saveState(){const g=this.viewLayout.saveState(),b=g.scrollTop,y=this.viewLayout.getLineNumberAtVerticalOffset(b),L=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(y,this.getLineMinColumn(y))),N=this.viewLayout.getVerticalOffsetForLineNumber(y)-b;return{scrollLeft:g.scrollLeft,firstPosition:L,firstPositionDeltaTop:N}}reduceRestoreState(g){if(typeof g.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(g);const b=this.model.validatePosition(g.firstPosition),y=this.coordinatesConverter.convertModelPositionToViewPosition(b),L=this.viewLayout.getVerticalOffsetForLineNumber(y.lineNumber)-g.firstPositionDeltaTop;return{scrollLeft:g.scrollLeft,scrollTop:L}}_reduceRestoreStateCompatibility(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(g,b,y){this._viewportStartLine=g;let L=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g,this.getLineMinColumn(g)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new p.Range(L.lineNumber,L.column,L.lineNumber,L.column),1);const N=this.viewLayout.getVerticalOffsetForLineNumber(g),M=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=M-N}getActiveIndentGuide(g,b,y){return this._lines.getActiveIndentGuide(g,b,y)}getLinesIndentGuides(g,b){return this._lines.getViewLinesIndentGuides(g,b)}getLineContent(g){return this._lines.getViewLineContent(g)}getLineLength(g){return this._lines.getViewLineLength(g)}getLineMinColumn(g){return this._lines.getViewLineMinColumn(g)}getLineMaxColumn(g){return this._lines.getViewLineMaxColumn(g)}getLineFirstNonWhitespaceColumn(g){const b=k.firstNonWhitespaceIndex(this.getLineContent(g));return b===-1?0:b+1}getLineLastNonWhitespaceColumn(g){const b=k.lastNonWhitespaceIndex(this.getLineContent(g));return b===-1?0:b+2}getDecorationsInViewport(g){return this._decorations.getDecorationsViewportData(g).decorations}getViewLineRenderingData(g,b){let y=this.model.mightContainRTL(),L=this.model.mightContainNonBasicASCII(),N=this.getTabSize(),M=this._lines.getViewLineData(b),R=this._decorations.getDecorationsViewportData(g).inlineDecorations[b-g.startLineNumber];return new c.ViewLineRenderingData(M.minColumn,M.maxColumn,M.content,M.continuesWithWrappedLine,y,L,M.tokens,R,N,M.startVisibleColumn)}getViewLineData(g){return this._lines.getViewLineData(g)}getMinimapLinesRenderingData(g,b,y){let L=this._lines.getViewLinesData(g,b,y);return new c.MinimapLinesRenderingData(this.getTabSize(),L)}getAllOverviewRulerDecorations(g){return this._lines.getAllOverviewRulerDecorations(this._editorId,(0,w.filterValidationDecorations)(this._configuration.options),g)}invalidateOverviewRulerColorCache(){const g=this.model.getOverviewRulerDecorations();for(const b of g){const y=b.options.overviewRuler;y&&y.invalidateCachedColor()}}invalidateMinimapColorCache(){const g=this.model.getAllDecorations();for(const b of g){const y=b.options.minimap;y&&y.invalidateCachedColor()}}getValueInRange(g,b){const y=this.coordinatesConverter.convertViewRangeToModelRange(g);return this.model.getValueInRange(y,b)}getModelLineMaxColumn(g){return this.model.getLineMaxColumn(g)}validateModelPosition(g){return this.model.validatePosition(g)}validateModelRange(g){return this.model.validateRange(g)}deduceModelPositionRelativeToViewPosition(g,b,y){const L=this.coordinatesConverter.convertViewPositionToModelPosition(g);this.model.getEOL().length===2&&(b<0?b-=y:b+=y);const M=this.model.getOffsetAt(L)+b;return this.model.getPositionAt(M)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(g,b,y){const L=y?`\r
`:this.model.getEOL();g=g.slice(0),g.sort(p.Range.compareRangesUsingStarts);let N=!1,M=!1;for(const R of g)R.isEmpty()?N=!0:M=!0;if(!M){if(!b)return"";const R=g.map(O=>O.startLineNumber);let P="";for(let O=0;O<R.length;O++)O>0&&R[O-1]===R[O]||(P+=this.model.getLineContent(R[O])+L);return P}if(N&&b){let R=[],P=0;for(const O of g){const W=O.startLineNumber;O.isEmpty()?W!==P&&R.push(this.model.getLineContent(W)):R.push(this.model.getValueInRange(O,y?2:0)),P=W}return R.length===1?R[0]:R}let D=[];for(const R of g)R.isEmpty()||D.push(this.model.getValueInRange(R,y?2:0));return D.length===1?D[0]:D}getRichTextToCopy(g,b){const y=this.model.getLanguageIdentifier();if(y.id===1||g.length!==1)return null;let L=g[0];if(L.isEmpty()){if(!b)return null;const O=L.startLineNumber;L=new p.Range(O,this.model.getLineMinColumn(O),O,this.model.getLineMaxColumn(O))}const N=this._configuration.options.get(40),M=this._getColorMap(),R=/[:;\\\/<>]/.test(N.fontFamily)||N.fontFamily===w.EDITOR_FONT_DEFAULTS.fontFamily;let P;return R?P=w.EDITOR_FONT_DEFAULTS.fontFamily:(P=N.fontFamily,P=P.replace(/"/g,"'"),/[,']/.test(P)||/[+ ]/.test(P)&&(P=`'${P}'`),P=`${P}, ${w.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:y.language,html:`<div style="color: ${M[1]};background-color: ${M[2]};font-family: ${P};font-weight: ${N.fontWeight};font-size: ${N.fontSize}px;line-height: ${N.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(L,M)+"</div>"}}_getHTMLToCopy(g,b){const y=g.startLineNumber,L=g.startColumn,N=g.endLineNumber,M=g.endColumn,D=this.getTabSize();let R="";for(let P=y;P<=N;P++){const O=this.model.getLineTokens(P),W=O.getLineContent(),F=P===y?L-1:0,E=P===N?M-1:W.length;W===""?R+="<br>":R+=(0,i.tokenizeLineToHTML)(W,O.inflate(),b,F,E,D,n.isWindows)}return R}_getColorMap(){let g=C.TokenizationRegistry.getColorMap(),b=["#000000"];if(g)for(let y=1,L=g.length;y<L;y++)b[y]=v.Color.Format.CSS.formatHex(g[y]);return b}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(g,b,y){this._withViewEventsCollector(L=>this._cursor.setStates(L,g,b,y))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(g){this._cursor.setCursorColumnSelectData(g)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(g){this._cursor.setPrevEditOperationType(g)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(g,b,y=0){this._withViewEventsCollector(L=>this._cursor.setSelections(L,g,b,y))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(g){this._withViewEventsCollector(b=>this._cursor.restoreState(b,g))}_executeCursorEdit(g){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new o.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(g)}executeEdits(g,b,y){this._executeCursorEdit(L=>this._cursor.executeEdits(L,g,b,y))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(g=>this._cursor.startComposition(g))}endComposition(g){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(b=>this._cursor.endComposition(b,g))}type(g,b){this._executeCursorEdit(y=>this._cursor.type(y,g,b))}compositionType(g,b,y,L,N){this._executeCursorEdit(M=>this._cursor.compositionType(M,g,b,y,L,N))}paste(g,b,y,L){this._executeCursorEdit(N=>this._cursor.paste(N,g,b,y,L))}cut(g){this._executeCursorEdit(b=>this._cursor.cut(b,g))}executeCommand(g,b){this._executeCursorEdit(y=>this._cursor.executeCommand(y,g,b))}executeCommands(g,b){this._executeCursorEdit(y=>this._cursor.executeCommands(y,g,b))}revealPrimaryCursor(g,b){this._withViewEventsCollector(y=>this._cursor.revealPrimary(y,g,b,0))}revealTopMostCursor(g){const b=this._cursor.getTopMostViewPosition(),y=new p.Range(b.lineNumber,b.column,b.lineNumber,b.column);this._withViewEventsCollector(L=>L.emitViewEvent(new u.ViewRevealRangeRequestEvent(g,y,null,0,!0,0)))}revealBottomMostCursor(g){const b=this._cursor.getBottomMostViewPosition(),y=new p.Range(b.lineNumber,b.column,b.lineNumber,b.column);this._withViewEventsCollector(L=>L.emitViewEvent(new u.ViewRevealRangeRequestEvent(g,y,null,0,!0,0)))}revealRange(g,b,y,L,N){this._withViewEventsCollector(M=>M.emitViewEvent(new u.ViewRevealRangeRequestEvent(g,y,null,L,b,N)))}getVerticalOffsetForLineNumber(g){return this.viewLayout.getVerticalOffsetForLineNumber(g)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(g,b){this.viewLayout.setScrollPosition({scrollTop:g},b)}setScrollPosition(g,b){this.viewLayout.setScrollPosition(g,b)}deltaScrollNow(g,b){this.viewLayout.deltaScrollNow(g,b)}changeWhitespace(g){this.viewLayout.changeWhitespace(g)&&(this._eventDispatcher.emitSingleViewEvent(new u.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new o.ViewZonesChangedEvent))}setMaxLineWidth(g){this.viewLayout.setMaxLineWidth(g)}_withViewEventsCollector(g){try{const b=this._eventDispatcher.beginEmitViewEvents();g(b)}finally{this._eventDispatcher.endEmitViewEvents()}}}e.ViewModel=f}),define(te[198],ie([0,1,19,24,11,51,3,18,56,132]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class _{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(d,r){let n;typeof d=="string"?n=`${r.id}/${d}`:(n=`${r.id}/${d.name}`,r.children.get(n)!==void 0&&(n=`${r.id}/${d.name}_${d.range.startLineNumber}_${d.range.startColumn}`));let s=n;for(let t=0;r.children.get(s)!==void 0;t++)s=`${n}_${t}`;return s}static empty(d){return d.children.size===0}}e.TreeElement=_;class u extends _{constructor(d,r,n){super();this.id=d,this.parent=r,this.symbol=n,this.children=new Map}}e.OutlineElement=u;class a extends _{constructor(d,r,n,s){super();this.id=d,this.parent=r,this.label=n,this.order=s,this.children=new Map}}e.OutlineGroup=a;class l extends _{constructor(d){super();this.uri=d,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(d,r){let n=this._keys.for(d,!0),s=l._requests.get(n);if(!s){let t=new I.CancellationTokenSource;s={promiseCnt:0,source:t,promise:l._create(d,t.token),model:void 0},l._requests.set(n,s);const o=Date.now();s.promise.then(()=>{this._requestDurations.update(d,Date.now()-o)})}return s.model?Promise.resolve(s.model):(s.promiseCnt+=1,r.onCancellationRequested(()=>{--s.promiseCnt==0&&(s.source.cancel(),l._requests.delete(n))}),new Promise((t,o)=>{s.promise.then(h=>{s.model=h,t(h)},h=>{l._requests.delete(n),o(h)})}))}static _create(d,r){const n=new I.CancellationTokenSource(r),s=new l(d.uri),t=p.DocumentSymbolProviderRegistry.ordered(d),o=t.map((f,m)=>{var g;let b=_.findId(`provider_${m}`,s),y=new a(b,s,(g=f.displayName)!==null&&g!==void 0?g:"Unknown Outline Provider",m);return Promise.resolve(f.provideDocumentSymbols(d,n.token)).then(L=>{for(const N of L||[])l._makeOutlineElement(N,y);return y},L=>((0,k.onUnexpectedExternalError)(L),y)).then(L=>{_.empty(L)?L.remove():s._groups.set(b,L)})}),h=p.DocumentSymbolProviderRegistry.onDidChange(()=>{const f=p.DocumentSymbolProviderRegistry.ordered(d);(0,v.equals)(f,t)||n.cancel()});return Promise.all(o).then(()=>n.token.isCancellationRequested&&!r.isCancellationRequested?l._create(d,r):s._compact()).finally(()=>{h.dispose()})}static _makeOutlineElement(d,r){let n=_.findId(d,r),s=new u(n,r,d);if(d.children)for(const t of d.children)l._makeOutlineElement(t,s);r.children.set(s.id,s)}_compact(){let d=0;for(const[r,n]of this._groups)n.children.size===0?this._groups.delete(r):d+=1;if(d!==1)this.children=this._groups;else{let r=C.Iterable.first(this._groups.values());for(let[,n]of r.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const d=[];for(const r of this.children.values())r instanceof u?d.push(r.symbol):d.push(...C.Iterable.map(r.children.values(),n=>n.symbol));return d.sort((r,n)=>S.Range.compareRangesUsingStarts(r.range,n.range))}asListOfDocumentSymbols(){const d=this.getTopLevelSymbols(),r=[];return l._flattenDocumentSymbols(r,d,""),r.sort((n,s)=>S.Range.compareRangesUsingStarts(n.range,s.range))}static _flattenDocumentSymbols(d,r,n){for(const s of r)d.push({kind:s.kind,tags:s.tags,name:s.name,detail:s.detail,containerName:s.containerName||n,range:s.range,selectionRange:s.selectionRange,children:void 0}),s.children&&l._flattenDocumentSymbols(d,s.children,s.name)}}e.OutlineModel=l,l._requestDurations=new i.LanguageFeatureRequestDelays(p.DocumentSymbolProviderRegistry,350),l._requests=new w.LRUCache(9,.75),l._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(c,d){return`${c.id}/${d?c.getVersionId():""}/${this._hash(p.DocumentSymbolProviderRegistry.all(c))}`}_hash(c){let d="";for(const r of c){let n=this._data.get(r);typeof n=="undefined"&&(n=this._counter++,this._data.set(r,n)),d+=n}return d}}}),define(te[461],ie([0,1,172,31,42]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const w=5e3;e.ID_INDENT_PROVIDER="indent";class S{constructor(_){this.editorModel=_,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(_){let u=k.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id),a=u&&!!u.offSide,l=u&&u.markers;return Promise.resolve(C(this.editorModel,a,l))}}e.IndentRangeProvider=S;class p{constructor(_){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=_}insertFirst(_,u,a){if(!(_>v.MAX_LINE_NUMBER||u>v.MAX_LINE_NUMBER)){let l=this._length;this._startIndexes[l]=_,this._endIndexes[l]=u,this._length++,a<1e3&&(this._indentOccurrences[a]=(this._indentOccurrences[a]||0)+1)}}toIndentRanges(_){if(this._length<=this._foldingRangesLimit){let u=new Uint32Array(this._length),a=new Uint32Array(this._length);for(let l=this._length-1,c=0;l>=0;l--,c++)u[c]=this._startIndexes[l],a[c]=this._endIndexes[l];return new v.FoldingRegions(u,a)}else{let u=0,a=this._indentOccurrences.length;for(let r=0;r<this._indentOccurrences.length;r++){let n=this._indentOccurrences[r];if(n){if(n+u>this._foldingRangesLimit){a=r;break}u+=n}}const l=_.getOptions().tabSize;let c=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit);for(let r=this._length-1,n=0;r>=0;r--){let s=this._startIndexes[r],t=_.getLineContent(s),o=I.TextModel.computeIndentLevel(t,l);(o<a||o===a&&u++<this._foldingRangesLimit)&&(c[n]=s,d[n]=this._endIndexes[r],n++)}return new v.FoldingRegions(c,d)}}}e.RangesCollector=p;function C(i,_,u,a=w){const l=i.getOptions().tabSize;let c=new p(a),d;u&&(d=new RegExp(`(${u.start.source})|(?:${u.end.source})`));let r=[],n=i.getLineCount()+1;r.push({indent:-1,endAbove:n,line:n});for(let s=i.getLineCount();s>0;s--){let t=i.getLineContent(s),o=I.TextModel.computeIndentLevel(t,l),h=r[r.length-1];if(o===-1){_&&(h.endAbove=s);continue}let f;if(d&&(f=t.match(d)))if(f[1]){let m=r.length-1;for(;m>0&&r[m].indent!==-2;)m--;if(m>0){r.length=m+1,h=r[m],c.insertFirst(s,h.line,o),h.line=s,h.indent=o,h.endAbove=s;continue}}else{r.push({indent:-2,endAbove:s,line:s});continue}if(h.indent>o){do r.pop(),h=r[r.length-1];while(h.indent>o);let m=h.endAbove-1;m-s>=1&&c.insertFirst(s,m,o)}h.indent===o?h.endAbove=s:r.push({indent:o,endAbove:s,line:s})}return c.toIndentRanges(i)}e.computeRanges=C}),define(te[462],ie([0,1,8,178,3,21,111,42,218]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class i{constructor(u,a,l){this._selection=u,this._isMovingDown=a,this._autoIndent=l,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(u,a){let l=u.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===l){this._selectionId=a.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=a.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let c=this._selection;c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,u.getLineMaxColumn(c.endLineNumber-1)));const{tabSize:d,indentSize:r,insertSpaces:n}=u.getOptions();let s=this.buildIndentConverter(d,r,n),t={getLineTokens:o=>u.getLineTokens(o),getLanguageIdentifier:()=>u.getLanguageIdentifier(),getLanguageIdAtPosition:(o,h)=>u.getLanguageIdAtPosition(o,h),getLineContent:null};if(c.startLineNumber===c.endLineNumber&&u.getLineMaxColumn(c.startLineNumber)===1){let o=c.startLineNumber,h=this._isMovingDown?o+1:o-1;u.getLineMaxColumn(h)===1?a.addEditOperation(new k.Range(1,1,1,1),null):(a.addEditOperation(new k.Range(o,1,o,1),u.getLineContent(h)),a.addEditOperation(new k.Range(h,1,h,u.getLineMaxColumn(h)),null)),c=new w.Selection(h,1,h,1)}else{let o,h;if(this._isMovingDown){o=c.endLineNumber+1,h=u.getLineContent(o),a.addEditOperation(new k.Range(o-1,u.getLineMaxColumn(o-1),o,u.getLineMaxColumn(o)),null);let f=h;if(this.shouldAutoIndent(u,c)){let m=this.matchEnterRule(u,s,d,o,c.startLineNumber-1);if(m!==null){let b=v.getLeadingWhitespace(u.getLineContent(o)),y=m+C.getSpaceCnt(b,d);f=C.generateIndent(y,d,n)+this.trimLeft(h)}else{t.getLineContent=y=>y===c.startLineNumber?u.getLineContent(o):u.getLineContent(y);let b=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,u.getLanguageIdAtPosition(o,1),c.startLineNumber,s);if(b!==null){let y=v.getLeadingWhitespace(u.getLineContent(o)),L=C.getSpaceCnt(b,d),N=C.getSpaceCnt(y,d);L!==N&&(f=C.generateIndent(L,d,n)+this.trimLeft(h))}}a.addEditOperation(new k.Range(c.startLineNumber,1,c.startLineNumber,1),f+`
`);let g=this.matchEnterRuleMovingDown(u,s,d,c.startLineNumber,o,f);if(g!==null)g!==0&&this.getIndentEditsOfMovingBlock(u,a,c,d,n,g);else{t.getLineContent=y=>y===c.startLineNumber?f:y>=c.startLineNumber+1&&y<=c.endLineNumber+1?u.getLineContent(y-1):u.getLineContent(y);let b=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,u.getLanguageIdAtPosition(o,1),c.startLineNumber+1,s);if(b!==null){const y=v.getLeadingWhitespace(u.getLineContent(c.startLineNumber)),L=C.getSpaceCnt(b,d),N=C.getSpaceCnt(y,d);if(L!==N){const M=L-N;this.getIndentEditsOfMovingBlock(u,a,c,d,n,M)}}}}else a.addEditOperation(new k.Range(c.startLineNumber,1,c.startLineNumber,1),f+`
`)}else if(o=c.startLineNumber-1,h=u.getLineContent(o),a.addEditOperation(new k.Range(o,1,o+1,1),null),a.addEditOperation(new k.Range(c.endLineNumber,u.getLineMaxColumn(c.endLineNumber),c.endLineNumber,u.getLineMaxColumn(c.endLineNumber)),`
`+h),this.shouldAutoIndent(u,c)){t.getLineContent=m=>m===o?u.getLineContent(c.startLineNumber):u.getLineContent(m);let f=this.matchEnterRule(u,s,d,c.startLineNumber,c.startLineNumber-2);if(f!==null)f!==0&&this.getIndentEditsOfMovingBlock(u,a,c,d,n,f);else{let m=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,u.getLanguageIdAtPosition(c.startLineNumber,1),o,s);if(m!==null){let g=v.getLeadingWhitespace(u.getLineContent(c.startLineNumber)),b=C.getSpaceCnt(m,d),y=C.getSpaceCnt(g,d);if(b!==y){let L=b-y;this.getIndentEditsOfMovingBlock(u,a,c,d,n,L)}}}}}this._selectionId=a.trackSelection(c)}buildIndentConverter(u,a,l){return{shiftIndent:c=>I.ShiftCommand.shiftIndent(c,c.length+1,u,a,l),unshiftIndent:c=>I.ShiftCommand.unshiftIndent(c,c.length+1,u,a,l)}}parseEnterResult(u,a,l,c,d){if(d){let r=d.indentation;d.indentAction===S.IndentAction.None||d.indentAction===S.IndentAction.Indent?r=d.indentation+d.appendText:d.indentAction===S.IndentAction.IndentOutdent?r=d.indentation:d.indentAction===S.IndentAction.Outdent&&(r=a.unshiftIndent(d.indentation)+d.appendText);let n=u.getLineContent(c);if(this.trimLeft(n).indexOf(this.trimLeft(r))>=0){let s=v.getLeadingWhitespace(u.getLineContent(c)),t=v.getLeadingWhitespace(r),o=p.LanguageConfigurationRegistry.getIndentMetadata(u,c);o!==null&&o&2&&(t=a.unshiftIndent(t));let h=C.getSpaceCnt(t,l),f=C.getSpaceCnt(s,l);return h-f}}return null}matchEnterRuleMovingDown(u,a,l,c,d,r){if(v.lastNonWhitespaceIndex(r)>=0){let n=u.getLineMaxColumn(d),s=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,u,new k.Range(d,n,d,n));return this.parseEnterResult(u,a,l,c,s)}else{let n=c-1;for(;n>=1;){let o=u.getLineContent(n);if(v.lastNonWhitespaceIndex(o)>=0)break;n--}if(n<1||c>u.getLineCount())return null;let s=u.getLineMaxColumn(n),t=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,u,new k.Range(n,s,n,s));return this.parseEnterResult(u,a,l,c,t)}}matchEnterRule(u,a,l,c,d,r){let n=d;for(;n>=1;){let o;if(n===d&&r!==void 0?o=r:o=u.getLineContent(n),v.lastNonWhitespaceIndex(o)>=0)break;n--}if(n<1||c>u.getLineCount())return null;let s=u.getLineMaxColumn(n),t=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,u,new k.Range(n,s,n,s));return this.parseEnterResult(u,a,l,c,t)}trimLeft(u){return u.replace(/^\s+/,"")}shouldAutoIndent(u,a){if(this._autoIndent<4||!u.isCheapToTokenize(a.startLineNumber))return!1;let l=u.getLanguageIdAtPosition(a.startLineNumber,1),c=u.getLanguageIdAtPosition(a.endLineNumber,1);return!(l!==c||p.LanguageConfigurationRegistry.getIndentRulesSupport(l)===null)}getIndentEditsOfMovingBlock(u,a,l,c,d,r){for(let n=l.startLineNumber;n<=l.endLineNumber;n++){let s=u.getLineContent(n),t=v.getLeadingWhitespace(s),h=C.getSpaceCnt(t,c)+r,f=C.generateIndent(h,c,d);f!==t&&(a.addEditOperation(new k.Range(n,1,n,t.length+1),f),n===l.endLineNumber&&l.endColumn<=t.length+1&&f===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(u,a){let l=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(l=l.setEndPosition(l.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&l.startLineNumber<l.endLineNumber&&(l=l.setEndPosition(l.endLineNumber,2)),l}}e.MoveLinesCommand=i}),define(te[463],ie([0,1,7,114,29,147,2,43,3,31,430]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const _=new k.Color(new k.RGBA(0,122,204)),u={showArrow:!0,showFrame:!0,className:"",frameColor:_,arrowColor:_,keepEditorSelection:!1},a="vs.editor.contrib.zoneWidget";class l{constructor(s,t,o,h,f,m){this.id="",this.domNode=s,this.afterLineNumber=t,this.afterColumn=o,this.heightInLines=h,this._onDomNodeTop=f,this._onComputedHeight=m}onDomNodeTop(s){this._onDomNodeTop(s)}onComputedHeight(s){this._onComputedHeight(s)}}e.ViewZoneDelegate=l;class c{constructor(s,t){this._id=s,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=c;class d{constructor(s){this._editor=s,this._ruleName=d._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),v.removeCSSRulesContainingSelector(this._ruleName)}set color(s){this._color!==s&&(this._color=s,this._updateStyle())}set height(s){this._height!==s&&(this._height=s,this._updateStyle())}_updateStyle(){v.removeCSSRulesContainingSelector(this._ruleName),v.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(s){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:C.Range.fromPositions(s),options:{className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}d._IdGenerator=new w.IdGenerator(".arrow-decoration-");class r{constructor(s,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=s,this.options=p.deepClone(t),p.mixin(this.options,u,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(o=>{const h=this._getWidth(o);this.domNode.style.width=h+"px",this.domNode.style.left=this._getLeft(o)+"px",this._onWidth(h)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new d(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(s){s.frameColor&&(this.options.frameColor=s.frameColor),s.arrowColor&&(this.options.arrowColor=s.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let s=this.options.frameColor.toString();this.container.style.borderTopColor=s,this.container.style.borderBottomColor=s}if(this._arrow&&this.options.arrowColor){let s=this.options.arrowColor.toString();this._arrow.color=s}}_getWidth(s){return s.width-s.minimap.minimapWidth-s.verticalScrollbarWidth}_getLeft(s){return s.minimap.minimapWidth>0&&s.minimap.minimapLeft===0?s.minimap.minimapWidth:0}_onViewZoneTop(s){this.domNode.style.top=s+"px"}_onViewZoneHeight(s){if(this.domNode.style.height=`${s}px`,this.container){let t=s-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const o=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(o))}this._resizeSash&&this._resizeSash.layout()}get position(){const[s]=this._positionMarkerId;if(!!s){const t=this.editor.getModel();if(!!t){const o=t.getDecorationRange(s);if(!!o)return o.getStartPosition()}}}show(s,t){const o=C.Range.isIRange(s)?C.Range.lift(s):C.Range.fromPositions(s);this._isShowing=!0,this._showImpl(o,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:o,options:i.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let s=this.editor.getOption(55),t=0;if(this.options.showArrow){let o=Math.round(s/3);t+=2*o}if(this.options.showFrame){let o=Math.round(s/9);t+=2*o}return t}_showImpl(s,t){const o=s.getStartPosition(),h=this.editor.getLayoutInfo(),f=this._getWidth(h);this.domNode.style.width=`${f}px`,this.domNode.style.left=this._getLeft(h)+"px";const m=document.createElement("div");m.style.overflow="hidden";const g=this.editor.getOption(55),b=Math.max(12,this.editor.getLayoutInfo().height/g*.8);t=Math.min(t,b);let y=0,L=0;if(this._arrow&&this.options.showArrow&&(y=Math.round(g/3),this._arrow.height=y,this._arrow.show(o)),this.options.showFrame&&(L=Math.round(g/9)),this.editor.changeViewZones(D=>{this._viewZone&&D.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new l(m,o.lineNumber,o.column,t,R=>this._onViewZoneTop(R),R=>this._onViewZoneHeight(R)),this._viewZone.id=D.addZone(this._viewZone),this._overlayWidget=new c(a+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const D=this.options.frameWidth?this.options.frameWidth:L;this.container.style.borderTopWidth=D+"px",this.container.style.borderBottomWidth=D+"px"}let N=t*g-this._decoratingElementsHeight();this.container&&(this.container.style.top=y+"px",this.container.style.height=N+"px",this.container.style.overflow="hidden"),this._doLayout(N,f),this.options.keepEditorSelection||this.editor.setSelection(s);const M=this.editor.getModel();if(M){const D=s.endLineNumber+1;D<=M.getLineCount()?this.revealLine(D,!1):this.revealLine(M.getLineCount(),!0)}}revealLine(s,t){t?this.editor.revealLineInCenter(s,0):this.editor.revealLine(s,0)}setCssClass(s,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(s))}_onWidth(s){}_doLayout(s,t){}_relayout(s){this._viewZone&&this._viewZone.heightInLines!==s&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=s,t.layoutZone(this._viewZone.id))})}_initSash(){if(!this._resizeSash){this._resizeSash=this._disposables.add(new I.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let s;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(s={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{s=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(s){let o=(t.currentY-s.startY)/this.editor.getOption(55),h=o<0?Math.ceil(o):Math.floor(o),f=s.heightInLines+h;f>5&&f<35&&this._relayout(f)}}))}}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const s=this.editor.getLayoutInfo();return s.width-s.minimap.minimapWidth}}e.ZoneWidget=r}),define(te[195],ie([0,1,128,18,72,214]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizationSupport=e.MonarchTokenizer=void 0;const S=5;class p{constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}static create(s,t){return this._INSTANCE.create(s,t)}create(s,t){if(s!==null&&s.depth>=this._maxCacheDepth)return new C(s,t);let o=C.getStackElementId(s);o.length>0&&(o+="|"),o+=t;let h=this._entries[o];return h||(h=new C(s,t),this._entries[o]=h,h)}}p._INSTANCE=new p(S);class C{constructor(s,t){this.parent=s,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(s){let t="";for(;s!==null;)t.length>0&&(t+="|"),t+=s.state,s=s.parent;return t}static _equals(s,t){for(;s!==null&&t!==null;){if(s===t)return!0;if(s.state!==t.state)return!1;s=s.parent,t=t.parent}return s===null&&t===null}equals(s){return C._equals(this,s)}push(s){return p.create(this,s)}pop(){return this.parent}popall(){let s=this;for(;s.parent;)s=s.parent;return s}switchTo(s){return p.create(this.parent,s)}}class i{constructor(s,t){this.modeId=s,this.state=t}equals(s){return this.modeId===s.modeId&&this.state.equals(s.state)}clone(){return this.state.clone()===this.state?this:new i(this.modeId,this.state)}}class _{constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}static create(s,t){return this._INSTANCE.create(s,t)}create(s,t){if(t!==null)return new u(s,t);if(s!==null&&s.depth>=this._maxCacheDepth)return new u(s,t);let o=C.getStackElementId(s),h=this._entries[o];return h||(h=new u(s,null),this._entries[o]=h,h)}}_._INSTANCE=new _(S);class u{constructor(s,t){this.stack=s,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:_.create(this.stack,this.embeddedModeData)}equals(s){return!(s instanceof u)||!this.stack.equals(s.stack)?!1:this.embeddedModeData===null&&s.embeddedModeData===null?!0:this.embeddedModeData===null||s.embeddedModeData===null?!1:this.embeddedModeData.equals(s.embeddedModeData)}}class a{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(s,t){this._language=t}emit(s,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new v.Token(s,t,this._language)))}nestedModeTokenize(s,t,o,h){const f=o.modeId,m=o.state,g=I.TokenizationRegistry.get(f);if(!g)return this.enterMode(h,f),this.emit(h,""),m;let b=g.tokenize(s,t,m,h);return this._tokens=this._tokens.concat(b.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,b.endState}finalize(s){return new v.TokenizationResult(this._tokens,s)}}class l{constructor(s,t){this._modeService=s,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(s,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(s,t){let o=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==o&&(this._lastTokenMetadata=o,this._tokens.push(s),this._tokens.push(o))}static _merge(s,t,o){let h=s!==null?s.length:0,f=t.length,m=o!==null?o.length:0;if(h===0&&f===0&&m===0)return new Uint32Array(0);if(h===0&&f===0)return o;if(f===0&&m===0)return s;let g=new Uint32Array(h+f+m);s!==null&&g.set(s);for(let b=0;b<f;b++)g[h+b]=t[b];return o!==null&&g.set(o,h+f),g}nestedModeTokenize(s,t,o,h){const f=o.modeId,m=o.state,g=I.TokenizationRegistry.get(f);if(!g)return this.enterMode(h,f),this.emit(h,""),m;let b=g.tokenize2(s,t,m,h);return this._prependTokens=l._merge(this._prependTokens,this._tokens,b.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,b.endState}finalize(s){return new v.TokenizationResult2(l._merge(this._prependTokens,this._tokens,null),s)}}class c{constructor(s,t,o,h){this._modeService=s,this._standaloneThemeService=t,this._modeId=o,this._lexer=h,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let f=!1;this._tokenizationRegistryListener=I.TokenizationRegistry.onDidChange(m=>{if(!f){let g=!1;for(let b=0,y=m.changedLanguages.length;b<y;b++){let L=m.changedLanguages[b];if(this._embeddedModes[L]){g=!0;break}}g&&(f=!0,I.TokenizationRegistry.fire([this._modeId]),f=!1)}})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let s=[];for(let t in this._embeddedModes){const o=I.TokenizationRegistry.get(t);if(o){if(o instanceof c){const f=o.getLoadStatus();f.loaded===!1&&s.push(f.promise)}continue}const h=I.TokenizationRegistry.getPromise(t);h&&s.push(h)}return s.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(s).then(t=>{})}}getInitialState(){let s=p.create(null,this._lexer.start);return _.create(s,null)}tokenize(s,t,o,h){let f=new a,m=this._tokenize(s,t,o,h,f);return f.finalize(m)}tokenize2(s,t,o,h){let f=new l(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),m=this._tokenize(s,t,o,h,f);return f.finalize(m)}_tokenize(s,t,o,h,f){return o.embeddedModeData?this._nestedTokenize(s,t,o,h,f):this._myTokenize(s,t,o,h,f)}_findLeavingNestedModeOffset(s,t){let o=this._lexer.tokenizer[t.stack.state];if(!o&&(o=w.findRules(this._lexer,t.stack.state),!o))throw w.createError(this._lexer,"tokenizer state is not defined: "+t.stack.state);let h=-1,f=!1;for(const m of o)if(!(!w.isIAction(m.action)||m.action.nextEmbedded!=="@pop")){f=!0;let g=m.regex,b=m.regex.source;if(b.substr(0,4)==="^(?:"&&b.substr(b.length-1,1)===")"){let L=(g.ignoreCase?"i":"")+(g.unicode?"u":"");g=new RegExp(b.substr(4,b.length-5),L)}let y=s.search(g);y===-1||y!==0&&m.matchOnlyAtLineStart||(h===-1||y<h)&&(h=y)}if(!f)throw w.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return h}_nestedTokenize(s,t,o,h,f){let m=this._findLeavingNestedModeOffset(s,o);if(m===-1){let y=f.nestedModeTokenize(s,t,o.embeddedModeData,h);return _.create(o.stack,new i(o.embeddedModeData.modeId,y))}let g=s.substring(0,m);g.length>0&&f.nestedModeTokenize(g,!1,o.embeddedModeData,h);let b=s.substring(m);return this._myTokenize(b,t,o,h+m,f)}_safeRuleName(s){return s?s.name:"(unknown)"}_myTokenize(s,t,o,h,f){f.enterMode(h,this._modeId);const m=s.length,g=t&&this._lexer.includeLF?s+`
`:s,b=g.length;let y=o.embeddedModeData,L=o.stack,N=0,M=null,D=!0;for(;D||N<b;){const R=N,P=L.depth,O=M?M.groups.length:0,W=L.state;let F=null,E=null,A=null,B=null,z=null;if(M){F=M.matches;const G=M.groups.shift();E=G.matched,A=G.action,B=M.rule,M.groups.length===0&&(M=null)}else{if(!D&&N>=b)break;D=!1;let G=this._lexer.tokenizer[W];if(!G&&(G=w.findRules(this._lexer,W),!G))throw w.createError(this._lexer,"tokenizer state is not defined: "+W);let J=g.substr(N);for(const Q of G)if((N===0||!Q.matchOnlyAtLineStart)&&(F=J.match(Q.regex),F)){E=F[0],A=Q.action;break}}if(F||(F=[""],E=""),A||(N<b&&(F=[g.charAt(N)],E=F[0]),A=this._lexer.defaultToken),E===null)break;for(N+=E.length;w.isFuzzyAction(A)&&w.isIAction(A)&&A.test;)A=A.test(E,F,W,N===b);let U=null;if(typeof A=="string"||Array.isArray(A))U=A;else if(A.group)U=A.group;else if(A.token!==null&&A.token!==void 0){if(A.tokenSubst?U=w.substituteMatches(this._lexer,A.token,E,F,W):U=A.token,A.nextEmbedded)if(A.nextEmbedded==="@pop"){if(!y)throw w.createError(this._lexer,"cannot pop embedded mode if not inside one");y=null}else{if(y)throw w.createError(this._lexer,"cannot enter embedded mode from within an embedded mode");z=w.substituteMatches(this._lexer,A.nextEmbedded,E,F,W)}if(A.goBack&&(N=Math.max(0,N-A.goBack)),A.switchTo&&typeof A.switchTo=="string"){let G=w.substituteMatches(this._lexer,A.switchTo,E,F,W);if(G[0]==="@"&&(G=G.substr(1)),w.findRules(this._lexer,G))L=L.switchTo(G);else throw w.createError(this._lexer,"trying to switch to a state '"+G+"' that is undefined in rule: "+this._safeRuleName(B))}else{if(A.transform&&typeof A.transform=="function")throw w.createError(this._lexer,"action.transform not supported");if(A.next)if(A.next==="@push"){if(L.depth>=this._lexer.maxStack)throw w.createError(this._lexer,"maximum tokenizer stack size reached: ["+L.state+","+L.parent.state+",...]");L=L.push(W)}else if(A.next==="@pop"){if(L.depth<=1)throw w.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(B));L=L.pop()}else if(A.next==="@popall")L=L.popall();else{let G=w.substituteMatches(this._lexer,A.next,E,F,W);if(G[0]==="@"&&(G=G.substr(1)),w.findRules(this._lexer,G))L=L.push(G);else throw w.createError(this._lexer,"trying to set a next state '"+G+"' that is undefined in rule: "+this._safeRuleName(B))}}A.log&&typeof A.log=="string"&&w.log(this._lexer,this._lexer.languageId+": "+w.substituteMatches(this._lexer,A.log,E,F,W))}if(U===null)throw w.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(B));const K=G=>{let J=this._modeService.getModeIdForLanguageName(G);J&&(G=J);const Q=this._getNestedEmbeddedModeData(G);if(N<b){const ae=s.substr(N);return this._nestedTokenize(ae,t,_.create(L,Q),h+N,f)}else return _.create(L,Q)};if(Array.isArray(U)){if(M&&M.groups.length>0)throw w.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(B));if(F.length!==U.length+1)throw w.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(B));let G=0;for(let J=1;J<F.length;J++)G+=F[J].length;if(G!==E.length)throw w.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(B));M={rule:B,matches:F,groups:[]};for(let J=0;J<U.length;J++)M.groups[J]={action:U[J],matched:F[J+1]};N-=E.length;continue}else{if(U==="@rematch"&&(N-=E.length,E="",F=null,U="",z!==null))return K(z);if(E.length===0){if(b===0||P!==L.depth||W!==L.state||(M?M.groups.length:0)!==O)continue;throw w.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(B))}let G=null;if(w.isString(U)&&U.indexOf("@brackets")===0){let J=U.substr("@brackets".length),Q=d(this._lexer,E);if(!Q)throw w.createError(this._lexer,"@brackets token returned but no bracket defined as: "+E);G=w.sanitize(Q.token+J)}else{let J=U===""?"":U+this._lexer.tokenPostfix;G=w.sanitize(J)}R<m&&f.emit(R+h,G)}if(z!==null)return K(z)}return _.create(L,y)}_getNestedEmbeddedModeData(s){let t=this._locateMode(s);if(t){let o=I.TokenizationRegistry.get(t);if(o)return new i(t,o.getInitialState())}return new i(t||k.NULL_MODE_ID,k.NULL_STATE)}_locateMode(s){if(!s||!this._modeService.isRegisteredMode(s))return null;if(s===this._modeId)return s;let t=this._modeService.getModeId(s);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}e.MonarchTokenizer=c;function d(n,s){if(!s)return null;s=w.fixCase(n,s);let t=n.brackets;for(const o of t){if(o.open===s)return{token:o.token,bracketType:1};if(o.close===s)return{token:o.token,bracketType:-1}}return null}function r(n,s,t,o){return new c(n,s,t,o)}e.createTokenizationSupport=r}),define(te[465],ie([0,1,15,8,106,18,125,64,195]),function($,e,v,I,k,w,S,p,C){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const _=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("standaloneColorizer",{createHTML:d=>d});class u{static colorizeElement(r,n,s,t){t=t||{};let o=t.theme||"vs",h=t.mimeType||s.getAttribute("lang")||s.getAttribute("data-lang");if(!h)return console.error("Mode not detected"),Promise.resolve();r.setTheme(o);let f=s.firstChild?s.firstChild.nodeValue:"";s.className+=" "+o;let m=g=>{var b;const y=(b=_==null?void 0:_.createHTML(g))!==null&&b!==void 0?b:g;s.innerHTML=y};return this.colorize(n,f||"",h,t).then(m,g=>console.error(g))}static colorize(r,n,s,t){let o=4;t&&typeof t.tabSize=="number"&&(o=t.tabSize),I.startsWithUTF8BOM(n)&&(n=n.substr(1));let h=I.splitLines(n),f=r.getModeId(s);if(!f)return Promise.resolve(l(h,o));r.triggerMode(f);const m=w.TokenizationRegistry.get(f);if(m)return a(h,o,m);const g=w.TokenizationRegistry.getPromise(f);return g?new Promise((b,y)=>{g.then(L=>{a(h,o,L).then(b,y)},y)}):new Promise((b,y)=>{let L=null,N=null;const M=()=>{L&&(L.dispose(),L=null),N&&(N.dispose(),N=null);const D=w.TokenizationRegistry.get(f);if(D){a(h,o,D).then(b,y);return}b(l(h,o))};N=new v.TimeoutTimer,N.cancelAndSet(M,500),L=w.TokenizationRegistry.onDidChange(D=>{D.changedLanguages.indexOf(f)>=0&&M()})})}static colorizeLine(r,n,s,t,o=4){const h=p.ViewLineRenderingData.isBasicASCII(r,n),f=p.ViewLineRenderingData.containsRTL(r,h,s);return(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,r,!1,h,f,0,t,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,n,s=4){let t=r.getLineContent(n);r.forceTokenization(n);let h=r.getLineTokens(n).inflate();return this.colorizeLine(t,r.mightContainNonBasicASCII(),r.mightContainRTL(),h,s)}}e.Colorizer=u;function a(d,r,n){return new Promise((s,t)=>{const o=()=>{const h=c(d,r,n);if(n instanceof C.MonarchTokenizer){const f=n.getLoadStatus();if(f.loaded===!1){f.promise.then(o,t);return}}s(h)};o()})}function l(d,r){let n=[];const s=(0<<11|1<<14|2<<23)>>>0,t=new Uint32Array(2);t[0]=0,t[1]=s;for(let o=0,h=d.length;o<h;o++){let f=d[o];t[0]=f.length;const m=new k.LineTokens(t,f),g=p.ViewLineRenderingData.isBasicASCII(f,!0),b=p.ViewLineRenderingData.containsRTL(f,g,!0);let y=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,f,!1,g,b,0,m,[],r,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(y.html),n.push("<br/>")}return n.join("")}function c(d,r,n){let s=[],t=n.getInitialState();for(let o=0,h=d.length;o<h;o++){let f=d[o],m=n.tokenize2(f,!0,t,0);k.LineTokens.convertToEndOffset(m.tokens,f.length);let g=new k.LineTokens(m.tokens,f);const b=p.ViewLineRenderingData.isBasicASCII(f,!0),y=p.ViewLineRenderingData.containsRTL(f,b,!0);let L=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,f,!1,b,y,0,g.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));s=s.concat(L.html),s.push("<br/>"),t=m.endState}return s.join("")}}),define(te[110],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,v.createDecorator)("themeService")}),define(te[87],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,v.createDecorator)("clipboardService")}),define(te[26],ie([0,1,2,20,9,6,77,56]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,k.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new w.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(C,i){if(!C)throw new Error("invalid command");if(typeof C=="string"){if(!i)throw new Error("invalid command");return this.registerCommand({id:C,handler:i})}if(C.description){const c=[];for(let r of C.description.args)c.push(r.constraint);const d=C.handler;C.handler=function(r,...n){return(0,I.validateConstraints)(n,c),d(r,...n)}}const{id:_}=C;let u=this._commands.get(_);u||(u=new S.LinkedList,this._commands.set(_,u));let a=u.unshift(C),l=(0,v.toDisposable)(()=>{a();const c=this._commands.get(_);(c==null?void 0:c.isEmpty())&&this._commands.delete(_)});return this._onDidRegisterCommand.fire(_),l}registerCommandAlias(C,i){return e.CommandsRegistry.registerCommand(C,(_,...u)=>_.get(e.ICommandService).executeCommand(i,...u))}getCommand(C){const i=this._commands.get(C);if(!(!i||i.isEmpty()))return p.Iterable.first(i)}getCommands(){const C=new Map;for(const i of this._commands.keys()){const _=this.getCommand(i);_&&C.set(i,_)}return C}}}),define(te[234],ie([0,1,24,11,23,18,37,26,20,529,3]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function u(r){return r&&!!r.data}e.isSemanticTokens=u;function a(r){return r&&Array.isArray(r.edits)}e.isSemanticTokensEdits=a;function l(r,n,s){const t=c(r);return t?{provider:t,request:Promise.resolve(t.provideDocumentSemanticTokens(r,n,s))}:null}e.getDocumentSemanticTokens=l;function c(r){const n=w.DocumentSemanticTokensProviderRegistry.ordered(r);return n.length>0?n[0]:null}function d(r){const n=w.DocumentRangeSemanticTokensProviderRegistry.ordered(r);return n.length>0?n[0]:null}e.getDocumentRangeSemanticTokensProvider=d,p.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(r,...n)=>De(void 0,void 0,void 0,function*(){const[s]=n;(0,C.assertType)(s instanceof k.URI);const t=r.get(S.IModelService).getModel(s);if(!!t){const o=c(t);return o?o.getLegend():r.get(p.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",s)}})),p.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(r,...n)=>De(void 0,void 0,void 0,function*(){const[s]=n;(0,C.assertType)(s instanceof k.URI);const t=r.get(S.IModelService).getModel(s);if(!!t){const o=l(t,null,v.CancellationToken.None);if(!o)return r.get(p.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",s,t.getFullModelRange());const{provider:h,request:f}=o;let m;try{m=yield f}catch(b){(0,I.onUnexpectedExternalError)(b);return}if(!(!m||!u(m))){const g=(0,i.encodeSemanticTokensDto)({id:0,type:"full",data:m.data});return m.resultId&&h.releaseDocumentSemanticTokens(m.resultId),g}}})),p.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(r,...n)=>De(void 0,void 0,void 0,function*(){const[s]=n;(0,C.assertType)(s instanceof k.URI);const t=r.get(S.IModelService).getModel(s);if(!!t){const o=d(t);if(!!o)return o.getLegend()}})),p.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(r,...n)=>De(void 0,void 0,void 0,function*(){const[s,t]=n;(0,C.assertType)(s instanceof k.URI),(0,C.assertType)(_.Range.isIRange(t));const o=r.get(S.IModelService).getModel(s);if(!!o){const h=d(o);if(!!h){let f;try{f=yield h.provideDocumentRangeSemanticTokens(o,_.Range.lift(t),v.CancellationToken.None)}catch(m){(0,I.onUnexpectedExternalError)(m);return}if(!(!f||!u(f)))return(0,i.encodeSemanticTokensDto)({id:0,type:"full",data:f.data})}}}))}),define(te[196],ie([0,1,24,11,23,18,37,2,26,20]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class _{constructor(){this.lenses=[],this._disposables=new p.DisposableStore}dispose(){this._disposables.dispose()}add(l,c){this._disposables.add(l);for(const d of l.lenses)this.lenses.push({symbol:d,provider:c})}}e.CodeLensModel=_;function u(a,l){return De(this,void 0,void 0,function*(){const c=w.CodeLensProviderRegistry.ordered(a),d=new Map,r=new _,n=c.map((s,t)=>De(this,void 0,void 0,function*(){d.set(s,t);try{const o=yield Promise.resolve(s.provideCodeLenses(a,l));o&&r.add(o,s)}catch(o){(0,I.onUnexpectedExternalError)(o)}}));return yield Promise.all(n),r.lenses=r.lenses.sort((s,t)=>s.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:s.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:d.get(s.provider)<d.get(t.provider)?-1:d.get(s.provider)>d.get(t.provider)?1:s.symbol.range.startColumn<t.symbol.range.startColumn?-1:s.symbol.range.startColumn>t.symbol.range.startColumn?1:0),r})}e.getCodeLensModel=u,C.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(a,...l){let[c,d]=l;(0,i.assertType)(k.URI.isUri(c)),(0,i.assertType)(typeof d=="number"||!d);const r=a.get(S.IModelService).getModel(c);if(!r)throw(0,I.illegalArgument)();const n=[],s=new p.DisposableStore;return u(r,v.CancellationToken.None).then(t=>{s.add(t);let o=[];for(const h of t.lenses)d==null||Boolean(h.symbol.command)?n.push(h.symbol):d-- >0&&h.provider.resolveCodeLens&&o.push(Promise.resolve(h.provider.resolveCodeLens(r,h.symbol,v.CancellationToken.None)).then(f=>n.push(f||h.symbol)));return Promise.all(o)}).then(()=>n).finally(()=>{setTimeout(()=>s.dispose(),100)})})}),define(te[197],ie([0,1,24,11,23,3,18,37,26]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function i(u,a){const l=[],d=S.ColorProviderRegistry.ordered(u).reverse().map(r=>Promise.resolve(r.provideDocumentColors(u,a)).then(n=>{if(Array.isArray(n))for(let s of n)l.push({colorInfo:s,provider:r})}));return Promise.all(d).then(()=>l)}e.getColors=i;function _(u,a,l,c){return Promise.resolve(l.provideColorPresentations(u,a,c))}e.getColorPresentations=_,C.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(u,...a){const[l]=a;if(!(l instanceof k.URI))throw(0,I.illegalArgument)();const c=u.get(p.IModelService).getModel(l);if(!c)throw(0,I.illegalArgument)();const d=[],n=S.ColorProviderRegistry.ordered(c).reverse().map(s=>Promise.resolve(s.provideDocumentColors(c,v.CancellationToken.None)).then(t=>{if(Array.isArray(t))for(let o of t)d.push({range:o.range,color:[o.color.red,o.color.green,o.color.blue,o.color.alpha]})}));return Promise.all(n).then(()=>d)}),C.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(u,...a){const[l,c]=a,{uri:d,range:r}=c;if(!(d instanceof k.URI)||!Array.isArray(l)||l.length!==4||!w.Range.isIRange(r))throw(0,I.illegalArgument)();const[n,s,t,o]=l,h=u.get(p.IModelService).getModel(d);if(!h)throw(0,I.illegalArgument)();const f={range:r,color:{red:n,green:s,blue:t,alpha:o}},m=[],b=S.ColorProviderRegistry.ordered(h).reverse().map(y=>Promise.resolve(y.provideColorPresentations(h,f,v.CancellationToken.None)).then(L=>{Array.isArray(L)&&m.push(...L)}));return Promise.all(b).then(()=>m)})}),define(te[472],ie([0,1,23,37,24,66,198,26,20]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=void 0;function i(_,u,a){return De(this,void 0,void 0,function*(){const l=yield S.OutlineModel.create(_,a);return u?l.asListOfDocumentSymbols():l.getTopLevelSymbols()})}e.getDocumentSymbols=i,p.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(_,...u){return De(this,void 0,void 0,function*(){const[a]=u;(0,C.assertType)(v.URI.isUri(a));const l=_.get(I.IModelService).getModel(a);if(l)return i(l,!1,k.CancellationToken.None);const c=yield _.get(w.ITextModelService).createModelReference(a);try{return yield i(c.object.textEditorModel,!1,k.CancellationToken.None)}finally{c.dispose()}})})}),define(te[473],ie([0,1,24,11,23,3,18,37,26,2,19,20]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class a{constructor(r,n){this._link=r,this._provider=n}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(r){return De(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,r)).then(n=>(this._link=n||this._link,this._link.url?this.resolve(r):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=a;class l{constructor(r){this._disposables=new i.DisposableStore;let n=[];for(const[s,t]of r){const o=s.links.map(h=>new a(h,t));n=l._union(n,o),(0,i.isDisposable)(s)&&this._disposables.add(s)}this.links=n}dispose(){this._disposables.dispose(),this.links.length=0}static _union(r,n){let s=[],t,o,h,f;for(t=0,h=0,o=r.length,f=n.length;t<o&&h<f;){const m=r[t],g=n[h];if(w.Range.areIntersectingOrTouching(m.range,g.range)){t++;continue}w.Range.compareRangesUsingStarts(m.range,g.range)<0?(s.push(m),t++):(s.push(g),h++)}for(;t<o;t++)s.push(r[t]);for(;h<f;h++)s.push(n[h]);return s}}e.LinksList=l;function c(d,r){const n=[],s=S.LinkProviderRegistry.ordered(d).reverse().map((t,o)=>Promise.resolve(t.provideLinks(d,r)).then(h=>{h&&(n[o]=[h,t])},I.onUnexpectedExternalError));return Promise.all(s).then(()=>{const t=new l((0,_.coalesce)(n));return r.isCancellationRequested?(t.dispose(),new l([])):t})}e.getLinks=c,C.CommandsRegistry.registerCommand("_executeLinkProvider",(d,...r)=>De(void 0,void 0,void 0,function*(){let[n,s]=r;(0,u.assertType)(n instanceof k.URI),typeof s!="number"&&(s=0);const t=d.get(p.IModelService).getModel(n);if(!t)return[];const o=yield c(t,v.CancellationToken.None);if(!o)return[];for(let f=0;f<Math.min(s,o.links.length);f++)yield o.links[f].resolve(v.CancellationToken.None);const h=o.links.slice(0);return o.dispose(),h}))}),define(te[16],ie([0,1,8,9,17]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=void 0;let w=k.userAgent||"";const S=new Map;S.set("false",!1),S.set("true",!0),S.set("isMac",k.isMacintosh),S.set("isLinux",k.isLinux),S.set("isWindows",k.isWindows),S.set("isWeb",k.isWeb),S.set("isMacNative",k.isMacintosh&&!k.isWeb),S.set("isEdge",w.indexOf("Edg/")>=0),S.set("isFirefox",w.indexOf("Firefox")>=0),S.set("isChrome",w.indexOf("Chrome")>=0),S.set("isSafari",w.indexOf("Safari")>=0),S.set("isIPad",w.indexOf("iPad")>=0);const p=Object.prototype.hasOwnProperty;class C{static has(D){return a.create(D)}static equals(D,R){return l.create(D,R)}static regex(D,R){return f.create(D,R)}static not(D){return n.create(D)}static and(...D){return g.create(D)}static or(...D){return b.create(D)}static deserialize(D,R=!1){if(!!D)return this._deserializeOrExpression(D,R)}static _deserializeOrExpression(D,R){let P=D.split("||");return b.create(P.map(O=>this._deserializeAndExpression(O,R)))}static _deserializeAndExpression(D,R){let P=D.split("&&");return g.create(P.map(O=>this._deserializeOne(O,R)))}static _deserializeOne(D,R){if(D=D.trim(),D.indexOf("!=")>=0){let P=D.split("!=");return r.create(P[0].trim(),this._deserializeValue(P[1],R))}if(D.indexOf("==")>=0){let P=D.split("==");return l.create(P[0].trim(),this._deserializeValue(P[1],R))}if(D.indexOf("=~")>=0){let P=D.split("=~");return f.create(P[0].trim(),this._deserializeRegexValue(P[1],R))}if(D.indexOf(" in ")>=0){let P=D.split(" in ");return c.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(D)){const P=D.split(">=");return t.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(D)){const P=D.split(">");return s.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(D)){const P=D.split("<=");return h.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(D)){const P=D.split("<");return o.create(P[0].trim(),P[1].trim())}return/^\!\s*/.test(D)?n.create(D.substr(1).trim()):a.create(D)}static _deserializeValue(D,R){if(D=D.trim(),D==="true")return!0;if(D==="false")return!1;let P=/^'([^']*)'$/.exec(D);return P?P[1].trim():D}static _deserializeRegexValue(D,R){if((0,v.isFalsyOrWhitespace)(D)){if(R)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let P=D.indexOf("/"),O=D.lastIndexOf("/");if(P===O||P<0){if(R)throw new Error(`bad regexp-value '${D}', missing /-enclosure`);return console.warn(`bad regexp-value '${D}', missing /-enclosure`),null}let W=D.slice(P+1,O),F=D[O+1]==="i"?"i":"";try{return new RegExp(W,F)}catch(E){if(R)throw new Error(`bad regexp-value '${D}', parse error: ${E}`);return console.warn(`bad regexp-value '${D}', parse error: ${E}`),null}}}e.ContextKeyExpr=C;function i(M,D){return M.cmp(D)}class _{constructor(){this.type=0}cmp(D){return this.type-D.type}equals(D){return D.type===this.type}evaluate(D){return!1}serialize(){return"false"}keys(){return[]}negate(){return u.INSTANCE}}e.ContextKeyFalseExpr=_,_.INSTANCE=new _;class u{constructor(){this.type=1}cmp(D){return this.type-D.type}equals(D){return D.type===this.type}evaluate(D){return!0}serialize(){return"true"}keys(){return[]}negate(){return _.INSTANCE}}e.ContextKeyTrueExpr=u,u.INSTANCE=new u;class a{constructor(D){this.key=D,this.type=2}static create(D){const R=S.get(D);return typeof R=="boolean"?R?u.INSTANCE:_.INSTANCE:new a(D)}cmp(D){return D.type!==this.type?this.type-D.type:L(this.key,D.key)}equals(D){return D.type===this.type?this.key===D.key:!1}evaluate(D){return!!D.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return n.create(this.key)}}e.ContextKeyDefinedExpr=a;class l{constructor(D,R){this.key=D,this.value=R,this.type=4}static create(D,R){if(typeof R=="boolean")return R?a.create(D):n.create(D);const P=S.get(D);return typeof P=="boolean"?R===(P?"true":"false")?u.INSTANCE:_.INSTANCE:new l(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return D.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return r.create(this.key,this.value)}}e.ContextKeyEqualsExpr=l;class c{constructor(D,R){this.key=D,this.valueKey=R,this.type=10}static create(D,R){return new c(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.valueKey,D.key,D.valueKey)}equals(D){return D.type===this.type?this.key===D.key&&this.valueKey===D.valueKey:!1}evaluate(D){const R=D.getValue(this.valueKey),P=D.getValue(this.key);return Array.isArray(R)?R.indexOf(P)>=0:typeof P=="string"&&typeof R=="object"&&R!==null?p.call(R,P):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return d.create(this)}}e.ContextKeyInExpr=c;class d{constructor(D){this._actual=D,this.type=11}static create(D){return new d(D)}cmp(D){return D.type!==this.type?this.type-D.type:this._actual.cmp(D._actual)}equals(D){return D.type===this.type?this._actual.equals(D._actual):!1}evaluate(D){return!this._actual.evaluate(D)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=d;class r{constructor(D,R){this.key=D,this.value=R,this.type=5}static create(D,R){if(typeof R=="boolean")return R?n.create(D):a.create(D);const P=S.get(D);return typeof P=="boolean"?R===(P?"true":"false")?_.INSTANCE:u.INSTANCE:new r(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return D.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return l.create(this.key,this.value)}}e.ContextKeyNotEqualsExpr=r;class n{constructor(D){this.key=D,this.type=3}static create(D){const R=S.get(D);return typeof R=="boolean"?R?_.INSTANCE:u.INSTANCE:new n(D)}cmp(D){return D.type!==this.type?this.type-D.type:L(this.key,D.key)}equals(D){return D.type===this.type?this.key===D.key:!1}evaluate(D){return!D.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return a.create(this.key)}}e.ContextKeyNotExpr=n;class s{constructor(D,R){this.key=D,this.value=R,this.type=12}static create(D,R){return new s(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return parseFloat(D.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return h.create(this.key,this.value)}}e.ContextKeyGreaterExpr=s;class t{constructor(D,R){this.key=D,this.value=R,this.type=13}static create(D,R){return new t(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return parseFloat(D.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return o.create(this.key,this.value)}}e.ContextKeyGreaterEqualsExpr=t;class o{constructor(D,R){this.key=D,this.value=R,this.type=14}static create(D,R){return new o(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return parseFloat(D.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return t.create(this.key,this.value)}}e.ContextKeySmallerExpr=o;class h{constructor(D,R){this.key=D,this.value=R,this.type=15}static create(D,R){return new h(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return parseFloat(D.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return s.create(this.key,this.value)}}e.ContextKeySmallerEqualsExpr=h;class f{constructor(D,R){this.key=D,this.regexp=R,this.type=7}static create(D,R){return new f(D,R)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.key<D.key)return-1;if(this.key>D.key)return 1;const R=this.regexp?this.regexp.source:"",P=D.regexp?D.regexp.source:"";return R<P?-1:R>P?1:0}equals(D){if(D.type===this.type){const R=this.regexp?this.regexp.source:"",P=D.regexp?D.regexp.source:"";return this.key===D.key&&R===P}return!1}evaluate(D){let R=D.getValue(this.key);return this.regexp?this.regexp.test(R):!1}serialize(){const D=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${D}`}keys(){return[this.key]}negate(){return m.create(this)}}e.ContextKeyRegexExpr=f;class m{constructor(D){this._actual=D,this.type=8}static create(D){return new m(D)}cmp(D){return D.type!==this.type?this.type-D.type:this._actual.cmp(D._actual)}equals(D){return D.type===this.type?this._actual.equals(D._actual):!1}evaluate(D){return!this._actual.evaluate(D)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=m;class g{constructor(D){this.expr=D,this.type=6}static create(D){return g._normalizeArr(D)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.expr.length<D.expr.length)return-1;if(this.expr.length>D.expr.length)return 1;for(let R=0,P=this.expr.length;R<P;R++){const O=i(this.expr[R],D.expr[R]);if(O!==0)return O}return 0}equals(D){if(D.type===this.type){if(this.expr.length!==D.expr.length)return!1;for(let R=0,P=this.expr.length;R<P;R++)if(!this.expr[R].equals(D.expr[R]))return!1;return!0}return!1}evaluate(D){for(let R=0,P=this.expr.length;R<P;R++)if(!this.expr[R].evaluate(D))return!1;return!0}static _normalizeArr(D){const R=[];let P=!1;for(const O of D)if(!!O){if(O.type===1){P=!0;continue}if(O.type===0)return _.INSTANCE;if(O.type===6){R.push(...O.expr);continue}R.push(O)}if(R.length===0&&P)return u.INSTANCE;if(R.length!==0){if(R.length===1)return R[0];for(R.sort(i);R.length>1;){const O=R[R.length-1];if(O.type!==9)break;R.pop();const W=R.pop(),F=b.create(O.expr.map(E=>g.create([E,W])));F&&(R.push(F),R.sort(i))}return R.length===1?R[0]:new g(R)}}serialize(){return this.expr.map(D=>D.serialize()).join(" && ")}keys(){const D=[];for(let R of this.expr)D.push(...R.keys());return D}negate(){let D=[];for(let R of this.expr)D.push(R.negate());return b.create(D)}}e.ContextKeyAndExpr=g;class b{constructor(D){this.expr=D,this.type=9}static create(D){const R=b._normalizeArr(D);if(R.length!==0)return R.length===1?R[0]:new b(R)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.expr.length<D.expr.length)return-1;if(this.expr.length>D.expr.length)return 1;for(let R=0,P=this.expr.length;R<P;R++){const O=i(this.expr[R],D.expr[R]);if(O!==0)return O}return 0}equals(D){if(D.type===this.type){if(this.expr.length!==D.expr.length)return!1;for(let R=0,P=this.expr.length;R<P;R++)if(!this.expr[R].equals(D.expr[R]))return!1;return!0}return!1}evaluate(D){for(let R=0,P=this.expr.length;R<P;R++)if(this.expr[R].evaluate(D))return!0;return!1}static _normalizeArr(D){let R=[],P=!1;if(D){for(let O=0,W=D.length;O<W;O++){const F=D[O];if(!!F){if(F.type===0){P=!0;continue}if(F.type===1)return[u.INSTANCE];if(F.type===9){R=R.concat(F.expr);continue}R.push(F)}}if(R.length===0&&P)return[_.INSTANCE];R.sort(i)}return R}serialize(){return this.expr.map(D=>D.serialize()).join(" || ")}keys(){const D=[];for(let R of this.expr)D.push(...R.keys());return D}negate(){let D=[];for(let P of this.expr)D.push(P.negate());const R=P=>P.type===9?P.expr:[P];for(;D.length>1;){const P=D.shift(),O=D.shift(),W=[];for(const F of R(P))for(const E of R(O))W.push(C.and(F,E));D.unshift(C.or(...W))}return D[0]}}e.ContextKeyOrExpr=b;class y extends a{constructor(D,R,P){super(D);this._defaultValue=R,typeof P=="object"?y._info.push(Object.assign(Object.assign({},P),{key:D})):P!==!0&&y._info.push({key:D,description:P,type:R!=null?typeof R:void 0})}static all(){return y._info.values()}bindTo(D){return D.createKey(this.key,this._defaultValue)}getValue(D){return D.getContextKeyValue(this.key)}toNegated(){return C.not(this.key)}isEqualTo(D){return C.equals(this.key,D)}}e.RawContextKey=y,y._info=[],e.IContextKeyService=(0,I.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function L(M,D){return M<D?-1:M>D?1:0}function N(M,D,R,P){return M<R?-1:M>R?1:D<P?-1:D>P?1:0}}),define(te[25],ie([0,1,340,16]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var k;(function(w){w.editorSimpleInput=new I.RawContextKey("editorSimpleInput",!1,!0),w.editorTextFocus=new I.RawContextKey("editorTextFocus",!1,v.localize(0,null)),w.focus=new I.RawContextKey("editorFocus",!1,v.localize(1,null)),w.textInputFocus=new I.RawContextKey("textInputFocus",!1,v.localize(2,null)),w.readOnly=new I.RawContextKey("editorReadonly",!1,v.localize(3,null)),w.inDiffEditor=new I.RawContextKey("inDiffEditor",!1,v.localize(4,null)),w.columnSelection=new I.RawContextKey("editorColumnSelection",!1,v.localize(5,null)),w.writable=w.readOnly.toNegated(),w.hasNonEmptySelection=new I.RawContextKey("editorHasSelection",!1,v.localize(6,null)),w.hasOnlyEmptySelection=w.hasNonEmptySelection.toNegated(),w.hasMultipleSelections=new I.RawContextKey("editorHasMultipleSelections",!1,v.localize(7,null)),w.hasSingleSelection=w.hasMultipleSelections.toNegated(),w.tabMovesFocus=new I.RawContextKey("editorTabMovesFocus",!1,v.localize(8,null)),w.tabDoesNotMoveFocus=w.tabMovesFocus.toNegated(),w.isInWalkThroughSnippet=new I.RawContextKey("isInEmbeddedEditor",!1,!0),w.canUndo=new I.RawContextKey("canUndo",!1,!0),w.canRedo=new I.RawContextKey("canRedo",!1,!0),w.hoverVisible=new I.RawContextKey("editorHoverVisible",!1,v.localize(9,null)),w.inCompositeEditor=new I.RawContextKey("inCompositeEditor",void 0,v.localize(10,null)),w.notInCompositeEditor=w.inCompositeEditor.toNegated(),w.languageId=new I.RawContextKey("editorLangId","",v.localize(11,null)),w.hasCompletionItemProvider=new I.RawContextKey("editorHasCompletionItemProvider",!1,v.localize(12,null)),w.hasCodeActionsProvider=new I.RawContextKey("editorHasCodeActionsProvider",!1,v.localize(13,null)),w.hasCodeLensProvider=new I.RawContextKey("editorHasCodeLensProvider",!1,v.localize(14,null)),w.hasDefinitionProvider=new I.RawContextKey("editorHasDefinitionProvider",!1,v.localize(15,null)),w.hasDeclarationProvider=new I.RawContextKey("editorHasDeclarationProvider",!1,v.localize(16,null)),w.hasImplementationProvider=new I.RawContextKey("editorHasImplementationProvider",!1,v.localize(17,null)),w.hasTypeDefinitionProvider=new I.RawContextKey("editorHasTypeDefinitionProvider",!1,v.localize(18,null)),w.hasHoverProvider=new I.RawContextKey("editorHasHoverProvider",!1,v.localize(19,null)),w.hasDocumentHighlightProvider=new I.RawContextKey("editorHasDocumentHighlightProvider",!1,v.localize(20,null)),w.hasDocumentSymbolProvider=new I.RawContextKey("editorHasDocumentSymbolProvider",!1,v.localize(21,null)),w.hasReferenceProvider=new I.RawContextKey("editorHasReferenceProvider",!1,v.localize(22,null)),w.hasRenameProvider=new I.RawContextKey("editorHasRenameProvider",!1,v.localize(23,null)),w.hasSignatureHelpProvider=new I.RawContextKey("editorHasSignatureHelpProvider",!1,v.localize(24,null)),w.hasInlineHintsProvider=new I.RawContextKey("editorHasInlineHintsProvider",!1,v.localize(25,null)),w.hasDocumentFormattingProvider=new I.RawContextKey("editorHasDocumentFormattingProvider",!1,v.localize(26,null)),w.hasDocumentSelectionFormattingProvider=new I.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,v.localize(27,null)),w.hasMultipleDocumentFormattingProvider=new I.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,v.localize(28,null)),w.hasMultipleDocumentSelectionFormattingProvider=new I.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,v.localize(29,null))})(k=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(te[186],ie([0,1,11,14,18,16,24,26,23,20,66]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new w.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new w.RawContextKey("parameterHintsMultipleSignatures",!1)};function u(a,l,c,d){return De(this,void 0,void 0,function*(){const r=k.SignatureHelpProviderRegistry.ordered(a);for(const n of r)try{const s=yield n.provideSignatureHelp(a,l,d,c);if(s)return s}catch(s){(0,v.onUnexpectedExternalError)(s)}})}e.provideSignatureHelp=u,p.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(a,...l)=>De(void 0,void 0,void 0,function*(){const[c,d,r]=l;(0,i.assertType)(C.URI.isUri(c)),(0,i.assertType)(I.Position.isIPosition(d)),(0,i.assertType)(typeof r=="string"||!r);const n=yield a.get(_.ITextModelService).createModelReference(c);try{const s=yield u(n.object.textEditorModel,I.Position.lift(d),{triggerKind:k.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:r},S.CancellationToken.None);return s?(setTimeout(()=>s.dispose(),0),s.value):void 0}finally{n.dispose()}}))}),define(te[477],ie([0,1,15,11,6,2,93,18,186]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var i;(function(a){a.Default={type:0};class l{constructor(r,n){this.request=r,this.previouslyActiveHints=n,this.type=2}}a.Pending=l;class c{constructor(r){this.hints=r,this.type=1}}a.Active=c})(i||(i={}));class _ extends w.Disposable{constructor(l,c=_.DEFAULT_DELAY){super();this._onChangedHints=this._register(new k.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=i.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new w.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=l,this.throttledDelayer=new v.Delayer(c),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(d=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(d=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(d=>this.onCursorChange(d))),this._register(this.editor.onDidChangeModelContent(d=>this.onModelContentChange())),this._register(p.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(d=>this.onDidType(d))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(l){this._state.type===2&&this._state.request.cancel(),this._state=l}cancel(l=!1){this.state=i.Default,this.throttledDelayer.cancel(),l||this._onChangedHints.fire(void 0)}trigger(l,c){const d=this.editor.getModel();if(!(!d||!p.SignatureHelpProviderRegistry.has(d))){const r=++this.triggerId;this._pendingTriggers.push(l),this.throttledDelayer.trigger(()=>this.doTrigger(r),c).catch(I.onUnexpectedError)}}next(){if(this.state.type===1){const l=this.state.hints.signatures.length,c=this.state.hints.activeSignature,d=c%l==l-1,r=this.editor.getOption(72).cycle;if((l<2||d)&&!r){this.cancel();return}this.updateActiveSignature(d&&r?0:c+1)}}previous(){if(this.state.type===1){const l=this.state.hints.signatures.length,c=this.state.hints.activeSignature,d=c===0,r=this.editor.getOption(72).cycle;if((l<2||d)&&!r){this.cancel();return}this.updateActiveSignature(d&&r?l-1:c-1)}}updateActiveSignature(l){this.state.type===1&&(this.state=new i.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:l})),this._onChangedHints.fire(this.state.hints))}doTrigger(l){return De(this,void 0,void 0,function*(){const c=this.state.type===1||this.state.type===2,d=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const r=this._pendingTriggers.reduce(u);this._pendingTriggers=[];const n={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:c,activeSignatureHelp:d};if(!this.editor.hasModel())return!1;const s=this.editor.getModel(),t=this.editor.getPosition();this.state=new i.Pending((0,v.createCancelablePromise)(o=>(0,C.provideSignatureHelp)(s,t,n,o)),d);try{const o=yield this.state.request;return l!==this.triggerId?(o==null||o.dispose(),!1):!o||!o.value.signatures||o.value.signatures.length===0?(o==null||o.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new i.Active(o.value),this._lastSignatureHelpResult.value=o,this._onChangedHints.fire(this.state.hints),!0)}catch(o){return l===this.triggerId&&(this.state=i.Default),(0,I.onUnexpectedError)(o),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet;const l=this.editor.getModel();if(!!l)for(const c of p.SignatureHelpProviderRegistry.ordered(l)){for(const d of c.signatureHelpTriggerCharacters||[])this.triggerChars.add(d.charCodeAt(0)),this.retriggerChars.add(d.charCodeAt(0));for(const d of c.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(d.charCodeAt(0))}}onDidType(l){if(!!this.triggerOnType){const c=l.length-1,d=l.charCodeAt(c);(this.triggerChars.has(d)||this.isTriggered&&this.retriggerChars.has(d))&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:l.charAt(c)})}}onCursorChange(l){l.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(72).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=_,_.DEFAULT_DELAY=120;function u(a,l){switch(l.triggerKind){case p.SignatureHelpTriggerKind.Invoke:return l;case p.SignatureHelpTriggerKind.ContentChange:return a;case p.SignatureHelpTriggerKind.TriggerCharacter:default:return l}}});var _e=this&&this.__param||function($,e){return function(v,I){e(v,I,$)}};define(te[478],ie([0,1,16]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let I=class at{constructor(w,S){this._editor=w,this._index=0,this._ckOtherSuggestions=at.OtherSuggestions.bindTo(S)}dispose(){this.reset()}reset(){var w;this._ckOtherSuggestions.reset(),(w=this._listener)===null||w===void 0||w.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:w,index:S},p){if(w.items.length===0){this.reset();return}if(at._moveIndex(!0,w,S)===S){this.reset();return}this._acceptNext=p,this._model=w,this._index=S,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(w,S,p){let C=p;for(;C=(C+S.items.length+(w?1:-1))%S.items.length,!(C===p||!S.items[C].completion.additionalTextEdits););return C}next(){this._move(!0)}prev(){this._move(!1)}_move(w){if(!!this._model)try{this._ignore=!0,this._index=at._moveIndex(w,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};I.OtherSuggestions=new v.RawContextKey("hasOtherSuggestions",!1),I=Me([_e(1,v.IContextKeyService)],I),e.SuggestAlternatives=I}),define(te[479],ie([0,1,16]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let I=class Mt{constructor(w,S){this._editor=w,this._enabled=!1,this._ckAtEnd=Mt.AtEnd.bindTo(S),this._configListener=this._editor.onDidChangeConfiguration(p=>p.hasChanged(108)&&this._update()),this._update()}dispose(){var w;this._configListener.dispose(),(w=this._selectionListener)===null||w===void 0||w.dispose(),this._ckAtEnd.reset()}_update(){const w=this._editor.getOption(108)==="on";if(this._enabled!==w)if(this._enabled=w,this._enabled){const S=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const p=this._editor.getModel(),C=this._editor.getSelection(),i=p.getWordAtPosition(C.getStartPosition());if(!i){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(i.endColumn===C.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(S),S()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};I.AtEnd=new v.RawContextKey("atEndOfWord",!1),I=Me([_e(1,v.IContextKeyService)],I),e.WordContextKey=I}),define(te[65],ie([0,1,9,16]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,v.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new I.RawContextKey("accessibilityModeEnabled",!1)}),define(te[202],ie([0,1,410,16,17]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContextKey=e.IsWindowsContext=void 0,e.IsWindowsContext=new I.RawContextKey("isWindows",k.isWindows,(0,v.localize)(0,null)),e.InputFocusedContextKey="inputFocus"}),define(te[67],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,v.createDecorator)("contextViewService"),e.IContextMenuService=(0,v.createDecorator)("contextMenuService")}),define(te[179],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,v.createDecorator)("dialogService")}),define(te[136],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class v{constructor(...k){this._entries=new Map;for(let[w,S]of k)this.set(w,S)}set(k,w){const S=this._entries.get(k);return this._entries.set(k,w),S}has(k){return this._entries.has(k)}get(k){return this._entries.get(k)}}e.ServiceCollection=v}),define(te[485],ie([0,1,11,425,206,9,136,15]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const C=!1;class i extends Error{constructor(l){var c;super("cyclic dependency between services");this.message=(c=l.findCycleSlow())!==null&&c!==void 0?c:`UNABLE to detect cycle, dumping graph: 
${l.toString()}`}}class _{constructor(l=new S.ServiceCollection,c=!1,d){this._activeInstantiations=new Set,this._services=l,this._strict=c,this._parent=d,this._services.set(w.IInstantiationService,this)}createChild(l){return new _(l,this._strict,this)}invokeFunction(l,...c){let d=u.traceInvocation(l),r=!1;try{return l({get:(s,t)=>{if(r)throw(0,v.illegalState)("service accessor is only valid during the invocation of its target method");const o=this._getOrCreateServiceInstance(s,d);if(!o&&t!==w.optional)throw new Error(`[invokeFunction] unknown service '${s}'`);return o}},...c)}finally{r=!0,d.stop()}}createInstance(l,...c){let d,r;return l instanceof k.SyncDescriptor?(d=u.traceCreation(l.ctor),r=this._createInstance(l.ctor,l.staticArguments.concat(c),d)):(d=u.traceCreation(l),r=this._createInstance(l,c,d)),d.stop(),r}_createInstance(l,c=[],d){let r=w._util.getServiceDependencies(l).sort((t,o)=>t.index-o.index),n=[];for(const t of r){let o=this._getOrCreateServiceInstance(t.id,d);if(!o&&this._strict&&!t.optional)throw new Error(`[createInstance] ${l.name} depends on UNKNOWN service ${t.id}.`);n.push(o)}let s=r.length>0?r[0].index:c.length;if(c.length!==s){console.warn(`[createInstance] First service dependency of ${l.name} at position ${s+1} conflicts with ${c.length} static arguments`);let t=s-c.length;t>0?c=c.concat(new Array(t)):c=c.slice(0,s)}return new l(...[...c,...n])}_setServiceInstance(l,c){if(this._services.get(l)instanceof k.SyncDescriptor)this._services.set(l,c);else if(this._parent)this._parent._setServiceInstance(l,c);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(l){let c=this._services.get(l);return!c&&this._parent?this._parent._getServiceInstanceOrDescriptor(l):c}_getOrCreateServiceInstance(l,c){let d=this._getServiceInstanceOrDescriptor(l);return d instanceof k.SyncDescriptor?this._safeCreateAndCacheServiceInstance(l,d,c.branch(l,!0)):(c.branch(l,!1),d)}_safeCreateAndCacheServiceInstance(l,c,d){if(this._activeInstantiations.has(l))throw new Error(`illegal state - RECURSIVELY instantiating service '${l}'`);this._activeInstantiations.add(l);try{return this._createAndCacheServiceInstance(l,c,d)}finally{this._activeInstantiations.delete(l)}}_createAndCacheServiceInstance(l,c,d){const r=new I.Graph(t=>t.id.toString());let n=0;const s=[{id:l,desc:c,_trace:d}];for(;s.length;){const t=s.pop();if(r.lookupOrInsertNode(t),n++>1e3)throw new i(r);for(let o of w._util.getServiceDependencies(t.desc.ctor)){let h=this._getServiceInstanceOrDescriptor(o.id);if(!h&&!o.optional&&console.warn(`[createInstance] ${l} depends on ${o.id} which is NOT registered.`),h instanceof k.SyncDescriptor){const f={id:o.id,desc:h,_trace:t._trace.branch(o.id,!0)};r.insertEdge(t,f),s.push(f)}}}for(;;){const t=r.roots();if(t.length===0){if(!r.isEmpty())throw new i(r);break}for(const{data:o}of t){if(this._getServiceInstanceOrDescriptor(o.id)instanceof k.SyncDescriptor){const f=this._createServiceInstanceWithOwner(o.id,o.desc.ctor,o.desc.staticArguments,o.desc.supportsDelayedInstantiation,o._trace);this._setServiceInstance(o.id,f)}r.removeNode(o)}}return this._getServiceInstanceOrDescriptor(l)}_createServiceInstanceWithOwner(l,c,d=[],r,n){if(this._services.get(l)instanceof k.SyncDescriptor)return this._createServiceInstance(c,d,r,n);if(this._parent)return this._parent._createServiceInstanceWithOwner(l,c,d,r,n);throw new Error(`illegalState - creating UNKNOWN service instance ${c.name}`)}_createServiceInstance(l,c=[],d,r){if(d){const n=new p.IdleValue(()=>this._createInstance(l,c,r));return new Proxy(Object.create(null),{get(s,t){if(t in s)return s[t];let o=n.value,h=o[t];return typeof h!="function"||(h=h.bind(o),s[t]=h),h},set(s,t,o){return n.value[t]=o,!0}})}else return this._createInstance(l,c,r)}}e.InstantiationService=_;class u{constructor(l,c){this.type=l,this.name=c,this._start=Date.now(),this._dep=[]}static traceInvocation(l){return C?new u(1,l.name||l.toString().substring(0,42).replace(/\n/g,"")):u._None}static traceCreation(l){return C?new u(0,l.name):u._None}branch(l,c){let d=new u(2,l.toString());return this._dep.push([l,c,d]),d}stop(){let l=Date.now()-this._start;u._totals+=l;let c=!1;function d(n,s){let t=[],o=new Array(n+1).join("	");for(const[h,f,m]of s._dep)if(f&&m){c=!0,t.push(`${o}CREATES -> ${h}`);let g=d(n+1,m);g&&t.push(g)}else t.push(`${o}uses -> ${h}`);return t.join(`
`)}let r=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${d(1,this)}`,`DONE, took ${l.toFixed(2)}ms (grand total ${u._totals.toFixed(2)}ms)`];(l>2||c)&&console.log(r.join(`
`))}}u._None=new class extends u{constructor(){super(-1,null)}stop(){}branch(){return this}},u._totals=0}),define(te[486],ie([0,1,411,15,6,2]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;class S extends w.Disposable{constructor(C,i,_,u,a){super();this._contextKeyService=C,this._commandService=i,this._telemetryService=_,this._notificationService=u,this._logService=a,this._onDidUpdateKeybindings=this._register(new k.Emitter),this._currentChord=null,this._currentChordChecker=new I.IntervalTimer,this._currentChordStatusMessage=null,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new I.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:k.Event.None}dispose(){super.dispose()}_log(C){this._logging&&this._logService.info(`[KeybindingService]: ${C}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(C){const i=this._getResolver().lookupPrimaryKeybinding(C);if(!!i)return i.resolvedKeybinding}dispatchEvent(C,i){return this._dispatch(C,i)}softDispatch(C,i){const _=this.resolveKeyboardEvent(C);if(_.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[u]=_.getDispatchParts();if(u===null)return null;const a=this._contextKeyService.getContext(i),l=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(a,l,u)}_enterChordMode(C,i){this._currentChord={keypress:C,label:i},this._currentChordStatusMessage=this._notificationService.status(v.localize(0,null,i));const _=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-_>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(C,i){return this._doDispatch(this.resolveKeyboardEvent(C),i,!1)}_singleModifierDispatch(C,i){const _=this.resolveKeyboardEvent(C),[u]=_.getSingleModifierDispatchParts();return u!==null&&this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${u}.`),this._currentSingleModifier=u,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):u!==null&&u===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${u} ${u}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(_,i,!0)):(this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1)}_doDispatch(C,i,_=!1){let u=!1;if(C.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let a=null,l=null;if(_){const[n]=C.getSingleModifierDispatchParts();a=n,l=n}else[a]=C.getDispatchParts(),l=this._currentChord?this._currentChord.keypress:null;if(a===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),u;const c=this._contextKeyService.getContext(i),d=C.getLabel(),r=this._getResolver().resolve(c,l,a);return this._logService.trace("KeybindingService#dispatch",d,r==null?void 0:r.commandId),r&&r.enterChord?(u=!0,this._enterChordMode(a,d),u):(this._currentChord&&(!r||!r.commandId)&&(this._notificationService.status(v.localize(1,null,this._currentChord.label,d),{hideAfter:10*1e3}),u=!0),this._leaveChordMode(),r&&r.commandId&&(r.bubble||(u=!0),typeof r.commandArgs=="undefined"?this._commandService.executeCommand(r.commandId).then(void 0,n=>this._notificationService.warn(n)):this._commandService.executeCommand(r.commandId,r.commandArgs).then(void 0,n=>this._notificationService.warn(n)),this._telemetryService.publicLog2("workbenchActionExecuted",{id:r.commandId,from:"keybinding"})),u)}mightProducePrintableCharacter(C){return C.ctrlKey||C.metaKey?!1:C.keyCode>=31&&C.keyCode<=56||C.keyCode>=21&&C.keyCode<=30}}e.AbstractKeybindingService=S}),define(te[487],ie([0,1,11,154,41]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class w extends k.ResolvedKeybinding{constructor(p,C){super();if(C.length===0)throw(0,v.illegalArgument)("parts");this._os=p,this._parts=C}getLabel(){return I.UILabelProvider.toLabel(this._os,this._parts,p=>this._getLabel(p))}getAriaLabel(){return I.AriaLabelProvider.toLabel(this._os,this._parts,p=>this._getAriaLabel(p))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(p=>this._getPart(p))}_getPart(p){return new k.ResolvedKeybindingPart(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,this._getLabel(p),this._getAriaLabel(p))}getDispatchParts(){return this._parts.map(p=>this._getDispatchPart(p))}getSingleModifierDispatchParts(){return this._parts.map(p=>this._getSingleModifierDispatchPart(p))}}e.BaseResolvedKeybinding=w}),define(te[35],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,v.createDecorator)("keybindingService")}),define(te[207],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class v{constructor(S,p,C){this._log=C,this._defaultKeybindings=S,this._defaultBoundCommands=new Map;for(let i=0,_=S.length;i<_;i++){const u=S[i].command;u&&this._defaultBoundCommands.set(u,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=v.combine(S,p);for(let i=0,_=this._keybindings.length;i<_;i++){let u=this._keybindings[i];u.keypressParts.length!==0&&(u.when&&u.when.type===0||this._addKeyPress(u.keypressParts[0],u))}}static _isTargetedForRemoval(S,p,C,i,_){return!(S.command!==i||p&&S.keypressParts[0]!==p||C&&S.keypressParts[1]!==C||_&&(!S.when||!_.equals(S.when)))}static combine(S,p){S=S.slice(0);let C=[];for(const i of p){if(!i.command||i.command.length===0||i.command.charAt(0)!=="-"){C.push(i);continue}const _=i.command.substr(1),u=i.keypressParts[0],a=i.keypressParts[1],l=i.when;for(let c=S.length-1;c>=0;c--)this._isTargetedForRemoval(S[c],u,a,_,l)&&S.splice(c,1)}return S.concat(C)}_addKeyPress(S,p){const C=this._map.get(S);if(typeof C=="undefined"){this._map.set(S,[p]),this._addToLookupMap(p);return}for(let i=C.length-1;i>=0;i--){let _=C[i];if(_.command!==p.command){const u=_.keypressParts.length>1,a=p.keypressParts.length>1;u&&a&&_.keypressParts[1]!==p.keypressParts[1]||v.whenIsEntirelyIncluded(_.when,p.when)&&this._removeFromLookupMap(_)}}C.push(p),this._addToLookupMap(p)}_addToLookupMap(S){if(!!S.command){let p=this._lookupMap.get(S.command);typeof p=="undefined"?(p=[S],this._lookupMap.set(S.command,p)):p.push(S)}}_removeFromLookupMap(S){if(!!S.command){let p=this._lookupMap.get(S.command);if(typeof p!="undefined"){for(let C=0,i=p.length;C<i;C++)if(p[C]===S){p.splice(C,1);return}}}}static whenIsEntirelyIncluded(S,p){return p?S?this._implies(S,p):!1:!0}static _implies(S,p){const C=S.negate(),i=u=>u.type===9?u.expr:[u];let _=i(C).concat(i(p));for(let u=0;u<_.length;u++){const l=_[u].negate();for(let c=u+1;c<_.length;c++){const d=_[c];if(l.equals(d))return!0}}return!1}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(S){let p=this._lookupMap.get(S);return typeof p=="undefined"||p.length===0?null:p[p.length-1]}resolve(S,p,C){this._log(`| Resolving ${C}${p?` chorded from ${p}`:""}`);let i=null;if(p!==null){const u=this._map.get(p);if(typeof u=="undefined")return this._log("\\ No keybinding entries."),null;i=[];for(let a=0,l=u.length;a<l;a++){let c=u[a];c.keypressParts[1]===C&&i.push(c)}}else{const u=this._map.get(C);if(typeof u=="undefined")return this._log("\\ No keybinding entries."),null;i=u}let _=this._findCommand(S,i);return _?p===null&&_.keypressParts.length>1&&_.keypressParts[1]!==null?(this._log(`\\ From ${i.length} keybinding entries, matched chord, when: ${I(_.when)}, source: ${k(_)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${i.length} keybinding entries, matched ${_.command}, when: ${I(_.when)}, source: ${k(_)}.`),{enterChord:!1,leaveChord:_.keypressParts.length>1,commandId:_.command,commandArgs:_.commandArgs,bubble:_.bubble}):(this._log(`\\ From ${i.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(S,p){for(let C=p.length-1;C>=0;C--){let i=p[C];if(!!v.contextMatchesRules(S,i.when))return i}return null}static contextMatchesRules(S,p){return p?p.evaluate(S):!0}}e.KeybindingResolver=v;function I(w){return w?`${w.serialize()}`:"no when condition"}function k(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}}),define(te[490],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class v{constructor(w,S,p,C,i,_,u){this.resolvedKeybinding=w,this.keypressParts=w?I(w.getDispatchParts()):[],w&&this.keypressParts.length===0&&(this.keypressParts=I(w.getSingleModifierDispatchParts())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=p,this.when=C,this.isDefault=i,this.extensionId=_,this.isBuiltinExtension=u}}e.ResolvedKeybindingItem=v;function I(k){let w=[];for(let S=0,p=k.length;S<p;S++){const C=k[S];if(!C)return w;w.push(C)}return w}e.removeElementsAfterNulls=I}),define(te[491],ie([0,1,41,487]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class k extends I.BaseResolvedKeybinding{constructor(S,p){super(p,S.parts)}_keyCodeToUILabel(S){if(this._os===2)switch(S){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return v.KeyCodeUtils.toString(S)}_getLabel(S){return S.isDuplicateModifierCase()?"":this._keyCodeToUILabel(S.keyCode)}_getAriaLabel(S){return S.isDuplicateModifierCase()?"":v.KeyCodeUtils.toString(S.keyCode)}_getDispatchPart(S){return k.getDispatchStr(S)}static getDispatchStr(S){if(S.isModifierKey())return null;let p="";return S.ctrlKey&&(p+="ctrl+"),S.shiftKey&&(p+="shift+"),S.altKey&&(p+="alt+"),S.metaKey&&(p+="meta+"),p+=v.KeyCodeUtils.toString(S.keyCode),p}_getSingleModifierDispatchPart(S){return S.keyCode===5&&!S.shiftKey&&!S.altKey&&!S.metaKey?"ctrl":S.keyCode===4&&!S.ctrlKey&&!S.altKey&&!S.metaKey?"shift":S.keyCode===6&&!S.ctrlKey&&!S.shiftKey&&!S.metaKey?"alt":S.keyCode===57&&!S.ctrlKey&&!S.shiftKey&&!S.altKey?"meta":null}}e.USLayoutResolvedKeybinding=k}),define(te[102],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,v.createDecorator)("labelService")}),define(te[121],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,v.createDecorator)("layoutService")}),define(te[494],ie([0,1,247,2,121]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let w=class extends I.Disposable{constructor(p){super();this.layoutService=p,this.currentViewDisposable=I.Disposable.None,this.container=p.container,this.contextView=this._register(new v.ContextView(this.container,1)),this.layout(),this._register(p.onDidLayout(()=>this.layout()))}setContainer(p,C){this.contextView.setContainer(p,C||1)}showContextView(p,C,i){C?C!==this.container&&(this.container=C,this.setContainer(C,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(p);const _=(0,I.toDisposable)(()=>{this.currentViewDisposable===_&&this.hideContextView()});return this.currentViewDisposable=_,_}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(p){this.contextView.hide(p)}};w=Me([_e(0,k.ILayoutService)],w),e.ContextViewService=w}),define(te[69],ie([0,1,9,2,6]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,v.createDecorator)("logService");var w;(function(i){i[i.Trace=0]="Trace",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warning=3]="Warning",i[i.Error=4]="Error",i[i.Critical=5]="Critical",i[i.Off=6]="Off"})(w=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=w.Info;class S extends I.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new k.Emitter)}setLevel(_){this.level!==_&&(this.level=_,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=S;class p extends S{constructor(_=e.DEFAULT_LOG_LEVEL){super();this.setLevel(_)}trace(_,...u){this.getLevel()<=w.Trace&&console.log("%cTRACE","color: #888",_,...u)}debug(_,...u){this.getLevel()<=w.Debug&&console.log("%cDEBUG","background: #eee; color: #888",_,...u)}info(_,...u){this.getLevel()<=w.Info&&console.log("%c INFO","color: #33f",_,...u)}error(_,...u){this.getLevel()<=w.Error&&console.log("%c  ERR","color: #f33",_,...u)}dispose(){}}e.ConsoleLogger=p;class C extends I.Disposable{constructor(_){super();this.logger=_,this._register(_)}getLevel(){return this.logger.getLevel()}trace(_,...u){this.logger.trace(_,...u)}debug(_,...u){this.logger.debug(_,...u)}info(_,...u){this.logger.info(_,...u)}error(_,...u){this.logger.error(_,...u)}}e.LogService=C}),define(te[211],ie([0,1,15,2,253,449,3,18,42,576,37,144,8,19,69,82,11]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerServiceImpl=void 0;const n=60*1e3,s=5*60*1e3;function t(L,N){let M=L.getModel(N);return!(!M||M.isTooLargeForSyncing())}let o=class extends I.Disposable{constructor(N,M,D){super();this._modelService=N,this._workerManager=this._register(new f(this._modelService)),this._logService=D,this._register(p.LinkProviderRegistry.register("*",{provideLinks:(R,P)=>t(this._modelService,R.uri)?this._workerManager.withWorker().then(O=>O.computeLinks(R.uri)).then(O=>O&&{links:O}):Promise.resolve({links:[]})})),this._register(p.CompletionProviderRegistry.register("*",new h(this._workerManager,M,this._modelService)))}dispose(){super.dispose()}canComputeDiff(N,M){return t(this._modelService,N)&&t(this._modelService,M)}computeDiff(N,M,D,R){return this._workerManager.withWorker().then(P=>P.computeDiff(N,M,D,R))}computeMoreMinimalEdits(N,M){if((0,l.isNonEmptyArray)(M)){if(!t(this._modelService,N))return Promise.resolve(M);const D=d.StopWatch.create(!0),R=this._workerManager.withWorker().then(P=>P.computeMoreMinimalEdits(N,M));return R.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",N.toString(!0),D.elapsed())),Promise.race([R,(0,v.timeout)(1e3).then(()=>M)])}else return Promise.resolve(void 0)}canNavigateValueSet(N){return t(this._modelService,N)}navigateValueSet(N,M,D){return this._workerManager.withWorker().then(R=>R.navigateValueSet(N,M,D))}canComputeWordRanges(N){return t(this._modelService,N)}computeWordRanges(N,M){return this._workerManager.withWorker().then(D=>D.computeWordRanges(N,M))}};o=Me([_e(0,_.IModelService),_e(1,u.ITextResourceConfigurationService),_e(2,c.ILogService)],o),e.EditorWorkerServiceImpl=o;class h{constructor(N,M,D){this._debugDisplayName="wordbasedCompletions",this._workerManager=N,this._configurationService=M,this._modelService=D}provideCompletionItems(N,M){return De(this,void 0,void 0,function*(){const D=this._configurationService.getValue(N.uri,M,"editor");if(!!D.wordBasedSuggestions){const R=[];if(D.wordBasedSuggestionsMode==="currentDocument")t(this._modelService,N.uri)&&R.push(N.uri);else for(const B of this._modelService.getModels())!t(this._modelService,B.uri)||(B===N?R.unshift(B.uri):(D.wordBasedSuggestionsMode==="allDocuments"||B.getLanguageIdentifier().id===N.getLanguageIdentifier().id)&&R.push(B.uri));if(R.length!==0){const P=C.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id),O=N.getWordAtPosition(M),W=O?new S.Range(M.lineNumber,O.startColumn,M.lineNumber,O.endColumn):S.Range.fromPositions(M),F=W.setEndPosition(M.lineNumber,M.column),A=yield(yield this._workerManager.withWorker()).textualSuggest(R,O==null?void 0:O.word,P);if(!!A)return{duration:A.duration,suggestions:A.words.map(B=>({kind:18,label:B,insertText:B,range:{insert:F,replace:W}}))}}}})}}class f extends I.Disposable{constructor(N){super();this._modelService=N,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new v.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(s/2)),this._register(this._modelService.onModelRemoved(D=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){!this._editorWorkerClient||this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){!this._editorWorkerClient||new Date().getTime()-this._lastWorkerUsedTime>s&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new y(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class m extends I.Disposable{constructor(N,M,D){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=N,this._modelService=M,!D){let R=new v.IntervalTimer;R.cancelAndSet(()=>this._checkStopModelSync(),Math.round(n/2)),this._register(R)}}dispose(){for(let N in this._syncedModels)(0,I.dispose)(this._syncedModels[N]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(N){for(const M of N){let D=M.toString();this._syncedModels[D]||this._beginModelSync(M),this._syncedModels[D]&&(this._syncedModelsLastUsedTime[D]=new Date().getTime())}}_checkStopModelSync(){let N=new Date().getTime(),M=[];for(let D in this._syncedModelsLastUsedTime)N-this._syncedModelsLastUsedTime[D]>n&&M.push(D);for(const D of M)this._stopModelSync(D)}_beginModelSync(N){let M=this._modelService.getModel(N);if(!!M&&!M.isTooLargeForSyncing()){let D=N.toString();this._proxy.acceptNewModel({url:M.uri.toString(),lines:M.getLinesContent(),EOL:M.getEOL(),versionId:M.getVersionId()});const R=new I.DisposableStore;R.add(M.onDidChangeContent(P=>{this._proxy.acceptModelChanged(D.toString(),P)})),R.add(M.onWillDispose(()=>{this._stopModelSync(D)})),R.add((0,I.toDisposable)(()=>{this._proxy.acceptRemovedModel(D)})),this._syncedModels[D]=R}}_stopModelSync(N){let M=this._syncedModels[N];delete this._syncedModels[N],delete this._syncedModelsLastUsedTime[N],(0,I.dispose)(M)}}class g{constructor(N){this._instance=N,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class b{constructor(N){this._workerClient=N}fhr(N,M){return this._workerClient.fhr(N,M)}}e.EditorWorkerHost=b;class y extends I.Disposable{constructor(N,M,D){super();this._disposed=!1,this._modelService=N,this._keepIdleModels=M,this._workerFactory=new w.DefaultWorkerFactory(D),this._worker=null,this._modelManager=null}fhr(N,M){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new k.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new b(this)))}catch(N){(0,k.logOnceWebWorkerWarning)(N),this._worker=new g(new i.EditorSimpleWorker(new b(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,N=>((0,k.logOnceWebWorkerWarning)(N),this._worker=new g(new i.EditorSimpleWorker(new b(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(N){return this._modelManager||(this._modelManager=this._register(new m(N,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(N){return this._disposed?Promise.reject((0,r.canceled)()):this._getProxy().then(M=>(this._getOrCreateModelManager(M).ensureSyncedResources(N),M))}computeDiff(N,M,D,R){return this._withSyncedResources([N,M]).then(P=>P.computeDiff(N.toString(),M.toString(),D,R))}computeMoreMinimalEdits(N,M){return this._withSyncedResources([N]).then(D=>D.computeMoreMinimalEdits(N.toString(),M))}computeLinks(N){return this._withSyncedResources([N]).then(M=>M.computeLinks(N.toString()))}textualSuggest(N,M,D){return De(this,void 0,void 0,function*(){const R=yield this._withSyncedResources(N),P=D.source,O=(0,a.regExpFlags)(D);return R.textualSuggest(N.map(W=>W.toString()),M,P,O)})}computeWordRanges(N,M){return this._withSyncedResources([N]).then(D=>{let R=this._modelService.getModel(N);if(!R)return Promise.resolve(null);let P=C.LanguageConfigurationRegistry.getWordDefinition(R.getLanguageIdentifier().id),O=P.source,W=(0,a.regExpFlags)(P);return D.computeWordRanges(N.toString(),M,O,W)})}navigateValueSet(N,M,D){return this._withSyncedResources([N]).then(R=>{let P=this._modelService.getModel(N);if(!P)return null;let O=C.LanguageConfigurationRegistry.getWordDefinition(P.getLanguageIdentifier().id),W=O.source,F=(0,a.regExpFlags)(O);return R.navigateValueSet(N.toString(),M,D,W,F)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=y}),define(te[212],ie([0,1,18,69,120]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;class w{constructor(_,u,a){this._legend=_,this._themeService=u,this._logService=a,this._hashTable=new C,this._hasWarnedOverlappingTokens=!1}getMetadata(_,u,a){const l=this._hashTable.get(_,u,a.id);let c;if(l)c=l.metadata,this._logService.getLevel()===I.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${_} / ${u}: foreground ${v.TokenMetadata.getForeground(c)}, fontStyle ${v.TokenMetadata.getFontStyle(c).toString(2)}`);else{let d=this._legend.tokenTypes[_];const r=[];if(d){let n=u;for(let t=0;n>0&&t<this._legend.tokenModifiers.length;t++)n&1&&r.push(this._legend.tokenModifiers[t]),n=n>>1;n>0&&this._logService.getLevel()===I.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${u.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const s=this._themeService.getColorTheme().getTokenStyleMetadata(d,r,a.language);typeof s=="undefined"?c=2147483647:(c=0,typeof s.italic!="undefined"&&(c|=(s.italic?1:0)<<11|1),typeof s.bold!="undefined"&&(c|=(s.bold?2:0)<<11|2),typeof s.underline!="undefined"&&(c|=(s.underline?4:0)<<11|4),s.foreground&&(c|=s.foreground<<14|8),c===0&&(c=2147483647))}else this._logService.getLevel()===I.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${_} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),c=2147483647,d="not-in-legend";this._hashTable.add(_,u,a.id,c),this._logService.getLevel()===I.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${_} (${d}) / ${u} (${r.join(" ")}): foreground ${v.TokenMetadata.getForeground(c)}, fontStyle ${v.TokenMetadata.getFontStyle(c).toString(2)}`)}return c}warnOverlappingSemanticTokens(_,u){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${_}, column ${u}`))}}e.SemanticTokensProviderStyling=w;function S(i,_,u){const a=i.data,l=i.data.length/5|0,c=Math.max(Math.ceil(l/1024),400),d=[];let r=0,n=1,s=0;for(;r<l;){const t=r;let o=Math.min(t+c,l);if(o<l){let N=o;for(;N-1>t&&a[5*N]===0;)N--;if(N-1===t){let M=o;for(;M+1<l&&a[5*M]===0;)M++;o=M}else o=N}let h=new Uint32Array((o-t)*4),f=0,m=0,g=0,b=0,y=0;for(;r<o;){const N=5*r,M=a[N],D=a[N+1],R=n+M,P=M===0?s+D:D,O=a[N+2],W=a[N+3],F=a[N+4],E=_.getMetadata(W,F,u);E!==2147483647&&(m===0&&(m=R),g===R&&y>P&&(_.warnOverlappingSemanticTokens(R,P+1),b<P?h[f-4+2]=P:f-=4),h[f]=R-m,h[f+1]=P,h[f+2]=P+O,h[f+3]=E,f+=4,g=R,b=P,y=P+O),n=R,s=P,r++}f!==h.length&&(h=h.subarray(0,f));const L=new k.MultilineTokens2(m,new k.SparseEncodedTokens(h));d.push(L)}return d}e.toMultilineTokens2=S;class p{constructor(_,u,a,l){this.tokenTypeIndex=_,this.tokenModifierSet=u,this.languageId=a,this.metadata=l,this.next=null}}class C{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(_,u){for(let a=0;a<u;a++)_[a]=null}_hash2(_,u){return(_<<5)-_+u|0}_hashFunc(_,u,a){return this._hash2(this._hash2(_,u),a)%this._currentLength}get(_,u,a){const l=this._hashFunc(_,u,a);let c=this._elements[l];for(;c;){if(c.tokenTypeIndex===_&&c.tokenModifierSet===u&&c.languageId===a)return c;c=c.next}return null}add(_,u,a,l){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const c=this._elements;this._currentLengthIndex++,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength);for(const d of c){let r=d;for(;r;){const n=r.next;r.next=null,this._add(r),r=n}}}this._add(new p(_,u,a,l))}_add(_){const u=this._hashFunc(_.tokenTypeIndex,_.tokenModifierSet,_.languageId);_.next=this._elements[u],this._elements[u]=_}}C._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(te[498],ie([0,1,211,20]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function k(S,p){return new w(S,p)}e.createWebWorker=k;class w extends v.EditorWorkerClient{constructor(p,C){super(p,C.keepIdleModels||!1,C.label);this._foreignModuleId=C.moduleId,this._foreignModuleCreateData=C.createData||null,this._foreignModuleHost=C.host||null,this._foreignProxy=null}fhr(p,C){if(!this._foreignModuleHost||typeof this._foreignModuleHost[p]!="function")return Promise.reject(new Error("Missing method "+p+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[p].apply(this._foreignModuleHost,C))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(p=>{const C=this._foreignModuleHost?I.getAllMethodNames(this._foreignModuleHost):[];return p.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,C).then(i=>{this._foreignModuleCreateData=null;const _=(l,c)=>p.fmr(l,c),u=(l,c)=>function(){const d=Array.prototype.slice.call(arguments,0);return c(l,d)};let a={};for(const l of i)a[l]=u(l,_);return a})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(p){return this._withSyncedResources(p).then(C=>this.getProxy())}}}),define(te[81],ie([0,1,9,413,83]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var w;(function(p){p[p.Hint=1]="Hint",p[p.Info=2]="Info",p[p.Warning=4]="Warning",p[p.Error=8]="Error"})(w=e.MarkerSeverity||(e.MarkerSeverity={})),function(p){function C(l,c){return c-l}p.compare=C;const i=Object.create(null);i[p.Error]=(0,I.localize)(0,null),i[p.Warning]=(0,I.localize)(1,null),i[p.Info]=(0,I.localize)(2,null);function _(l){return i[l]||""}p.toString=_;function u(l){switch(l){case k.default.Error:return p.Error;case k.default.Warning:return p.Warning;case k.default.Info:return p.Info;case k.default.Ignore:return p.Hint}}p.fromSeverity=u;function a(l){switch(l){case p.Error:return k.default.Error;case p.Warning:return k.default.Warning;case p.Info:return k.default.Info;case p.Hint:return k.default.Ignore}}p.toSeverity=a}(w=e.MarkerSeverity||(e.MarkerSeverity={}));var S;(function(p){const C="";function i(u){return _(u,!0)}p.makeKey=i;function _(u,a){let l=[C];return u.source?l.push(u.source.replace("\xA6","\\\xA6")):l.push(C),u.code?typeof u.code=="string"?l.push(u.code.replace("\xA6","\\\xA6")):l.push(u.code.value.replace("\xA6","\\\xA6")):l.push(C),u.severity!==void 0&&u.severity!==null?l.push(w.toString(u.severity)):l.push(C),u.message&&a?l.push(u.message.replace("\xA6","\\\xA6")):l.push(C),u.startLineNumber!==void 0&&u.startLineNumber!==null?l.push(u.startLineNumber.toString()):l.push(C),u.startColumn!==void 0&&u.startColumn!==null?l.push(u.startColumn.toString()):l.push(C),u.endLineNumber!==void 0&&u.endLineNumber!==null?l.push(u.endLineNumber.toString()):l.push(C),u.endColumn!==void 0&&u.endColumn!==null?l.push(u.endColumn.toString()):l.push(C),l.push(C),l.join("\xA6")}p.makeKeyOptionalMessage=_})(S=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,v.createDecorator)("markerService")}),define(te[500],ie([0,1,81,23,6,2,3,8,19,9,73,77]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class a{constructor(r,n,s){this.marker=r,this.index=n,this.total=s}}e.MarkerCoordinate=a;let l=class Tt{constructor(r,n){this._markerService=n,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new w.DisposableStore,this._markers=[],this._nextIdx=-1,I.URI.isUri(r)?this._resourceFilter=t=>t.toString()===r.toString():r&&(this._resourceFilter=r);const s=()=>{this._markers=this._markerService.read({resource:I.URI.isUri(r)?r:void 0,severities:v.MarkerSeverity.Error|v.MarkerSeverity.Warning|v.MarkerSeverity.Info}),typeof r=="function"&&(this._markers=this._markers.filter(t=>this._resourceFilter(t.resource))),this._markers.sort(Tt._compareMarker)};s(),this._dispoables.add(n.onMarkerChanged(t=>{(!this._resourceFilter||t.some(o=>this._resourceFilter(o)))&&(s(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(r){return!this._resourceFilter&&!r?!0:!this._resourceFilter||!r?!1:this._resourceFilter(r)}get selected(){const r=this._markers[this._nextIdx];return r&&new a(r,this._nextIdx+1,this._markers.length)}_initIdx(r,n,s){let t=!1,o=this._markers.findIndex(h=>h.resource.toString()===r.uri.toString());o<0&&(o=(0,C.binarySearch)(this._markers,{resource:r.uri},(h,f)=>(0,p.compare)(h.resource.toString(),f.resource.toString())),o<0&&(o=~o));for(let h=o;h<this._markers.length;h++){let f=S.Range.lift(this._markers[h]);if(f.isEmpty()){const m=r.getWordAtPosition(f.getStartPosition());m&&(f=new S.Range(f.startLineNumber,m.startColumn,f.startLineNumber,m.endColumn))}if(n&&(f.containsPosition(n)||n.isBeforeOrEqual(f.getStartPosition()))){this._nextIdx=h,t=!0;break}if(this._markers[h].resource.toString()!==r.uri.toString())break}t||(this._nextIdx=s?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(r,n,s){if(this._markers.length===0)return!1;let t=this._nextIdx;return this._nextIdx===-1?this._initIdx(n,s,r):r?this._nextIdx=(this._nextIdx+1)%this._markers.length:r||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),t!==this._nextIdx}find(r,n){let s=this._markers.findIndex(t=>t.resource.toString()===r.toString());if(!(s<0)){for(;s<this._markers.length;s++)if(S.Range.containsPosition(this._markers[s],n))return new a(this._markers[s],s+1,this._markers.length)}}static _compareMarker(r,n){let s=(0,p.compare)(r.resource.toString(),n.resource.toString());return s===0&&(s=v.MarkerSeverity.compare(r.severity,n.severity)),s===0&&(s=S.Range.compareRangesUsingStarts(r,n)),s}};l=Me([_e(1,v.IMarkerService)],l),e.MarkerList=l,e.IMarkerNavigationService=(0,i.createDecorator)("IMarkerNavigationService");let c=class{constructor(r){this._markerService=r,this._provider=new u.LinkedList}getMarkerList(r){for(let n of this._provider){const s=n.getMarkerList(r);if(s)return s}return new l(r,this._markerService)}};c=Me([_e(0,v.IMarkerService)],c),(0,_.registerSingleton)(e.IMarkerNavigationService,c,!0)}),define(te[501],ie([0,1,19,45,23,6,81,51,56]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class i{constructor(){this._byResource=new p.ResourceMap,this._byOwner=new Map}set(l,c,d){let r=this._byResource.get(l);r||(r=new Map,this._byResource.set(l,r)),r.set(c,d);let n=this._byOwner.get(c);n||(n=new p.ResourceMap,this._byOwner.set(c,n)),n.set(l,d)}get(l,c){let d=this._byResource.get(l);return d==null?void 0:d.get(c)}delete(l,c){let d=!1,r=!1,n=this._byResource.get(l);n&&(d=n.delete(c));let s=this._byOwner.get(c);if(s&&(r=s.delete(l)),d!==r)throw new Error("illegal state");return d&&r}values(l){var c,d,r,n;return typeof l=="string"?(d=(c=this._byOwner.get(l))===null||c===void 0?void 0:c.values())!==null&&d!==void 0?d:C.Iterable.empty():k.URI.isUri(l)?(n=(r=this._byResource.get(l))===null||r===void 0?void 0:r.values())!==null&&n!==void 0?n:C.Iterable.empty():C.Iterable.map(C.Iterable.concat(...this._byOwner.values()),s=>s[1])}}class _{constructor(l){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new p.ResourceMap,this._service=l,this._subscription=l.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(l){for(const c of l){const d=this._data.get(c);d&&this._substract(d);const r=this._resourceStats(c);this._add(r),this._data.set(c,r)}}_resourceStats(l){const c={errors:0,warnings:0,infos:0,unknowns:0};if(l.scheme===I.Schemas.inMemory||l.scheme===I.Schemas.walkThrough||l.scheme===I.Schemas.walkThroughSnippet)return c;for(const{severity:d}of this._service.read({resource:l}))d===S.MarkerSeverity.Error?c.errors+=1:d===S.MarkerSeverity.Warning?c.warnings+=1:d===S.MarkerSeverity.Info?c.infos+=1:c.unknowns+=1;return c}_substract(l){this.errors-=l.errors,this.warnings-=l.warnings,this.infos-=l.infos,this.unknowns-=l.unknowns}_add(l){this.errors+=l.errors,this.warnings+=l.warnings,this.infos+=l.infos,this.unknowns+=l.unknowns}}class u{constructor(){this._onMarkerChanged=new w.Emitter,this.onMarkerChanged=w.Event.debounce(this._onMarkerChanged.event,u._debouncer,0),this._data=new i,this._stats=new _(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(l,c){for(const d of c||[])this.changeOne(l,d,[])}changeOne(l,c,d){if((0,v.isFalsyOrEmpty)(d))this._data.delete(c,l)&&this._onMarkerChanged.fire([c]);else{const r=[];for(const n of d){const s=u._toMarker(l,c,n);s&&r.push(s)}this._data.set(c,l,r),this._onMarkerChanged.fire([c])}}static _toMarker(l,c,d){let{code:r,severity:n,message:s,source:t,startLineNumber:o,startColumn:h,endLineNumber:f,endColumn:m,relatedInformation:g,tags:b}=d;if(!!s)return o=o>0?o:1,h=h>0?h:1,f=f>=o?f:o,m=m>0?m:h,{resource:c,owner:l,code:r,severity:n,message:s,source:t,startLineNumber:o,startColumn:h,endLineNumber:f,endColumn:m,relatedInformation:g,tags:b}}read(l=Object.create(null)){let{owner:c,resource:d,severities:r,take:n}=l;if((!n||n<0)&&(n=-1),c&&d){const s=this._data.get(d,c);if(s){const t=[];for(const o of s)if(u._accept(o,r)){const h=t.push(o);if(n>0&&h===n)break}return t}else return[]}else if(!c&&!d){const s=[];for(let t of this._data.values())for(let o of t)if(u._accept(o,r)){const h=s.push(o);if(n>0&&h===n)return s}return s}else{const s=this._data.values(d!=null?d:c),t=[];for(const o of s)for(const h of o)if(u._accept(h,r)){const f=t.push(h);if(n>0&&f===n)return t}return t}}static _accept(l,c){return c===void 0||(c&l.severity)===l.severity}static _debouncer(l,c){l||(u._dedupeMap=new p.ResourceMap,l=[]);for(const d of c)u._dedupeMap.has(d)||(u._dedupeMap.set(d,!0),l.push(d));return l}}e.MarkerService=u}),define(te[33],ie([0,1,83,9]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=v.default,e.INotificationService=(0,I.createDecorator)("notificationService");class k{}e.NoOpNotification=k}),define(te[59],ie([0,1,2,8,23,9]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,w.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return v.Disposable.None},registerValidator(){return v.Disposable.None},registerExternalUriResolver(){return v.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return v.Disposable.None},open(){return De(this,void 0,void 0,function*(){return!1})},resolveExternalUri(p){return De(this,void 0,void 0,function*(){return{resolved:p,dispose(){}}})}});function S(p,C){return k.URI.isUri(p)?(0,I.equalsIgnoreCase)(p.scheme,C):(0,I.startsWithIgnoreCase)(p,C+":")}e.matchesScheme=S}),define(te[122],ie([0,1,540,59,58,11,200,6,2,18]),function($,e,v,I,k,w,S,p,C,i){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let u=class Rt{constructor(l,c,d){this._options=l,this._modeService=c,this._openerService=d,this._onDidRenderAsync=new p.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(l,c,d){const r=new C.DisposableStore;let n;return l?n=(0,v.renderMarkdown)(l,Object.assign(Object.assign({},this._getRenderOptions(l,r)),c),d):n=document.createElement("span"),{element:n,dispose:()=>r.dispose()}}_getRenderOptions(l,c){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(d,r)=>De(this,void 0,void 0,function*(){var n,s,t,o;let h;d?h=this._modeService.getModeIdForLanguageName(d):this._options.editor&&(h=(n=this._options.editor.getModel())===null||n===void 0?void 0:n.getLanguageIdentifier().language),h||(h="plaintext"),this._modeService.triggerMode(h);const f=(s=yield i.TokenizationRegistry.getPromise(h))!==null&&s!==void 0?s:void 0,m=document.createElement("span");m.innerHTML=(o=(t=Rt._ttpTokenizer)===null||t===void 0?void 0:t.createHTML(r,f))!==null&&o!==void 0?o:(0,S.tokenizeToString)(r,f);let g=this._options.codeBlockFontFamily;return this._options.editor&&(g=this._options.editor.getOption(40).fontFamily),g&&(m.style.fontFamily=g),m}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:d=>this._openerService.open(d,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:l.isTrusted}).catch(w.onUnexpectedError),disposeables:c}}}};u._ttpTokenizer=(_=window.trustedTypes)===null||_===void 0?void 0:_.createPolicy("tokenizeToString",{createHTML(a,l){return(0,S.tokenizeToString)(a,l)}}),u=Me([_e(1,k.IModeService),_e(2,I.IOpenerService)],u),e.MarkdownRenderer=u}),define(te[505],ie([0,1,7,24,77,51,258,45,46,23,28,26,420,59]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let c=class{constructor(s){this._commandService=s}open(s,t){return De(this,void 0,void 0,function*(){if(!(0,l.matchesScheme)(s,p.Schemas.command))return!1;if(!(t==null?void 0:t.allowCommands))return!0;typeof s=="string"&&(s=i.URI.parse(s));let o=[];try{o=(0,S.parse)(decodeURIComponent(s.query))}catch(h){try{o=(0,S.parse)(s.query)}catch(f){}}return Array.isArray(o)||(o=[o]),yield this._commandService.executeCommand(s.path,...o),!0})}};c=Me([_e(0,u.ICommandService)],c);let d=class{constructor(s){this._editorService=s}open(s,t){return De(this,void 0,void 0,function*(){typeof s=="string"&&(s=i.URI.parse(s));let o;const h=/^L?(\d+)(?:,(\d+))?/.exec(s.fragment);return h&&(o={startLineNumber:parseInt(h[1]),startColumn:h[2]?parseInt(h[2]):1},s=s.with({fragment:""})),s.scheme===p.Schemas.file&&(s=(0,C.normalizePath)(s)),yield this._editorService.openCodeEditor({resource:s,options:Object.assign({selection:o,context:(t==null?void 0:t.fromUserGesture)?a.EditorOpenContext.USER:a.EditorOpenContext.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};d=Me([_e(0,_.ICodeEditorService)],d);let r=class{constructor(s,t){this._openers=new k.LinkedList,this._validators=new k.LinkedList,this._resolvers=new k.LinkedList,this._resolvedUriTargets=new w.ResourceMap(o=>o.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new k.LinkedList,this._defaultExternalOpener={openExternal:o=>De(this,void 0,void 0,function*(){return(0,l.matchesScheme)(o,p.Schemas.http)||(0,l.matchesScheme)(o,p.Schemas.https)?v.windowOpenNoOpener(o):window.location.href=o,!0})},this._openers.push({open:(o,h)=>De(this,void 0,void 0,function*(){return(h==null?void 0:h.openExternal)||(0,l.matchesScheme)(o,p.Schemas.mailto)||(0,l.matchesScheme)(o,p.Schemas.http)||(0,l.matchesScheme)(o,p.Schemas.https)?(yield this._doOpenExternal(o,h),!0):!1})}),this._openers.push(new c(t)),this._openers.push(new d(s))}registerOpener(s){return{dispose:this._openers.unshift(s)}}registerValidator(s){return{dispose:this._validators.push(s)}}registerExternalUriResolver(s){return{dispose:this._resolvers.push(s)}}setDefaultExternalOpener(s){this._defaultExternalOpener=s}registerExternalOpener(s){return{dispose:this._externalOpeners.push(s)}}open(s,t){var o;return De(this,void 0,void 0,function*(){const h=typeof s=="string"?i.URI.parse(s):s,f=(o=this._resolvedUriTargets.get(h))!==null&&o!==void 0?o:s;for(const m of this._validators)if(!(yield m.shouldOpen(f)))return!1;for(const m of this._openers)if(yield m.open(s,t))return!0;return!1})}resolveExternalUri(s,t){return De(this,void 0,void 0,function*(){for(const o of this._resolvers){const h=yield o.resolveExternalUri(s,t);if(h)return this._resolvedUriTargets.has(h.resolved)||this._resolvedUriTargets.set(h.resolved,s),h}return{resolved:s,dispose:()=>{}}})}_doOpenExternal(s,t){return De(this,void 0,void 0,function*(){const o=typeof s=="string"?i.URI.parse(s):s,{resolved:h}=yield this.resolveExternalUri(o,t);let f;if(typeof s=="string"&&o.toString()===h.toString()?f=s:f=encodeURI(h.toString(!0)),t==null?void 0:t.allowContributedOpeners){const m=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const g of this._externalOpeners)if(yield g.openExternal(f,{sourceUri:o,preferredOpenerId:m},I.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(f,{sourceUri:o},I.CancellationToken.None)})}dispose(){this._validators.clear()}};r=Me([_e(0,_.ICodeEditorService),_e(1,u.ICommandService)],r),e.OpenerService=r}),define(te[506],ie([0,1,7,78,2,219,275,122,59,19]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesGlyphHoverWidget=void 0;class _{constructor(l){this._editor=l,this._lineNumber=-1,this._result=[]}setLineNumber(l){this._lineNumber=l,this._result=[]}clearResult(){this._result=[]}computeSync(){const l=r=>({value:r}),c=this._editor.getLineDecorations(this._lineNumber),d=[];if(!c)return d;for(const r of c)if(!!r.options.glyphMarginClassName){const n=r.options.glyphMarginHoverMessage;!n||(0,I.isEmptyMarkdownString)(n)||d.push(...(0,i.asArray)(n).map(l))}return d}onResult(l,c){this._result=this._result.concat(l)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class u extends S.GlyphHoverWidget{constructor(l,c,d=C.NullOpenerService){super(u.ID,l);this._renderDisposeables=this._register(new k.DisposableStore),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new p.MarkdownRenderer({editor:this._editor},c,d)),this._computer=new _(this._editor),this._hoverOperation=new w.HoverOperation(this._computer,r=>this._withResult(r),void 0,r=>this._withResult(r),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(l){this._lastLineNumber!==l&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=l,this._computer.setLineNumber(l),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(l){this._messages=l,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(l,c){this._renderDisposeables.clear();const d=document.createDocumentFragment();for(const r of c){const n=this._markdownRenderer.render(r.value);this._renderDisposeables.add(n),d.appendChild((0,v.$)("div.hover-row",void 0,n.element))}this.updateContents(d),this.showAt(l)}}e.ModesGlyphHoverWidget=u,u.ID="editor.contrib.modesGlyphHoverWidget"}),define(te[217],ie([0,1,398,2,7,63,122,78,27,6,215,9]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function a(d){return!!d&&Boolean(d.completion.documentation||d.completion.detail&&d.completion.detail!==d.completion.label)}e.canExpandCompletionItem=a;let l=class{constructor(r,n){this._editor=r,this._onDidClose=new i.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new i.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new I.DisposableStore,this._renderDisposeable=new I.DisposableStore,this._borderWidth=1,this._size=new k.Dimension(330,0),this.domNode=k.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=n.createInstance(S.MarkdownRenderer,{editor:r}),this._body=k.$(".body"),this._scrollbar=new w.DomScrollableElement(this._body,{}),k.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=k.append(this._body,k.$(".header")),this._close=k.append(this._header,k.$("span"+C.Codicon.close.cssSelector)),this._close.title=v.localize(0,null),this._type=k.append(this._header,k.$("p.type")),this._docs=k.append(this._body,k.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(40)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const r=this._editor.getOptions(),n=r.get(40),s=n.fontFamily,t=r.get(104)||n.fontSize,o=r.get(105)||n.lineHeight,h=n.fontWeight,f=`${t}px`,m=`${o}px`;this.domNode.style.fontSize=f,this.domNode.style.lineHeight=m,this.domNode.style.fontWeight=h,this.domNode.style.fontFeatureSettings=n.fontFeatureSettings,this._type.style.fontFamily=s,this._close.style.height=m,this._close.style.width=m}getLayoutInfo(){const r=this._editor.getOption(105)||this._editor.getOption(40).lineHeight,n=this._borderWidth,s=n*2;return{lineHeight:r,borderWidth:n,borderHeight:s,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=v.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(r,n){var s,t;this._renderDisposeable.clear();let{detail:o,documentation:h}=r.completion;if(n){let f="";f+=`score: ${r.score[0]}
`,f+=`prefix: ${(s=r.word)!==null&&s!==void 0?s:"(no prefix)"}
`,f+=`word: ${r.completion.filterText?r.completion.filterText+" (filterText)":r.textLabel}
`,f+=`distance: ${r.distance} (localityBonus-setting)
`,f+=`index: ${r.idx}, based on ${r.completion.sortText&&`sortText: "${r.completion.sortText}"`||"label"}
`,f+=`commit_chars: ${(t=r.completion.commitCharacters)===null||t===void 0?void 0:t.join("")}
`,h=new p.MarkdownString().appendCodeblock("empty",f),o=`Provider: ${r.provider._debugDisplayName}`}if(!n&&!a(r)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),o){const f=o.length>1e5?`${o.substr(0,1e5)}\u2026`:o;this._type.textContent=f,this._type.title=f,k.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(f))}else k.clearNode(this._type),this._type.title="",k.hide(this._type),this.domNode.classList.add("no-type");if(k.clearNode(this._docs),typeof h=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=h;else if(h){this._docs.classList.add("markdown-docs"),k.clearNode(this._docs);const f=this._markdownRenderer.render(h);this._docs.appendChild(f.element),this._renderDisposeable.add(f),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=f=>{f.preventDefault(),f.stopPropagation()},this._close.onclick=f=>{f.preventDefault(),f.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(r,n){const s=new k.Dimension(r,n);k.Dimension.equals(s,this._size)||(this._size=s,k.size(this.domNode,r,n)),this._scrollbar.scanDomNode()}scrollDown(r=8){this._body.scrollTop+=r}scrollUp(r=8){this._body.scrollTop-=r}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(r){this._borderWidth=r}get borderWidth(){return this._borderWidth}};l=Me([_e(1,u.IInstantiationService)],l),e.SuggestDetailsWidget=l;class c{constructor(r,n){this.widget=r,this._editor=n,this._disposables=new I.DisposableStore,this._added=!1,this._resizable=new _.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(r.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let s,t,o=0,h=0;this._disposables.add(this._resizable.onDidWillResize(()=>{s=this._topLeft,t=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(f=>{if(s&&t){this.widget.layout(f.dimension.width,f.dimension.height);let m=!1;f.west&&(h=t.width-f.dimension.width,m=!0),f.north&&(o=t.height-f.dimension.height,m=!0),m&&this._applyTopLeft({top:s.top+o,left:s.left+h})}f.done&&(s=void 0,t=void 0,o=0,h=0,this._userSize=f.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var f;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(f=this._userSize)!==null&&f!==void 0?f:this.widget.size)}))}dispose(){this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(r=!1){this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),r&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(r){var n;const s=k.getDomNodePagePosition(r);this._anchorBox=s,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size)}_placeAtAnchor(r,n){const s=k.getClientArea(document.body),t=this.widget.getLayoutInfo();let o,h,f=new k.Dimension(220,2*t.lineHeight),m=0,g=r.top,b=r.top+r.height-t.borderHeight,y,L,N=s.width-(r.left+r.width+t.borderWidth+t.horizontalPadding);m=-t.borderWidth+r.left+r.width,L=!0,o=new k.Dimension(N,s.height-r.top-t.borderHeight-t.verticalPadding),h=o.with(void 0,r.top+r.height-t.borderHeight-t.verticalPadding),n.width>N&&(r.left>N&&(N=r.left-t.borderWidth-t.horizontalPadding,L=!1,m=Math.max(t.horizontalPadding,r.left-n.width-t.borderWidth),o=o.with(N),h=o.with(void 0,h.height)),r.width>N*1.3&&s.height-(r.top+r.height)>r.height&&(N=r.width,m=r.left,g=-t.borderWidth+r.top+r.height,o=new k.Dimension(r.width-t.borderHeight,s.height-r.top-r.height-t.verticalPadding),h=o.with(void 0,r.top-t.verticalPadding),f=f.with(o.width)));let M=n.height,D=Math.max(o.height,h.height);M>D&&(M=D);let R;M<=o.height?(y=!0,R=o):(y=!1,R=h),this._applyTopLeft({left:m,top:y?g:b-M}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!y,L,y,!L),this._resizable.minSize=f,this._resizable.maxSize=R,this._resizable.layout(M,Math.min(R.width,n.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(r){this._topLeft=r,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=c}),define(te[57],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=void 0;class I{constructor(w){this.callback=w}report(w){this._value=w,this.callback(this._value)}}e.Progress=I,I.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,v.createDecorator)("editorProgressService")}),define(te[509],ie([0,1,24,2,15]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var w;(function(i){i[i.NO_ACTION=0]="NO_ACTION",i[i.CLOSE_PICKER=1]="CLOSE_PICKER",i[i.REFRESH_PICKER=2]="REFRESH_PICKER",i[i.REMOVE_ITEM=3]="REMOVE_ITEM"})(w=e.TriggerAction||(e.TriggerAction={}));function S(i){const _=i;return Array.isArray(_.items)}function p(i){const _=i;return!!_.picks&&_.additionalPicks instanceof Promise}class C extends I.Disposable{constructor(_,u){super();this.prefix=_,this.options=u}provide(_,u){var a;const l=new I.DisposableStore;_.canAcceptInBackground=!!((a=this.options)===null||a===void 0?void 0:a.canAcceptInBackground),_.matchOnLabel=_.matchOnDescription=_.matchOnDetail=_.sortByLabel=!1;let c;const d=l.add(new I.MutableDisposable),r=()=>De(this,void 0,void 0,function*(){const n=d.value=new I.DisposableStore;c==null||c.dispose(!0),_.busy=!1,c=new v.CancellationTokenSource(u);const s=c.token,t=_.value.substr(this.prefix.length).trim(),o=this.getPicks(t,n,s),h=(f,m)=>{var g;let b,y;if(S(f)?(b=f.items,y=f.active):b=f,b.length===0){if(m)return!1;t.length>0&&((g=this.options)===null||g===void 0?void 0:g.noResultsPick)&&(b=[this.options.noResultsPick])}return _.items=b,y&&(_.activeItems=[y]),!0};if(o!==null)if(p(o)){let f=!1,m=!1;yield Promise.all([(()=>De(this,void 0,void 0,function*(){yield(0,k.timeout)(C.FAST_PICKS_RACE_DELAY),!s.isCancellationRequested&&(m||(f=h(o.picks,!0)))}))(),(()=>De(this,void 0,void 0,function*(){_.busy=!0;try{const g=yield o.additionalPicks;if(s.isCancellationRequested)return;let b,y;S(o.picks)?(b=o.picks.items,y=o.picks.active):b=o.picks;let L,N;if(S(g)?(L=g.items,N=g.active):L=g,L.length>0||!f){let M;if(!y&&!N){const D=_.activeItems[0];D&&b.indexOf(D)!==-1&&(M=D)}h({items:[...b,...L],active:y||N||M})}}finally{s.isCancellationRequested||(_.busy=!1),m=!0}}))()])}else if(!(o instanceof Promise))h(o);else{_.busy=!0;try{const f=yield o;if(s.isCancellationRequested)return;h(f)}finally{s.isCancellationRequested||(_.busy=!1)}}});return l.add(_.onDidChangeValue(()=>r())),r(),l.add(_.onDidAccept(n=>{const[s]=_.selectedItems;typeof(s==null?void 0:s.accept)=="function"&&(n.inBackground||_.hide(),s.accept(_.keyMods,n))})),l.add(_.onDidTriggerItemButton(({button:n,item:s})=>De(this,void 0,void 0,function*(){var t,o;if(typeof s.trigger=="function"){const h=(o=(t=s.buttons)===null||t===void 0?void 0:t.indexOf(n))!==null&&o!==void 0?o:-1;if(h>=0){const f=s.trigger(h,_.keyMods),m=typeof f=="number"?f:yield f;if(u.isCancellationRequested)return;switch(m){case w.NO_ACTION:break;case w.CLOSE_PICKER:_.hide();break;case w.REFRESH_PICKER:r();break;case w.REMOVE_ITEM:const g=_.items.indexOf(s);if(g!==-1){const b=_.items.slice();b.splice(g,1),_.items=b}break}}}}))),l}}e.PickerQuickAccessProvider=C,C.FAST_PICKS_RACE_DELAY=200});var mt=this&&this.__createBinding||(Object.create?function($,e,v,I){I===void 0&&(I=v),Object.defineProperty($,I,{enumerable:!0,get:function(){return e[v]}})}:function($,e,v,I){I===void 0&&(I=v),$[I]=e[v]}),pt=this&&this.__exportStar||function($,e){for(var v in $)v!=="default"&&!Object.prototype.hasOwnProperty.call(e,v)&&mt(e,$,v)};define(te[79],ie([0,1,9,249]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,pt(I,e),e.IQuickInputService=(0,v.createDecorator)("quickInputService")}),define(te[32],ie([0,1,20,265]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class k{constructor(){this.data=new Map}add(S,p){I.ok(v.isString(S)),I.ok(v.isObject(p)),I.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,p)}as(S){return this.data.get(S)||null}}e.Registry=new k}),define(te[123],ie([0,1,343,6,18,42,32]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_LANGUAGE_IDENTIFIER=e.PLAINTEXT_EXTENSION=e.PLAINTEXT_MODE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class p{constructor(){this._onDidChangeLanguages=new I.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(i){return this._languages.push(i),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let _=0,u=this._languages.length;_<u;_++)if(this._languages[_]===i){this._languages.splice(_,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}e.EditorModesRegistry=p,e.ModesRegistry=new p,S.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_MODE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.PLAINTEXT_LANGUAGE_IDENTIFIER=new k.LanguageIdentifier(e.PLAINTEXT_MODE_ID,1),e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_MODE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[v.localize(0,null),"text"],mimetypes:["text/plain"]}),w.LanguageConfigurationRegistry.register(e.PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0)}),define(te[513],ie([0,1,45,46,123,208]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.detectModeId=e.getIconClasses=void 0;function S(i,_,u,a){const l=a===w.FileKind.ROOT_FOLDER?["rootfolder-icon"]:a===w.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(u){let c;if(u.scheme===v.Schemas.data?c=I.DataUri.parseMetaData(u).get(I.DataUri.META_DATA_LABEL):c=C((0,I.basenameOrAuthority)(u).toLowerCase()),a===w.FileKind.FOLDER)l.push(`${c}-name-folder-icon`);else{if(c){if(l.push(`${c}-name-file-icon`),c.length<=255){const r=c.split(".");for(let n=1;n<r.length;n++)l.push(`${r.slice(n).join(".")}-ext-file-icon`)}l.push("ext-file-icon")}const d=p(i,_,u);d&&l.push(`${C(d)}-lang-file-icon`)}}return l}e.getIconClasses=S;function p(i,_,u){if(!u)return null;let a=null;if(u.scheme===v.Schemas.data){const c=I.DataUri.parseMetaData(u).get(I.DataUri.META_DATA_MIME);c&&(a=_.getModeId(c))}else{const l=i.getModel(u);l&&(a=l.getModeId())}return a&&a!==k.PLAINTEXT_MODE_ID?a:_.getModeIdByFilepathOrFirstLine(u)}e.detectModeId=p;function C(i){return i.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=C}),define(te[171],ie([0,1,32,6]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function k(p){return p.length>0&&p.charAt(p.length-1)==="#"?p.substring(0,p.length-1):p}class w{constructor(){this._onDidChangeSchema=new I.Emitter,this.schemasById={}}registerSchema(C,i){this.schemasById[k(C)]=i,this._onDidChangeSchema.fire(C)}notifySchemaChanged(C){this._onDidChangeSchema.fire(C)}}const S=new w;v.Registry.add(e.Extensions.JSONContribution,S)}),define(te[88],ie([0,1,408,6,32,20,171]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifierFromKey=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const p=k.Registry.as(S.Extensions.JSONContribution);class C{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new I.Emitter,this._onDidUpdateConfiguration=new I.Emitter,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:v.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(d,r=!0){this.registerConfigurations([d],r)}registerConfigurations(d,r=!0){const n=[];d.forEach(s=>{n.push(...this.validateAndRegisterProperties(s,r,s.extensionInfo)),this.configurationContributors.push(s),this.registerJSONConfiguration(s)}),p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(n)}registerOverrideIdentifiers(d){for(const r of d)this.overrideIdentifiers.add(r);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(d,r=!0,n,s=3){var t;s=w.isUndefinedOrNull(d.scope)?s:d.scope;let o=[],h=d.properties;if(h)for(let m in h){if(r&&l(m)){delete h[m];continue}const g=h[m];if(this.updatePropertyDefaultValue(m,g),e.OVERRIDE_PROPERTY_PATTERN.test(m)?g.scope=void 0:(g.scope=w.isUndefinedOrNull(g.scope)?s:g.scope,g.requireTrust=w.isUndefinedOrNull(g.requireTrust)?!!((t=n==null?void 0:n.requireTrustForConfigurations)===null||t===void 0?void 0:t.includes(m)):g.requireTrust),h[m].hasOwnProperty("included")&&!h[m].included){this.excludedConfigurationProperties[m]=h[m],delete h[m];continue}else this.configurationProperties[m]=h[m];!h[m].deprecationMessage&&h[m].markdownDeprecationMessage&&(h[m].deprecationMessage=h[m].markdownDeprecationMessage),o.push(m)}let f=d.allOf;if(f)for(let m of f)o.push(...this.validateAndRegisterProperties(m,r,n,s));return o}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(d){const r=n=>{let s=n.properties;if(s)for(const o in s)this.updateSchema(o,s[o]);let t=n.allOf;t&&t.forEach(r)};r(d)}updateSchema(d,r){switch(e.allSettings.properties[d]=r,r.scope){case 1:e.applicationSettings.properties[d]=r;break;case 2:e.machineSettings.properties[d]=r;break;case 6:e.machineOverridableSettings.properties[d]=r;break;case 3:e.windowSettings.properties[d]=r;break;case 4:e.resourceSettings.properties[d]=r;break;case 5:e.resourceSettings.properties[d]=r,this.resourceLanguageSettingsSchema.properties[d]=r;break}}updateOverridePropertyPatternKey(){for(const d of this.overrideIdentifiers.values()){const r=`[${d}]`,n={type:"object",description:v.localize(1,null),errorMessage:v.localize(2,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(r,n),e.allSettings.properties[r]=n,e.applicationSettings.properties[r]=n,e.machineSettings.properties[r]=n,e.machineOverridableSettings.properties[r]=n,e.windowSettings.properties[r]=n,e.resourceSettings.properties[r]=n}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(d,r){let n=this.defaultValues[d];w.isUndefined(n)&&(n=r.default),w.isUndefined(n)&&(n=u(r.type)),r.default=n}}const i="\\[.*\\]$";e.OVERRIDE_PROPERTY_PATTERN=new RegExp(i);function _(c){return c.substring(1,c.length-1)}e.overrideIdentifierFromKey=_;function u(c){switch(Array.isArray(c)?c[0]:c){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=u;const a=new C;k.Registry.add(e.Extensions.Configuration,a);function l(c){return c.trim()?e.OVERRIDE_PROPERTY_PATTERN.test(c)?v.localize(4,null,c):a.getConfigurationProperties()[c]!==void 0?v.localize(5,null,c):null:v.localize(3,null)}e.validateProperty=l}),define(te[161],ie([0,1,336,6,2,43,19,38,129,190,88,32,261]),function($,e,v,I,k,w,S,p,C,i,_,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=e.CommonEditorConfiguration=e.ComputedEditorOptions=e.TabFocus=void 0,e.TabFocus=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new I.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(L){this._tabFocus!==L&&(this._tabFocus=L,this._onDidChangeTabFocus.fire(this._tabFocus))}};const l=Object.hasOwnProperty;class c{constructor(){this._values=[]}_read(N){return this._values[N]}get(N){return this._values[N]}_write(N,M){this._values[N]=M}}e.ComputedEditorOptions=c;class d{constructor(){this._values=[]}_read(N){return this._values[N]}_write(N,M){this._values[N]=M}}class r{static readOptions(N){const M=N,D=new d;for(const R of p.editorOptionsRegistry){const P=R.name==="_never_"?void 0:M[R.name];D._write(R.id,P)}return D}static validateOptions(N){const M=new p.ValidatedEditorOptions;for(const D of p.editorOptionsRegistry)M._write(D.id,D.validate(N._read(D.id)));return M}static computeOptions(N,M){const D=new c;for(const R of p.editorOptionsRegistry)D._write(R.id,R.compute(M,D,N._read(R.id)));return D}static _deepEquals(N,M){if(typeof N!="object"||typeof M!="object")return N===M;if(Array.isArray(N)||Array.isArray(M))return Array.isArray(N)&&Array.isArray(M)?S.equals(N,M):!1;for(let D in N)if(!r._deepEquals(N[D],M[D]))return!1;return!0}static checkEquals(N,M){const D=[];let R=!1;for(const P of p.editorOptionsRegistry){const O=!r._deepEquals(N._read(P.id),M._read(P.id));D[P.id]=O,O&&(R=!0)}return R?new p.ConfigurationChangedEvent(D):null}}function n(L){const N=L.wordWrap;N===!0?L.wordWrap="on":N===!1&&(L.wordWrap="off");const M=L.lineNumbers;M===!0?L.lineNumbers="on":M===!1&&(L.lineNumbers="off"),L.autoClosingBrackets===!1&&(L.autoClosingBrackets="never",L.autoClosingQuotes="never",L.autoSurround="never"),L.cursorBlinking==="visible"&&(L.cursorBlinking="solid");const P=L.renderWhitespace;P===!0?L.renderWhitespace="boundary":P===!1&&(L.renderWhitespace="none");const O=L.renderLineHighlight;O===!0?L.renderLineHighlight="line":O===!1&&(L.renderLineHighlight="none");const W=L.acceptSuggestionOnEnter;W===!0?L.acceptSuggestionOnEnter="on":W===!1&&(L.acceptSuggestionOnEnter="off");const F=L.tabCompletion;F===!1?L.tabCompletion="off":F===!0&&(L.tabCompletion="onlySnippets");const E=L.suggest;if(E&&typeof E.filteredTypes=="object"&&E.filteredTypes){const K={};K.method="showMethods",K.function="showFunctions",K.constructor="showConstructors",K.field="showFields",K.variable="showVariables",K.class="showClasses",K.struct="showStructs",K.interface="showInterfaces",K.module="showModules",K.property="showProperties",K.event="showEvents",K.operator="showOperators",K.unit="showUnits",K.value="showValues",K.constant="showConstants",K.enum="showEnums",K.enumMember="showEnumMembers",K.keyword="showKeywords",K.text="showWords",K.color="showColors",K.file="showFiles",K.reference="showReferences",K.folder="showFolders",K.typeParameter="showTypeParameters",K.snippet="showSnippets",(0,a.forEach)(K,G=>{const J=E.filteredTypes[G.key];J===!1&&(E[G.value]=J)})}const A=L.hover;A===!0?L.hover={enabled:!0}:A===!1&&(L.hover={enabled:!1});const B=L.parameterHints;B===!0?L.parameterHints={enabled:!0}:B===!1&&(L.parameterHints={enabled:!1});const z=L.autoIndent;z===!0?L.autoIndent="full":z===!1&&(L.autoIndent="advanced");const U=L.matchBrackets;U===!0?L.matchBrackets="always":U===!1&&(L.matchBrackets="never")}function s(L){const N=w.deepClone(L);return n(N),N}class t extends k.Disposable{constructor(N,M){super();this._onDidChange=this._register(new I.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new I.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=N,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new p.ComputeOptionsMemory,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=s(M),this._readOptions=r.readOptions(this._rawOptions),this._validatedOptions=r.validateOptions(this._readOptions),this._register(C.EditorZoom.onDidChangeZoomLevel(D=>this._recomputeOptions())),this._register(e.TabFocus.onDidChangeTabFocus(D=>this._recomputeOptions()))}observeReferenceElement(N){}updatePixelRatio(){}_recomputeOptions(){const N=this.options,M=this._computeInternalOptions();if(!N)this.options=M;else{const D=r.checkEquals(N,M);if(D===null)return;this.options=M,this._onDidChangeFast.fire(D),this._onDidChange.fire(D)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const N=this._getEnvConfiguration(),M=i.BareFontInfo.createFromValidatedSettings(this._validatedOptions,N.zoomLevel,N.pixelRatio,this.isSimpleWidget),D={memory:this._computeOptionsMemory,outerWidth:N.outerWidth,outerHeight:N.outerHeight,fontInfo:this.readConfiguration(M),extraEditorClassName:N.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:N.emptySelectionClipboard,pixelRatio:N.pixelRatio,tabFocusMode:e.TabFocus.getTabFocusMode(),accessibilitySupport:N.accessibilitySupport};return r.computeOptions(this._validatedOptions,D)}static _subsetEquals(N,M){for(const D in M)if(l.call(M,D)){const R=M[D],P=N[D];if(P===R)continue;if(Array.isArray(P)&&Array.isArray(R)){if(!S.equals(P,R))return!1;continue}if(P&&typeof P=="object"&&R&&typeof R=="object"){if(!this._subsetEquals(P,R))return!1;continue}return!1}return!0}updateOptions(N){if(typeof N!="undefined"){const M=s(N);t._subsetEquals(this._rawOptions,M)||(this._rawOptions=w.mixin(this._rawOptions,M||{}),this._readOptions=r.readOptions(this._rawOptions),this._validatedOptions=r.validateOptions(this._readOptions),this._recomputeOptions())}}setIsDominatedByLongLines(N){this._isDominatedByLongLines=N,this._recomputeOptions()}setMaxLineNumber(N){const M=t._digitCount(N);this._lineNumbersDigitCount!==M&&(this._lineNumbersDigitCount=M,this._recomputeOptions())}setViewLineCount(N){this._viewLineCount!==N&&(this._viewLineCount=N,this._recomputeOptions())}static _digitCount(N){let M=0;for(;N;)N=Math.floor(N/10),M++;return M||1}}e.CommonEditorConfiguration=t,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:v.localize(0,null),scope:5});const o=u.Registry.as(_.Extensions.Configuration),h=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:p.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:v.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:v.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:v.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:v.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:v.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:v.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[v.localize(7,null),v.localize(8,null),v.localize(9,null)],description:v.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[v.localize(11,null),v.localize(12,null),v.localize(13,null)],default:"configuredByTheme",description:v.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:v.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:v.localize(16,null)},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:v.localize(17,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:v.localize(18,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:v.localize(19,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:v.localize(20,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:v.localize(21,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[v.localize(22,null),v.localize(23,null),v.localize(24,null)]}}});function f(L){return typeof L.type!="undefined"||typeof L.anyOf!="undefined"}for(const L of p.editorOptionsRegistry){const N=L.schema;if(typeof N!="undefined")if(f(N))h.properties[`editor.${L.name}`]=N;else for(let M in N)l.call(N,M)&&(h.properties[M]=N[M])}let m=null;function g(){return m===null&&(m=Object.create(null),Object.keys(h.properties).forEach(L=>{m[L]=!0})),m}function b(L){return g()[`editor.${L}`]||!1}e.isEditorConfigurationKey=b;function y(L){return g()[`diffEditor.${L}`]||!1}e.isDiffEditorConfigurationKey=y,o.registerConfiguration(h)}),define(te[71],ie([0,1,36,6,2,17,439,235,161,38,190]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=e.clearAllFontInfos=void 0;class u{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(r){const n=r.getId();return!!this._values[n]}get(r){const n=r.getId();return this._values[n]}put(r,n){const s=r.getId();this._keys[s]=r,this._values[s]=n}remove(r){const n=r.getId();delete this._keys[n],delete this._values[n]}getValues(){return Object.keys(this._keys).map(r=>this._values[r])}}function a(){l.INSTANCE.clearCache()}e.clearAllFontInfos=a;class l extends k.Disposable{constructor(){super();this._onDidChange=this._register(new I.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new u,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new u,this._onDidChange.fire()}_writeToCache(r,n){this._cache.put(r,n),!n.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const r=this._cache.getValues();let n=!1;for(const s of r)s.isTrusted||(n=!0,this._cache.remove(s));n&&this._onDidChange.fire()}readConfiguration(r){if(!this._cache.has(r)){let n=l._actualReadConfiguration(r);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new _.FontInfo({zoomLevel:v.getZoomLevel(),pixelRatio:v.getPixelRatio(),fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(r,n)}return this._cache.get(r)}static createRequest(r,n,s,t){const o=new S.CharWidthRequest(r,n);return s.push(o),t&&t.push(o),o}static _actualReadConfiguration(r){const n=[],s=[],t=this.createRequest("n",0,n,s),o=this.createRequest("\uFF4D",0,n,null),h=this.createRequest(" ",0,n,s),f=this.createRequest("0",0,n,s),m=this.createRequest("1",0,n,s),g=this.createRequest("2",0,n,s),b=this.createRequest("3",0,n,s),y=this.createRequest("4",0,n,s),L=this.createRequest("5",0,n,s),N=this.createRequest("6",0,n,s),M=this.createRequest("7",0,n,s),D=this.createRequest("8",0,n,s),R=this.createRequest("9",0,n,s),P=this.createRequest("\u2192",0,n,s),O=this.createRequest("\uFFEB",0,n,null),W=this.createRequest("\xB7",0,n,s),F=this.createRequest(String.fromCharCode(11825),0,n,null);this.createRequest("|",0,n,s),this.createRequest("/",0,n,s),this.createRequest("-",0,n,s),this.createRequest("_",0,n,s),this.createRequest("i",0,n,s),this.createRequest("l",0,n,s),this.createRequest("m",0,n,s),this.createRequest("|",1,n,s),this.createRequest("_",1,n,s),this.createRequest("i",1,n,s),this.createRequest("l",1,n,s),this.createRequest("m",1,n,s),this.createRequest("n",1,n,s),this.createRequest("|",2,n,s),this.createRequest("_",2,n,s),this.createRequest("i",2,n,s),this.createRequest("l",2,n,s),this.createRequest("m",2,n,s),this.createRequest("n",2,n,s),(0,S.readCharWidths)(r,n);const E=Math.max(f.width,m.width,g.width,b.width,y.width,L.width,N.width,M.width,D.width,R.width);let A=r.fontFeatureSettings===i.EditorFontLigatures.OFF;const B=s[0].width;for(let K=1,G=s.length;A&&K<G;K++){const J=B-s[K].width;if(J<-.001||J>.001){A=!1;break}}let z=!0;A&&O.width!==B&&(z=!1),O.width>P.width&&(z=!1);const U=v.getTimeSinceLastZoomLevelChanged()>2e3;return new _.FontInfo({zoomLevel:v.getZoomLevel(),pixelRatio:v.getPixelRatio(),fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:A,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:z,spaceWidth:h.width,middotWidth:W.width,wsmiddotWidth:F.width,maxDigitWidth:E},U)}}l.INSTANCE=new l;class c extends C.CommonEditorConfiguration{constructor(r,n,s=null,t){super(r,n);this.accessibilityService=t,this._elementSizeObserver=this._register(new p.ElementSizeObserver(s,n.dimension,()=>this._recomputeOptions())),this._register(l.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(v.onDidChangeZoomLevel(o=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(r,n){r.style.fontFamily=n.getMassagedFontFamily(),r.style.fontWeight=n.fontWeight,r.style.fontSize=n.fontSize+"px",r.style.fontFeatureSettings=n.fontFeatureSettings,r.style.lineHeight=n.lineHeight+"px",r.style.letterSpacing=n.letterSpacing+"px"}static applyFontInfo(r,n){r.setFontFamily(n.getMassagedFontFamily()),r.setFontWeight(n.fontWeight),r.setFontSize(n.fontSize),r.setFontFeatureSettings(n.fontFeatureSettings),r.setLineHeight(n.lineHeight),r.setLetterSpacing(n.letterSpacing)}observeReferenceElement(r){this._elementSizeObserver.observe(r)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let r="";return!v.isSafari&&!v.isWebkitWebView&&(r+="no-user-select "),v.isSafari&&(r+="no-minimap-shadow "),w.isMacintosh&&(r+="mac "),r}_getEnvConfiguration(){return{extraEditorClassName:c._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:v.isWebKit||v.isFirefox,pixelRatio:v.getPixelRatio(),zoomLevel:v.getZoomLevel(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(r){return l.INSTANCE.readConfiguration(r)}}e.Configuration=c}),define(te[518],ie([0,1,92,8,71,64]),function($,e,v,I,k,w){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const p=(S=window.trustedTypes)===null||S===void 0?void 0:S.createPolicy("domLineBreaksComputer",{createHTML:c=>c});class C{static create(){return new C}constructor(){}createLineBreaksComputer(d,r,n,s){r=r|0,n=+n;let t=[];return{addRequest:(o,h)=>{t.push(o)},finalize:()=>i(t,d,r,n,s)}}}e.DOMLineBreaksComputerFactory=C;function i(c,d,r,n,s){var t;if(n===-1){const O=[];for(let W=0,F=c.length;W<F;W++)O[W]=null;return O}const o=Math.round(n*d.typicalHalfwidthCharacterWidth);(s===2||s===3)&&(s=1);const h=document.createElement("div");k.Configuration.applyFontInfoSlow(h,d);const f=(0,v.createStringBuilder)(1e4),m=[],g=[],b=[],y=[],L=[];for(let O=0;O<c.length;O++){const W=c[O];let F=0,E=0,A=o;if(s!==0)if(F=I.firstNonWhitespaceIndex(W),F===-1)F=0;else{for(let K=0;K<F;K++)E+=W.charCodeAt(K)===9?r-E%r:1;const U=Math.ceil(d.spaceWidth*E);U+d.typicalFullwidthCharacterWidth>o?(F=0,E=0):A=o-U}const B=W.substr(F),z=_(B,E,r,A,f);m[O]=F,g[O]=E,b[O]=B,y[O]=z[0],L[O]=z[1]}const N=f.build(),M=(t=p==null?void 0:p.createHTML(N))!==null&&t!==void 0?t:N;h.innerHTML=M,h.style.position="absolute",h.style.top="10000",h.style.wordWrap="break-word",document.body.appendChild(h);let D=document.createRange();const R=Array.prototype.slice.call(h.children,0);let P=[];for(let O=0;O<c.length;O++){const W=R[O],F=u(D,W,b[O],y[O]);if(F===null){P[O]=null;continue}const E=m[O],A=g[O],B=L[O],z=[];for(let U=0,K=F.length;U<K;U++)z[U]=B[F[U]];if(E!==0)for(let U=0,K=F.length;U<K;U++)F[U]+=E;P[O]=new w.LineBreakData(F,z,A)}return document.body.removeChild(h),P}function _(c,d,r,n,s){s.appendASCIIString('<div style="width:'),s.appendASCIIString(String(n)),s.appendASCIIString('px;">');const t=c.length;let o=d,h=0,f=[],m=[],g=0<t?c.charCodeAt(0):0;s.appendASCIIString("<span>");for(let b=0;b<t;b++){b!==0&&b%16384==0&&s.appendASCIIString("</span><span>"),f[b]=h,m[b]=o;const y=g;g=b+1<t?c.charCodeAt(b+1):0;let L=1,N=1;switch(y){case 9:L=r-o%r,N=L;for(let M=1;M<=L;M++)M<L?s.write1(160):s.appendASCII(32);break;case 32:g===32?s.write1(160):s.appendASCII(32);break;case 60:s.appendASCIIString("&lt;");break;case 62:s.appendASCIIString("&gt;");break;case 38:s.appendASCIIString("&amp;");break;case 0:s.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:s.write1(65533);break;default:I.isFullWidthCharacter(y)&&N++,y<32?s.write1(9216+y):s.write1(y)}h+=L,o+=N}return s.appendASCIIString("</span>"),f[c.length]=h,m[c.length]=o,s.appendASCIIString("</div>"),[f,m]}function u(c,d,r,n){if(r.length<=1)return null;const s=Array.prototype.slice.call(d.children,0),t=[];try{a(c,s,n,0,null,r.length-1,null,t)}catch(o){return console.log(o),null}return t.length===0?null:(t.push(r.length),t)}function a(c,d,r,n,s,t,o,h){if(n!==t&&(s=s||l(c,d,r[n],r[n+1]),o=o||l(c,d,r[t],r[t+1]),!(Math.abs(s[0].top-o[0].top)<=.1))){if(n+1===t){h.push(t);return}const f=n+(t-n)/2|0,m=l(c,d,r[f],r[f+1]);a(c,d,r,n,s,f,m,h),a(c,d,r,f,m,t,o,h)}}function l(c,d,r,n){return c.setStart(d[r/16384|0].firstChild,r%16384),c.setEnd(d[n/16384|0].firstChild,n%16384),c.getClientRects()}}),define(te[519],ie([0,1,30,71,174,47]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends w.ViewPart{constructor(u){super(u);this._visibleLines=new k.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let u=0,a=this._dynamicOverlays.length;u<a;u++)if(this._dynamicOverlays[u].shouldRender())return!0;return!1}dispose(){super.dispose();for(let u=0,a=this._dynamicOverlays.length;u<a;u++)this._dynamicOverlays[u].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new p(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(u){this._dynamicOverlays.push(u)}onConfigurationChanged(u){this._visibleLines.onConfigurationChanged(u);const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let c=a;c<=l;c++)this._visibleLines.getVisibleLine(c).onConfigurationChanged(u);return!0}onFlushed(u){return this._visibleLines.onFlushed(u)}onFocusChanged(u){return this._isFocused=u.isFocused,!0}onLinesChanged(u){return this._visibleLines.onLinesChanged(u)}onLinesDeleted(u){return this._visibleLines.onLinesDeleted(u)}onLinesInserted(u){return this._visibleLines.onLinesInserted(u)}onScrollChanged(u){return this._visibleLines.onScrollChanged(u)||!0}onTokensChanged(u){return this._visibleLines.onTokensChanged(u)}onZonesChanged(u){return this._visibleLines.onZonesChanged(u)}prepareRender(u){const a=this._dynamicOverlays.filter(l=>l.shouldRender());for(let l=0,c=a.length;l<c;l++){const d=a[l];d.prepareRender(u),d.onDidRender()}}render(u){this._viewOverlaysRender(u),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(u){this._visibleLines.renderLines(u.viewportData)}}e.ViewOverlays=S;class p{constructor(u,a){this._configuration=u,this._lineHeight=this._configuration.options.get(55),this._dynamicOverlays=a,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(u){this._domNode=(0,v.createFastDomNode)(u)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(u){this._lineHeight=this._configuration.options.get(55)}renderLine(u,a,l,c){let d="";for(let r=0,n=this._dynamicOverlays.length;r<n;r++)d+=this._dynamicOverlays[r].render(l.startLineNumber,u);return this._renderedContent===d?!1:(this._renderedContent=d,c.appendASCIIString('<div style="position:absolute;top:'),c.appendASCIIString(String(a)),c.appendASCIIString("px;width:100%;height:"),c.appendASCIIString(String(this._lineHeight)),c.appendASCIIString('px;">'),c.appendASCIIString(d),c.appendASCIIString("</div>"),!0)}layoutLine(u,a){this._domNode&&(this._domNode.setTop(a),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=p;class C extends S{constructor(u){super(u);const l=this._context.configuration.options.get(126);this._contentWidth=l.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(u){const l=this._context.configuration.options.get(126);return this._contentWidth=l.contentWidth,super.onConfigurationChanged(u)||!0}onScrollChanged(u){return super.onScrollChanged(u)||u.scrollWidthChanged}_viewOverlaysRender(u){super._viewOverlaysRender(u),this.domNode.setWidth(Math.max(u.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=C;class i extends S{constructor(u){super(u);const a=this._context.configuration.options,l=a.get(126);this._contentLeft=l.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),I.Configuration.applyFontInfo(this.domNode,a.get(40))}onConfigurationChanged(u){const a=this._context.configuration.options;I.Configuration.applyFontInfo(this.domNode,a.get(40));const l=a.get(126);return this._contentLeft=l.contentLeft,super.onConfigurationChanged(u)||!0}onScrollChanged(u){return super.onScrollChanged(u)||u.scrollHeightChanged}_viewOverlaysRender(u){super._viewOverlaysRender(u);const a=Math.min(u.scrollHeight,1e6);this.domNode.setHeight(a),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=i}),define(te[520],ie([0,1,7,30,8,71,38,14,3,133]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class _{constructor(l,c,d,r,n,s){this.top=l,this.left=c,this.width=d,this.height=r,this.textContent=n,this.textContentClassName=s}}class u{constructor(l){this._context=l;const c=this._context.configuration.options,d=c.get(40);this._cursorStyle=c.get(22),this._lineHeight=c.get(55),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(25),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,I.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),w.Configuration.applyFontInfo(this._domNode,d),this._domNode.setDisplay("none"),this._position=new p.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(l){const c=this._context.configuration.options,d=c.get(40);return this._cursorStyle=c.get(22),this._lineHeight=c.get(55),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(25),this._typicalHalfwidthCharacterWidth),w.Configuration.applyFontInfo(this._domNode,d),!0}onCursorPositionChanged(l){return this._position=l,!0}_prepareRender(l){let c="";if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const g=l.visibleRangeForPosition(this._position);if(!g||g.outsideRenderedLine)return null;let b;if(this._cursorStyle===S.TextEditorCursorStyle.Line){if(b=v.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),b>2){const N=this._context.model.getLineContent(this._position.lineNumber),M=k.nextCharLength(N,this._position.column-1);c=N.substr(this._position.column-1,M)}}else b=v.computeScreenAwareSize(1);let y=g.left;b>=2&&y>=1&&(y-=1);const L=l.getVerticalOffsetForLineNumber(this._position.lineNumber)-l.bigNumbersDelta;return new _(L,y,b,this._lineHeight,c,"")}const d=this._context.model.getLineContent(this._position.lineNumber),r=k.nextCharLength(d,this._position.column-1),n=l.linesVisibleRangesForRange(new C.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+r),!1);if(!n||n.length===0)return null;const s=n[0];if(s.outsideRenderedLine||s.ranges.length===0)return null;const t=s.ranges[0],o=t.width<1?this._typicalHalfwidthCharacterWidth:t.width;let h="";if(this._cursorStyle===S.TextEditorCursorStyle.Block){const g=this._context.model.getViewLineData(this._position.lineNumber);c=d.substr(this._position.column-1,r);const b=g.tokens.findTokenIndexAtOffset(this._position.column-1);h=g.tokens.getClassName(b)}let f=l.getVerticalOffsetForLineNumber(this._position.lineNumber)-l.bigNumbersDelta,m=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(f+=this._lineHeight-2,m=2),new _(f,t.left,o,m,c,h)}prepareRender(l){this._renderData=this._prepareRender(l)}render(l){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=u}),define(te[521],ie([0,1,11,6,2,598,8,18,123,72,88,32]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=void 0;const a=Object.prototype.hasOwnProperty;class l extends k.Disposable{constructor(d=!0,r=!1){super();this._onDidChange=this._register(new I.Emitter),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=r,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},d&&(this._initializeFromRegistry(),this._register(C.ModesRegistry.onDidChangeLanguages(n=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const d=C.ModesRegistry.getLanguages();this._registerLanguages(d)}_registerLanguages(d){for(const r of d)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{let n=this._languages[r];n.name&&(this._nameMap[n.name]=n.identifier),n.aliases.forEach(s=>{this._lowercaseNameMap[s.toLowerCase()]=n.identifier}),n.mimetypes.forEach(s=>{this._mimeTypesMap[s]=n.identifier})}),u.Registry.as(_.Extensions.Configuration).registerOverrideIdentifiers(C.ModesRegistry.getLanguages().map(r=>r.id)),this._onDidChange.fire()}_getLanguageId(d){if(this._languageToLanguageId[d])return this._languageToLanguageId[d];const r=this._nextLanguageId2++;return this._languageIdToLanguage[r]=d,this._languageToLanguageId[d]=r,r}_registerLanguage(d){const r=d.id;let n;if(a.call(this._languages,r))n=this._languages[r];else{const s=this._getLanguageId(r);n={identifier:new p.LanguageIdentifier(r,s),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[r]=n}this._mergeLanguage(n,d)}_mergeLanguage(d,r){const n=r.id;let s=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(d.mimetypes.push(...r.mimetypes),s=r.mimetypes[0]),s||(s=`text/x-${n}`,d.mimetypes.push(s)),Array.isArray(r.extensions)){r.configuration?d.extensions=r.extensions.concat(d.extensions):d.extensions=d.extensions.concat(r.extensions);for(let h of r.extensions)w.registerTextMime({id:n,mime:s,extension:h},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(let h of r.filenames)w.registerTextMime({id:n,mime:s,filename:h},this._warnOnOverwrite),d.filenames.push(h);if(Array.isArray(r.filenamePatterns))for(let h of r.filenamePatterns)w.registerTextMime({id:n,mime:s,filepattern:h},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let h=r.firstLine;h.charAt(0)!=="^"&&(h="^"+h);try{let f=new RegExp(h);S.regExpLeadsToEndlessLoop(f)||w.registerTextMime({id:n,mime:s,firstline:f},this._warnOnOverwrite)}catch(f){(0,v.onUnexpectedError)(f)}}d.aliases.push(n);let t=null;if(typeof r.aliases!="undefined"&&Array.isArray(r.aliases)&&(r.aliases.length===0?t=[null]:t=r.aliases),t!==null)for(const h of t)!h||h.length===0||d.aliases.push(h);let o=t!==null&&t.length>0;if(!(o&&t[0]===null)){let h=(o?t[0]:null)||n;(o||!d.name)&&(d.name=h)}r.configuration&&d.configurationFiles.push(r.configuration)}isRegisteredMode(d){return a.call(this._mimeTypesMap,d)?!0:a.call(this._languages,d)}getModeIdForLanguageNameLowercase(d){return a.call(this._lowercaseNameMap,d)?this._lowercaseNameMap[d].language:null}extractModeIds(d){return d?d.split(",").map(r=>r.trim()).map(r=>a.call(this._mimeTypesMap,r)?this._mimeTypesMap[r].language:r).filter(r=>a.call(this._languages,r)):[]}getLanguageIdentifier(d){if(d===i.NULL_MODE_ID||d===0)return i.NULL_LANGUAGE_IDENTIFIER;let r;if(typeof d=="string")r=d;else if(r=this._languageIdToLanguage[d],!r)return null;return a.call(this._languages,r)?this._languages[r].identifier:null}getModeIdsFromFilepathOrFirstLine(d,r){if(!d&&!r)return[];let n=w.guessMimeTypes(d,r);return this.extractModeIds(n.join(","))}}e.LanguagesRegistry=l}),define(te[522],ie([0,1,6,2,502,72,521,19]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeServiceImpl=void 0;class C{constructor(u,a){this._selector=a,this.languageIdentifier=this._selector();let l;this._onDidChange=new v.Emitter({onFirstListenerAdd:()=>{l=u(()=>this._evaluate())},onLastListenerRemove:()=>{l.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let u=this._selector();u.id!==this.languageIdentifier.id&&(this.languageIdentifier=u,this._onDidChange.fire(this.languageIdentifier))}}class i extends I.Disposable{constructor(u=!1){super();this._onDidCreateMode=this._register(new v.Emitter),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new v.Emitter({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new S.LanguagesRegistry(!0,u)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(u){return this._registry.isRegisteredMode(u)}getModeIdForLanguageName(u){return this._registry.getModeIdForLanguageNameLowercase(u)}getModeIdByFilepathOrFirstLine(u,a){const l=this._registry.getModeIdsFromFilepathOrFirstLine(u,a);return(0,p.firstOrDefault)(l,null)}getModeId(u){const a=this._registry.extractModeIds(u);return(0,p.firstOrDefault)(a,null)}getLanguageIdentifier(u){return this._registry.getLanguageIdentifier(u)}create(u){return new C(this.onLanguagesMaybeChanged,()=>{const a=this.getModeId(u);return this._createModeAndGetLanguageIdentifier(a)})}createByFilepathOrFirstLine(u,a){return new C(this.onLanguagesMaybeChanged,()=>{const l=this.getModeIdByFilepathOrFirstLine(u,a);return this._createModeAndGetLanguageIdentifier(l)})}_createModeAndGetLanguageIdentifier(u){const a=this.getLanguageIdentifier(u||"plaintext")||w.NULL_LANGUAGE_IDENTIFIER;return this._getOrCreateMode(a.language),a}triggerMode(u){const a=this.getModeId(u);this._getOrCreateMode(a||"plaintext")}_getOrCreateMode(u){if(!this._instantiatedModes.hasOwnProperty(u)){let a=this.getLanguageIdentifier(u)||w.NULL_LANGUAGE_IDENTIFIER;this._instantiatedModes[u]=new k.FrankensteinMode(a),this._onDidCreateMode.fire(this._instantiatedModes[u])}return this._instantiatedModes[u]}}e.ModeServiceImpl=i}),define(te[44],ie([0,1,32,9,88]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultValues=e.getConfigurationKeys=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,I.createDecorator)("configurationService");function w(a,l){const c=Object.create(null);for(let d in a)S(c,d,a[d],l);return c}e.toValuesTree=w;function S(a,l,c,d){const r=l.split("."),n=r.pop();let s=a;for(let t=0;t<r.length;t++){let o=r[t],h=s[o];switch(typeof h){case"undefined":h=s[o]=Object.create(null);break;case"object":break;default:d(`Ignoring ${l} as ${r.slice(0,t+1).join(".")} is ${JSON.stringify(h)}`);return}s=h}if(typeof s=="object"&&s!==null)try{s[n]=c}catch(t){d(`Ignoring ${l} as ${r.join(".")} is ${JSON.stringify(s)}`)}else d(`Ignoring ${l} as ${r.join(".")} is ${JSON.stringify(s)}`)}e.addToValueTree=S;function p(a,l){const c=l.split(".");C(a,c)}e.removeFromValueTree=p;function C(a,l){const c=l.shift();if(l.length===0){delete a[c];return}if(Object.keys(a).indexOf(c)!==-1){const d=a[c];typeof d=="object"&&!Array.isArray(d)&&(C(d,l),Object.keys(d).length===0&&delete a[c])}}function i(a,l,c){function d(s,t){let o=s;for(const h of t){if(typeof o!="object"||o===null)return;o=o[h]}return o}const r=l.split("."),n=d(a,r);return typeof n=="undefined"?c:n}e.getConfigurationValue=i;function _(){const a=v.Registry.as(k.Extensions.Configuration).getConfigurationProperties();return Object.keys(a)}e.getConfigurationKeys=_;function u(){const a=Object.create(null),l=v.Registry.as(k.Extensions.Configuration).getConfigurationProperties();for(let c in l){let d=l[c].default;S(a,c,d,r=>console.error(`Conflict in default settings: ${r}`))}return a}e.getDefaultValues=u}),define(te[524],ie([0,1,2,65,6,16,44]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let p=class extends v.Disposable{constructor(i,_){super();this._contextKeyService=i,this._configurationService=_,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new k.Emitter,this._accessibilityModeEnabledContext=I.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const u=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.accessibilitySupport")&&(u(),this._onDidChangeScreenReaderOptimized.fire())})),u(),this.onDidChangeScreenReaderOptimized(()=>u())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const i=this._configurationService.getValue("editor.accessibilitySupport");return i==="on"||i==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};p=Me([_e(0,w.IContextKeyService),_e(1,S.IConfigurationService)],p),e.AccessibilityService=p}),define(te[525],ie([0,1,51,19,20,43,23,88,44]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class i{constructor(c={},d=[],r=[]){this._contents=c,this._keys=d,this._overrides=r,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(c){return c?(0,C.getConfigurationValue)(this.contents,c):this.contents}override(c){const d=this.getContentsForOverrideIdentifer(c);if(!d||typeof d!="object"||!Object.keys(d).length)return this;let r={};for(const n of I.distinct([...Object.keys(this.contents),...Object.keys(d)])){let s=this.contents[n],t=d[n];t&&(typeof s=="object"&&typeof t=="object"?(s=w.deepClone(s),this.mergeContents(s,t)):s=t),r[n]=s}return new i(r,this.keys,this.overrides)}merge(...c){const d=w.deepClone(this.contents),r=w.deepClone(this.overrides),n=[...this.keys];for(const s of c){this.mergeContents(d,s.contents);for(const t of s.overrides){const[o]=r.filter(h=>I.equals(h.identifiers,t.identifiers));o?this.mergeContents(o.contents,t.contents):r.push(w.deepClone(t))}for(const t of s.keys)n.indexOf(t)===-1&&n.push(t)}return new i(d,n,r)}freeze(){return this.isFrozen=!0,this}mergeContents(c,d){for(const r of Object.keys(d)){if(r in c&&k.isObject(c[r])&&k.isObject(d[r])){this.mergeContents(c[r],d[r]);continue}c[r]=w.deepClone(d[r])}}checkAndFreeze(c){return this.isFrozen&&!Object.isFrozen(c)?w.deepFreeze(c):c}getContentsForOverrideIdentifer(c){for(const d of this.overrides)if(d.identifiers.indexOf(c)!==-1)return d.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(c,d){this.addKey(c),(0,C.addToValueTree)(this.contents,c,d,r=>{throw new Error(r)})}removeValue(c){this.removeKey(c)&&(0,C.removeFromValueTree)(this.contents,c)}addKey(c){let d=this.keys.length;for(let r=0;r<d;r++)c.indexOf(this.keys[r])===0&&(d=r);this.keys.splice(d,1,c)}removeKey(c){let d=this.keys.indexOf(c);return d!==-1?(this.keys.splice(d,1),!0):!1}}e.ConfigurationModel=i;class _ extends i{constructor(){const c=(0,C.getDefaultValues)(),d=(0,C.getConfigurationKeys)(),r=[];for(const n of Object.keys(c))p.OVERRIDE_PROPERTY_PATTERN.test(n)&&r.push({identifiers:[(0,p.overrideIdentifierFromKey)(n).trim()],keys:Object.keys(c[n]),contents:(0,C.toValuesTree)(c[n],s=>console.error(`Conflict in default settings file: ${s}`))});super(c,d,r)}}e.DefaultConfigurationModel=_;class u{constructor(c,d,r=new i,n=new i,s=new v.ResourceMap,t=new i,o=new v.ResourceMap,h=!0){this._defaultConfiguration=c,this._localUserConfiguration=d,this._remoteUserConfiguration=r,this._workspaceConfiguration=n,this._folderConfigurations=s,this._memoryConfiguration=t,this._memoryConfigurationByResource=o,this._freeze=h,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new v.ResourceMap,this._userConfiguration=null}getValue(c,d,r){return this.getConsolidateConfigurationModel(d,r).getValue(c)}updateValue(c,d,r={}){let n;r.resource?(n=this._memoryConfigurationByResource.get(r.resource),n||(n=new i,this._memoryConfigurationByResource.set(r.resource,n))):n=this._memoryConfiguration,d===void 0?n.removeValue(c):n.setValue(c,d),r.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(c,d){let r=this.getConsolidatedConfigurationModelForResource(c,d);return c.overrideIdentifier?r.override(c.overrideIdentifier):r}getConsolidatedConfigurationModelForResource({resource:c},d){let r=this.getWorkspaceConsolidatedConfiguration();if(d&&c){const n=d.getFolder(c);n&&(r=this.getFolderConsolidatedConfiguration(n.uri)||r);const s=this._memoryConfigurationByResource.get(c);s&&(r=r.merge(s))}return r}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(c){let d=this._foldersConsolidatedConfigurations.get(c);if(!d){const r=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(c);n?(d=r.merge(n),this._freeze&&(d=d.freeze()),this._foldersConsolidatedConfigurations.set(c,d)):d=r}return d}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((c,d)=>{const{contents:r,overrides:n,keys:s}=this._folderConfigurations.get(d);return c.push([d,{contents:r,overrides:n,keys:s}]),c},[])}}static parse(c){const d=this.parseConfigurationModel(c.defaults),r=this.parseConfigurationModel(c.user),n=this.parseConfigurationModel(c.workspace),s=c.folders.reduce((t,o)=>(t.set(S.URI.revive(o[0]),this.parseConfigurationModel(o[1])),t),new v.ResourceMap);return new u(d,r,new i,n,s,new i,new v.ResourceMap,!1)}static parseConfigurationModel(c){return new i(c.contents,c.keys,c.overrides).freeze()}}e.Configuration=u;class a{constructor(c,d,r,n){this.change=c,this.previous=d,this.currentConfiguraiton=r,this.currentWorkspace=n,this._previousConfiguration=void 0;const s=new Set;c.keys.forEach(o=>s.add(o)),c.overrides.forEach(([,o])=>o.forEach(h=>s.add(h))),this.affectedKeys=[...s.values()];const t=new i;this.affectedKeys.forEach(o=>t.setValue(o,{})),this.affectedKeysTree=t.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=u.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(c,d){var r;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,c)){if(d){const n=this.previousConfiguration?this.previousConfiguration.getValue(c,d,(r=this.previous)===null||r===void 0?void 0:r.workspace):void 0,s=this.currentConfiguraiton.getValue(c,d,this.currentWorkspace);return!w.equals(n,s)}return!0}return!1}doesAffectedKeysTreeContains(c,d){let r=(0,C.toValuesTree)({[d]:!0},()=>{}),n;for(;typeof r=="object"&&(n=Object.keys(r)[0]);){if(c=c[n],!c)return!1;r=r[n]}return!0}}e.ConfigurationChangeEvent=a}),define(te[526],ie([0,1,6,56,2,51,409,26,44,16,207]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const u="data-keybinding-context";class a{constructor(g,b){this._id=g,this._parent=b,this._value=Object.create(null),this._value._contextId=g}setValue(g,b){return this._value[g]!==b?(this._value[g]=b,!0):!1}removeValue(g){return g in this._value?(delete this._value[g],!0):!1}getValue(g){const b=this._value[g];return typeof b=="undefined"&&this._parent?this._parent.getValue(g):b}}e.Context=a;class l extends a{constructor(){super(-1,null)}setValue(g,b){return!1}removeValue(g){return!1}getValue(g){}}l.INSTANCE=new l;class c extends a{constructor(g,b,y){super(g,null);this._configurationService=b,this._values=w.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(L=>{if(L.source===6){const N=Array.from(I.Iterable.map(this._values,([M])=>M));this._values.clear(),y.fire(new n(N))}else{const N=[];for(const M of L.affectedKeys){const D=`config.${M}`,R=this._values.findSuperstr(D);R!==void 0&&(N.push(...I.Iterable.map(R,([P])=>P)),this._values.deleteSuperstr(D)),this._values.has(D)&&(N.push(D),this._values.delete(D))}y.fire(new n(N))}})}dispose(){this._listener.dispose()}getValue(g){if(g.indexOf(c._keyPrefix)!==0)return super.getValue(g);if(this._values.has(g))return this._values.get(g);const b=g.substr(c._keyPrefix.length),y=this._configurationService.getValue(b);let L;switch(typeof y){case"number":case"boolean":case"string":L=y;break;default:Array.isArray(y)?L=JSON.stringify(y):L=y}return this._values.set(g,L),L}setValue(g,b){return super.setValue(g,b)}removeValue(g){return super.removeValue(g)}}c._keyPrefix="config.";class d{constructor(g,b,y){this._service=g,this._key=b,this._defaultValue=y,this.reset()}set(g){this._service.setContext(this._key,g)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class r{constructor(g){this.key=g}affectsSome(g){return g.has(this.key)}}class n{constructor(g){this.keys=g}affectsSome(g){for(const b of this.keys)if(g.has(b))return!0;return!1}}class s{constructor(g){this.events=g}affectsSome(g){for(const b of this.events)if(b.affectsSome(g))return!0;return!1}}class t{constructor(g){this._onDidChangeContext=new v.PauseableEmitter({merge:b=>new s(b)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=g}createKey(g,b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new d(this,g,b)}bufferChangeEvents(g){this._onDidChangeContext.pause();try{g()}finally{this._onDidChangeContext.resume()}}createScoped(g){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new h(this,g)}contextMatchesRules(g){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const b=this.getContextValuesContainer(this._myContextId);return _.KeybindingResolver.contextMatchesRules(b,g)}getContextKeyValue(g){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(g)}setContext(g,b){if(!this._isDisposed){const y=this.getContextValuesContainer(this._myContextId);!y||y.setValue(g,b)&&this._onDidChangeContext.fire(new r(g))}}removeContext(g){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(g)&&this._onDidChangeContext.fire(new r(g))}getContext(g){return this._isDisposed?l.INSTANCE:this.getContextValuesContainer(f(g))}}e.AbstractContextKeyService=t;let o=class extends t{constructor(g){super(0);this._contexts=new Map,this._toDispose=new k.DisposableStore,this._lastContextId=0;const b=new c(this._myContextId,g,this._onDidChangeContext);this._contexts.set(this._myContextId,b),this._toDispose.add(b)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(g){return this._isDisposed?l.INSTANCE:this._contexts.get(g)||l.INSTANCE}createChildContext(g=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let b=++this._lastContextId;return this._contexts.set(b,new a(b,this.getContextValuesContainer(g))),b}disposeContext(g){this._isDisposed||this._contexts.delete(g)}};o=Me([_e(0,C.IConfigurationService)],o),e.ContextKeyService=o;class h extends t{constructor(g,b){super(g.createChildContext());if(this._parentChangeListener=new k.MutableDisposable,this._parent=g,this._updateParentChangeListener(),this._domNode=b,this._domNode.hasAttribute(u)){let y="";this._domNode.classList&&(y=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${y?": "+y:""}`)}this._domNode.setAttribute(u,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(u),this._isDisposed=!0)}getContextValuesContainer(g){return this._isDisposed?l.INSTANCE:this._parent.getContextValuesContainer(g)}createChildContext(g=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(g)}disposeContext(g){this._isDisposed||this._parent.disposeContext(g)}}function f(m){for(;m;){if(m.hasAttribute(u)){const g=m.getAttribute(u);return g?parseInt(g,10):NaN}m=m.parentElement}return 0}p.CommandsRegistry.registerCommand(i.SET_CONTEXT_COMMAND_ID,function(m,g,b){m.get(i.IContextKeyService).createKey(String(g),b)}),p.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...i.RawContextKey.all()].sort((m,g)=>m.key.localeCompare(g.key))},description:{description:(0,S.localize)(0,null),args:[]}}),p.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const m=[],g=new Set;for(let b of i.RawContextKey.all())g.has(b.key)||(g.add(b.key),m.push(b));m.sort((b,y)=>b.key.localeCompare(y.key)),console.log(JSON.stringify(m,void 0,2))})}),define(te[86],ie([0,1,41,17,26,32]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class S{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(i){if(I.OS===1){if(i&&i.win)return i.win}else if(I.OS===2){if(i&&i.mac)return i.mac}else if(i&&i.linux)return i.linux;return i}registerKeybindingRule(i){const _=S.bindToCurrentPlatform(i);if(_&&_.primary){const u=(0,v.createKeybinding)(_.primary,I.OS);u&&this._registerDefaultKeybinding(u,i.id,i.args,i.weight,0,i.when)}if(_&&Array.isArray(_.secondary))for(let u=0,a=_.secondary.length;u<a;u++){const l=_.secondary[u],c=(0,v.createKeybinding)(l,I.OS);c&&this._registerDefaultKeybinding(c,i.id,i.args,i.weight,-u-1,i.when)}}registerCommandAndKeybindingRule(i){this.registerKeybindingRule(i),k.CommandsRegistry.registerCommand(i)}static _mightProduceChar(i){return i>=21&&i<=30||i>=31&&i<=56?!0:i===80||i===81||i===82||i===83||i===84||i===85||i===86||i===110||i===111||i===87||i===88||i===89||i===90||i===91||i===92}_assertNoCtrlAlt(i,_){i.ctrlKey&&i.altKey&&!i.metaKey&&S._mightProduceChar(i.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",i," for ",_)}_registerDefaultKeybinding(i,_,u,a,l,c){I.OS===1&&this._assertNoCtrlAlt(i.parts[0],_),this._coreKeybindings.push({keybinding:i,command:_,commandArgs:u,when:c,weight1:a,weight2:l,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(p)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new S,e.Extensions={EditorModes:"platform.keybindingsRegistry"},w.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function p(C,i){return C.weight1!==i.weight1?C.weight1-i.weight1:C.command<i.command?-1:C.command>i.command?1:C.weight2-i.weight2}}),define(te[528],ie([0,1,16,314,86,315]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationEnablementContext=e.HistoryNavigationWidgetContext=void 0,e.HistoryNavigationWidgetContext="historyNavigationWidget",e.HistoryNavigationEnablementContext="historyNavigationEnabled";function S(a,l,c){new v.RawContextKey(c,l).bindTo(a)}function p(a,l){return a.createScoped(l.target)}function C(a,l){return a.getContext(document.activeElement).getValue(l)}function i(a,l){const c=p(a,l);S(c,l,e.HistoryNavigationWidgetContext);const d=new v.RawContextKey(e.HistoryNavigationEnablementContext,!0).bindTo(c);return{scopedContextKeyService:c,historyNavigationEnablement:d}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=i;let _=class extends I.FindInput{constructor(l,c,d,r,n=!1){super(l,c,n,d);this._register(i(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};_=Me([_e(3,v.IContextKeyService)],_),e.ContextScopedFindInput=_;let u=class extends w.ReplaceInput{constructor(l,c,d,r,n=!1){super(l,c,n,d);this._register(i(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};u=Me([_e(3,v.IContextKeyService)],u),e.ContextScopedReplaceInput=u,k.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:v.ContextKeyExpr.and(v.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),v.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:16,secondary:[512|16],handler:(a,l)=>{const c=C(a.get(v.IContextKeyService),e.HistoryNavigationWidgetContext);c&&c.historyNavigator.showPreviousValue()}}),k.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:v.ContextKeyExpr.and(v.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),v.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:18,secondary:[512|18],handler:(a,l)=>{const c=C(a.get(v.IContextKeyService),e.HistoryNavigationWidgetContext);c&&c.historyNavigator.showNextValue()}})}),define(te[91],ie([0,1,32,19,2]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var w;(function(p){p[p.PRESERVE=0]="PRESERVE",p[p.LAST=1]="LAST"})(w=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(C){return C.prefix.length===0?this.defaultProvider=C:this.providers.push(C),this.providers.sort((i,_)=>_.prefix.length-i.prefix.length),(0,k.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(C),1),this.defaultProvider===C&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,I.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(C){return C&&this.providers.find(_=>C.startsWith(_.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,v.Registry.add(e.Extensions.Quickaccess,new S)}),define(te[530],ie([0,1,79,91,32,415,2]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let p=class lt{constructor(i){this.quickInputService=i,this.registry=k.Registry.as(I.Extensions.Quickaccess)}provide(i){const _=new S.DisposableStore;_.add(i.onDidAccept(()=>{const[l]=i.selectedItems;l&&this.quickInputService.quickAccess.show(l.prefix,{preserveValue:!0})})),_.add(i.onDidChangeValue(l=>{const c=this.registry.getQuickAccessProvider(l.substr(lt.PREFIX.length));c&&c.prefix&&c.prefix!==lt.PREFIX&&this.quickInputService.quickAccess.show(c.prefix,{preserveValue:!0})}));const{editorProviders:u,globalProviders:a}=this.getQuickAccessProviders();return i.items=u.length===0||a.length===0?[...u.length===0?a:u]:[{label:(0,w.localize)(0,null),type:"separator"},...a,{label:(0,w.localize)(1,null),type:"separator"},...u],_}getQuickAccessProviders(){const i=[],_=[];for(const u of this.registry.getQuickAccessProviders().sort((a,l)=>a.prefix.localeCompare(l.prefix)))if(u.prefix!==lt.PREFIX)for(const a of u.helpEntries){const l=a.prefix||u.prefix,c=l||"\u2026";(a.needsEditor?_:i).push({prefix:l,label:c,ariaLabel:(0,w.localize)(2,null,c,a.description),description:a.description})}return{editorProviders:_,globalProviders:i}}};p.PREFIX="?",p=Me([_e(0,v.IQuickInputService)],p),e.HelpQuickAccessProvider=p}),define(te[531],ie([0,1,32,91,60,530]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),v.Registry.as(I.Extensions.Quickaccess).registerQuickAccessProvider({ctor:w.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:k.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(te[532],ie([0,1,79,2,91,32,24,9,90]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let i=class extends I.Disposable{constructor(u,a){super();this.quickInputService=u,this.instantiationService=a,this.registry=w.Registry.as(k.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(u="",a){var l;const[c,d]=this.getOrInstantiateProvider(u),r=this.visibleQuickAccess,n=r==null?void 0:r.descriptor;if(r&&d&&n===d){u!==d.prefix&&!(a==null?void 0:a.preserveValue)&&(r.picker.value=u),this.adjustValueSelection(r.picker,d,a);return}if(d&&!(a==null?void 0:a.preserveValue)){let h;if(r&&n&&n!==d){const f=r.value.substr(n.prefix.length);f&&(h=`${d.prefix}${f}`)}if(!h){const f=c==null?void 0:c.defaultFilterValue;f===k.DefaultQuickAccessFilterValue.LAST?h=this.lastAcceptedPickerValues.get(d):typeof f=="string"&&(h=`${d.prefix}${f}`)}typeof h=="string"&&(u=h)}const s=new I.DisposableStore,t=s.add(this.quickInputService.createQuickPick());t.value=u,this.adjustValueSelection(t,d,a),t.placeholder=d==null?void 0:d.placeholder,t.quickNavigate=a==null?void 0:a.quickNavigateConfiguration,t.hideInput=!!t.quickNavigate&&!r,(typeof(a==null?void 0:a.itemActivation)=="number"||(a==null?void 0:a.quickNavigateConfiguration))&&(t.itemActivation=(l=a==null?void 0:a.itemActivation)!==null&&l!==void 0?l:v.ItemActivation.SECOND),t.contextKey=d==null?void 0:d.contextKey,t.filterValue=h=>h.substring(d?d.prefix.length:0),(d==null?void 0:d.placeholder)&&(t.ariaLabel=d==null?void 0:d.placeholder),s.add(this.registerPickerListeners(t,c,d,u));const o=s.add(new S.CancellationTokenSource);c&&s.add(c.provide(t,o.token)),(0,C.once)(t.onDidHide)(()=>{t.selectedItems.length===0&&o.cancel(),s.dispose()}),t.show()}adjustValueSelection(u,a,l){var c;let d;(l==null?void 0:l.preserveValue)?d=[u.value.length,u.value.length]:d=[(c=a==null?void 0:a.prefix.length)!==null&&c!==void 0?c:0,u.value.length],u.valueSelection=d}registerPickerListeners(u,a,l,c){const d=new I.DisposableStore,r=this.visibleQuickAccess={picker:u,descriptor:l,value:c};return d.add((0,I.toDisposable)(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),d.add(u.onDidChangeValue(n=>{const[s]=this.getOrInstantiateProvider(n);s!==a?this.show(n,{preserveValue:!0}):r.value=n})),l&&d.add(u.onDidAccept(()=>{this.lastAcceptedPickerValues.set(l,u.value)})),d}getOrInstantiateProvider(u){const a=this.registry.getQuickAccessProvider(u);if(!a)return[void 0,void 0];let l=this.mapProviderToDescriptor.get(a);return l||(l=this.instantiationService.createInstance(a.ctor),this.mapProviderToDescriptor.set(a,l)),[l,a]}};i=Me([_e(0,v.IQuickInputService),_e(1,p.IInstantiationService)],i),e.QuickAccessController=i}),define(te[76],ie([0,1,9,6,2,20,444]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const p="__$__targetStorageMarker";e.IStorageService=(0,v.createDecorator)("storageService");var C;(function(u){u[u.NONE=0]="NONE",u[u.SHUTDOWN=1]="SHUTDOWN"})(C=e.WillSaveStateReason||(e.WillSaveStateReason={}));class i extends k.Disposable{constructor(a={flushInterval:i.DEFAULT_FLUSH_INTERVAL}){super();this.options=a,this._onDidChangeValue=this._register(new I.PauseableEmitter),this._onDidChangeTarget=this._register(new I.PauseableEmitter),this._onWillSaveState=this._register(new I.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(a,l){l===p?(a===0?this._globalKeyTargets=void 0:a===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:a})):this._onDidChangeValue.fire({scope:a,key:l,target:this.getKeyTargets(a)[l]})}get(a,l,c){var d;return(d=this.getStorage(l))===null||d===void 0?void 0:d.get(a,c)}getBoolean(a,l,c){var d;return(d=this.getStorage(l))===null||d===void 0?void 0:d.getBoolean(a,c)}getNumber(a,l,c){var d;return(d=this.getStorage(l))===null||d===void 0?void 0:d.getNumber(a,c)}store(a,l,c,d){if((0,w.isUndefinedOrNull)(l)){this.remove(a,c);return}this.withPausedEmitters(()=>{var r;this.updateKeyTarget(a,c,d),(r=this.getStorage(c))===null||r===void 0||r.set(a,l)})}remove(a,l){this.withPausedEmitters(()=>{var c;this.updateKeyTarget(a,l,void 0),(c=this.getStorage(l))===null||c===void 0||c.delete(a)})}withPausedEmitters(a){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{a()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(a,l,c){var d,r;const n=this.getKeyTargets(l);typeof c=="number"?n[a]!==c&&(n[a]=c,(d=this.getStorage(l))===null||d===void 0||d.set(p,JSON.stringify(n))):typeof n[a]=="number"&&(delete n[a],(r=this.getStorage(l))===null||r===void 0||r.set(p,JSON.stringify(n)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(a){return a===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(a){const l=this.get(p,a);if(l)try{return JSON.parse(l)}catch(c){}return Object.create(null)}}e.AbstractStorageService=i,i.DEFAULT_FLUSH_INTERVAL=60*1e3;class _ extends i{constructor(){super();this.globalStorage=new S.Storage(new S.InMemoryStorageDatabase),this.workspaceStorage=new S.Storage(new S.InMemoryStorageDatabase),this._register(this.workspaceStorage.onDidChangeStorage(a=>this.emitDidChangeValue(1,a))),this._register(this.globalStorage.onDidChangeStorage(a=>this.emitDidChangeValue(0,a)))}getStorage(a){return a===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=_}),define(te[534],ie([0,1,9,73,196,51,76,3,15,90]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,v.createDecorator)("ICodeLensCache");class _{constructor(l,c){this.lineCount=l,this.data=c}}let u=class{constructor(l){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new w.LRUCache(20,.75);const c="codelens/cache";(0,C.runWhenIdle)(()=>l.remove(c,1));const d="codelens/cache2",r=l.get(d,1,"{}");this._deserialize(r),(0,i.once)(l.onWillSaveState)(n=>{n.reason===S.WillSaveStateReason.SHUTDOWN&&l.store(d,this._serialize(),1,1)})}put(l,c){const d=c.lenses.map(s=>{var t;return{range:s.symbol.range,command:s.symbol.command&&{id:"",title:(t=s.symbol.command)===null||t===void 0?void 0:t.title}}}),r=new k.CodeLensModel;r.add({lenses:d,dispose:()=>{}},this._fakeProvider);const n=new _(l.getLineCount(),r);this._cache.set(l.uri.toString(),n)}get(l){const c=this._cache.get(l.uri.toString());return c&&c.lineCount===l.getLineCount()?c.data:void 0}delete(l){this._cache.delete(l.uri.toString())}_serialize(){const l=Object.create(null);for(const[c,d]of this._cache){const r=new Set;for(const n of d.data.lenses)r.add(n.symbol.range.startLineNumber);l[c]={lineCount:d.lineCount,lines:[...r.values()]}}return JSON.stringify(l)}_deserialize(l){try{const c=JSON.parse(l);for(const d in c){const r=c[d],n=[];for(const t of r.lines)n.push({range:new p.Range(t,1,t,11)});const s=new k.CodeLensModel;s.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(d,new _(r.lineCount,s))}}catch(c){}}};u=Me([_e(0,S.IStorageService)],u),e.CodeLensCache=u,(0,I.registerSingleton)(e.ICodeLensCache,u)}),define(te[535],ie([0,1,51,76,18,2,15,9,44,73,58]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class u{constructor(n){this.name=n}select(n,s,t){if(t.length===0)return 0;let o=t[0].score[0];for(let h=0;h<t.length;h++){const{score:f,completion:m}=t[h];if(f[0]!==o)break;if(m.preselect)return h}return 0}}e.Memory=u;class a extends u{constructor(){super("first")}memorize(n,s,t){}toJSON(){}fromJSON(){}}e.NoMemory=a;class l extends u{constructor(){super("recentlyUsed");this._cache=new v.LRUCache(300,.66),this._seq=0}memorize(n,s,t){const o=`${n.getLanguageIdentifier().language}/${t.textLabel}`;this._cache.set(o,{touch:this._seq++,type:t.completion.kind,insertText:t.completion.insertText})}select(n,s,t){if(t.length===0)return 0;const o=n.getLineContent(s.lineNumber).substr(s.column-10,s.column-1);if(/\s$/.test(o))return super.select(n,s,t);let h=t[0].score[0],f=-1,m=-1,g=-1;for(let b=0;b<t.length&&t[b].score[0]===h;b++){const y=`${n.getLanguageIdentifier().language}/${t[b].textLabel}`,L=this._cache.peek(y);if(L&&L.touch>g&&L.type===t[b].completion.kind&&L.insertText===t[b].completion.insertText&&(g=L.touch,m=b),t[b].completion.preselect&&f===-1)return f=b}return m!==-1?m:f!==-1?f:0}toJSON(){return this._cache.toJSON()}fromJSON(n){this._cache.clear();let s=0;for(const[t,o]of n)o.touch=s,o.type=typeof o.type=="number"?o.type:(0,k.completionKindFromString)(o.type),this._cache.set(t,o);this._seq=this._cache.size}}e.LRUMemory=l;class c extends u{constructor(){super("recentlyUsedByPrefix");this._trie=v.TernarySearchTree.forStrings(),this._seq=0}memorize(n,s,t){const{word:o}=n.getWordUntilPosition(s),h=`${n.getLanguageIdentifier().language}/${o}`;this._trie.set(h,{type:t.completion.kind,insertText:t.completion.insertText,touch:this._seq++})}select(n,s,t){let{word:o}=n.getWordUntilPosition(s);if(!o)return super.select(n,s,t);let h=`${n.getLanguageIdentifier().language}/${o}`,f=this._trie.get(h);if(f||(f=this._trie.findSubstr(h)),f)for(let m=0;m<t.length;m++){let{kind:g,insertText:b}=t[m].completion;if(g===f.type&&b===f.insertText)return m}return super.select(n,s,t)}toJSON(){let n=[];return this._trie.forEach((s,t)=>n.push([t,s])),n.sort((s,t)=>-(s[1].touch-t[1].touch)).forEach((s,t)=>s[1].touch=t),n.slice(0,200)}fromJSON(n){if(this._trie.clear(),n.length>0){this._seq=n[0][1].touch+1;for(const[s,t]of n)t.type=typeof t.type=="number"?t.type:(0,k.completionKindFromString)(t.type),this._trie.set(s,t)}}}e.PrefixMemory=c;let d=class dt{constructor(n,s,t){this._storageService=n,this._modeService=s,this._configService=t,this._disposables=new w.DisposableStore,this._persistSoon=new S.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(n.onWillSaveState(o=>{o.reason===I.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(n,s,t){this._withStrategy(n,s).memorize(n,s,t),this._persistSoon.schedule()}select(n,s,t){return this._withStrategy(n,s).select(n,s,t)}_withStrategy(n,s){var t,o;const h=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:(t=this._modeService.getLanguageIdentifier(n.getLanguageIdAtPosition(s.lineNumber,s.column)))===null||t===void 0?void 0:t.language,resource:n.uri});if(((o=this._strategy)===null||o===void 0?void 0:o.name)!==h){this._saveState();const f=dt._strategyCtors.get(h)||a;this._strategy=new f;try{const g=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,b=this._storageService.get(`${dt._storagePrefix}/${h}`,g);b&&this._strategy.fromJSON(JSON.parse(b))}catch(m){}}return this._strategy}_saveState(){if(this._strategy){const s=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,t=JSON.stringify(this._strategy);this._storageService.store(`${dt._storagePrefix}/${this._strategy.name}`,t,s,1)}}};d._strategyCtors=new Map([["recentlyUsedByPrefix",c],["recentlyUsed",l],["first",a]]),d._storagePrefix="suggest/memories",d=Me([_e(0,I.IStorageService),_e(1,_.IModeService),_e(2,C.IConfigurationService)],d),e.SuggestMemoryService=d,e.ISuggestMemoryService=(0,p.createDecorator)("ISuggestMemories"),(0,i.registerSingleton)(e.ISuggestMemoryService,d,!0)}),define(te[84],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,v.createDecorator)("telemetryService")}),define(te[537],ie([0,1,414,509,2,70,20,51,76,44,9,35,26,84,11,33,319]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let n=class ut extends I.PickerQuickAccessProvider{constructor(o,h,f,m,g,b){super(ut.PREFIX,o);this.instantiationService=h,this.keybindingService=f,this.commandService=m,this.telemetryService=g,this.notificationService=b,this.commandsHistory=this._register(this.instantiationService.createInstance(s)),this.options=o}getPicks(o,h,f){return De(this,void 0,void 0,function*(){const m=yield this.getCommandPicks(h,f);if(f.isCancellationRequested)return[];const g=[];for(const N of m){const M=(0,S.withNullAsUndefined)(ut.WORD_FILTER(o,N.label)),D=N.commandAlias?(0,S.withNullAsUndefined)(ut.WORD_FILTER(o,N.commandAlias)):void 0;M||D?(N.highlights={label:M,detail:this.options.showAlias?D:void 0},g.push(N)):o===N.commandId&&g.push(N)}const b=new Map;for(const N of g){const M=b.get(N.label);M?(N.description=N.commandId,M.description=M.commandId):b.set(N.label,N)}g.sort((N,M)=>{const D=this.commandsHistory.peek(N.commandId),R=this.commandsHistory.peek(M.commandId);return D&&R?D>R?-1:1:D?-1:R?1:N.label.localeCompare(M.label)});const y=[];let L=!1;for(let N=0;N<g.length;N++){const M=g[N],D=this.keybindingService.lookupKeybinding(M.commandId),R=D?(0,v.localize)(0,null,M.label,D.getAriaLabel()):M.label;N===0&&this.commandsHistory.peek(M.commandId)&&(y.push({type:"separator",label:(0,v.localize)(1,null)}),L=!0),N!==0&&L&&!this.commandsHistory.peek(M.commandId)&&(y.push({type:"separator",label:(0,v.localize)(2,null)}),L=!1),y.push(Object.assign(Object.assign({},M),{ariaLabel:R,detail:this.options.showAlias&&M.commandAlias!==M.label?M.commandAlias:void 0,keybinding:D,accept:()=>De(this,void 0,void 0,function*(){this.commandsHistory.push(M.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:M.commandId,from:"quick open"});try{yield this.commandService.executeCommand(M.commandId)}catch(P){(0,c.isPromiseCanceledError)(P)||this.notificationService.error((0,v.localize)(3,null,M.label,(0,r.toErrorMessage)(P)))}})}))}return y})}};n.PREFIX=">",n.WORD_FILTER=(0,w.or)(w.matchesPrefix,w.matchesWords,w.matchesContiguousSubString),n=Me([_e(1,_.IInstantiationService),_e(2,u.IKeybindingService),_e(3,a.ICommandService),_e(4,l.ITelemetryService),_e(5,d.INotificationService)],n),e.AbstractCommandsQuickAccessProvider=n;let s=class qe extends k.Disposable{constructor(o,h){super();this.storageService=o,this.configurationService=h,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=qe.getConfiguredCommandHistoryLength(this.configurationService),qe.cache&&qe.cache.limit!==this.configuredCommandsHistoryLength&&(qe.cache.limit=this.configuredCommandsHistoryLength,qe.saveState(this.storageService))}load(){const o=this.storageService.get(qe.PREF_KEY_CACHE,0);let h;if(o)try{h=JSON.parse(o)}catch(m){}const f=qe.cache=new p.LRUCache(this.configuredCommandsHistoryLength,1);if(h){let m;h.usesLRU?m=h.entries:m=h.entries.sort((g,b)=>g.value-b.value),m.forEach(g=>f.set(g.key,g.value))}qe.counter=this.storageService.getNumber(qe.PREF_KEY_COUNTER,0,qe.counter)}push(o){!qe.cache||(qe.cache.set(o,qe.counter++),qe.saveState(this.storageService))}peek(o){var h;return(h=qe.cache)===null||h===void 0?void 0:h.peek(o)}static saveState(o){if(!!qe.cache){const h={usesLRU:!0,entries:[]};qe.cache.forEach((f,m)=>h.entries.push({key:m,value:f})),o.store(qe.PREF_KEY_CACHE,JSON.stringify(h),0,0),o.store(qe.PREF_KEY_COUNTER,qe.counter,0,0)}}static getConfiguredCommandHistoryLength(o){var h,f;const g=(f=(h=o.getValue().workbench)===null||h===void 0?void 0:h.commandPalette)===null||f===void 0?void 0:f.history;return typeof g=="number"?g:qe.DEFAULT_COMMANDS_HISTORY_LENGTH}};s.DEFAULT_COMMANDS_HISTORY_LENGTH=50,s.PREF_KEY_CACHE="commandPalette.mru.cache",s.PREF_KEY_COUNTER="commandPalette.mru.counter",s.counter=1,s=Me([_e(0,C.IStorageService),_e(1,i.IConfigurationService)],s),e.CommandsHistory=s}),define(te[538],ie([0,1,537,117]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class k extends v.AbstractCommandsQuickAccessProvider{constructor(S,p,C,i,_,u){super(S,p,C,i,_,u)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const p=[];for(const C of S.getSupportedActions())p.push({commandId:C.id,commandAlias:C.alias,label:(0,I.stripIcons)(C.label)||C.id});return p}}e.AbstractEditorCommandsQuickAccessProvider=k}),define(te[22],ie([0,1,32,29,6,416,171,15]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.oneOf=e.transparent=e.lighten=e.darken=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e._deprecatedQuickInputListFocusBackground=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlineHintBackground=e.editorInlineHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.selectForeground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textLinkForeground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.errorForeground=e.foreground=e.registerColor=e.Extensions=void 0,e.Extensions={ColorContribution:"base.contributions.colors"};class C{constructor(){this._onDidChangeSchema=new k.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(o,h,f,m=!1,g){let b={id:o,description:f,defaults:h,needsTransparency:m,deprecationMessage:g};this.colorsById[o]=b;let y={type:"string",description:f,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return g&&(y.deprecationMessage=g),this.colorSchema.properties[o]=y,this.colorReferenceSchema.enum.push(o),this.colorReferenceSchema.enumDescriptions.push(f),this._onDidChangeSchema.fire(),o}resolveDefaultColor(o,h){const f=this.colorsById[o];if(f&&f.defaults){const m=f.defaults[h.type];return r(m,h)}}getColorSchema(){return this.colorSchema}toString(){let o=(h,f)=>{let m=h.indexOf(".")===-1?0:1,g=f.indexOf(".")===-1?0:1;return m!==g?m-g:h.localeCompare(f)};return Object.keys(this.colorsById).sort(o).map(h=>`- \`${h}\`: ${this.colorsById[h].description}`).join(`
`)}}const i=new C;v.Registry.add(e.Extensions.ColorContribution,i);function _(t,o,h,f,m){return i.registerColor(t,o,h,f,m)}e.registerColor=_,e.foreground=_("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},w.localize(0,null)),e.errorForeground=_("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},w.localize(1,null)),e.iconForeground=_("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},w.localize(2,null)),e.focusBorder=_("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},w.localize(3,null)),e.contrastBorder=_("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},w.localize(4,null)),e.activeContrastBorder=_("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},w.localize(5,null)),e.textLinkForeground=_("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},w.localize(6,null)),e.textCodeBlockBackground=_("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:I.Color.black},w.localize(7,null)),e.widgetShadow=_("widget.shadow",{dark:l(I.Color.black,.36),light:l(I.Color.black,.16),hc:null},w.localize(8,null)),e.inputBackground=_("input.background",{dark:"#3C3C3C",light:I.Color.white,hc:I.Color.black},w.localize(9,null)),e.inputForeground=_("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},w.localize(10,null)),e.inputBorder=_("input.border",{dark:null,light:null,hc:e.contrastBorder},w.localize(11,null)),e.inputActiveOptionBorder=_("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},w.localize(12,null)),e.inputActiveOptionBackground=_("inputOption.activeBackground",{dark:l(e.focusBorder,.4),light:l(e.focusBorder,.2),hc:I.Color.transparent},w.localize(13,null)),e.inputActiveOptionForeground=_("inputOption.activeForeground",{dark:I.Color.white,light:I.Color.black,hc:null},w.localize(14,null)),e.inputValidationInfoBackground=_("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:I.Color.black},w.localize(15,null)),e.inputValidationInfoForeground=_("inputValidation.infoForeground",{dark:null,light:null,hc:null},w.localize(16,null)),e.inputValidationInfoBorder=_("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},w.localize(17,null)),e.inputValidationWarningBackground=_("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:I.Color.black},w.localize(18,null)),e.inputValidationWarningForeground=_("inputValidation.warningForeground",{dark:null,light:null,hc:null},w.localize(19,null)),e.inputValidationWarningBorder=_("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},w.localize(20,null)),e.inputValidationErrorBackground=_("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:I.Color.black},w.localize(21,null)),e.inputValidationErrorForeground=_("inputValidation.errorForeground",{dark:null,light:null,hc:null},w.localize(22,null)),e.inputValidationErrorBorder=_("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},w.localize(23,null)),e.selectBackground=_("dropdown.background",{dark:"#3C3C3C",light:I.Color.white,hc:I.Color.black},w.localize(24,null)),e.selectForeground=_("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:I.Color.white},w.localize(25,null)),e.buttonForeground=_("button.foreground",{dark:I.Color.white,light:I.Color.white,hc:I.Color.white},w.localize(26,null)),e.buttonBackground=_("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},w.localize(27,null)),e.buttonHoverBackground=_("button.hoverBackground",{dark:a(e.buttonBackground,.2),light:u(e.buttonBackground,.2),hc:null},w.localize(28,null)),e.badgeBackground=_("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:I.Color.black},w.localize(29,null)),e.badgeForeground=_("badge.foreground",{dark:I.Color.white,light:"#333",hc:I.Color.white},w.localize(30,null)),e.scrollbarShadow=_("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},w.localize(31,null)),e.scrollbarSliderBackground=_("scrollbarSlider.background",{dark:I.Color.fromHex("#797979").transparent(.4),light:I.Color.fromHex("#646464").transparent(.4),hc:l(e.contrastBorder,.6)},w.localize(32,null)),e.scrollbarSliderHoverBackground=_("scrollbarSlider.hoverBackground",{dark:I.Color.fromHex("#646464").transparent(.7),light:I.Color.fromHex("#646464").transparent(.7),hc:l(e.contrastBorder,.8)},w.localize(33,null)),e.scrollbarSliderActiveBackground=_("scrollbarSlider.activeBackground",{dark:I.Color.fromHex("#BFBFBF").transparent(.4),light:I.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},w.localize(34,null)),e.progressBarBackground=_("progressBar.background",{dark:I.Color.fromHex("#0E70C0"),light:I.Color.fromHex("#0E70C0"),hc:e.contrastBorder},w.localize(35,null)),e.editorErrorBackground=_("editorError.background",{dark:null,light:null,hc:null},w.localize(36,null),!0),e.editorErrorForeground=_("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},w.localize(37,null)),e.editorErrorBorder=_("editorError.border",{dark:null,light:null,hc:I.Color.fromHex("#E47777").transparent(.8)},w.localize(38,null)),e.editorWarningBackground=_("editorWarning.background",{dark:null,light:null,hc:null},w.localize(39,null),!0),e.editorWarningForeground=_("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},w.localize(40,null)),e.editorWarningBorder=_("editorWarning.border",{dark:null,light:null,hc:I.Color.fromHex("#FFCC00").transparent(.8)},w.localize(41,null)),e.editorInfoBackground=_("editorInfo.background",{dark:null,light:null,hc:null},w.localize(42,null),!0),e.editorInfoForeground=_("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},w.localize(43,null)),e.editorInfoBorder=_("editorInfo.border",{dark:null,light:null,hc:I.Color.fromHex("#75BEFF").transparent(.8)},w.localize(44,null)),e.editorHintForeground=_("editorHint.foreground",{dark:I.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},w.localize(45,null)),e.editorHintBorder=_("editorHint.border",{dark:null,light:null,hc:I.Color.fromHex("#eeeeee").transparent(.8)},w.localize(46,null)),e.editorBackground=_("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:I.Color.black},w.localize(47,null)),e.editorForeground=_("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:I.Color.white},w.localize(48,null)),e.editorWidgetBackground=_("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},w.localize(49,null)),e.editorWidgetForeground=_("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},w.localize(50,null)),e.editorWidgetBorder=_("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},w.localize(51,null)),e.editorWidgetResizeBorder=_("editorWidget.resizeBorder",{light:null,dark:null,hc:null},w.localize(52,null)),e.quickInputBackground=_("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},w.localize(53,null)),e.quickInputForeground=_("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},w.localize(54,null)),e.quickInputTitleBackground=_("quickInputTitle.background",{dark:new I.Color(new I.RGBA(255,255,255,.105)),light:new I.Color(new I.RGBA(0,0,0,.06)),hc:"#000000"},w.localize(55,null)),e.pickerGroupForeground=_("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:I.Color.white},w.localize(56,null)),e.pickerGroupBorder=_("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:I.Color.white},w.localize(57,null)),e.keybindingLabelBackground=_("keybindingLabel.background",{dark:new I.Color(new I.RGBA(128,128,128,.17)),light:new I.Color(new I.RGBA(221,221,221,.4)),hc:I.Color.transparent},w.localize(58,null)),e.keybindingLabelForeground=_("keybindingLabel.foreground",{dark:I.Color.fromHex("#CCCCCC"),light:I.Color.fromHex("#555555"),hc:I.Color.white},w.localize(59,null)),e.keybindingLabelBorder=_("keybindingLabel.border",{dark:new I.Color(new I.RGBA(51,51,51,.6)),light:new I.Color(new I.RGBA(204,204,204,.4)),hc:new I.Color(new I.RGBA(111,195,223))},w.localize(60,null)),e.keybindingLabelBottomBorder=_("keybindingLabel.bottomBorder",{dark:new I.Color(new I.RGBA(68,68,68,.6)),light:new I.Color(new I.RGBA(187,187,187,.4)),hc:new I.Color(new I.RGBA(111,195,223))},w.localize(61,null)),e.editorSelectionBackground=_("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},w.localize(62,null)),e.editorSelectionForeground=_("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},w.localize(63,null)),e.editorInactiveSelection=_("editor.inactiveSelectionBackground",{light:l(e.editorSelectionBackground,.5),dark:l(e.editorSelectionBackground,.5),hc:l(e.editorSelectionBackground,.5)},w.localize(64,null),!0),e.editorSelectionHighlight=_("editor.selectionHighlightBackground",{light:d(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:d(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},w.localize(65,null),!0),e.editorSelectionHighlightBorder=_("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},w.localize(66,null)),e.editorFindMatch=_("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},w.localize(67,null)),e.editorFindMatchHighlight=_("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},w.localize(68,null),!0),e.editorFindRangeHighlight=_("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},w.localize(69,null),!0),e.editorFindMatchBorder=_("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},w.localize(70,null)),e.editorFindMatchHighlightBorder=_("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},w.localize(71,null)),e.editorFindRangeHighlightBorder=_("editor.findRangeHighlightBorder",{dark:null,light:null,hc:l(e.activeContrastBorder,.4)},w.localize(72,null),!0),e.editorHoverHighlight=_("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},w.localize(73,null),!0),e.editorHoverBackground=_("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},w.localize(74,null)),e.editorHoverForeground=_("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},w.localize(75,null)),e.editorHoverBorder=_("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},w.localize(76,null)),e.editorHoverStatusBarBackground=_("editorHoverWidget.statusBarBackground",{dark:a(e.editorHoverBackground,.2),light:u(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},w.localize(77,null)),e.editorActiveLinkForeground=_("editorLink.activeForeground",{dark:"#4E94CE",light:I.Color.blue,hc:I.Color.cyan},w.localize(78,null)),e.editorInlineHintForeground=_("editorInlineHint.foreground",{dark:e.editorWidgetBackground,light:e.editorWidgetForeground,hc:e.editorWidgetBackground},w.localize(79,null)),e.editorInlineHintBackground=_("editorInlineHint.background",{dark:e.editorWidgetForeground,light:e.editorWidgetBackground,hc:e.editorWidgetForeground},w.localize(80,null)),e.editorLightBulbForeground=_("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},w.localize(81,null)),e.editorLightBulbAutoFixForeground=_("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},w.localize(82,null)),e.defaultInsertColor=new I.Color(new I.RGBA(155,185,85,.2)),e.defaultRemoveColor=new I.Color(new I.RGBA(255,0,0,.2)),e.diffInserted=_("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},w.localize(83,null),!0),e.diffRemoved=_("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},w.localize(84,null),!0),e.diffInsertedOutline=_("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},w.localize(85,null)),e.diffRemovedOutline=_("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},w.localize(86,null)),e.diffBorder=_("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},w.localize(87,null)),e.diffDiagonalFill=_("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},w.localize(88,null)),e.listFocusBackground=_("list.focusBackground",{dark:null,light:null,hc:null},w.localize(89,null)),e.listFocusForeground=_("list.focusForeground",{dark:null,light:null,hc:null},w.localize(90,null)),e.listFocusOutline=_("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hc:e.activeContrastBorder},w.localize(91,null)),e.listActiveSelectionBackground=_("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},w.localize(92,null)),e.listActiveSelectionForeground=_("list.activeSelectionForeground",{dark:I.Color.white,light:I.Color.white,hc:null},w.localize(93,null)),e.listInactiveSelectionBackground=_("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},w.localize(94,null)),e.listInactiveSelectionForeground=_("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},w.localize(95,null)),e.listInactiveFocusBackground=_("list.inactiveFocusBackground",{dark:null,light:null,hc:null},w.localize(96,null)),e.listInactiveFocusOutline=_("list.inactiveFocusOutline",{dark:null,light:null,hc:null},w.localize(97,null)),e.listHoverBackground=_("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},w.localize(98,null)),e.listHoverForeground=_("list.hoverForeground",{dark:null,light:null,hc:null},w.localize(99,null)),e.listDropBackground=_("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},w.localize(100,null)),e.listHighlightForeground=_("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:e.focusBorder},w.localize(101,null)),e.listFilterWidgetBackground=_("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:I.Color.black},w.localize(102,null)),e.listFilterWidgetOutline=_("listFilterWidget.outline",{dark:I.Color.transparent,light:I.Color.transparent,hc:"#f38518"},w.localize(103,null)),e.listFilterWidgetNoMatchesOutline=_("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},w.localize(104,null)),e.treeIndentGuidesStroke=_("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},w.localize(105,null)),e.tableColumnsBorder=_("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},w.localize(106,null)),e._deprecatedQuickInputListFocusBackground=_("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,w.localize(107,null)),e.quickInputListFocusBackground=_("quickInputList.focusBackground",{dark:c(e._deprecatedQuickInputListFocusBackground,e.listFocusBackground,"#062F4A"),light:c(e._deprecatedQuickInputListFocusBackground,e.listFocusBackground,"#D6EBFF"),hc:null},w.localize(108,null)),e.menuBorder=_("menu.border",{dark:null,light:null,hc:e.contrastBorder},w.localize(109,null)),e.menuForeground=_("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},w.localize(110,null)),e.menuBackground=_("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},w.localize(111,null)),e.menuSelectionForeground=_("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},w.localize(112,null)),e.menuSelectionBackground=_("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},w.localize(113,null)),e.menuSelectionBorder=_("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},w.localize(114,null)),e.menuSeparatorBackground=_("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},w.localize(115,null)),e.snippetTabstopHighlightBackground=_("editor.snippetTabstopHighlightBackground",{dark:new I.Color(new I.RGBA(124,124,124,.3)),light:new I.Color(new I.RGBA(10,50,100,.2)),hc:new I.Color(new I.RGBA(124,124,124,.3))},w.localize(116,null)),e.snippetTabstopHighlightBorder=_("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},w.localize(117,null)),e.snippetFinalTabstopHighlightBackground=_("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},w.localize(118,null)),e.snippetFinalTabstopHighlightBorder=_("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new I.Color(new I.RGBA(10,50,100,.5)),hc:"#525252"},w.localize(119,null)),e.overviewRulerFindMatchForeground=_("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},w.localize(120,null),!0),e.overviewRulerSelectionHighlightForeground=_("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},w.localize(121,null),!0),e.minimapFindMatch=_("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},w.localize(122,null),!0),e.minimapSelection=_("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},w.localize(123,null),!0),e.minimapError=_("minimap.errorHighlight",{dark:new I.Color(new I.RGBA(255,18,18,.7)),light:new I.Color(new I.RGBA(255,18,18,.7)),hc:new I.Color(new I.RGBA(255,50,50,1))},w.localize(124,null)),e.minimapWarning=_("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},w.localize(125,null)),e.minimapBackground=_("minimap.background",{dark:null,light:null,hc:null},w.localize(126,null)),e.minimapSliderBackground=_("minimapSlider.background",{light:l(e.scrollbarSliderBackground,.5),dark:l(e.scrollbarSliderBackground,.5),hc:l(e.scrollbarSliderBackground,.5)},w.localize(127,null)),e.minimapSliderHoverBackground=_("minimapSlider.hoverBackground",{light:l(e.scrollbarSliderHoverBackground,.5),dark:l(e.scrollbarSliderHoverBackground,.5),hc:l(e.scrollbarSliderHoverBackground,.5)},w.localize(128,null)),e.minimapSliderActiveBackground=_("minimapSlider.activeBackground",{light:l(e.scrollbarSliderActiveBackground,.5),dark:l(e.scrollbarSliderActiveBackground,.5),hc:l(e.scrollbarSliderActiveBackground,.5)},w.localize(129,null)),e.problemsErrorIconForeground=_("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},w.localize(130,null)),e.problemsWarningIconForeground=_("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},w.localize(131,null)),e.problemsInfoIconForeground=_("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},w.localize(132,null));function u(t,o){return h=>{let f=r(t,h);if(f)return f.darken(o)}}e.darken=u;function a(t,o){return h=>{let f=r(t,h);if(f)return f.lighten(o)}}e.lighten=a;function l(t,o){return h=>{let f=r(t,h);if(f)return f.transparent(o)}}e.transparent=l;function c(...t){return o=>{for(let h of t){let f=r(h,o);if(f)return f}}}e.oneOf=c;function d(t,o,h,f){return m=>{let g=r(t,m);if(g){let b=r(o,m);return b?g.isDarkerThan(b)?I.Color.getLighterColor(g,b,h).transparent(f):I.Color.getDarkerColor(g,b,h).transparent(f):g.transparent(h*f)}}}function r(t,o){if(t!==null){if(typeof t=="string")return t[0]==="#"?I.Color.fromHex(t):o.getColor(t);if(t instanceof I.Color)return t;if(typeof t=="function")return t(o)}}e.resolveColorValue=r,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let n=v.Registry.as(S.Extensions.JSONContribution);n.registerSchema(e.workbenchColorsSchemaId,i.getColorSchema());const s=new p.RunOnceScheduler(()=>n.notifySchemaChanged(e.workbenchColorsSchemaId),200);i.onDidChangeSchema(()=>{s.isScheduled()||s.schedule()})}),define(te[99],ie([0,1,22]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function I(C,i){const _=Object.create(null);for(let u in i){const a=i[u];a&&(_[u]=(0,v.resolveColorValue)(a,C))}return _}e.computeStyles=I;function k(C,i,_){function u(a){const l=I(C.getColorTheme(),i);typeof _=="function"?_(l):_.style(l)}return u(C.getColorTheme()),C.onDidColorThemeChange(u)}e.attachStyler=k;function w(C,i,_){return k(i,{badgeBackground:(_==null?void 0:_.badgeBackground)||v.badgeBackground,badgeForeground:(_==null?void 0:_.badgeForeground)||v.badgeForeground,badgeBorder:v.contrastBorder},C)}e.attachBadgeStyler=w;function S(C,i,_){return k(i,Object.assign(Object.assign({},e.defaultListStyles),_||{}),C)}e.attachListStyler=S,e.defaultListStyles={listFocusBackground:v.listFocusBackground,listFocusForeground:v.listFocusForeground,listFocusOutline:v.listFocusOutline,listActiveSelectionBackground:v.listActiveSelectionBackground,listActiveSelectionForeground:v.listActiveSelectionForeground,listFocusAndSelectionBackground:v.listActiveSelectionBackground,listFocusAndSelectionForeground:v.listActiveSelectionForeground,listInactiveSelectionBackground:v.listInactiveSelectionBackground,listInactiveSelectionForeground:v.listInactiveSelectionForeground,listInactiveFocusBackground:v.listInactiveFocusBackground,listInactiveFocusOutline:v.listInactiveFocusOutline,listHoverBackground:v.listHoverBackground,listHoverForeground:v.listHoverForeground,listDropBackground:v.listDropBackground,listSelectionOutline:v.activeContrastBorder,listHoverOutline:v.activeContrastBorder,listFilterWidgetBackground:v.listFilterWidgetBackground,listFilterWidgetOutline:v.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:v.listFilterWidgetNoMatchesOutline,listMatchesShadow:v.widgetShadow,treeIndentGuidesStroke:v.treeIndentGuidesStroke,tableColumnsBorder:v.tableColumnsBorder},e.defaultMenuStyles={shadowColor:v.widgetShadow,borderColor:v.menuBorder,foregroundColor:v.menuForeground,backgroundColor:v.menuBackground,selectionForegroundColor:v.menuSelectionForeground,selectionBackgroundColor:v.menuSelectionBackground,selectionBorderColor:v.menuSelectionBorder,separatorColor:v.menuSeparatorBackground};function p(C,i,_){return k(i,Object.assign(Object.assign({},e.defaultMenuStyles),_),C)}e.attachMenuStyler=p}),define(te[541],ie([0,1,49,2,316,7,99,54,53,11,437]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class _{constructor(a,l,c,d,r){this.contextViewService=a,this.telemetryService=l,this.notificationService=c,this.keybindingService=d,this.themeService=r,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(a){this.options=a}showContextMenu(a){const l=a.getActions();if(!!l.length){this.focusToReturn=document.activeElement;let c,d=(0,w.isHTMLElement)(a.domForShadowRoot)?a.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>a.getAnchor(),canRelayout:!1,anchorAlignment:a.anchorAlignment,anchorAxisAlignment:a.anchorAxisAlignment,render:r=>{let n=a.getMenuClassName?a.getMenuClassName():"";n&&(r.className+=" "+n),this.options.blockMouse&&(this.block=r.appendChild((0,w.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,p.domEvent)(this.block,w.EventType.MOUSE_DOWN)(o=>o.stopPropagation()));const s=new I.DisposableStore,t=a.actionRunner||new v.ActionRunner;return t.onBeforeRun(this.onActionRun,this,s),t.onDidRun(this.onDidActionRun,this,s),c=new k.Menu(r,l,{actionViewItemProvider:a.getActionViewItem,context:a.getActionsContext?a.getActionsContext():null,actionRunner:t,getKeyBinding:a.getKeyBinding?a.getKeyBinding:o=>this.keybindingService.lookupKeybinding(o.id)}),s.add((0,S.attachMenuStyler)(c,this.themeService)),c.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,s),c.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,s),(0,p.domEvent)(window,w.EventType.BLUR)(()=>{this.contextViewService.hideContextView(!0)},null,s),(0,p.domEvent)(window,w.EventType.MOUSE_DOWN)(o=>{if(!o.defaultPrevented){let h=new C.StandardMouseEvent(o),f=h.target;if(!h.rightButton){for(;f;){if(f===r)return;f=f.parentElement}this.contextViewService.hideContextView(!0)}}},null,s),(0,I.combinedDisposable)(s,c)},focus:()=>{c&&c.focus(!!a.autoSelectFirstItem)},onHide:r=>{a.onHide&&a.onHide(!!r),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},d,!!d)}}onActionRun(a){this.telemetryService.publicLog2("workbenchActionExecuted",{id:a.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(a){a.error&&!(0,i.isPromiseCanceledError)(a.error)&&this.notificationService.error(a.error)}}e.ContextMenuHandler=_}),define(te[94],ie([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var v;(function(I){I.DARK="dark",I.LIGHT="light",I.HIGH_CONTRAST="hc"})(v=e.ColorScheme||(e.ColorScheme={}))}),define(te[194],ie([0,1,36,30,17,542,115,159,125,94,38]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const u=function(){return k.isNative?!0:!(k.isLinux||v.isFirefox||v.isSafari)}();let a=!0;class l{constructor(m,g){this._domNode=m,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=g}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}e.DomReadingContext=l;class c{constructor(m,g){this.themeType=g;const b=m.options,y=b.get(40);this.renderWhitespace=b.get(85),this.renderControlCharacters=b.get(79),this.spaceWidth=y.spaceWidth,this.middotWidth=y.middotWidth,this.wsmiddotWidth=y.wsmiddotWidth,this.useMonospaceOptimizations=y.isMonospace&&!b.get(27),this.canUseHalfwidthRightwardsArrow=y.canUseHalfwidthRightwardsArrow,this.lineHeight=b.get(55),this.stopRenderingLineAfter=b.get(102),this.fontLigatures=b.get(41)}equals(m){return this.themeType===m.themeType&&this.renderWhitespace===m.renderWhitespace&&this.renderControlCharacters===m.renderControlCharacters&&this.spaceWidth===m.spaceWidth&&this.middotWidth===m.middotWidth&&this.wsmiddotWidth===m.wsmiddotWidth&&this.useMonospaceOptimizations===m.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===m.canUseHalfwidthRightwardsArrow&&this.lineHeight===m.lineHeight&&this.stopRenderingLineAfter===m.stopRenderingLineAfter&&this.fontLigatures===m.fontLigatures}}e.ViewLineOptions=c;class d{constructor(m){this._options=m,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(m){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,I.createFastDomNode)(m);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(m){this._isMaybeInvalid=!0,this._options=m}onSelectionChanged(){return this._options.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(m,g,b,y){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const L=b.getViewLineRenderingData(m),N=this._options,M=p.LineDecoration.filter(L.inlineDecorations,m,L.minColumn,L.maxColumn);let D=null;if(N.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const W=b.selections;for(const F of W)if(!(F.endLineNumber<m||F.startLineNumber>m)){const E=F.startLineNumber===m?F.startColumn:L.minColumn,A=F.endLineNumber===m?F.endColumn:L.maxColumn;E<A&&(N.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?M.push(new p.LineDecoration(E,A,"inline-selected-text",0)):(D||(D=[]),D.push(new C.LineRange(E-1,A-1))))}}const R=new C.RenderLineInput(N.useMonospaceOptimizations,N.canUseHalfwidthRightwardsArrow,L.content,L.continuesWithWrappedLine,L.isBasicASCII,L.containsRTL,L.minColumn-1,L.tokens,M,L.tabSize,L.startVisibleColumn,N.spaceWidth,N.middotWidth,N.wsmiddotWidth,N.stopRenderingLineAfter,N.renderWhitespace,N.renderControlCharacters,N.fontLigatures!==_.EditorFontLigatures.OFF,D);if(this._renderedViewLine&&this._renderedViewLine.input.equals(R))return!1;y.appendASCIIString('<div style="top:'),y.appendASCIIString(String(g)),y.appendASCIIString("px;height:"),y.appendASCIIString(String(this._options.lineHeight)),y.appendASCIIString('px;" class="'),y.appendASCIIString(d.CLASS_NAME),y.appendASCIIString('">');const P=(0,C.renderViewLine)(R,y);y.appendASCIIString("</div>");let O=null;return a&&u&&L.isBasicASCII&&N.useMonospaceOptimizations&&P.containsForeignElements===0&&L.content.length<300&&R.lineTokens.getCount()<100&&(O=new r(this._renderedViewLine?this._renderedViewLine.domNode:null,R,P.characterMapping)),O||(O=t(this._renderedViewLine?this._renderedViewLine.domNode:null,R,P.characterMapping,P.containsRTL,P.containsForeignElements)),this._renderedViewLine=O,!0}layoutLine(m,g){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(g),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof r:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof r?this._renderedViewLine.monospaceAssumptionsAreValid():a}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof r&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(m,g,b){if(!this._renderedViewLine)return null;m=m|0,g=g|0,m=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,m)),g=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,g));const y=this._renderedViewLine.input.stopRenderingLineAfter|0;let L=!1;y!==-1&&m>y+1&&g>y+1&&(L=!0),y!==-1&&m>y+1&&(m=y+1),y!==-1&&g>y+1&&(g=y+1);const N=this._renderedViewLine.getVisibleRangesForRange(m,g,b);return N&&N.length>0?new S.VisibleRanges(L,N):null}getColumnOfNodeOffset(m,g,b){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(m,g,b):1}}e.ViewLine=d,d.CLASS_NAME="view-line";class r{constructor(m,g,b){this.domNode=m,this.input=g,this._characterMapping=b,this._charWidth=g.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return a;const m=this.getWidth(),g=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(m-g)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),a=!1),a}toSlowRenderedLine(){return t(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(m,g,b){const y=this._getCharPosition(m),L=this._getCharPosition(g);return[new S.HorizontalRange(y,L-y)]}_getCharPosition(m){const g=this._characterMapping.getAbsoluteOffsets();return g.length===0?0:Math.round(this._charWidth*g[m-1])}getColumnOfNodeOffset(m,g,b){const y=g.textContent.length;let L=-1;for(;g;)g=g.previousSibling,L++;return this._characterMapping.partDataToCharOffset(L,y,b)+1}}class n{constructor(m,g,b,y,L){if(this.domNode=m,this.input=g,this._characterMapping=b,this._isWhitespaceOnly=/^\s*$/.test(g.lineContent),this._containsForeignElements=L,this._cachedWidth=-1,this._pixelOffsetCache=null,!y||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let N=0,M=this._characterMapping.length;N<=M;N++)this._pixelOffsetCache[N]=-1}}_getReadingTarget(m){return m.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(m,g,b){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const y=this._readPixelOffset(this.domNode,m,b);if(y===-1)return null;const L=this._readPixelOffset(this.domNode,g,b);return L===-1?null:[new S.HorizontalRange(y,L-y)]}return this._readVisibleRangesForRange(this.domNode,m,g,b)}_readVisibleRangesForRange(m,g,b,y){if(g===b){const L=this._readPixelOffset(m,g,y);return L===-1?null:[new S.HorizontalRange(L,0)]}else return this._readRawVisibleRangesForRange(m,g,b,y)}_readPixelOffset(m,g,b){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const y=this._getReadingTarget(m);return y.firstChild?y.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const y=this._pixelOffsetCache[g];if(y!==-1)return y;const L=this._actualReadPixelOffset(m,g,b);return this._pixelOffsetCache[g]=L,L}return this._actualReadPixelOffset(m,g,b)}_actualReadPixelOffset(m,g,b){if(this._characterMapping.length===0){const R=w.RangeUtil.readHorizontalRanges(this._getReadingTarget(m),0,0,0,0,b.clientRectDeltaLeft,b.endNode);return!R||R.length===0?-1:R[0].left}if(g===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const y=this._characterMapping.charOffsetToPartData(g-1),L=C.CharacterMapping.getPartIndex(y),N=C.CharacterMapping.getCharIndex(y),M=w.RangeUtil.readHorizontalRanges(this._getReadingTarget(m),L,N,L,N,b.clientRectDeltaLeft,b.endNode);if(!M||M.length===0)return-1;const D=M[0].left;if(this.input.isBasicASCII){const R=this._characterMapping.getAbsoluteOffsets(),P=Math.round(this.input.spaceWidth*R[g-1]);if(Math.abs(P-D)<=1)return P}return D}_readRawVisibleRangesForRange(m,g,b,y){if(g===1&&b===this._characterMapping.length)return[new S.HorizontalRange(0,this.getWidth())];const L=this._characterMapping.charOffsetToPartData(g-1),N=C.CharacterMapping.getPartIndex(L),M=C.CharacterMapping.getCharIndex(L),D=this._characterMapping.charOffsetToPartData(b-1),R=C.CharacterMapping.getPartIndex(D),P=C.CharacterMapping.getCharIndex(D);return w.RangeUtil.readHorizontalRanges(this._getReadingTarget(m),N,M,R,P,y.clientRectDeltaLeft,y.endNode)}getColumnOfNodeOffset(m,g,b){const y=g.textContent.length;let L=-1;for(;g;)g=g.previousSibling,L++;return this._characterMapping.partDataToCharOffset(L,y,b)+1}}class s extends n{_readVisibleRangesForRange(m,g,b,y){const L=super._readVisibleRangesForRange(m,g,b,y);if(!L||L.length===0||g===b||g===1&&b===this._characterMapping.length)return L;if(!this.input.containsRTL){const N=this._readPixelOffset(m,b,y);if(N!==-1){const M=L[L.length-1];M.left<N&&(M.width=N-M.left)}}return L}}const t=function(){return v.isWebKit?o:h}();function o(f,m,g,b,y){return new s(f,m,g,b,y)}function h(f,m,g,b,y){return new n(f,m,g,b,y)}}),define(te[184],ie([0,1,185,47,194,14,3,39,7,204]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class _{constructor(f,m){this.lastViewCursorsRenderData=f,this.lastTextareaPosition=m}}e.PointerHandlerLastRenderData=_;class u{constructor(f,m,g=0,b=null,y=null,L=null){this.element=f,this.type=m,this.mouseColumn=g,this.position=b,!y&&b&&(y=new S.Range(b.lineNumber,b.column,b.lineNumber,b.column)),this.range=y,this.detail=L}static _typeToString(f){return f===1?"TEXTAREA":f===2?"GUTTER_GLYPH_MARGIN":f===3?"GUTTER_LINE_NUMBERS":f===4?"GUTTER_LINE_DECORATIONS":f===5?"GUTTER_VIEW_ZONE":f===6?"CONTENT_TEXT":f===7?"CONTENT_EMPTY":f===8?"CONTENT_VIEW_ZONE":f===9?"CONTENT_WIDGET":f===10?"OVERVIEW_RULER":f===11?"SCROLLBAR":f===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(f){return this._typeToString(f.type)+": "+f.position+" - "+f.range+" - "+f.detail}toString(){return u.toString(this)}}e.MouseTarget=u;class a{static isTextArea(f){return f.length===2&&f[0]===3&&f[1]===6}static isChildOfViewLines(f){return f.length>=4&&f[0]===3&&f[3]===7}static isStrictChildOfViewLines(f){return f.length>4&&f[0]===3&&f[3]===7}static isChildOfScrollableElement(f){return f.length>=2&&f[0]===3&&f[1]===5}static isChildOfMinimap(f){return f.length>=2&&f[0]===3&&f[1]===8}static isChildOfContentWidgets(f){return f.length>=4&&f[0]===3&&f[3]===1}static isChildOfOverflowingContentWidgets(f){return f.length>=1&&f[0]===2}static isChildOfOverlayWidgets(f){return f.length>=2&&f[0]===3&&f[1]===4}}class l{constructor(f,m,g){this.model=f.model;const b=f.configuration.options;this.layoutInfo=b.get(126),this.viewDomNode=m.viewDomNode,this.lineHeight=b.get(55),this.stickyTabStops=b.get(101),this.typicalHalfwidthCharacterWidth=b.get(40).typicalHalfwidthCharacterWidth,this.lastRenderData=g,this._context=f,this._viewHelper=m}getZoneAtCoord(f){return l.getZoneAtCoord(this._context,f)}static getZoneAtCoord(f,m){const g=f.viewLayout.getWhitespaceAtVerticalOffset(m);if(g){const b=g.verticalOffset+g.height/2,y=f.model.getLineCount();let L=null,N,M=null;return g.afterLineNumber!==y&&(M=new w.Position(g.afterLineNumber+1,1)),g.afterLineNumber>0&&(L=new w.Position(g.afterLineNumber,f.model.getLineMaxColumn(g.afterLineNumber))),M===null?N=L:L===null?N=M:m<b?N=L:N=M,{viewZoneId:g.id,afterLineNumber:g.afterLineNumber,positionBefore:L,positionAfter:M,position:N}}return null}getFullLineRangeAtCoord(f){if(this._context.viewLayout.isAfterLines(f)){const b=this._context.model.getLineCount(),y=this._context.model.getLineMaxColumn(b);return{range:new S.Range(b,y,b,y),isAfterLines:!0}}const m=this._context.viewLayout.getLineNumberAtVerticalOffset(f),g=this._context.model.getLineMaxColumn(m);return{range:new S.Range(m,1,m,g),isAfterLines:!1}}getLineNumberAtVerticalOffset(f){return this._context.viewLayout.getLineNumberAtVerticalOffset(f)}isAfterLines(f){return this._context.viewLayout.isAfterLines(f)}isInTopPadding(f){return this._context.viewLayout.isInTopPadding(f)}isInBottomPadding(f){return this._context.viewLayout.isInBottomPadding(f)}getVerticalOffsetForLineNumber(f){return this._context.viewLayout.getVerticalOffsetForLineNumber(f)}findAttribute(f,m){return l._findAttribute(f,m,this._viewHelper.viewDomNode)}static _findAttribute(f,m,g){for(;f&&f!==document.body;){if(f.hasAttribute&&f.hasAttribute(m))return f.getAttribute(m);if(f===g)return null;f=f.parentNode}return null}getLineWidth(f){return this._viewHelper.getLineWidth(f)}visibleRangeForPosition(f,m){return this._viewHelper.visibleRangeForPosition(f,m)}getPositionFromDOMInfo(f,m){return this._viewHelper.getPositionFromDOMInfo(f,m)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=l;class c{constructor(f,m,g){this.editorPos=m,this.pos=g,this.mouseVerticalOffset=Math.max(0,f.getCurrentScrollTop()+g.y-m.y),this.mouseContentHorizontalOffset=f.getCurrentScrollLeft()+g.x-m.x-f.layoutInfo.contentLeft,this.isInMarginArea=g.x-m.x<f.layoutInfo.contentLeft&&g.x-m.x>=f.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,s._getMouseColumn(this.mouseContentHorizontalOffset,f.typicalHalfwidthCharacterWidth))}}class d extends c{constructor(f,m,g,b){super(f,m,g);this._ctx=f,b?(this.target=b,this.targetPath=I.PartFingerprints.collect(b,f.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(f,m=null,g=null,b=null){let y=this.mouseColumn;return m&&m.column<this._ctx.model.getLineMaxColumn(m.lineNumber)&&(y=p.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(m.lineNumber),m.column,this._ctx.model.getTextModelOptions().tabSize)+1),new u(this.target,f,y,m,g,b)}withTarget(f){return new d(this._ctx,this.editorPos,this.pos,f)}}const r={isAfterLines:!0};function n(h){return{isAfterLines:!1,horizontalDistanceToText:h}}class s{constructor(f,m){this._context=f,this._viewHelper=m}mouseTargetIsWidget(f){const m=f.target,g=I.PartFingerprints.collect(m,this._viewHelper.viewDomNode);return!!(a.isChildOfContentWidgets(g)||a.isChildOfOverflowingContentWidgets(g)||a.isChildOfOverlayWidgets(g))}createMouseTarget(f,m,g,b){const y=new l(this._context,this._viewHelper,f),L=new d(y,m,g,b);try{return s._createMouseTarget(y,L,!1)}catch(N){return L.fulfill(0)}}static _createMouseTarget(f,m,g){if(m.target===null){if(g)return m.fulfill(0);const L=s._doHitTest(f,m);return L.position?s.createMouseTargetFromHitTestPosition(f,m,L.position.lineNumber,L.position.column):this._createMouseTarget(f,m.withTarget(L.hitTarget),!0)}const b=m;let y=null;return y=y||s._hitTestContentWidget(f,b),y=y||s._hitTestOverlayWidget(f,b),y=y||s._hitTestMinimap(f,b),y=y||s._hitTestScrollbarSlider(f,b),y=y||s._hitTestViewZone(f,b),y=y||s._hitTestMargin(f,b),y=y||s._hitTestViewCursor(f,b),y=y||s._hitTestTextArea(f,b),y=y||s._hitTestViewLines(f,b,g),y=y||s._hitTestScrollbar(f,b),y||m.fulfill(0)}static _hitTestContentWidget(f,m){if(a.isChildOfContentWidgets(m.targetPath)||a.isChildOfOverflowingContentWidgets(m.targetPath)){const g=f.findAttribute(m.target,"widgetId");return g?m.fulfill(9,null,null,g):m.fulfill(0)}return null}static _hitTestOverlayWidget(f,m){if(a.isChildOfOverlayWidgets(m.targetPath)){const g=f.findAttribute(m.target,"widgetId");return g?m.fulfill(12,null,null,g):m.fulfill(0)}return null}static _hitTestViewCursor(f,m){if(m.target){const g=f.lastRenderData.lastViewCursorsRenderData;for(const b of g)if(m.target===b.domNode)return m.fulfill(6,b.position)}if(m.isInContentArea){const g=f.lastRenderData.lastViewCursorsRenderData,b=m.mouseContentHorizontalOffset,y=m.mouseVerticalOffset;for(const L of g)if(!(b<L.contentLeft)&&!(b>L.contentLeft+L.width)){const N=f.getVerticalOffsetForLineNumber(L.position.lineNumber);if(N<=y&&y<=N+L.height)return m.fulfill(6,L.position)}}return null}static _hitTestViewZone(f,m){const g=f.getZoneAtCoord(m.mouseVerticalOffset);if(g){const b=m.isInContentArea?8:5;return m.fulfill(b,g.position,null,g)}return null}static _hitTestTextArea(f,m){return a.isTextArea(m.targetPath)?f.lastRenderData.lastTextareaPosition?m.fulfill(6,f.lastRenderData.lastTextareaPosition):m.fulfill(1,f.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(f,m){if(m.isInMarginArea){const g=f.getFullLineRangeAtCoord(m.mouseVerticalOffset),b=g.range.getStartPosition();let y=Math.abs(m.pos.x-m.editorPos.x);const L={isAfterLines:g.isAfterLines,glyphMarginLeft:f.layoutInfo.glyphMarginLeft,glyphMarginWidth:f.layoutInfo.glyphMarginWidth,lineNumbersWidth:f.layoutInfo.lineNumbersWidth,offsetX:y};return y-=f.layoutInfo.glyphMarginLeft,y<=f.layoutInfo.glyphMarginWidth?m.fulfill(2,b,g.range,L):(y-=f.layoutInfo.glyphMarginWidth,y<=f.layoutInfo.lineNumbersWidth?m.fulfill(3,b,g.range,L):(y-=f.layoutInfo.lineNumbersWidth,m.fulfill(4,b,g.range,L)))}return null}static _hitTestViewLines(f,m,g){if(!a.isChildOfViewLines(m.targetPath))return null;if(f.isInTopPadding(m.mouseVerticalOffset))return m.fulfill(7,new w.Position(1,1),void 0,r);if(f.isAfterLines(m.mouseVerticalOffset)||f.isInBottomPadding(m.mouseVerticalOffset)){const y=f.model.getLineCount(),L=f.model.getLineMaxColumn(y);return m.fulfill(7,new w.Position(y,L),void 0,r)}if(g){if(a.isStrictChildOfViewLines(m.targetPath)){const y=f.getLineNumberAtVerticalOffset(m.mouseVerticalOffset);if(f.model.getLineLength(y)===0){const N=f.getLineWidth(y),M=n(m.mouseContentHorizontalOffset-N);return m.fulfill(7,new w.Position(y,1),void 0,M)}const L=f.getLineWidth(y);if(m.mouseContentHorizontalOffset>=L){const N=n(m.mouseContentHorizontalOffset-L),M=new w.Position(y,f.model.getLineMaxColumn(y));return m.fulfill(7,M,void 0,N)}}return m.fulfill(0)}const b=s._doHitTest(f,m);return b.position?s.createMouseTargetFromHitTestPosition(f,m,b.position.lineNumber,b.position.column):this._createMouseTarget(f,m.withTarget(b.hitTarget),!0)}static _hitTestMinimap(f,m){if(a.isChildOfMinimap(m.targetPath)){const g=f.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),b=f.model.getLineMaxColumn(g);return m.fulfill(11,new w.Position(g,b))}return null}static _hitTestScrollbarSlider(f,m){if(a.isChildOfScrollableElement(m.targetPath)&&m.target&&m.target.nodeType===1){const g=m.target.className;if(g&&/\b(slider|scrollbar)\b/.test(g)){const b=f.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),y=f.model.getLineMaxColumn(b);return m.fulfill(11,new w.Position(b,y))}}return null}static _hitTestScrollbar(f,m){if(a.isChildOfScrollableElement(m.targetPath)){const g=f.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),b=f.model.getLineMaxColumn(g);return m.fulfill(11,new w.Position(g,b))}return null}getMouseColumn(f,m){const g=this._context.configuration.options,b=g.get(126),y=this._context.viewLayout.getCurrentScrollLeft()+m.x-f.x-b.contentLeft;return s._getMouseColumn(y,g.get(40).typicalHalfwidthCharacterWidth)}static _getMouseColumn(f,m){return f<0?1:Math.round(f/m)+1}static createMouseTargetFromHitTestPosition(f,m,g,b){const y=new w.Position(g,b),L=f.getLineWidth(g);if(m.mouseContentHorizontalOffset>L){const P=n(m.mouseContentHorizontalOffset-L);return m.fulfill(7,y,void 0,P)}const N=f.visibleRangeForPosition(g,b);if(!N)return m.fulfill(0,y);const M=N.left;if(m.mouseContentHorizontalOffset===M)return m.fulfill(6,y);const D=[];if(D.push({offset:N.left,column:b}),b>1){const P=f.visibleRangeForPosition(g,b-1);P&&D.push({offset:P.left,column:b-1})}const R=f.model.getLineMaxColumn(g);if(b<R){const P=f.visibleRangeForPosition(g,b+1);P&&D.push({offset:P.left,column:b+1})}D.sort((P,O)=>P.offset-O.offset);for(let P=1;P<D.length;P++){const O=D[P-1],W=D[P];if(O.offset<=m.mouseContentHorizontalOffset&&m.mouseContentHorizontalOffset<=W.offset){const F=new S.Range(g,O.column,g,W.column);return m.fulfill(6,y,F)}}return m.fulfill(6,y)}static _doHitTestWithCaretRangeFromPoint(f,m){const g=f.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),y=f.getVerticalOffsetForLineNumber(g)+Math.floor(f.lineHeight/2);let L=m.pos.y+(y-m.mouseVerticalOffset);L<=m.editorPos.y&&(L=m.editorPos.y+1),L>=m.editorPos.y+f.layoutInfo.height&&(L=m.editorPos.y+f.layoutInfo.height-1);const N=new v.PageCoordinates(m.pos.x,L),M=this._actualDoHitTestWithCaretRangeFromPoint(f,N.toClientCoordinates());return M.position?M:this._actualDoHitTestWithCaretRangeFromPoint(f,m.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(f,m){const g=C.getShadowRoot(f.viewDomNode);let b;if(g?typeof g.caretRangeFromPoint=="undefined"?b=t(g,m.clientX,m.clientY):b=g.caretRangeFromPoint(m.clientX,m.clientY):b=document.caretRangeFromPoint(m.clientX,m.clientY),!b||!b.startContainer)return{position:null,hitTarget:null};const y=b.startContainer;let L=null;if(y.nodeType===y.TEXT_NODE){const N=y.parentNode,M=N?N.parentNode:null,D=M?M.parentNode:null;if((D&&D.nodeType===D.ELEMENT_NODE?D.className:null)===k.ViewLine.CLASS_NAME)return{position:f.getPositionFromDOMInfo(N,b.startOffset),hitTarget:null};L=y.parentNode}else if(y.nodeType===y.ELEMENT_NODE){const N=y.parentNode,M=N?N.parentNode:null;if((M&&M.nodeType===M.ELEMENT_NODE?M.className:null)===k.ViewLine.CLASS_NAME)return{position:f.getPositionFromDOMInfo(y,y.textContent.length),hitTarget:null};L=y}return{position:null,hitTarget:L}}static _doHitTestWithCaretPositionFromPoint(f,m){const g=document.caretPositionFromPoint(m.clientX,m.clientY);if(g.offsetNode.nodeType===g.offsetNode.TEXT_NODE){const b=g.offsetNode.parentNode,y=b?b.parentNode:null,L=y?y.parentNode:null;return(L&&L.nodeType===L.ELEMENT_NODE?L.className:null)===k.ViewLine.CLASS_NAME?{position:f.getPositionFromDOMInfo(g.offsetNode.parentNode,g.offset),hitTarget:null}:{position:null,hitTarget:g.offsetNode.parentNode}}if(g.offsetNode.nodeType===g.offsetNode.ELEMENT_NODE){const b=g.offsetNode.parentNode,y=b&&b.nodeType===b.ELEMENT_NODE?b.className:null,L=b?b.parentNode:null,N=L&&L.nodeType===L.ELEMENT_NODE?L.className:null;if(y===k.ViewLine.CLASS_NAME){const M=g.offsetNode.childNodes[Math.min(g.offset,g.offsetNode.childNodes.length-1)];if(M)return{position:f.getPositionFromDOMInfo(M,0),hitTarget:null}}else if(N===k.ViewLine.CLASS_NAME)return{position:f.getPositionFromDOMInfo(g.offsetNode,0),hitTarget:null}}return{position:null,hitTarget:g.offsetNode}}static _snapToSoftTabBoundary(f,m){const g=m.getLineContent(f.lineNumber),{tabSize:b}=m.getTextModelOptions(),y=i.AtomicTabMoveOperations.atomicPosition(g,f.column-1,b,2);return y!==-1?new w.Position(f.lineNumber,y+1):f}static _doHitTest(f,m){let g;return typeof document.caretRangeFromPoint=="function"?g=this._doHitTestWithCaretRangeFromPoint(f,m):document.caretPositionFromPoint?g=this._doHitTestWithCaretPositionFromPoint(f,m.pos.toClientCoordinates()):g={position:null,hitTarget:null},g.position&&f.stickyTabStops&&(g.position=this._snapToSoftTabBoundary(g.position,f.model)),g}}e.MouseTargetFactory=s;function t(h,f,m){const g=document.createRange();let b=h.elementFromPoint(f,m);if(b!==null){for(;b&&b.firstChild&&b.firstChild.nodeType!==b.firstChild.TEXT_NODE&&b.lastChild&&b.lastChild.firstChild;)b=b.lastChild;const y=b.getBoundingClientRect(),L=window.getComputedStyle(b,null).getPropertyValue("font"),N=b.innerText;let M=y.left,D=0,R;if(f>y.left+y.width)D=N.length;else{const P=o.getInstance();for(let O=0;O<N.length+1;O++){if(R=P.getCharWidth(N.charAt(O),L)/2,M+=R,f<M){D=O;break}M+=R}}g.setStart(b.firstChild,D),g.setEnd(b.firstChild,D)}return g}e.shadowCaretRangeFromPoint=t;class o{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return o._INSTANCE||(o._INSTANCE=new o),o._INSTANCE}getCharWidth(f,m){const g=f+m;if(this._cache[g])return this._cache[g];const b=this._canvas.getContext("2d");b.font=m;const L=b.measureText(f).width;return this._cache[g]=L,L}}o._INSTANCE=null}),define(te[545],ie([0,1,7,53,15,2,17,184,185,129,14,21,118]),function($,e,v,I,k,w,S,p,C,i,_,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function l(n){return function(s,t){let o=!1;return n&&(o=n.mouseTargetIsWidget(t)),o||t.preventDefault(),t}}e.createMouseMoveEventMerger=l;class c extends a.ViewEventHandler{constructor(s,t,o){super();this._context=s,this.viewController=t,this.viewHelper=o,this.mouseTargetFactory=new p.MouseTargetFactory(this._context,o),this._mouseDownOperation=this._register(new d(this._context,this.viewController,this.viewHelper,(m,g)=>this._createMouseTarget(m,g),m=>this._getMouseColumn(m))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(126).height;const h=new C.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(h.onContextMenu(this.viewHelper.viewDomNode,m=>this._onContextMenu(m,!0))),this._register(h.onMouseMoveThrottled(this.viewHelper.viewDomNode,m=>this._onMouseMove(m),l(this.mouseTargetFactory),c.MOUSE_MOVE_MINIMUM_TIME)),this._register(h.onMouseUp(this.viewHelper.viewDomNode,m=>this._onMouseUp(m))),this._register(h.onMouseLeave(this.viewHelper.viewDomNode,m=>this._onMouseLeave(m))),this._register(h.onMouseDown(this.viewHelper.viewDomNode,m=>this._onMouseDown(m)));const f=m=>{if(this.viewController.emitMouseWheel(m),!!this._context.configuration.options.get(64)){const g=new I.StandardWheelEvent(m);if(S.isMacintosh?(m.metaKey||m.ctrlKey)&&!m.shiftKey&&!m.altKey:m.ctrlKey&&!m.metaKey&&!m.shiftKey&&!m.altKey){const y=i.EditorZoom.getZoomLevel(),L=g.deltaY>0?1:-1;i.EditorZoom.setZoomLevel(y+L),g.preventDefault(),g.stopPropagation()}}};this._register(v.addDisposableListener(this.viewHelper.viewDomNode,v.EventType.MOUSE_WHEEL,f,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(s){if(s.hasChanged(126)){const t=this._context.configuration.options.get(126).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(s){return this._mouseDownOperation.onCursorStateChanged(s),!1}onFocusChanged(s){return!1}onScrollChanged(s){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(s,t){const h=new C.ClientCoordinates(s,t).toPageCoordinates(),f=(0,C.createEditorPagePosition)(this.viewHelper.viewDomNode);return h.y<f.y||h.y>f.y+f.height||h.x<f.x||h.x>f.x+f.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),f,h,null)}_createMouseTarget(s,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),s.editorPos,s.pos,t?s.target:null)}_getMouseColumn(s){return this.mouseTargetFactory.getMouseColumn(s.editorPos,s.pos)}_onContextMenu(s,t){this.viewController.emitContextMenu({event:s,target:this._createMouseTarget(s,t)})}_onMouseMove(s){this._mouseDownOperation.isActive()||s.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:s,target:this._createMouseTarget(s,!0)})}_onMouseLeave(s){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:s,target:null})}_onMouseUp(s){this.viewController.emitMouseUp({event:s,target:this._createMouseTarget(s,!0)})}_onMouseDown(s){const t=this._createMouseTarget(s,!0),o=t.type===6||t.type===7,h=t.type===2||t.type===3||t.type===4,f=t.type===3,m=this._context.configuration.options.get(95),g=t.type===8||t.type===5,b=t.type===9;let y=s.leftButton||s.middleButton;S.isMacintosh&&s.leftButton&&s.ctrlKey&&(y=!1);const L=()=>{s.preventDefault(),this.viewHelper.focusTextArea()};if(y&&(o||f&&m))L(),this._mouseDownOperation.start(t.type,s);else if(h)s.preventDefault();else if(g){const N=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(N.viewZoneId)&&(L(),this._mouseDownOperation.start(t.type,s),s.preventDefault())}else b&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(L(),s.preventDefault());this.viewController.emitMouseDown({event:s,target:t})}}e.MouseHandler=c,c.MOUSE_MOVE_MINIMUM_TIME=100;class d extends w.Disposable{constructor(s,t,o,h,f){super();this._context=s,this._viewController=t,this._viewHelper=o,this._createMouseTarget=h,this._getMouseColumn=f,this._mouseMoveMonitor=this._register(new C.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new k.TimeoutTimer),this._mouseState=new r,this._currentSelection=new u.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(s){this._lastMouseEvent=s,this._mouseState.setModifiers(s);const t=this._findMousePosition(s,!0);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:s,target:t}):this._dispatchMouse(t,!0))}start(s,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(s===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const o=this._findMousePosition(t,!0);if(!(!o||!o.position)){this._mouseState.trySetCount(t.detail,o.position),t.detail=this._mouseState.count;const h=this._context.configuration.options;if(!h.get(77)&&h.get(29)&&!h.get(16)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&o.type===6&&o.position&&this._currentSelection.containsPosition(o.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,l(null),f=>this._onMouseDownThenMove(f),f=>{const m=this._findMousePosition(this._lastMouseEvent,!0);f&&f instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:m?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,l(null),f=>this._onMouseDownThenMove(f),()=>this._stop()))}}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!!this._lastMouseEvent){const s=this._findMousePosition(this._lastMouseEvent,!1);!s||this._mouseState.isDragAndDrop||this._dispatchMouse(s,!0)}},10)}onCursorStateChanged(s){this._currentSelection=s.selections[0]}_getPositionOutsideEditor(s){const t=s.editorPos,o=this._context.model,h=this._context.viewLayout,f=this._getMouseColumn(s);if(s.posy<t.y){const g=Math.max(h.getCurrentScrollTop()-(t.y-s.posy),0),b=p.HitTestContext.getZoneAtCoord(this._context,g);if(b){const L=this._helpPositionJumpOverViewZone(b);if(L)return new p.MouseTarget(null,13,f,L)}const y=h.getLineNumberAtVerticalOffset(g);return new p.MouseTarget(null,13,f,new _.Position(y,1))}if(s.posy>t.y+t.height){const g=h.getCurrentScrollTop()+(s.posy-t.y),b=p.HitTestContext.getZoneAtCoord(this._context,g);if(b){const L=this._helpPositionJumpOverViewZone(b);if(L)return new p.MouseTarget(null,13,f,L)}const y=h.getLineNumberAtVerticalOffset(g);return new p.MouseTarget(null,13,f,new _.Position(y,o.getLineMaxColumn(y)))}const m=h.getLineNumberAtVerticalOffset(h.getCurrentScrollTop()+(s.posy-t.y));return s.posx<t.x?new p.MouseTarget(null,13,f,new _.Position(m,1)):s.posx>t.x+t.width?new p.MouseTarget(null,13,f,new _.Position(m,o.getLineMaxColumn(m))):null}_findMousePosition(s,t){const o=this._getPositionOutsideEditor(s);if(o)return o;const h=this._createMouseTarget(s,t);if(!h.position)return null;if(h.type===8||h.type===5){const m=this._helpPositionJumpOverViewZone(h.detail);if(m)return new p.MouseTarget(h.element,h.type,h.mouseColumn,m,null,h.detail)}return h}_helpPositionJumpOverViewZone(s){const t=new _.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),o=s.positionBefore,h=s.positionAfter;return o&&h?o.isBefore(t)?o:h:null}_dispatchMouse(s,t){!s.position||this._viewController.dispatchMouse({position:s.position,mouseColumn:s.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class r{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(s){this._altKey=s.altKey,this._ctrlKey=s.ctrlKey,this._metaKey=s.metaKey,this._shiftKey=s.shiftKey}setStartButtons(s){this._leftButton=s.leftButton,this._middleButton=s.middleButton}setStartedOnLineNumbers(s){this._startedOnLineNumbers=s}trySetCount(s,t){const o=new Date().getTime();o-this._lastSetMouseDownCountTime>r.CLEAR_MOUSE_DOWN_COUNT_TIME&&(s=1),this._lastSetMouseDownCountTime=o,s>this._lastMouseDownCount+1&&(s=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(s,this._lastMouseDownPositionEqualCount)}}r.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(te[546],ie([0,1,7,17,62,2,545,185,151,168]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class _ extends S.MouseHandler{constructor(c,d,r){super(c,d,r);this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,s=>this.onTap(s))),this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,s=>this.onChange(s))),this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,s=>this._onContextMenu(new p.EditorMouseEvent(s,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",s=>{const t=s.pointerType;if(t==="mouse"){this._lastPointerType="mouse";return}else t==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const n=new p.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,s=>this._onMouseMove(s),(0,S.createMouseMoveEventMerger)(this.mouseTargetFactory),S.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,s=>this._onMouseDown(s)))}onTap(c){if(!(!c.initialTarget||!this.viewHelper.linesContentDomNode.contains(c.initialTarget))){c.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new p.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);d.position&&this.viewController.dispatchMouse({position:d.position,mouseColumn:d.position.column,startedOnLineNumbers:!1,mouseDownCount:c.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}}onChange(c){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}_onMouseDown(c){c.browserEvent.pointerType!=="touch"&&super._onMouseDown(c)}}e.PointerEventHandler=_;class u extends S.MouseHandler{constructor(c,d,r){super(c,d,r);this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,n=>this.onTap(n))),this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,n=>this.onChange(n))),this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,n=>this._onContextMenu(new p.EditorMouseEvent(n,this.viewHelper.viewDomNode),!1)))}onTap(c){c.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new p.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);if(d.position){const r=document.createEvent("CustomEvent");r.initEvent(i.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(r),this.viewController.moveTo(d.position)}}onChange(c){this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}}class a extends w.Disposable{constructor(c,d,r){super();I.isIOS&&C.BrowserFeatures.pointerEvents?this.handler=this._register(new _(c,d,r)):window.TouchEvent?this.handler=this._register(new u(c,d,r)):this.handler=this._register(new S.MouseHandler(c,d,r))}getTargetAtClientPoint(c,d){return this.handler.getTargetAtClientPoint(c,d)}}e.PointerHandler=a}),define(te[236],ie([0,1,184]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class I{constructor(S){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=S}emitKeyDown(S){this.onKeyDown&&this.onKeyDown(S)}emitKeyUp(S){this.onKeyUp&&this.onKeyUp(S)}emitContextMenu(S){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(S))}emitMouseMove(S){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(S))}emitMouseLeave(S){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(S))}emitMouseDown(S){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(S))}emitMouseUp(S){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(S))}emitMouseDrag(S){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(S))}emitMouseDrop(S){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(S))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(S){this.onMouseWheel&&this.onMouseWheel(S)}_convertViewToModelMouseEvent(S){return S.target?{event:S.event,target:this._convertViewToModelMouseTarget(S.target)}:S}_convertViewToModelMouseTarget(S){return I.convertViewToModelMouseTarget(S,this._coordinatesConverter)}static convertViewToModelMouseTarget(S,p){return new k(S.element,S.type,S.mouseColumn,S.position?p.convertViewPositionToModelPosition(S.position):null,S.range?p.convertViewRangeToModelRange(S.range):null,S.detail)}}e.ViewUserInputEvents=I;class k{constructor(S,p,C,i,_,u){this.element=S,this.type=p,this.mouseColumn=C,this.position=i,this.range=_,this.detail=u}toString(){return v.MouseTarget.toString(this)}}}),define(te[548],ie([0,1,17,15,71,174,47,194,14,3,115,133,677]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class a{constructor(){this._currentVisibleRange=new i.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(n){this._currentVisibleRange=n}}class l{constructor(n,s,t,o,h,f){this.lineNumber=n,this.startColumn=s,this.endColumn=t,this.startScrollTop=o,this.stopScrollTop=h,this.scrollType=f,this.type="range",this.minLineNumber=n,this.maxLineNumber=n}}class c{constructor(n,s,t,o){this.selections=n,this.startScrollTop=s,this.stopScrollTop=t,this.scrollType=o,this.type="selections";let h=n[0].startLineNumber,f=n[0].endLineNumber;for(let m=1,g=n.length;m<g;m++){const b=n[m];h=Math.min(h,b.startLineNumber),f=Math.max(f,b.endLineNumber)}this.minLineNumber=h,this.maxLineNumber=f}}class d extends S.ViewPart{constructor(n,s){super(n);this._linesContent=s,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new w.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const t=this._context.configuration,o=this._context.configuration.options,h=o.get(40),f=o.get(127);this._lineHeight=o.get(55),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._isViewportWrapping=f.isViewportWrapping,this._revealHorizontalRightPadding=o.get(86),this._cursorSurroundingLines=o.get(23),this._cursorSurroundingLinesStyle=o.get(24),this._canUseLayerHinting=!o.get(26),this._viewLineOptions=new p.ViewLineOptions(t,this._context.theme.type),S.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),k.Configuration.applyFontInfo(this.domNode,h),this._maxLineWidth=0,this._asyncUpdateLineWidths=new I.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new I.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new a,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new p.ViewLine(this._viewLineOptions)}onConfigurationChanged(n){this._visibleLines.onConfigurationChanged(n),n.hasChanged(127)&&(this._maxLineWidth=0);const s=this._context.configuration.options,t=s.get(40),o=s.get(127);return this._lineHeight=s.get(55),this._typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=s.get(86),this._cursorSurroundingLines=s.get(23),this._cursorSurroundingLinesStyle=s.get(24),this._canUseLayerHinting=!s.get(26),k.Configuration.applyFontInfo(this.domNode,t),this._onOptionsMaybeChanged(),n.hasChanged(126)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const n=this._context.configuration,s=new p.ViewLineOptions(n,this._context.theme.type);if(!this._viewLineOptions.equals(s)){this._viewLineOptions=s;const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let h=t;h<=o;h++)this._visibleLines.getVisibleLine(h).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(n){const s=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let o=!1;for(let h=s;h<=t;h++)o=this._visibleLines.getVisibleLine(h).onSelectionChanged()||o;return o}onDecorationsChanged(n){{const s=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let o=s;o<=t;o++)this._visibleLines.getVisibleLine(o).onDecorationsChanged()}return!0}onFlushed(n){const s=this._visibleLines.onFlushed(n);return this._maxLineWidth=0,s}onLinesChanged(n){return this._visibleLines.onLinesChanged(n)}onLinesDeleted(n){return this._visibleLines.onLinesDeleted(n)}onLinesInserted(n){return this._visibleLines.onLinesInserted(n)}onRevealRangeRequest(n){const s=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),n.source,n.range,n.selections,n.verticalType);if(s===-1)return!1;let t=this._context.viewLayout.validateScrollPosition({scrollTop:s});n.revealHorizontal?n.range&&n.range.startLineNumber!==n.range.endLineNumber?t={scrollTop:t.scrollTop,scrollLeft:0}:n.range?this._horizontalRevealRequest=new l(n.range.startLineNumber,n.range.startColumn,n.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType):n.selections&&n.selections.length>0&&(this._horizontalRevealRequest=new c(n.selections,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType)):this._horizontalRevealRequest=null;const h=Math.abs(this._context.viewLayout.getCurrentScrollTop()-t.scrollTop)<=this._lineHeight?1:n.scrollType;return this._context.model.setScrollPosition(t,h),!0}onScrollChanged(n){if(this._horizontalRevealRequest&&n.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&n.scrollTopChanged){const s=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),t=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(n.scrollTop<s||n.scrollTop>t)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(n.scrollWidth),this._visibleLines.onScrollChanged(n)||!0}onTokensChanged(n){return this._visibleLines.onTokensChanged(n)}onZonesChanged(n){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(n)}onThemeChanged(n){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(n,s){const t=this._getViewLineDomNode(n);if(t===null)return null;const o=this._getLineNumberFor(t);if(o===-1||o<1||o>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(o)===1)return new C.Position(o,1);const h=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();if(o<h||o>f)return null;let m=this._visibleLines.getVisibleLine(o).getColumnOfNodeOffset(o,n,s);const g=this._context.model.getLineMinColumn(o);return m<g&&(m=g),new C.Position(o,m)}_getViewLineDomNode(n){for(;n&&n.nodeType===1;){if(n.className===p.ViewLine.CLASS_NAME)return n;n=n.parentElement}return null}_getLineNumberFor(n){const s=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let o=s;o<=t;o++){const h=this._visibleLines.getVisibleLine(o);if(n===h.getDomNode())return o}return-1}getLineWidth(n){const s=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();return n<s||n>t?-1:this._visibleLines.getVisibleLine(n).getWidth()}linesVisibleRangesForRange(n,s){if(this.shouldRender())return null;const t=n.endLineNumber,o=i.Range.intersectRanges(n,this._lastRenderedData.getCurrentVisibleRange());if(!o)return null;let h=[],f=0;const m=new p.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let g=0;s&&(g=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(o.startLineNumber,1)).lineNumber);const b=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();for(let L=o.startLineNumber;L<=o.endLineNumber;L++)if(!(L<b||L>y)){const N=L===o.startLineNumber?o.startColumn:1,M=L===o.endLineNumber?o.endColumn:this._context.model.getLineMaxColumn(L),D=this._visibleLines.getVisibleLine(L).getVisibleRangesForRange(N,M,m);if(!!D){if(s&&L<t){const R=g;g=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(L+1,1)).lineNumber,R!==g&&(D.ranges[D.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}h[f++]=new _.LineVisibleRanges(D.outsideRenderedLine,L,D.ranges)}}return f===0?null:h}_visibleRangesForLineRange(n,s,t){return this.shouldRender()||n<this._visibleLines.getStartLineNumber()||n>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(n).getVisibleRangesForRange(s,t,new p.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(n){const s=this._visibleRangesForLineRange(n.lineNumber,n.column,n.column);return s?new _.HorizontalPosition(s.outsideRenderedLine,s.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(n){const s=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let o=1,h=!0;for(let f=s;f<=t;f++){const m=this._visibleLines.getVisibleLine(f);if(n&&!m.getWidthIsFast()){h=!1;continue}o=Math.max(o,m.getWidth())}return h&&s===1&&t===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(o),h}_checkMonospaceFontAssumptions(){let n=-1,s=-1;const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let h=t;h<=o;h++){const f=this._visibleLines.getVisibleLine(h);if(f.needsMonospaceFontCheck()){const m=f.getWidth();m>s&&(s=m,n=h)}}if(n!==-1&&!this._visibleLines.getVisibleLine(n).monospaceAssumptionsAreValid())for(let h=t;h<=o;h++)this._visibleLines.getVisibleLine(h).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(n){if(this._visibleLines.renderLines(n),this._lastRenderedData.setCurrentVisibleRange(n.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(n.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=n.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const o=this._computeScrollLeftToReveal(t);o&&(this._isViewportWrapping||this._ensureMaxLineWidth(o.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:o.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),v.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let h=t;h<=o;h++)if(this._visibleLines.getVisibleLine(h).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const s=this._context.viewLayout.getCurrentScrollTop()-n.bigNumbersDelta;this._linesContent.setTop(-s),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(n){const s=Math.ceil(n);this._maxLineWidth<s&&(this._maxLineWidth=s,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(n,s,t,o,h){const f=n.top,m=n.height,g=f+m;let b,y,L;if(o&&o.length>0){let D=o[0].startLineNumber,R=o[0].endLineNumber;for(let P=1,O=o.length;P<O;P++){const W=o[P];D=Math.min(D,W.startLineNumber),R=Math.max(R,W.endLineNumber)}b=!1,y=this._context.viewLayout.getVerticalOffsetForLineNumber(D),L=this._context.viewLayout.getVerticalOffsetForLineNumber(R)+this._lineHeight}else if(t)b=!0,y=this._context.viewLayout.getVerticalOffsetForLineNumber(t.startLineNumber),L=this._context.viewLayout.getVerticalOffsetForLineNumber(t.endLineNumber)+this._lineHeight;else return-1;if(!(s==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const D=Math.min(m/this._lineHeight/2,this._cursorSurroundingLines);y-=D*this._lineHeight,L+=Math.max(0,D-1)*this._lineHeight}(h===0||h===4)&&(L+=this._lineHeight);let M;if(L-y>m){if(!b)return-1;M=y}else if(h===5||h===6)if(h===6&&f<=y&&L<=g)M=f;else{const D=Math.max(5*this._lineHeight,m*.2),R=y-D,P=L-m;M=Math.max(P,R)}else if(h===1||h===2)if(h===2&&f<=y&&L<=g)M=f;else{const D=(y+L)/2;M=Math.max(0,D-m/2)}else M=this._computeMinimumScrolling(f,g,y,L,h===3,h===4);return M}_computeScrollLeftToReveal(n){const s=this._context.viewLayout.getCurrentViewport(),t=s.left,o=t+s.width;let h=1073741824,f=0;if(n.type==="range"){const g=this._visibleRangesForLineRange(n.lineNumber,n.startColumn,n.endColumn);if(!g)return null;for(const b of g.ranges)h=Math.min(h,b.left),f=Math.max(f,b.left+b.width)}else for(const g of n.selections){if(g.startLineNumber!==g.endLineNumber)return null;const b=this._visibleRangesForLineRange(g.startLineNumber,g.startColumn,g.endColumn);if(!b)return null;for(const y of b.ranges)h=Math.min(h,y.left),f=Math.max(f,y.left+y.width)}return h=Math.max(0,h-d.HORIZONTAL_EXTRA_PX),f+=this._revealHorizontalRightPadding,n.type==="selections"&&f-h>s.width?null:{scrollLeft:this._computeMinimumScrolling(t,o,h,f),maxHorizontalOffset:f}}_computeMinimumScrolling(n,s,t,o,h,f){n=n|0,s=s|0,t=t|0,o=o|0,h=!!h,f=!!f;const m=s-n;if(o-t<m){if(h)return t;if(f)return Math.max(0,o-m);if(t<n)return t;if(o>s)return Math.max(0,o-m)}else return t;return n}}e.ViewLines=d,d.HORIZONTAL_EXTRA_PX=30}),define(te[12],ie([0,1,9,2,32,6,94,27]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,v.createDecorator)("themeService");var C;(function(r){function n(s){return s&&typeof s=="object"&&typeof s.id=="string"}r.isThemeColor=n})(C=e.ThemeColor||(e.ThemeColor={}));function i(r){return{id:r}}e.themeColorFromId=i;var _;(function(r){function n(f){return f&&typeof f=="object"&&typeof f.id=="string"&&(typeof f.color=="undefined"||C.isThemeColor(f.color))}r.isThemeIcon=n;const s=new RegExp(`^\\$\\((${p.CSSIcon.iconNameExpression}(?:${p.CSSIcon.iconModifierExpression})?)\\)$`);function t(f){const m=s.exec(f);if(!!m){let[,g]=m;return{id:g}}}r.fromString=t;function o(f,m){let g=f.id;const b=g.lastIndexOf("~");return b!==-1&&(g=g.substring(0,b)),m&&(g=`${g}~${m}`),{id:g}}r.modify=o;function h(f,m){var g,b;return f.id===m.id&&((g=f.color)===null||g===void 0?void 0:g.id)===((b=m.color)===null||b===void 0?void 0:b.id)}r.isEqual=h,r.asClassNameArray=p.CSSIcon.asClassNameArray,r.asClassName=p.CSSIcon.asClassName,r.asCSSSelector=p.CSSIcon.asCSSSelector})(_=e.ThemeIcon||(e.ThemeIcon={}));function u(r){switch(r){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=u,e.Extensions={ThemingContribution:"base.contributions.theming"};class a{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new w.Emitter}onColorThemeChange(n){return this.themingParticipants.push(n),this.onThemingParticipantAddedEmitter.fire(n),(0,I.toDisposable)(()=>{const s=this.themingParticipants.indexOf(n);this.themingParticipants.splice(s,1)})}getThemingParticipants(){return this.themingParticipants}}let l=new a;k.Registry.add(e.Extensions.ThemingContribution,l);function c(r){return l.onColorThemeChange(r)}e.registerThemingParticipant=c;class d extends I.Disposable{constructor(n){super();this.themeService=n,this.theme=n.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(s=>this.onThemeChange(s)))}onThemeChange(n){this.theme=n,this.updateStyles()}updateStyles(){}}e.Themable=d}),define(te[550],ie([0,1,7,2,8,23,443,104,50,12]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._CSS_MAP=e.DecorationTypeOptionsProvider=e.DecorationSubTypeOptionsProvider=e.CodeEditorServiceImpl=e.GlobalStyleSheet=e.RefCountedStyleSheet=void 0;class _{constructor(s,t,o){this._parent=s,this._editorId=t,this._styleSheet=o,this._refCount=0}ref(){this._refCount++}unref(){var s;this._refCount--,this._refCount===0&&((s=this._styleSheet.parentNode)===null||s===void 0||s.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(s,t){this._styleSheet.sheet.insertRule(s,t)}removeRulesContainingSelector(s){v.removeCSSRulesContainingSelector(s,this._styleSheet)}}e.RefCountedStyleSheet=_;class u{constructor(s){this._styleSheet=s}ref(){}unref(){}insertRule(s,t){this._styleSheet.sheet.insertRule(s,t)}removeRulesContainingSelector(s){v.removeCSSRulesContainingSelector(s,this._styleSheet)}}e.GlobalStyleSheet=u;let a=class extends S.AbstractCodeEditorService{constructor(s,t){super();this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=s||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new u(v.createStyleSheet())),this._globalStyleSheet}_getOrCreateStyleSheet(s){if(!s)return this._getOrCreateGlobalStyleSheet();const t=s.getContainerDomNode();if(!v.isInShadowDOM(t))return this._getOrCreateGlobalStyleSheet();const o=s.getId();if(!this._editorStyleSheets.has(o)){const h=new _(this,o,v.createStyleSheet(t));this._editorStyleSheets.set(o,h)}return this._editorStyleSheets.get(o)}_removeEditorStyleSheets(s){this._editorStyleSheets.delete(s)}registerDecorationType(s,t,o,h){let f=this._decorationOptionProviders.get(s);if(!f){const m=this._getOrCreateStyleSheet(h),g={styleSheet:m,key:s,parentTypeKey:o,options:t||Object.create(null)};o?f=new l(this._themeService,m,g):f=new c(this._themeService,m,g),this._decorationOptionProviders.set(s,f),this._onDecorationTypeRegistered.fire(s)}f.refCount++}removeDecorationType(s){const t=this._decorationOptionProviders.get(s);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(s),t.dispose(),this.listCodeEditors().forEach(o=>o.removeDecorations(s))))}resolveDecorationOptions(s,t){const o=this._decorationOptionProviders.get(s);if(!o)throw new Error("Unknown decoration type key: "+s);return o.getOptions(this,t)}};a=Me([_e(1,i.IThemeService)],a),e.CodeEditorServiceImpl=a;class l{constructor(s,t,o){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=o.parentTypeKey,this.refCount=0,this._beforeContentRules=new d(3,o,s),this._afterContentRules=new d(4,o,s)}getOptions(s,t){const o=s.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(o.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(o.afterContentClassName=this._afterContentRules.className),o}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}e.DecorationSubTypeOptionsProvider=l;class c{constructor(s,t,o){this._disposables=new I.DisposableStore,this._styleSheet=t,this._styleSheet.ref(),this.refCount=0;const h=L=>{const N=new d(L,o,s);if(this._disposables.add(N),N.hasContent)return N.className},f=L=>{const N=new d(L,o,s);return this._disposables.add(N),N.hasContent?{className:N.className,hasLetterSpacing:N.hasLetterSpacing}:null};this.className=h(0);const m=f(1);m&&(this.inlineClassName=m.className,this.inlineClassNameAffectsLetterSpacing=m.hasLetterSpacing),this.beforeContentClassName=h(3),this.afterContentClassName=h(4),this.glyphMarginClassName=h(2);const g=o.options;this.isWholeLine=Boolean(g.isWholeLine),this.stickiness=g.rangeBehavior;const b=g.light&&g.light.overviewRulerColor||g.overviewRulerColor,y=g.dark&&g.dark.overviewRulerColor||g.overviewRulerColor;(typeof b!="undefined"||typeof y!="undefined")&&(this.overviewRuler={color:b||y,darkColor:y||b,position:g.overviewRulerLane||C.OverviewRulerLane.Center})}getOptions(s,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}e.DecorationTypeOptionsProvider=c,e._CSS_MAP={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};"};class d{constructor(s,t,o){this._theme=o.getColorTheme(),this._ruleType=s,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let h=r.getClassName(this._providerArgs.key,s);this._providerArgs.parentTypeKey&&(h=h+" "+r.getClassName(this._providerArgs.parentTypeKey,s)),this._className=h,this._unThemedSelector=r.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,s),this._buildCSS(),this._usesThemeColors?this._themeListener=o.onDidColorThemeChange(f=>{this._theme=o.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const s=this._providerArgs.options;let t,o,h;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(s),o=this.getCSSTextForModelDecorationClassName(s.light),h=this.getCSSTextForModelDecorationClassName(s.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(s),o=this.getCSSTextForModelDecorationInlineClassName(s.light),h=this.getCSSTextForModelDecorationInlineClassName(s.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(s),o=this.getCSSTextForModelDecorationGlyphMarginClassName(s.light),h=this.getCSSTextForModelDecorationGlyphMarginClassName(s.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(s.before),o=this.getCSSTextForModelDecorationContentClassName(s.light&&s.light.before),h=this.getCSSTextForModelDecorationContentClassName(s.dark&&s.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(s.after),o=this.getCSSTextForModelDecorationContentClassName(s.light&&s.light.after),h=this.getCSSTextForModelDecorationContentClassName(s.dark&&s.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const f=this._providerArgs.styleSheet;let m=!1;t.length>0&&(f.insertRule(`${this._unThemedSelector} {${t}}`,0),m=!0),o.length>0&&(f.insertRule(`.vs${this._unThemedSelector} {${o}}`,0),m=!0),h.length>0&&(f.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${h}}`,0),m=!0),this._hasContent=m}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(s){if(!s)return"";const t=[];return this.collectCSSText(s,["backgroundColor"],t),this.collectCSSText(s,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(s,t),t.join("")}getCSSTextForModelDecorationInlineClassName(s){if(!s)return"";const t=[];return this.collectCSSText(s,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),s.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(s){if(!s)return"";const t=[];if(typeof s!="undefined"){if(this.collectBorderSettingsCSSText(s,t),typeof s.contentIconPath!="undefined"&&t.push(k.format(e._CSS_MAP.contentIconPath,v.asCSSUrl(w.URI.revive(s.contentIconPath)))),typeof s.contentText=="string"){const h=s.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(k.format(e._CSS_MAP.contentText,h))}this.collectCSSText(s,["fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(s,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(s){if(!s)return"";const t=[];return typeof s.gutterIconPath!="undefined"&&(t.push(k.format(e._CSS_MAP.gutterIconPath,v.asCSSUrl(w.URI.revive(s.gutterIconPath)))),typeof s.gutterIconSize!="undefined"&&t.push(k.format(e._CSS_MAP.gutterIconSize,s.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(s,t){return this.collectCSSText(s,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)?(t.push(k.format("box-sizing: border-box;")),!0):!1}collectCSSText(s,t,o){const h=o.length;for(let f of t){const m=this.resolveValue(s[f]);typeof m=="string"&&o.push(k.format(e._CSS_MAP[f],m))}return o.length!==h}resolveValue(s){if((0,p.isThemeColor)(s)){this._usesThemeColors=!0;const t=this._theme.getColor(s.id);return t?t.toString():"transparent"}return s}}class r{static getClassName(s,t){return"ced-"+s+"-"+t}static getSelector(s,t,o){let h=".monaco-editor ."+this.getClassName(s,o);return t&&(h=h+"."+this.getClassName(t,o)),o===3?h+="::before":o===4&&(h+="::after"),h}}}),define(te[551],ie([0,1,7,30,63,47,12]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class p extends w.ViewPart{constructor(i,_,u,a){super(i);const l=this._context.configuration.options,c=l.get(89),d=l.get(63),r=l.get(32),n=l.get(92),s={listenOnDomNode:u.domNode,className:"editor-scrollable "+(0,S.getThemeTypeSelector)(i.theme.type),useShadows:!1,lazyRender:!0,vertical:c.vertical,horizontal:c.horizontal,verticalHasArrows:c.verticalHasArrows,horizontalHasArrows:c.horizontalHasArrows,verticalScrollbarSize:c.verticalScrollbarSize,verticalSliderSize:c.verticalSliderSize,horizontalScrollbarSize:c.horizontalScrollbarSize,horizontalSliderSize:c.horizontalSliderSize,handleMouseWheel:c.handleMouseWheel,alwaysConsumeMouseWheel:c.alwaysConsumeMouseWheel,arrowSize:c.arrowSize,mouseWheelScrollSensitivity:d,fastScrollSensitivity:r,scrollPredominantAxis:n,scrollByPage:c.scrollByPage};this.scrollbar=this._register(new k.SmoothScrollableElement(_.domNode,s,this._context.viewLayout.getScrollable())),w.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,I.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const t=(o,h,f)=>{const m={};if(h){const g=o.scrollTop;g&&(m.scrollTop=this._context.viewLayout.getCurrentScrollTop()+g,o.scrollTop=0)}if(f){const g=o.scrollLeft;g&&(m.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+g,o.scrollLeft=0)}this._context.model.setScrollPosition(m,1)};this._register(v.addDisposableListener(u.domNode,"scroll",o=>t(u.domNode,!0,!0))),this._register(v.addDisposableListener(_.domNode,"scroll",o=>t(_.domNode,!0,!1))),this._register(v.addDisposableListener(a.domNode,"scroll",o=>t(a.domNode,!0,!1))),this._register(v.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",o=>t(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,_=i.get(126);this.scrollbarDomNode.setLeft(_.contentLeft),i.get(61).side==="right"?this.scrollbarDomNode.setWidth(_.contentWidth+_.minimap.minimapWidth):this.scrollbarDomNode.setWidth(_.contentWidth),this.scrollbarDomNode.setHeight(_.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(i){this.scrollbar.delegateVerticalScrollbarMouseDown(i)}onConfigurationChanged(i){if(i.hasChanged(89)||i.hasChanged(63)||i.hasChanged(32)){const _=this._context.configuration.options,u=_.get(89),a=_.get(63),l=_.get(32),c=_.get(92),d={handleMouseWheel:u.handleMouseWheel,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c};this.scrollbar.updateOptions(d)}return i.hasChanged(126)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+(0,S.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}e.EditorScrollbar=p}),define(te[552],ie([0,1,7,30,96,2,17,8,174,47,38,3,230,199,64,22,12,21,62,448,50,90,280]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const f=140,m=2;class g{constructor(O,W,F){const E=O.options,A=E.get(124),B=E.get(126),z=B.minimap,U=E.get(40),K=E.get(61);this.renderMinimap=z.renderMinimap,this.size=K.size,this.minimapHeightIsEditorHeight=z.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=E.get(91),this.showSlider=K.showSlider,this.pixelRatio=A,this.typicalHalfwidthCharacterWidth=U.typicalHalfwidthCharacterWidth,this.lineHeight=E.get(55),this.minimapLeft=z.minimapLeft,this.minimapWidth=z.minimapWidth,this.minimapHeight=B.height,this.canvasInnerWidth=z.minimapCanvasInnerWidth,this.canvasInnerHeight=z.minimapCanvasInnerHeight,this.canvasOuterWidth=z.minimapCanvasOuterWidth,this.canvasOuterHeight=z.minimapCanvasOuterHeight,this.isSampling=z.minimapIsSampling,this.editorHeight=B.height,this.fontScale=z.minimapScale,this.minimapLineHeight=z.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,h.once)(()=>t.MinimapCharRendererFactory.create(this.fontScale,U.fontFamily)),this.backgroundColor=g._getMinimapBackground(W,F)}static _getMinimapBackground(O,W){const F=O.getColor(d.minimapBackground);return F?new a.RGBA8(F.rgba.r,F.rgba.g,F.rgba.b,F.rgba.a):W.getColor(2)}equals(O){return this.renderMinimap===O.renderMinimap&&this.size===O.size&&this.minimapHeightIsEditorHeight===O.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===O.scrollBeyondLastLine&&this.showSlider===O.showSlider&&this.pixelRatio===O.pixelRatio&&this.typicalHalfwidthCharacterWidth===O.typicalHalfwidthCharacterWidth&&this.lineHeight===O.lineHeight&&this.minimapLeft===O.minimapLeft&&this.minimapWidth===O.minimapWidth&&this.minimapHeight===O.minimapHeight&&this.canvasInnerWidth===O.canvasInnerWidth&&this.canvasInnerHeight===O.canvasInnerHeight&&this.canvasOuterWidth===O.canvasOuterWidth&&this.canvasOuterHeight===O.canvasOuterHeight&&this.isSampling===O.isSampling&&this.editorHeight===O.editorHeight&&this.fontScale===O.fontScale&&this.minimapLineHeight===O.minimapLineHeight&&this.minimapCharWidth===O.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(O.backgroundColor)}}class b{constructor(O,W,F,E,A,B,z,U){this.scrollTop=O,this.scrollHeight=W,this.sliderNeeded=F,this._computedSliderRatio=E,this.sliderTop=A,this.sliderHeight=B,this.startLineNumber=z,this.endLineNumber=U}getDesiredScrollTopFromDelta(O){return Math.round(this.scrollTop+O/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(O){return Math.round((O-this.sliderHeight/2)/this._computedSliderRatio)}static create(O,W,F,E,A,B,z,U,K,G,J){const Q=O.pixelRatio,ae=O.minimapLineHeight,se=Math.floor(O.canvasInnerHeight/ae),Z=O.lineHeight;if(O.minimapHeightIsEditorHeight){const ee=U*O.lineHeight+(O.scrollBeyondLastLine?A-O.lineHeight:0),oe=Math.max(1,Math.floor(A*A/ee)),le=Math.max(0,O.minimapHeight-oe),Y=le/(G-A),j=K*Y,ne=le>0,X=Math.floor(O.canvasInnerHeight/O.minimapLineHeight);return new b(K,G,ne,Y,j,oe,1,Math.min(z,X))}let T;if(B&&F!==z){const ee=F-W+1;T=Math.floor(ee*ae/Q)}else{const ee=A/Z;T=Math.floor(ee*ae/Q)}let x;O.scrollBeyondLastLine?x=(z-1)*ae/Q:x=Math.max(0,z*ae/Q-T),x=Math.min(O.minimapHeight-T,x);const H=x/(G-A),V=K*H;let q=0;if(O.scrollBeyondLastLine&&(q=A/Z-1),se>=z+q){const ee=1,oe=z,le=x>0;return new b(K,G,le,H,V,T,ee,oe)}else{let ee=Math.max(1,Math.floor(W-V*Q/ae));J&&J.scrollHeight===G&&(J.scrollTop>K&&(ee=Math.min(ee,J.startLineNumber)),J.scrollTop<K&&(ee=Math.max(ee,J.startLineNumber)));const oe=Math.min(z,ee+se-1),le=(K-E)/Z,Y=(W-ee+le)*ae/Q;return new b(K,G,!0,H,Y,T,ee,oe)}}}class y{constructor(O){this.dy=O}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}y.INVALID=new y(-1);class L{constructor(O,W,F){this.renderedLayout=O,this._imageData=W,this._renderedLines=new C.RenderedLinesCollection(()=>y.INVALID),this._renderedLines._set(O.startLineNumber,F)}linesEquals(O){if(!this.scrollEquals(O))return!1;const F=this._renderedLines._get().lines;for(let E=0,A=F.length;E<A;E++)if(F[E].dy===-1)return!1;return!0}scrollEquals(O){return this.renderedLayout.startLineNumber===O.startLineNumber&&this.renderedLayout.endLineNumber===O.endLineNumber}_get(){const O=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:O.rendLineNumberStart,lines:O.lines}}onLinesChanged(O,W){return this._renderedLines.onLinesChanged(O,W)}onLinesDeleted(O,W){this._renderedLines.onLinesDeleted(O,W)}onLinesInserted(O,W){this._renderedLines.onLinesInserted(O,W)}onTokensChanged(O){return this._renderedLines.onTokensChanged(O)}}class N{constructor(O,W,F,E){this._backgroundFillData=N._createBackgroundFillData(W,F,E),this._buffers=[O.createImageData(W,F),O.createImageData(W,F)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const O=this._buffers[this._lastUsedBuffer];return O.data.set(this._backgroundFillData),O}static _createBackgroundFillData(O,W,F){const E=F.r,A=F.g,B=F.b,z=new Uint8ClampedArray(O*W*4);let U=0;for(let K=0;K<W;K++)for(let G=0;G<O;G++)z[U]=E,z[U+1]=A,z[U+2]=B,z[U+3]=255,U+=4;return z}}class M{constructor(O,W){this.samplingRatio=O,this.minimapLines=W}static compute(O,W,F){if(O.renderMinimap===0||!O.isSampling)return[null,[]];const E=O.pixelRatio,A=O.lineHeight,B=O.scrollBeyondLastLine,{minimapLineCount:z}=_.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:W,scrollBeyondLastLine:B,height:O.editorHeight,lineHeight:A,pixelRatio:E}),U=W/z,K=U/2;if(!F||F.minimapLines.length===0){let V=[];if(V[0]=1,z>1){for(let q=0,ee=z-1;q<ee;q++)V[q]=Math.round(q*U+K);V[z-1]=W}return[new M(U,V),[]]}const G=F.minimapLines,J=G.length;let Q=[],ae=0,se=0,Z=1;const T=10;let x=[],H=null;for(let V=0;V<z;V++){const q=Math.max(Z,Math.round(V*U)),ee=Math.max(q,Math.round((V+1)*U));for(;ae<J&&G[ae]<q;){if(x.length<T){const le=ae+1+se;H&&H.type==="deleted"&&H._oldIndex===ae-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:ae,deleteFromLineNumber:le,deleteToLineNumber:le},x.push(H)),se--}ae++}let oe;if(ae<J&&G[ae]<=ee)oe=G[ae],ae++;else if(V===0?oe=1:V+1===z?oe=W:oe=Math.round(V*U+K),x.length<T){const le=ae+1+se;H&&H.type==="inserted"&&H._i===V-1?H.insertToLineNumber++:(H={type:"inserted",_i:V,insertFromLineNumber:le,insertToLineNumber:le},x.push(H)),se++}Q[V]=oe,Z=oe}if(x.length<T)for(;ae<J;){const V=ae+1+se;H&&H.type==="deleted"&&H._oldIndex===ae-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:ae,deleteFromLineNumber:V,deleteToLineNumber:V},x.push(H)),se--,ae++}else x=[{type:"flush"}];return[new M(U,Q),x]}modelLineToMinimapLine(O){return Math.min(this.minimapLines.length,Math.max(1,Math.round(O/this.samplingRatio)))}modelLineRangeToMinimapLineRange(O,W){let F=this.modelLineToMinimapLine(O)-1;for(;F>0&&this.minimapLines[F-1]>=O;)F--;let E=this.modelLineToMinimapLine(W)-1;for(;E+1<this.minimapLines.length&&this.minimapLines[E+1]<=W;)E++;if(F===E){const A=this.minimapLines[F];if(A<O||A>W)return null}return[F+1,E+1]}decorationLineRangeToMinimapLineRange(O,W){let F=this.modelLineToMinimapLine(O),E=this.modelLineToMinimapLine(W);return O!==W&&E===F&&(E===this.minimapLines.length?F>1&&F--:E++),[F,E]}onLinesDeleted(O){const W=O.toLineNumber-O.fromLineNumber+1;let F=this.minimapLines.length,E=0;for(let A=this.minimapLines.length-1;A>=0&&!(this.minimapLines[A]<O.fromLineNumber);A--)this.minimapLines[A]<=O.toLineNumber?(this.minimapLines[A]=Math.max(1,O.fromLineNumber-1),F=Math.min(F,A),E=Math.max(E,A)):this.minimapLines[A]-=W;return[F,E]}onLinesInserted(O){const W=O.toLineNumber-O.fromLineNumber+1;for(let F=this.minimapLines.length-1;F>=0&&!(this.minimapLines[F]<O.fromLineNumber);F--)this.minimapLines[F]+=W}}class D extends i.ViewPart{constructor(O){super(O);this.tokensColorTracker=l.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);const[W]=M.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=W,this._shouldCheckSampling=!1,this._actual=new R(O.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const O=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(O)?!1:(this.options=O,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(O){return this._onOptionsMaybeChanged()}onCursorStateChanged(O){return this._selections=O.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(O){return O.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(O){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(O){if(this._samplingState){const W=this._samplingState.modelLineRangeToMinimapLineRange(O.fromLineNumber,O.toLineNumber);return W?this._actual.onLinesChanged(W[0],W[1]):!1}else return this._actual.onLinesChanged(O.fromLineNumber,O.toLineNumber)}onLinesDeleted(O){if(this._samplingState){const[W,F]=this._samplingState.onLinesDeleted(O);return W<=F&&this._actual.onLinesChanged(W+1,F+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(O.fromLineNumber,O.toLineNumber)}onLinesInserted(O){return this._samplingState?(this._samplingState.onLinesInserted(O),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(O.fromLineNumber,O.toLineNumber)}onScrollChanged(O){return this._actual.onScrollChanged()}onThemeChanged(O){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(O){if(this._samplingState){let W=[];for(const F of O.ranges){const E=this._samplingState.modelLineRangeToMinimapLineRange(F.fromLineNumber,F.toLineNumber);E&&W.push({fromLineNumber:E[0],toLineNumber:E[1]})}return W.length?this._actual.onTokensChanged(W):!1}else return this._actual.onTokensChanged(O.ranges)}onTokensColorsChanged(O){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(O){return this._actual.onZonesChanged()}prepareRender(O){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(O){let W=O.visibleRange.startLineNumber,F=O.visibleRange.endLineNumber;this._samplingState&&(W=this._samplingState.modelLineToMinimapLine(W),F=this._samplingState.modelLineToMinimapLine(F));const E={viewportContainsWhitespaceGaps:O.viewportData.whitespaceViewportData.length>0,scrollWidth:O.scrollWidth,scrollHeight:O.scrollHeight,viewportStartLineNumber:W,viewportEndLineNumber:F,viewportStartLineNumberVerticalOffset:O.getVerticalOffsetForLineNumber(W),scrollTop:O.scrollTop,scrollLeft:O.scrollLeft,viewportWidth:O.viewportWidth,viewportHeight:O.viewportHeight};this._actual.render(E)}_recreateLineSampling(){this._minimapSelections=null;const O=Boolean(this._samplingState),[W,F]=M.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=W,O&&this._samplingState)for(const E of F)switch(E.type){case"deleted":this._actual.onLinesDeleted(E.deleteFromLineNumber,E.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(E.insertFromLineNumber,E.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(O){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[O-1]):this._context.model.getLineContent(O)}getMinimapLinesRenderingData(O,W,F){if(this._samplingState){let E=[];for(let A=0,B=W-O+1;A<B;A++)F[A]?E[A]=this._context.model.getViewLineData(this._samplingState.minimapLines[O+A-1]):E[A]=null;return E}return this._context.model.getMinimapLinesRenderingData(O,W,F).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const O of this._selections){const[W,F]=this._samplingState.decorationLineRangeToMinimapLineRange(O.startLineNumber,O.endLineNumber);this._minimapSelections.push(new n.Selection(W,O.startColumn,F,O.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(O,W){let F;if(this._samplingState){const A=this._samplingState.minimapLines[O-1],B=this._samplingState.minimapLines[W-1];F=new u.Range(A,1,B,this._context.model.getLineMaxColumn(B))}else F=new u.Range(O,1,W,this._context.model.getLineMaxColumn(W));const E=this._context.model.getDecorationsInViewport(F);if(this._samplingState){let A=[];for(const B of E)if(!!B.options.minimap){const z=B.range,U=this._samplingState.modelLineToMinimapLine(z.startLineNumber),K=this._samplingState.modelLineToMinimapLine(z.endLineNumber);A.push(new c.ViewModelDecoration(new u.Range(U,z.startColumn,K,z.endColumn),B.options))}return A}return E}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(O){this._samplingState&&(O=this._samplingState.minimapLines[O-1]),this._context.model.revealRange("mouse",!1,new u.Range(O,1,O,1),1,0)}setScrollTop(O){this._context.model.setScrollPosition({scrollTop:O},1)}}e.Minimap=D;class R extends w.Disposable{constructor(O,W){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=O,this._model=W,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(d.minimapSelection),this._domNode=(0,I.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,I.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,I.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,I.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,I.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,I.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=v.addStandardDisposableListener(this._domNode.domNode,"mousedown",F=>{if(F.preventDefault(),this._model.options.renderMinimap!==0&&!!this._lastRenderData){if(this._model.options.size!=="proportional"){if(F.leftButton&&this._lastRenderData){const K=v.getDomNodePagePosition(this._slider.domNode),G=K.top+K.height/2;this._startSliderDragging(F.buttons,F.posx,G,F.posy,this._lastRenderData.renderedLayout)}return}const A=this._model.options.minimapLineHeight,B=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*F.browserEvent.offsetY;let U=Math.floor(B/A)+this._lastRenderData.renderedLayout.startLineNumber;U=Math.min(U,this._model.getLineCount()),this._model.revealLineNumber(U)}}),this._sliderMouseMoveMonitor=new k.GlobalMouseMoveMonitor,this._sliderMouseDownListener=v.addStandardDisposableListener(this._slider.domNode,"mousedown",F=>{F.preventDefault(),F.stopPropagation(),F.leftButton&&this._lastRenderData&&this._startSliderDragging(F.buttons,F.posx,F.posy,F.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=s.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=v.addDisposableListener(this._domNode.domNode,s.EventType.Start,F=>{F.preventDefault(),F.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(F))},{passive:!1}),this._sliderTouchMoveListener=v.addDisposableListener(this._domNode.domNode,s.EventType.Change,F=>{F.preventDefault(),F.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(F)},{passive:!1}),this._sliderTouchEndListener=v.addStandardDisposableListener(this._domNode.domNode,s.EventType.End,F=>{F.preventDefault(),F.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(O,W,F,E,A){this._slider.toggleClassName("active",!0);const B=(z,U)=>{const K=Math.abs(U-W);if(S.isWindows&&K>f){this._model.setScrollTop(A.scrollTop);return}const G=z-F;this._model.setScrollTop(A.getDesiredScrollTopFromDelta(G))};E!==F&&B(E,W),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,O,k.standardMouseMoveMerger,z=>B(z.posy,z.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(O){const W=this._domNode.domNode.getBoundingClientRect().top,F=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(O.pageY-W);this._model.setScrollTop(F)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new N(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(O,W){return this._lastRenderData?this._lastRenderData.onLinesChanged(O,W):!1}onLinesDeleted(O,W){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(O,W),!0}onLinesInserted(O,W){return this._lastRenderData&&this._lastRenderData.onLinesInserted(O,W),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(d.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(O){return this._lastRenderData?this._lastRenderData.onTokensChanged(O):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(O){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}O.scrollLeft+O.viewportWidth>=O.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const F=b.create(this._model.options,O.viewportStartLineNumber,O.viewportEndLineNumber,O.viewportStartLineNumberVerticalOffset,O.viewportHeight,O.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),O.scrollTop,O.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(F.sliderNeeded?"block":"none"),this._slider.setTop(F.sliderTop),this._slider.setHeight(F.sliderHeight);const E=O.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,A=Math.min(this._model.options.minimapWidth,Math.round(E*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(A),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-A),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(F.sliderHeight),this.renderDecorations(F),this._lastRenderData=this.renderLines(F)}renderDecorations(O){if(this._renderDecorations){this._renderDecorations=!1;const W=this._model.getSelections(),F=this._model.getMinimapDecorationsInViewport(O.startLineNumber,O.endLineNumber),{canvasInnerWidth:E,canvasInnerHeight:A}=this._model.options,B=this._model.options.minimapLineHeight,z=this._model.options.minimapCharWidth,U=this._model.getOptions().tabSize,K=this._decorationsCanvas.domNode.getContext("2d");K.clearRect(0,0,E,A);const G=new Map;for(let J=0;J<W.length;J++){const Q=W[J];for(let ae=Q.startLineNumber;ae<=Q.endLineNumber;ae++)this.renderDecorationOnLine(K,G,Q,this._selectionColor,O,ae,B,B,U,z)}for(let J=0;J<F.length;J++){const Q=F[J];if(!!Q.options.minimap){const ae=Q.options.minimap.getColor(this._theme);for(let se=Q.range.startLineNumber;se<=Q.range.endLineNumber;se++)switch(Q.options.minimap.position){case o.MinimapPosition.Inline:this.renderDecorationOnLine(K,G,Q.range,ae,O,se,B,B,U,z);continue;case o.MinimapPosition.Gutter:const Z=(se-O.startLineNumber)*B,T=2;this.renderDecoration(K,ae,T,Z,m,B);continue}}}}}renderDecorationOnLine(O,W,F,E,A,B,z,U,K,G){const J=(B-A.startLineNumber)*U;if(!(J+z<0||J>this._model.options.canvasInnerHeight)){let Q=W.get(B);const ae=!Q;if(!Q){const q=this._model.getLineContent(B);Q=[_.MINIMAP_GUTTER_WIDTH];for(let ee=1;ee<q.length+1;ee++){const oe=q.charCodeAt(ee-1),le=oe===9?K*G:p.isFullWidthCharacter(oe)?2*G:G;Q[ee]=Q[ee-1]+le}W.set(B,Q)}const{startColumn:se,endColumn:Z,startLineNumber:T,endLineNumber:x}=F,H=T===B?Q[se-1]:_.MINIMAP_GUTTER_WIDTH,V=x>B?Q.length-1:Z-1;if(V>0){const q=Q[V]-H||2;this.renderDecoration(O,E,H,J,q,z)}ae&&this.renderLineHighlight(O,E,J,z)}}renderLineHighlight(O,W,F,E){O.fillStyle=W&&W.transparent(.5).toString()||"",O.fillRect(_.MINIMAP_GUTTER_WIDTH,F,O.canvas.width,E)}renderDecoration(O,W,F,E,A,B){O.fillStyle=W&&W.toString()||"",O.fillRect(F,E,A,B)}renderLines(O){const W=O.startLineNumber,F=O.endLineNumber,E=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(O)){const X=this._lastRenderData._get();return new L(O,X.imageData,X.lines)}const A=this._getBuffer();if(!A)return null;let[B,z,U]=R._renderUntouchedLines(A,W,F,E,this._lastRenderData);const K=this._model.getMinimapLinesRenderingData(W,F,U),G=this._model.getOptions().tabSize,J=this._model.options.backgroundColor,Q=this._model.tokensColorTracker,ae=Q.backgroundIsLight(),se=this._model.options.renderMinimap,Z=this._model.options.charRenderer(),T=this._model.options.fontScale,x=this._model.options.minimapCharWidth,V=(se===1?2:2+1)*T,q=E>V?Math.floor((E-V)/2):0;let ee=0;const oe=[];for(let X=0,ue=F-W+1;X<ue;X++)U[X]&&R._renderLine(A,J,ae,se,x,Q,Z,ee,q,G,K[X],T,E),oe[X]=new y(ee),ee+=E;const le=B===-1?0:B,j=(z===-1?A.height:z)-le;return this._canvas.domNode.getContext("2d").putImageData(A,0,0,0,le,A.width,j),new L(O,A,oe)}static _renderUntouchedLines(O,W,F,E,A){const B=[];if(!A){for(let Y=0,j=F-W+1;Y<j;Y++)B[Y]=!0;return[-1,-1,B]}const z=A._get(),U=z.imageData.data,K=z.rendLineNumberStart,G=z.lines,J=G.length,Q=O.width,ae=O.data,se=(F-W+1)*E*Q*4;let Z=-1,T=-1,x=-1,H=-1,V=-1,q=-1,ee=0;for(let Y=W;Y<=F;Y++){const j=Y-W,ne=Y-K,X=ne>=0&&ne<J?G[ne].dy:-1;if(X===-1){B[j]=!0,ee+=E;continue}const ue=X*Q*4,he=(X+E)*Q*4,re=ee*Q*4,ce=(ee+E)*Q*4;H===ue&&q===re?(H=he,q=ce):(x!==-1&&(ae.set(U.subarray(x,H),V),Z===-1&&x===0&&x===V&&(Z=H),T===-1&&H===se&&x===V&&(T=x)),x=ue,H=he,V=re,q=ce),B[j]=!1,ee+=E}x!==-1&&(ae.set(U.subarray(x,H),V),Z===-1&&x===0&&x===V&&(Z=H),T===-1&&H===se&&x===V&&(T=x));const oe=Z===-1?-1:Z/(Q*4),le=T===-1?-1:T/(Q*4);return[oe,le,B]}static _renderLine(O,W,F,E,A,B,z,U,K,G,J,Q,ae){const se=J.content,Z=J.tokens,T=O.width-A,x=ae===1;let H=_.MINIMAP_GUTTER_WIDTH,V=0,q=0;for(let ee=0,oe=Z.getCount();ee<oe;ee++){const le=Z.getEndOffset(ee),Y=Z.getForeground(ee),j=B.getColor(Y);for(;V<le;V++){if(H>T)return;const ne=se.charCodeAt(V);if(ne===9){const X=G-(V+q)%G;q+=X-1,H+=X*A}else if(ne===32)H+=A;else{const X=p.isFullWidthCharacter(ne)?2:1;for(let ue=0;ue<X;ue++)if(E===2?z.blockRenderChar(O,H,U+K,j,W,F,x):z.renderChar(O,H,U+K,ne,j,W,Q,F,x),H+=A,H>T)return}}}}}(0,r.registerThemingParticipant)((P,O)=>{const W=P.getColor(d.minimapBackground);W&&O.addRule(`.monaco-editor .minimap > canvas { opacity: ${W.rgba.a}; will-change: opacity; }`);const F=P.getColor(d.minimapSliderBackground);F&&O.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${F}; }`);const E=P.getColor(d.minimapSliderHoverBackground);E&&O.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${E}; }`);const A=P.getColor(d.minimapSliderActiveBackground);A&&O.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${A}; }`);const B=P.getColor(d.scrollbarShadow);B&&O.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${B} -6px 0 6px -6px inset; }`)})}),define(te[553],ie([0,1,30,47,22,12,288]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class S extends I.ViewPart{constructor(C){super(C);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const _=this._context.configuration.options.get(89);this._useShadows=_.useShadows,this._domNode=(0,v.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const C=this._useShadows&&this._scrollTop>0;return this._shouldShow!==C?(this._shouldShow=C,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const i=this._context.configuration.options.get(126);i.minimap.renderMinimap===0||i.minimap.minimapWidth>0&&i.minimap.minimapLeft===0?this._width=i.width:this._width=i.width-i.minimap.minimapWidth-i.verticalScrollbarWidth}onConfigurationChanged(C){const _=this._context.configuration.options.get(89);return this._useShadows=_.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(C){return this._scrollTop=C.scrollTop,this._updateShouldShow()}prepareRender(C){}render(C){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=S,(0,w.registerThemingParticipant)((p,C)=>{const i=p.getColor(k.scrollbarShadow);i&&C.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)})}),define(te[554],ie([0,1,89,22,12,291]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class w{constructor(a){this.left=a.left,this.width=a.width,this.startStyle=null,this.endStyle=null}}class S{constructor(a,l){this.lineNumber=a,this.ranges=l}}function p(u){return new w(u)}function C(u){return new S(u.lineNumber,u.ranges.map(p))}class i extends v.DynamicViewOverlay{constructor(a){super();this._previousFrameVisibleRangesWithStyle=[],this._context=a;const l=this._context.configuration.options;this._lineHeight=l.get(55),this._roundedSelection=l.get(87),this._typicalHalfwidthCharacterWidth=l.get(40).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(a){const l=this._context.configuration.options;return this._lineHeight=l.get(55),this._roundedSelection=l.get(87),this._typicalHalfwidthCharacterWidth=l.get(40).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(a){return this._selections=a.selections.slice(0),!0}onDecorationsChanged(a){return!0}onFlushed(a){return!0}onLinesChanged(a){return!0}onLinesDeleted(a){return!0}onLinesInserted(a){return!0}onScrollChanged(a){return a.scrollTopChanged}onZonesChanged(a){return!0}_visibleRangesHaveGaps(a){for(let l=0,c=a.length;l<c;l++)if(a[l].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(a,l,c){const d=this._typicalHalfwidthCharacterWidth/4;let r=null,n=null;if(c&&c.length>0&&l.length>0){const s=l[0].lineNumber;if(s===a.startLineNumber)for(let o=0;!r&&o<c.length;o++)c[o].lineNumber===s&&(r=c[o].ranges[0]);const t=l[l.length-1].lineNumber;if(t===a.endLineNumber)for(let o=c.length-1;!n&&o>=0;o--)c[o].lineNumber===t&&(n=c[o].ranges[0]);r&&!r.startStyle&&(r=null),n&&!n.startStyle&&(n=null)}for(let s=0,t=l.length;s<t;s++){const o=l[s].ranges[0],h=o.left,f=o.left+o.width,m={top:0,bottom:0},g={top:0,bottom:0};if(s>0){const b=l[s-1].ranges[0].left,y=l[s-1].ranges[0].left+l[s-1].ranges[0].width;_(h-b)<d?m.top=2:h>b&&(m.top=1),_(f-y)<d?g.top=2:b<f&&f<y&&(g.top=1)}else r&&(m.top=r.startStyle.top,g.top=r.endStyle.top);if(s+1<t){const b=l[s+1].ranges[0].left,y=l[s+1].ranges[0].left+l[s+1].ranges[0].width;_(h-b)<d?m.bottom=2:b<h&&h<y&&(m.bottom=1),_(f-y)<d?g.bottom=2:f<y&&(g.bottom=1)}else n&&(m.bottom=n.startStyle.bottom,g.bottom=n.endStyle.bottom);o.startStyle=m,o.endStyle=g}}_getVisibleRangesWithStyle(a,l,c){const r=(l.linesVisibleRangesForRange(a,!0)||[]).map(C);return!this._visibleRangesHaveGaps(r)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(l.visibleRange,r,c),r}_createSelectionPiece(a,l,c,d,r){return'<div class="cslr '+c+'" style="top:'+a.toString()+"px;left:"+d.toString()+"px;width:"+r.toString()+"px;height:"+l+'px;"></div>'}_actualRenderOneSelection(a,l,c,d){if(d.length!==0){const r=!!d[0].ranges[0].startStyle,n=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),t=d[0].lineNumber,o=d[d.length-1].lineNumber;for(let h=0,f=d.length;h<f;h++){const m=d[h],g=m.lineNumber,b=g-l,y=c&&(g===o||g===t)?s:n,L=c&&g===t?1:0;let N="",M="";for(let D=0,R=m.ranges.length;D<R;D++){const P=m.ranges[D];if(r){const W=P.startStyle,F=P.endStyle;if(W.top===1||W.bottom===1){N+=this._createSelectionPiece(L,y,i.SELECTION_CLASS_NAME,P.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH);let E=i.EDITOR_BACKGROUND_CLASS_NAME;W.top===1&&(E+=" "+i.SELECTION_TOP_RIGHT),W.bottom===1&&(E+=" "+i.SELECTION_BOTTOM_RIGHT),N+=this._createSelectionPiece(L,y,E,P.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH)}if(F.top===1||F.bottom===1){N+=this._createSelectionPiece(L,y,i.SELECTION_CLASS_NAME,P.left+P.width,i.ROUNDED_PIECE_WIDTH);let E=i.EDITOR_BACKGROUND_CLASS_NAME;F.top===1&&(E+=" "+i.SELECTION_TOP_LEFT),F.bottom===1&&(E+=" "+i.SELECTION_BOTTOM_LEFT),N+=this._createSelectionPiece(L,y,E,P.left+P.width,i.ROUNDED_PIECE_WIDTH)}}let O=i.SELECTION_CLASS_NAME;if(r){const W=P.startStyle,F=P.endStyle;W.top===0&&(O+=" "+i.SELECTION_TOP_LEFT),W.bottom===0&&(O+=" "+i.SELECTION_BOTTOM_LEFT),F.top===0&&(O+=" "+i.SELECTION_TOP_RIGHT),F.bottom===0&&(O+=" "+i.SELECTION_BOTTOM_RIGHT)}M+=this._createSelectionPiece(L,y,O,P.left,P.width)}a[b][0]+=N,a[b][1]+=M}}}prepareRender(a){const l=[],c=a.visibleRange.startLineNumber,d=a.visibleRange.endLineNumber;for(let n=c;n<=d;n++){const s=n-c;l[s]=["",""]}const r=[];for(let n=0,s=this._selections.length;n<s;n++){const t=this._selections[n];if(t.isEmpty()){r[n]=null;continue}const o=this._getVisibleRangesWithStyle(t,a,this._previousFrameVisibleRangesWithStyle[n]);r[n]=o,this._actualRenderOneSelection(l,c,this._selections.length>1,o)}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=l.map(([n,s])=>n+s)}render(a,l){if(!this._renderResult)return"";const c=l-a;return c<0||c>=this._renderResult.length?"":this._renderResult[c]}}e.SelectionsOverlay=i,i.SELECTION_CLASS_NAME="selected-text",i.SELECTION_TOP_LEFT="top-left-radius",i.SELECTION_BOTTOM_LEFT="bottom-left-radius",i.SELECTION_TOP_RIGHT="top-right-radius",i.SELECTION_BOTTOM_RIGHT="bottom-right-radius",i.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",i.ROUNDED_PIECE_WIDTH=10,(0,k.registerThemingParticipant)((u,a)=>{const l=u.getColor(I.editorSelectionBackground);l&&a.addRule(`.monaco-editor .focused .selected-text { background-color: ${l}; }`);const c=u.getColor(I.editorInactiveSelection);c&&a.addRule(`.monaco-editor .selected-text { background-color: ${c}; }`);const d=u.getColor(I.editorSelectionForeground);d&&!d.isTransparent()&&a.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${d}; }`)});function _(u){return u<0?-u:u}}),define(te[48],ie([0,1,346,29,22,12]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,k.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},v.localize(0,null)),e.editorLineHighlightBorder=(0,k.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},v.localize(1,null)),e.editorRangeHighlight=(0,k.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},v.localize(2,null),!0),e.editorRangeHighlightBorder=(0,k.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hc:k.activeContrastBorder},v.localize(3,null),!0),e.editorSymbolHighlight=(0,k.registerColor)("editor.symbolHighlightBackground",{dark:k.editorFindMatchHighlight,light:k.editorFindMatchHighlight,hc:null},v.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,k.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hc:k.activeContrastBorder},v.localize(5,null),!0),e.editorCursorForeground=(0,k.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:I.Color.black,hc:I.Color.white},v.localize(6,null)),e.editorCursorBackground=(0,k.registerColor)("editorCursor.background",null,v.localize(7,null)),e.editorWhitespaces=(0,k.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},v.localize(8,null)),e.editorIndentGuides=(0,k.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},v.localize(9,null)),e.editorActiveIndentGuides=(0,k.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},v.localize(10,null)),e.editorLineNumbers=(0,k.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:I.Color.white},v.localize(11,null));const S=(0,k.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:k.activeContrastBorder},v.localize(12,null),!1,v.localize(13,null));e.editorActiveLineNumber=(0,k.registerColor)("editorLineNumber.activeForeground",{dark:S,light:S,hc:S},v.localize(14,null)),e.editorRuler=(0,k.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:I.Color.lightgrey,hc:I.Color.white},v.localize(15,null)),e.editorCodeLensForeground=(0,k.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},v.localize(16,null)),e.editorBracketMatchBackground=(0,k.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},v.localize(17,null)),e.editorBracketMatchBorder=(0,k.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:k.contrastBorder},v.localize(18,null)),e.editorOverviewRulerBorder=(0,k.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},v.localize(19,null)),e.editorOverviewRulerBackground=(0,k.registerColor)("editorOverviewRuler.background",null,v.localize(20,null)),e.editorGutter=(0,k.registerColor)("editorGutter.background",{dark:k.editorBackground,light:k.editorBackground,hc:k.editorBackground},v.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,k.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hc:I.Color.fromHex("#fff").transparent(.8)},v.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,k.registerColor)("editorUnnecessaryCode.opacity",{dark:I.Color.fromHex("#000a"),light:I.Color.fromHex("#0007"),hc:null},v.localize(23,null));const p=new I.Color(new I.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,k.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:p,light:p,hc:p},v.localize(24,null),!0),e.overviewRulerError=(0,k.registerColor)("editorOverviewRuler.errorForeground",{dark:new I.Color(new I.RGBA(255,18,18,.7)),light:new I.Color(new I.RGBA(255,18,18,.7)),hc:new I.Color(new I.RGBA(255,50,50,1))},v.localize(25,null)),e.overviewRulerWarning=(0,k.registerColor)("editorOverviewRuler.warningForeground",{dark:k.editorWarningForeground,light:k.editorWarningForeground,hc:k.editorWarningBorder},v.localize(26,null)),e.overviewRulerInfo=(0,k.registerColor)("editorOverviewRuler.infoForeground",{dark:k.editorInfoForeground,light:k.editorInfoForeground,hc:k.editorInfoBorder},v.localize(27,null)),(0,w.registerThemingParticipant)((C,i)=>{const _=C.getColor(k.editorBackground);_&&i.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${_}; }`);const u=C.getColor(k.editorForeground);u&&i.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${u}; }`);const a=C.getColor(e.editorGutter);a&&i.addRule(`.monaco-editor .margin { background-color: ${a}; }`);const l=C.getColor(e.editorRangeHighlight);l&&i.addRule(`.monaco-editor .rangeHighlight { background-color: ${l}; }`);const c=C.getColor(e.editorRangeHighlightBorder);c&&i.addRule(`.monaco-editor .rangeHighlight { border: 1px ${C.type==="hc"?"dotted":"solid"} ${c}; }`);const d=C.getColor(e.editorSymbolHighlight);d&&i.addRule(`.monaco-editor .symbolHighlight { background-color: ${d}; }`);const r=C.getColor(e.editorSymbolHighlightBorder);r&&i.addRule(`.monaco-editor .symbolHighlight { border: 1px ${C.type==="hc"?"dotted":"solid"} ${r}; }`);const n=C.getColor(e.editorWhitespaces);n&&(i.addRule(`.monaco-editor .mtkw { color: ${n} !important; }`),i.addRule(`.monaco-editor .mtkz { color: ${n} !important; }`))})}),define(te[556],ie([0,1,89,48,19,12,21,641]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let p=!0;class C extends v.DynamicViewOverlay{constructor(a){super();this._context=a;const l=this._context.configuration.options,c=l.get(126);this._lineHeight=l.get(55),this._renderLineHighlight=l.get(82),this._renderLineHighlightOnlyWhenFocus=l.get(83),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let a=!1;const l=p?this._selections.slice(0,1):this._selections,c=l.map(r=>r.positionLineNumber);c.sort((r,n)=>r-n),k.equals(this._cursorLineNumbers,c)||(this._cursorLineNumbers=c,a=!0);const d=l.every(r=>r.isEmpty());return this._selectionIsEmpty!==d&&(this._selectionIsEmpty=d,a=!0),a}onThemeChanged(a){return this._readFromSelections()}onConfigurationChanged(a){const l=this._context.configuration.options,c=l.get(126);return this._lineHeight=l.get(55),this._renderLineHighlight=l.get(82),this._renderLineHighlightOnlyWhenFocus=l.get(83),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,!0}onCursorStateChanged(a){return this._selections=a.selections,this._readFromSelections()}onFlushed(a){return!0}onLinesDeleted(a){return!0}onLinesInserted(a){return!0}onScrollChanged(a){return a.scrollWidthChanged||a.scrollTopChanged}onZonesChanged(a){return!0}onFocusChanged(a){return this._renderLineHighlightOnlyWhenFocus?(this._focused=a.isFocused,!0):!1}prepareRender(a){if(!this._shouldRenderThis()){this._renderData=null;return}const l=this._renderOne(a),c=a.visibleRange.startLineNumber,d=a.visibleRange.endLineNumber,r=this._cursorLineNumbers.length;let n=0;const s=[];for(let t=c;t<=d;t++){const o=t-c;for(;n<r&&this._cursorLineNumbers[n]<t;)n++;n<r&&this._cursorLineNumbers[n]===t?s[o]=l:s[o]=""}this._renderData=s}render(a,l){if(!this._renderData)return"";const c=l-a;return c>=this._renderData.length?"":this._renderData[c]}}e.AbstractLineHighlightOverlay=C;class i extends C{_renderOne(a){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(a.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=i;class _ extends C{_renderOne(a){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=_,(0,w.registerThemingParticipant)((u,a)=>{p=!1;const l=u.getColor(I.editorLineHighlight);if(l&&(a.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${l}; }`),a.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${l}; border: none; }`)),!l||l.isTransparent()||u.defines(I.editorLineHighlightBorder)){const c=u.getColor(I.editorLineHighlightBorder);c&&(p=!0,a.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${c}; }`),a.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${c}; }`),u.type==="hc"&&(a.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),a.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(te[557],ie([0,1,89,14,48,12,669]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class S extends v.DynamicViewOverlay{constructor(C){super();this._context=C,this._primaryLineNumber=0;const i=this._context.configuration.options,_=i.get(127),u=i.get(40);this._lineHeight=i.get(55),this._spaceWidth=u.spaceWidth,this._enabled=i.get(80),this._activeIndentEnabled=i.get(49),this._maxIndentLeft=_.wrappingColumn===-1?-1:_.wrappingColumn*u.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(C){const i=this._context.configuration.options,_=i.get(127),u=i.get(40);return this._lineHeight=i.get(55),this._spaceWidth=u.spaceWidth,this._enabled=i.get(80),this._activeIndentEnabled=i.get(49),this._maxIndentLeft=_.wrappingColumn===-1?-1:_.wrappingColumn*u.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(C){const i=C.selections[0],_=i.isEmpty()?i.positionLineNumber:0;return this._primaryLineNumber!==_?(this._primaryLineNumber=_,!0):!1}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return C.scrollTopChanged}onZonesChanged(C){return!0}onLanguageConfigurationChanged(C){return!0}prepareRender(C){if(!this._enabled){this._renderResult=null;return}const i=C.visibleRange.startLineNumber,_=C.visibleRange.endLineNumber,{indentSize:u}=this._context.model.getTextModelOptions(),a=u*this._spaceWidth,l=C.scrollWidth,c=this._lineHeight,d=this._context.model.getLinesIndentGuides(i,_);let r=0,n=0,s=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const o=this._context.model.getActiveIndentGuide(this._primaryLineNumber,i,_);r=o.startLineNumber,n=o.endLineNumber,s=o.indent}const t=[];for(let o=i;o<=_;o++){const h=r<=o&&o<=n,f=o-i,m=d[f];let g="";if(m>=1){const b=C.visibleRangeForPosition(new I.Position(o,1));let y=b?b.left:0;for(let L=1;L<=m&&(g+=`<div class="${h&&L===s?"cigra":"cigr"}" style="left:${y}px;height:${c}px;width:${a}px"></div>`,y+=a,!(y>l||this._maxIndentLeft>0&&y>this._maxIndentLeft));L++);}t[f]=g}this._renderResult=t}render(C,i){if(!this._renderResult)return"";const _=i-C;return _<0||_>=this._renderResult.length?"":this._renderResult[_]}}e.IndentGuidesOverlay=S,(0,w.registerThemingParticipant)((p,C)=>{const i=p.getColor(k.editorIndentGuides);i&&C.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${i} inset; }`);const _=p.getColor(k.editorActiveIndentGuides)||i;_&&C.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${_} inset; }`)})}),define(te[239],ie([0,1,17,89,14,48,12,675]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class p extends I.DynamicViewOverlay{constructor(i){super();this._context=i,this._readConfig(),this._lastCursorModelPosition=new k.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const i=this._context.configuration.options;this._lineHeight=i.get(55);const _=i.get(56);this._renderLineNumbers=_.renderType,this._renderCustomLineNumbers=_.renderFn,this._renderFinalNewline=i.get(81);const u=i.get(126);this._lineNumbersLeft=u.lineNumbersLeft,this._lineNumbersWidth=u.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return this._readConfig(),!0}onCursorStateChanged(i){const _=i.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(_);let u=!1;return this._activeLineNumber!==_.lineNumber&&(this._activeLineNumber=_.lineNumber,u=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(u=!0),u}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getLineRenderLineNumber(i){const _=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new k.Position(i,1));if(_.column!==1)return"";const u=_.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(u);if(this._renderLineNumbers===2){const a=Math.abs(this._lastCursorModelPosition.lineNumber-u);return a===0?'<span class="relative-current-line-number">'+u+"</span>":String(a)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===u||u%10==0?String(u):"":String(u)}prepareRender(i){if(this._renderLineNumbers===0){this._renderResult=null;return}const _=v.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",u=i.visibleRange.startLineNumber,a=i.visibleRange.endLineNumber,l='<div class="'+p.CLASS_NAME+_+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',c=this._context.model.getLineCount(),d=[];for(let r=u;r<=a;r++){const n=r-u;if(!this._renderFinalNewline&&r===c&&this._context.model.getLineLength(r)===0){d[n]="";continue}const s=this._getLineRenderLineNumber(r);s?r===this._activeLineNumber?d[n]='<div class="active-line-number '+p.CLASS_NAME+_+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+s+"</div>":d[n]=l+s+"</div>":d[n]=""}this._renderResult=d}render(i,_){if(!this._renderResult)return"";const u=_-i;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.LineNumbersOverlay=p,p.CLASS_NAME="line-numbers",(0,S.registerThemingParticipant)((C,i)=>{const _=C.getColor(w.editorLineNumbers);_&&i.addRule(`.monaco-editor .line-numbers { color: ${_}; }`);const u=C.getColor(w.editorActiveLineNumber);u&&i.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${u}; }`)})}),define(te[559],ie([0,1,328,36,30,17,8,71,168,232,47,239,223,38,109,14,3,21,133,627]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class t{constructor(y,L,N){this.top=y,this.left=L,this.width=N}setWidth(y){return new t(this.top,this.left,y)}}const o=I.isFirefox;class h extends _.ViewPart{constructor(y,L,N){super(y);this._primaryCursorPosition=new d.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=L,this._viewHelper=N,this._scrollLeft=0,this._scrollTop=0;const M=this._context.configuration.options,D=M.get(126);this._setAccessibilityOptions(M),this._contentLeft=D.contentLeft,this._contentWidth=D.contentWidth,this._contentHeight=D.height,this._fontInfo=M.get(40),this._lineHeight=M.get(55),this._emptySelectionClipboard=M.get(30),this._copyWithSyntaxHighlighting=M.get(19),this._visibleTextArea=null,this._selections=[new n.Selection(1,1,1,1)],this._modelSelections=[new n.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,k.createFastDomNode)(document.createElement("textarea")),_.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(M)),this.textArea.setAttribute("tabindex",String(M.get(109))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",v.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),M.get(28)&&M.get(77)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,k.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const R={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:O=>this._context.model.getLineMaxColumn(O),getValueInRange:(O,W)=>this._context.model.getValueInRange(O,W)},P={getDataToCopy:O=>{const W=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,w.isWindows),F=this._context.model.getEOL(),E=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),A=Array.isArray(W)?W:null,B=Array.isArray(W)?W.join(F):W;let z,U=null;if(O&&(C.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&B.length<65536)){const K=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);K&&(z=K.html,U=K.mode)}return{isFromEmptySelection:E,multicursorText:A,text:B,html:z,mode:U}},getScreenReaderContent:O=>{if(this._accessibilitySupport===1){if(w.isMacintosh){const W=this._selections[0];if(W.isEmpty()){const F=W.getStartPosition();let E=this._getWordBeforePosition(F);if(E.length===0&&(E=this._getCharacterBeforePosition(F)),E.length>0)return new i.TextAreaState(E,E.length,E.length,F,F)}}return i.TextAreaState.EMPTY}if(I.isAndroid){const W=this._selections[0];if(W.isEmpty()){const F=W.getStartPosition(),[E,A]=this._getAndroidWordAtPosition(F);if(E.length>0)return new i.TextAreaState(E,A,A,F,F)}return i.TextAreaState.EMPTY}return i.PagedScreenReaderStrategy.fromEditorSelection(O,R,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(O,W,F)=>this._context.model.deduceModelPositionRelativeToViewPosition(O,W,F)};this._textAreaInput=this._register(new C.TextAreaInput(P,this.textArea)),this._register(this._textAreaInput.onKeyDown(O=>{this._viewController.emitKeyDown(O)})),this._register(this._textAreaInput.onKeyUp(O=>{this._viewController.emitKeyUp(O)})),this._register(this._textAreaInput.onPaste(O=>{let W=!1,F=null,E=null;O.metadata&&(W=this._emptySelectionClipboard&&!!O.metadata.isFromEmptySelection,F=typeof O.metadata.multicursorText!="undefined"?O.metadata.multicursorText:null,E=O.metadata.mode),this._viewController.paste(O.text,W,F,E)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(O=>{O.replacePrevCharCnt||O.replaceNextCharCnt||O.positionDelta?(i._debugComposition&&console.log(` => compositionType: <<${O.text}>>, ${O.replacePrevCharCnt}, ${O.replaceNextCharCnt}, ${O.positionDelta}`),this._viewController.compositionType(O.text,O.replacePrevCharCnt,O.replaceNextCharCnt,O.positionDelta)):(i._debugComposition&&console.log(` => type: <<${O.text}>>`),this._viewController.type(O.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(O=>{this._viewController.setSelection(O)})),this._register(this._textAreaInput.onCompositionStart(O=>{const W=this._selections[0].startLineNumber,F=this._selections[0].startColumn+O.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new r.Range(W,F,W,F),0,1);const E=this._viewHelper.visibleRangeForPositionRelativeToEditor(W,F);E&&(this._visibleTextArea=new t(this._context.viewLayout.getVerticalOffsetForLineNumber(W),E.left,o?0:1),this._render()),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(O=>{!this._visibleTextArea||(this._visibleTextArea=this._visibleTextArea.setWidth(f(O.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(y){const L='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',N=this._context.model.getLineContent(y.lineNumber),M=(0,c.getMapForWordSeparators)(L);let D=!0,R=y.column,P=!0,O=y.column,W=0;for(;W<50&&(D||P);){if(D&&R<=1&&(D=!1),D){const F=N.charCodeAt(R-2);M.get(F)!==0?D=!1:R--}if(P&&O>N.length&&(P=!1),P){const F=N.charCodeAt(O-1);M.get(F)!==0?P=!1:O++}W++}return[N.substring(R-1,O-1),y.column-R]}_getWordBeforePosition(y){const L=this._context.model.getLineContent(y.lineNumber),N=(0,c.getMapForWordSeparators)(this._context.configuration.options.get(112));let M=y.column,D=0;for(;M>1;){const R=L.charCodeAt(M-2);if(N.get(R)!==0||D>50)return L.substring(M-1,y.column-1);D++,M--}return L.substring(0,y.column-1)}_getCharacterBeforePosition(y){if(y.column>1){const N=this._context.model.getLineContent(y.lineNumber).charAt(y.column-2);if(!S.isHighSurrogate(N.charCodeAt(0)))return N}return""}_getAriaLabel(y){return y.get(2)===1?v.localize(1,null,w.isLinux?"Shift+Alt+F1":"Alt+F1"):y.get(4)}_setAccessibilityOptions(y){this._accessibilitySupport=y.get(2);const L=y.get(3);this._accessibilitySupport===2&&L===l.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=L}onConfigurationChanged(y){const L=this._context.configuration.options,N=L.get(126);return this._setAccessibilityOptions(L),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._contentHeight=N.height,this._fontInfo=L.get(40),this._lineHeight=L.get(55),this._emptySelectionClipboard=L.get(30),this._copyWithSyntaxHighlighting=L.get(19),this.textArea.setAttribute("aria-label",this._getAriaLabel(L)),this.textArea.setAttribute("tabindex",String(L.get(109))),(y.hasChanged(28)||y.hasChanged(77))&&(L.get(28)&&L.get(77)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),y.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(y){return this._selections=y.selections.slice(0),this._modelSelections=y.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(y){return!0}onFlushed(y){return!0}onLinesChanged(y){return!0}onLinesDeleted(y){return!0}onLinesInserted(y){return!0}onScrollChanged(y){return this._scrollLeft=y.scrollLeft,this._scrollTop=y.scrollTop,!0}onZonesChanged(y){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(y){y.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",y.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),y.role&&this.textArea.setAttribute("role",y.role)}prepareRender(y){this._primaryCursorPosition=new d.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=y.visibleRangeForPosition(this._primaryCursorPosition)}render(y){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const y=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(y<this._contentLeft||y>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const L=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(L<0||L>this._contentHeight){this._renderAtTopLeft();return}if(w.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,L,y,o?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,L,y,o?0:1,o?0:1)}_renderInsideEditor(y,L,N,M,D){this._lastRenderPosition=y;const R=this.textArea,P=this.textAreaCover;p.Configuration.applyFontInfo(R,this._fontInfo),R.setTop(L),R.setLeft(N),R.setWidth(M),R.setHeight(D),P.setTop(0),P.setLeft(0),P.setWidth(0),P.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const y=this.textArea,L=this.textAreaCover;if(p.Configuration.applyFontInfo(y,this._fontInfo),y.setTop(0),y.setLeft(0),L.setTop(0),L.setLeft(0),o){y.setWidth(0),y.setHeight(0),L.setWidth(0),L.setHeight(0);return}y.setWidth(1),y.setHeight(1),L.setWidth(1),L.setHeight(1);const N=this._context.configuration.options;N.get(46)?L.setClassName("monaco-editor-background textAreaCover "+a.Margin.OUTER_CLASS_NAME):N.get(56).renderType!==0?L.setClassName("monaco-editor-background textAreaCover "+u.LineNumbersOverlay.CLASS_NAME):L.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=h;function f(b,y){const N=document.createElement("canvas").getContext("2d");N.font=m(y);const M=N.measureText(b);return I.isFirefox?M.width+2:M.width}function m(b){return g("normal",b.fontWeight,b.fontSize,b.lineHeight,b.fontFamily)}function g(b,y,L,N,M){return`${b} normal ${y} ${L}px / ${N}px ${M}`}}),define(te[560],ie([0,1,30,29,47,14,18,48]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class C{constructor(u,a){const l=u.options;this.lineHeight=l.get(55),this.pixelRatio=l.get(124),this.overviewRulerLanes=l.get(70),this.renderBorder=l.get(69);const c=a.getColor(p.editorOverviewRulerBorder);this.borderColor=c?c.toString():null,this.hideCursor=l.get(48);const d=a.getColor(p.editorCursorForeground);this.cursorColor=d?d.transparent(.7).toString():null,this.themeType=a.type;const r=l.get(61),n=r.enabled,s=r.side,t=n?a.getColor(p.editorOverviewRulerBackground)||S.TokenizationRegistry.getDefaultBackground():null;t===null||s==="left"?this.backgroundColor=null:this.backgroundColor=I.Color.Format.CSS.formatHex(t);const h=l.get(126).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[f,m]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=f,this.w=m}_initLanes(u,a,l){const c=a-u;if(l>=3){const d=Math.floor(c/3),r=Math.floor(c/3),n=c-d-r,s=u,t=s+d,o=s+d+n;return[[0,s,t,s,o,s,t,s],[0,d,n,d+n,r,d+n+r,n+r,d+n+r]]}else if(l===2){const d=Math.floor(c/2),r=c-d,n=u,s=n+d;return[[0,n,n,n,s,n,n,n],[0,d,d,d,r,d+r,d+r,d+r]]}else{const d=u,r=c;return[[0,d,d,d,d,d,d,d],[0,r,r,r,r,r,r,r]]}}equals(u){return this.lineHeight===u.lineHeight&&this.pixelRatio===u.pixelRatio&&this.overviewRulerLanes===u.overviewRulerLanes&&this.renderBorder===u.renderBorder&&this.borderColor===u.borderColor&&this.hideCursor===u.hideCursor&&this.cursorColor===u.cursorColor&&this.themeType===u.themeType&&this.backgroundColor===u.backgroundColor&&this.top===u.top&&this.right===u.right&&this.domWidth===u.domWidth&&this.domHeight===u.domHeight&&this.canvasWidth===u.canvasWidth&&this.canvasHeight===u.canvasHeight}}class i extends k.ViewPart{constructor(u){super(u);this._domNode=(0,v.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this.getDomNode().style.opacity="0",this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(a=>{a.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(u){const a=new C(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(a)?!1:(this._settings=a,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,u&&this._render(),!0)}onConfigurationChanged(u){return this._updateSettings(!1)}onCursorStateChanged(u){this._cursorPositions=[];for(let a=0,l=u.selections.length;a<l;a++)this._cursorPositions[a]=u.selections[a].getPosition();return this._cursorPositions.sort(w.Position.compare),!0}onDecorationsChanged(u){return!!u.affectsOverviewRuler}onFlushed(u){return!0}onScrollChanged(u){return u.scrollHeightChanged}onZonesChanged(u){return!0}onThemeChanged(u){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(u){}render(u){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const u=this._settings.canvasWidth,a=this._settings.canvasHeight,l=this._settings.lineHeight,c=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),r=a/d,n=this._context.model.getAllOverviewRulerDecorations(this._context.theme),s=6*this._settings.pixelRatio|0,t=s/2|0,o=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?o.clearRect(0,0,u,a):(o.fillStyle=this._settings.backgroundColor,o.fillRect(0,0,u,a));const h=this._settings.x,f=this._settings.w,m=Object.keys(n);m.sort();for(let g=0,b=m.length;g<b;g++){const y=m[g],L=n[y];o.fillStyle=y;let N=0,M=0,D=0;for(let R=0,P=L.length;R<P;R++){const O=L[3*R],W=L[3*R+1],F=L[3*R+2];let E=c.getVerticalOffsetForLineNumber(W)*r|0,A=(c.getVerticalOffsetForLineNumber(F)+l)*r|0;if(A-E<s){let z=(E+A)/2|0;z<t?z=t:z+t>a&&(z=a-t),E=z-t,A=z+t}E>D+1||O!==N?(R!==0&&o.fillRect(h[N],M,f[N],D-M),N=O,M=E,D=A):A>D&&(D=A)}o.fillRect(h[N],M,f[N],D-M)}if(!this._settings.hideCursor&&this._settings.cursorColor){const g=2*this._settings.pixelRatio|0,b=g/2|0,y=this._settings.x[7],L=this._settings.w[7];o.fillStyle=this._settings.cursorColor;let N=-100,M=-100;for(let D=0,R=this._cursorPositions.length;D<R;D++){const P=this._cursorPositions[D];let O=c.getVerticalOffsetForLineNumber(P.lineNumber)*r|0;O<b?O=b:O+b>a&&(O=a-b);const W=O-b,F=W+g;W>M+1?(D!==0&&o.fillRect(y,N,L,M-N),N=W,M=F):F>M&&(M=F)}o.fillRect(y,N,L,M-N)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(o.beginPath(),o.lineWidth=1,o.strokeStyle=this._settings.borderColor,o.moveTo(0,0),o.lineTo(0,a),o.stroke(),o.moveTo(0,0),o.lineTo(u,0),o.stroke())}}e.DecorationsOverviewRuler=i}),define(te[561],ie([0,1,30,47,48,12,284]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class S extends I.ViewPart{constructor(C){super(C);this.domNode=(0,v.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const i=this._context.configuration.options;this._rulers=i.get(88),this._typicalHalfwidthCharacterWidth=i.get(40).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(C){const i=this._context.configuration.options;return this._rulers=i.get(88),this._typicalHalfwidthCharacterWidth=i.get(40).typicalHalfwidthCharacterWidth,!0}onScrollChanged(C){return C.scrollHeightChanged}prepareRender(C){}_ensureRulersCount(){const C=this._renderedRulers.length,i=this._rulers.length;if(C!==i){if(C<i){const{tabSize:u}=this._context.model.getTextModelOptions(),a=u;let l=i-C;for(;l>0;){const c=(0,v.createFastDomNode)(document.createElement("div"));c.setClassName("view-ruler"),c.setWidth(a),this.domNode.appendChild(c),this._renderedRulers.push(c),l--}return}let _=C-i;for(;_>0;){const u=this._renderedRulers.pop();this.domNode.removeChild(u),_--}}}render(C){this._ensureRulersCount();for(let i=0,_=this._rulers.length;i<_;i++){const u=this._renderedRulers[i],a=this._rulers[i];u.setBoxShadow(a.color?`1px 0 0 0 ${a.color} inset`:""),u.setHeight(Math.min(C.scrollHeight,1e6)),u.setLeft(a.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=S,(0,w.registerThemingParticipant)((p,C)=>{const i=p.getColor(k.editorRuler);i&&C.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)})}),define(te[562],ie([0,1,30,15,47,520,38,48,12,292]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class i extends k.ViewPart{constructor(u){super(u);const a=this._context.configuration.options;this._readOnly=a.get(77),this._cursorBlinking=a.get(20),this._cursorStyle=a.get(22),this._cursorSmoothCaretAnimation=a.get(21),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new w.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,v.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new I.TimeoutTimer,this._cursorFlatBlinkInterval=new I.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(u){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(u){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(u){const a=this._context.configuration.options;this._readOnly=a.get(77),this._cursorBlinking=a.get(20),this._cursorStyle=a.get(22),this._cursorSmoothCaretAnimation=a.get(21),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(u);for(let l=0,c=this._secondaryCursors.length;l<c;l++)this._secondaryCursors[l].onConfigurationChanged(u);return!0}_onCursorPositionChanged(u,a){if(this._primaryCursor.onCursorPositionChanged(u),this._updateBlinking(),this._secondaryCursors.length<a.length){const l=a.length-this._secondaryCursors.length;for(let c=0;c<l;c++){const d=new w.ViewCursor(this._context);this._domNode.domNode.insertBefore(d.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(d)}}else if(this._secondaryCursors.length>a.length){const l=this._secondaryCursors.length-a.length;for(let c=0;c<l;c++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let l=0;l<a.length;l++)this._secondaryCursors[l].onCursorPositionChanged(a[l])}onCursorStateChanged(u){const a=[];for(let c=0,d=u.selections.length;c<d;c++)a[c]=u.selections[c].getPosition();this._onCursorPositionChanged(a[0],a.slice(1));const l=u.selections[0].isEmpty();return this._selectionIsEmpty!==l&&(this._selectionIsEmpty=l,this._updateDomClassName()),!0}onDecorationsChanged(u){return!0}onFlushed(u){return!0}onFocusChanged(u){return this._editorHasFocus=u.isFocused,this._updateBlinking(),!1}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return!0}onTokensChanged(u){const a=l=>{for(let c=0,d=u.ranges.length;c<d;c++)if(u.ranges[c].fromLineNumber<=l.lineNumber&&l.lineNumber<=u.ranges[c].toLineNumber)return!0;return!1};if(a(this._primaryCursor.getPosition()))return!0;for(const l of this._secondaryCursors)if(a(l.getPosition()))return!0;return!1}onZonesChanged(u){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const u=this._getCursorBlinking(),a=u===0,l=u===5;a?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!a&&!l&&(u===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},i.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},i.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let u="cursors-layer";switch(this._selectionIsEmpty||(u+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:u+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:u+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:u+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:u+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:u+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:u+=" cursor-underline-thin-style";break;default:u+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:u+=" cursor-blink";break;case 2:u+=" cursor-smooth";break;case 3:u+=" cursor-phase";break;case 4:u+=" cursor-expand";break;case 5:u+=" cursor-solid";break;default:u+=" cursor-solid"}else u+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(u+=" cursor-smooth-caret-animation"),u}_show(){this._primaryCursor.show();for(let u=0,a=this._secondaryCursors.length;u<a;u++)this._secondaryCursors[u].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let u=0,a=this._secondaryCursors.length;u<a;u++)this._secondaryCursors[u].hide();this._isVisible=!1}prepareRender(u){this._primaryCursor.prepareRender(u);for(let a=0,l=this._secondaryCursors.length;a<l;a++)this._secondaryCursors[a].prepareRender(u)}render(u){let a=[],l=0;const c=this._primaryCursor.render(u);c&&(a[l++]=c);for(let d=0,r=this._secondaryCursors.length;d<r;d++){const n=this._secondaryCursors[d].render(u);n&&(a[l++]=n)}this._renderData=a}getLastRenderData(){return this._renderData}}e.ViewCursors=i,i.BLINK_INTERVAL=500,(0,C.registerThemingParticipant)((_,u)=>{const a=_.getColor(p.editorCursorForeground);if(a){let l=_.getColor(p.editorCursorBackground);l||(l=a.opposite()),u.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${a}; border-color: ${a}; color: ${l}; }`),_.type==="hc"&&u.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${l}; border-right: 1px solid ${l}; }`)}})}),define(te[563],ie([0,1,81,2,50,12,48,37,3,45,6,22]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;function a(d){return d.toString()}class l extends I.Disposable{constructor(r){super();this.model=r,this._markersData=new Map,this._register((0,I.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(r,n){const s=[...this._markersData.keys()];this._markersData.clear();const t=this.model.deltaDecorations(s,n);for(let o=0;o<t.length;o++)this._markersData.set(t[o],r[o]);return s.length!==0||t.length!==0}getMarker(r){return this._markersData.get(r.id)}}let c=class extends I.Disposable{constructor(r,n){super();this._markerService=n,this._onDidChangeMarker=this._register(new _.Emitter),this._markerDecorations=new Map,r.getModels().forEach(s=>this._onModelAdded(s)),this._register(r.onModelAdded(this._onModelAdded,this)),this._register(r.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(r=>r.dispose()),this._markerDecorations.clear()}getMarker(r,n){const s=this._markerDecorations.get(a(r));return s&&s.getMarker(n)||null}_handleMarkerChange(r){r.forEach(n=>{const s=this._markerDecorations.get(a(n));s&&this._updateDecorations(s)})}_onModelAdded(r){const n=new l(r);this._markerDecorations.set(a(r.uri),n),this._updateDecorations(n)}_onModelRemoved(r){const n=this._markerDecorations.get(a(r.uri));n&&(n.dispose(),this._markerDecorations.delete(a(r.uri))),(r.uri.scheme===i.Schemas.inMemory||r.uri.scheme===i.Schemas.internal||r.uri.scheme===i.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:r.uri}).map(s=>s.owner).forEach(s=>this._markerService.remove(s,[r.uri]))}_updateDecorations(r){const n=this._markerService.read({resource:r.model.uri,take:500});let s=n.map(t=>({range:this._createDecorationRange(r.model,t),options:this._createDecorationOption(t)}));r.update(n,s)&&this._onDidChangeMarker.fire(r.model)}_createDecorationRange(r,n){let s=C.Range.lift(n);if(n.severity===v.MarkerSeverity.Hint&&!this._hasMarkerTag(n,1)&&!this._hasMarkerTag(n,2)&&(s=s.setEndPosition(s.startLineNumber,s.startColumn+2)),s=r.validateRange(s),s.isEmpty()){let t=r.getWordAtPosition(s.getStartPosition());if(t)s=new C.Range(s.startLineNumber,t.startColumn,s.endLineNumber,t.endColumn);else{let o=r.getLineLastNonWhitespaceColumn(s.startLineNumber)||r.getLineMaxColumn(s.startLineNumber);o===1||(s.endColumn>=o?s=new C.Range(s.startLineNumber,o-1,s.endLineNumber,o):s=new C.Range(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+1))}}else if(n.endColumn===Number.MAX_VALUE&&n.startColumn===1&&s.startLineNumber===s.endLineNumber){let t=r.getLineFirstNonWhitespaceColumn(n.startLineNumber);t<s.endColumn&&(s=new C.Range(s.startLineNumber,t,s.endLineNumber,s.endColumn),n.startColumn=t)}return s}_createDecorationOption(r){let n,s,t,o,h;switch(r.severity){case v.MarkerSeverity.Hint:this._hasMarkerTag(r,2)?n=void 0:this._hasMarkerTag(r,1)?n="squiggly-unnecessary":n="squiggly-hint",t=0;break;case v.MarkerSeverity.Warning:n="squiggly-warning",s=(0,w.themeColorFromId)(S.overviewRulerWarning),t=20,h={color:(0,w.themeColorFromId)(u.minimapWarning),position:k.MinimapPosition.Inline};break;case v.MarkerSeverity.Info:n="squiggly-info",s=(0,w.themeColorFromId)(S.overviewRulerInfo),t=10;break;case v.MarkerSeverity.Error:default:n="squiggly-error",s=(0,w.themeColorFromId)(S.overviewRulerError),t=30,h={color:(0,w.themeColorFromId)(u.minimapError),position:k.MinimapPosition.Inline};break}return r.tags&&(r.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),r.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{stickiness:1,className:n,showIfCollapsed:!0,overviewRuler:{color:s,position:k.OverviewRulerLane.Right},minimap:h,zIndex:t,inlineClassName:o}}_hasMarkerTag(r,n){return r.tags?r.tags.indexOf(n)>=0:!1}};c=Me([_e(0,p.IModelService),_e(1,v.IMarkerService)],c),e.MarkerDecorationsService=c}),define(te[564],ie([0,1,7,96,6,2,31,353,35,12,22,62,27,309]),function($,e,v,I,k,w,S,p,C,i,_,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var l;(function(d){d.Hidden={type:0};class r{constructor(s,t,o,h){this.actions=s,this.trigger=t,this.editorPosition=o,this.widgetPosition=h,this.type=1}}d.Showing=r})(l||(l={}));let c=class At extends w.Disposable{constructor(r,n,s,t){super();this._editor=r,this._quickFixActionId=n,this._preferredFixActionId=s,this._keybindingService=t,this._onClick=this._register(new k.Emitter),this.onClick=this._onClick.event,this._state=l.Hidden,this._domNode=document.createElement("div"),this._domNode.className=a.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(o=>{const h=this._editor.getModel();(this.state.type!==1||!h||this.state.editorPosition.lineNumber>=h.getLineCount())&&this.hide()})),u.Gesture.ignoreTarget(this._domNode),this._register(v.addStandardDisposableGenericMouseDownListner(this._domNode,o=>{if(this.state.type===1){this._editor.focus(),o.preventDefault();const{top:h,height:f}=v.getDomNodePagePosition(this._domNode),m=this._editor.getOption(55);let g=Math.floor(m/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(g+=m),this._onClick.fire({x:o.posx,y:h+f+g,actions:this.state.actions,trigger:this.state.trigger})}})),this._register(v.addDisposableListener(this._domNode,"mouseenter",o=>{if((o.buttons&1)==1){this.hide();const h=new I.GlobalMouseMoveMonitor;h.startMonitoring(o.target,o.buttons,I.standardMouseMoveMerger,()=>{},()=>{h.dispose()})}})),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(53)&&!this._editor.getOption(53).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(r,n,s){if(r.validActions.length<=0)return this.hide();const t=this._editor.getOptions();if(!t.get(53).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:h,column:f}=o.validatePosition(s),m=o.getOptions().tabSize,g=t.get(40),b=o.getLineContent(h),y=S.TextModel.computeIndentLevel(b,m),L=g.spaceWidth*y>22,N=D=>D>2&&this._editor.getTopForLineNumber(D)===this._editor.getTopForLineNumber(D-1);let M=h;if(!L){if(h>1&&!N(h-1))M-=1;else if(!N(h+1))M+=1;else if(f*g.spaceWidth<22)return this.hide()}this.state=new l.Showing(r,n,s,{position:{lineNumber:M,column:1},preference:At._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=l.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(r){this._state=r,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...a.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...a.Codicon.lightbulbAutofix.classNamesArray);const n=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(n){this.title=p.localize(0,null,n.getLabel());return}}this._domNode.classList.remove(...a.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...a.Codicon.lightBulb.classNamesArray);const r=this._keybindingService.lookupKeybinding(this._quickFixActionId);r?this.title=p.localize(1,null,r.getLabel()):this.title=p.localize(2,null)}set title(r){this._domNode.title=r}};c._posPref=[0],c=Me([_e(3,C.IKeybindingService)],c),e.LightBulbWidget=c,(0,i.registerThemingParticipant)((d,r)=>{var n;const s=(n=d.getColor(_.editorBackground))===null||n===void 0?void 0:n.transparent(.7),t=d.getColor(_.editorLightBulbForeground);t&&r.addRule(`
		.monaco-editor .contentWidgets ${a.Codicon.lightBulb.cssSelector} {
			color: ${t};
			background-color: ${s};
		}`);const o=d.getColor(_.editorLightBulbAutoFixForeground);o&&r.addRule(`
		.monaco-editor .contentWidgets ${a.Codicon.lightbulbAutofix.cssSelector} {
			color: ${o};
			background-color: ${s};
		}`)})}),define(te[565],ie([0,1,7,3,31,48,22,12,108,310]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class i{constructor(c,d,r){this.afterLineNumber=c,this.heightInPx=d,this._onHeight=r,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(c){this._lastHeight===void 0?this._lastHeight=c:this._lastHeight!==c&&(this._lastHeight=c,this._onHeight())}}class _{constructor(c,d,r){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=c,this._id=`codelens.widget-${_._idPool++}`,this.updatePosition(r),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${d}`}withCommands(c,d){this._commands.clear();let r=[],n=!1;for(let s=0;s<c.length;s++){const t=c[s];if(!!t&&(n=!0,t.command)){const o=(0,C.renderLabelWithIcons)(t.command.title.trim());t.command.id?(r.push(v.$("a",{id:String(s),title:t.command.tooltip},...o)),this._commands.set(String(s),t.command)):r.push(v.$("span",{title:t.command.tooltip},...o)),s+1<c.length&&r.push(v.$("span",void 0,"\xA0|\xA0"))}}n?(v.reset(this._domNode,...r),this._isEmpty&&d&&this._domNode.classList.add("fadein"),this._isEmpty=!1):v.reset(this._domNode,v.$("span",void 0,"no commands"))}getCommand(c){return c.parentElement===this._domNode?this._commands.get(c.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(c){const d=this._editor.getModel().getLineFirstNonWhitespaceColumn(c);this._widgetPosition={position:{lineNumber:c,column:d},preference:[1]}}getPosition(){return this._widgetPosition||null}}_._idPool=0;class u{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(c,d){this._addDecorations.push(c),this._addDecorationsCallbacks.push(d)}removeDecoration(c){this._removeDecorations.push(c)}commit(c){let d=c.deltaDecorations(this._removeDecorations,this._addDecorations);for(let r=0,n=d.length;r<n;r++)this._addDecorationsCallbacks[r](d[r])}}e.CodeLensHelper=u;class a{constructor(c,d,r,n,s,t,o){this._isDisposed=!1,this._editor=d,this._className=r,this._data=c,this._decorationIds=[];let h,f=[];this._data.forEach((m,g)=>{m.symbol.command&&f.push(m.symbol),n.addDecoration({range:m.symbol.range,options:k.ModelDecorationOptions.EMPTY},b=>this._decorationIds[g]=b),h?h=I.Range.plusRange(h,m.symbol.range):h=I.Range.lift(m.symbol.range)}),this._viewZone=new i(h.startLineNumber-1,t,o),this._viewZoneId=s.addZone(this._viewZone),f.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(f,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new _(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(c,d){this._decorationIds.forEach(c.removeDecoration,c),this._decorationIds=[],d&&d.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((c,d)=>{const r=this._editor.getModel().getDecorationRange(c),n=this._data[d].symbol;return!!(r&&I.Range.isEmpty(n.range)===r.isEmpty())})}updateCodeLensSymbols(c,d){this._decorationIds.forEach(d.removeDecoration,d),this._decorationIds=[],this._data=c,this._data.forEach((r,n)=>{d.addDecoration({range:r.symbol.range,options:k.ModelDecorationOptions.EMPTY},s=>this._decorationIds[n]=s)})}updateHeight(c,d){this._viewZone.heightInPx=c,d.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(c){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let d=0;d<this._decorationIds.length;d++){const r=c.getDecorationRange(this._decorationIds[d]);r&&(this._data[d].symbol.range=r)}return this._data}updateCommands(c){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!0);for(let d=0;d<this._data.length;d++){const r=c[d];if(r){const{symbol:n}=this._data[d];n.command=r.command||n.command}}}getCommand(c){var d;return(d=this._contentWidget)===null||d===void 0?void 0:d.getCommand(c)}getLineNumber(){const c=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return c?c.startLineNumber:-1}update(c){if(this.isValid()){const d=this._editor.getModel().getDecorationRange(this._decorationIds[0]);d&&(this._viewZone.afterLineNumber=d.startLineNumber-1,c.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(d.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}e.CodeLensWidget=a,(0,p.registerThemingParticipant)((l,c)=>{const d=l.getColor(w.editorCodeLensForeground);d&&(c.addRule(`.monaco-editor .codelens-decoration { color: ${d}; }`),c.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${d}; }`));const r=l.getColor(S.editorActiveLinkForeground);r&&(c.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${r} !important; }`),c.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${r} !important; }`))})}),define(te[566],ie([0,1,36,7,96,52,29,6,2,22,12,313]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const u=I.$;class a extends C.Disposable{constructor(o,h,f){super();this.model=h,this.domNode=u(".colorpicker-header"),I.append(o,this.domNode),this.pickedColorNode=I.append(this.domNode,u(".picked-color"));const m=I.append(this.domNode,u(".original-color"));m.style.backgroundColor=S.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=f.getColorTheme().getColor(i.editorHoverBackground)||S.Color.white,this._register((0,_.registerThemingParticipant)((g,b)=>{this.backgroundColor=g.getColor(i.editorHoverBackground)||S.Color.white})),this._register(I.addDisposableListener(this.pickedColorNode,I.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(I.addDisposableListener(m,I.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this._register(h.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(h.color)||"",this.pickedColorNode.classList.toggle("light",h.color.rgba.a<.5?this.backgroundColor.isLighter():h.color.isLighter())}onDidChangeColor(o){this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(o)||"",this.pickedColorNode.classList.toggle("light",o.rgba.a<.5?this.backgroundColor.isLighter():o.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=a;class l extends C.Disposable{constructor(o,h,f){super();this.model=h,this.pixelRatio=f,this.domNode=u(".colorpicker-body"),I.append(o,this.domNode),this.saturationBox=new c(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new r(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new n(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:o,v:h}){const f=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(f.h,o,h,f.a))}onDidOpacityChange(o){const h=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(h.h,h.s,h.v,o))}onDidHueChange(o){const h=this.model.color.hsva,f=(1-o)*360;this.model.color=new S.Color(new S.HSVA(f===360?0:f,h.s,h.v,h.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=l;class c extends C.Disposable{constructor(o,h,f){super();this.model=h,this.pixelRatio=f,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new p.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=u(".saturation-wrap"),I.append(o,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",I.append(this.domNode,this.canvas),this.selection=u(".saturation-selection"),I.append(this.domNode,this.selection),this.layout(),this._register(I.addDisposableGenericMouseDownListner(this.domNode,m=>this.onMouseDown(m))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(o){this.monitor=this._register(new k.GlobalMouseMoveMonitor);const h=I.getDomNodePagePosition(this.domNode);o.target!==this.selection&&this.onDidChangePosition(o.offsetX,o.offsetY),this.monitor.startMonitoring(o.target,o.buttons,k.standardMouseMoveMerger,m=>this.onDidChangePosition(m.posx-h.left,m.posy-h.top),()=>null);const f=I.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),f.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(o,h){const f=Math.max(0,Math.min(1,o/this.width)),m=Math.max(0,Math.min(1,1-h/this.height));this.paintSelection(f,m),this._onDidChange.fire({s:f,v:m})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const o=this.model.color.hsva;this.paintSelection(o.s,o.v)}paint(){const o=this.model.color.hsva,h=new S.Color(new S.HSVA(o.h,1,1,1)),f=this.canvas.getContext("2d"),m=f.createLinearGradient(0,0,this.canvas.width,0);m.addColorStop(0,"rgba(255, 255, 255, 1)"),m.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),m.addColorStop(1,"rgba(255, 255, 255, 0)");const g=f.createLinearGradient(0,0,0,this.canvas.height);g.addColorStop(0,"rgba(0, 0, 0, 0)"),g.addColorStop(1,"rgba(0, 0, 0, 1)"),f.rect(0,0,this.canvas.width,this.canvas.height),f.fillStyle=S.Color.Format.CSS.format(h),f.fill(),f.fillStyle=m,f.fill(),f.fillStyle=g,f.fill()}paintSelection(o,h){this.selection.style.left=`${o*this.width}px`,this.selection.style.top=`${this.height-h*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class d extends C.Disposable{constructor(o,h){super();this.model=h,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new p.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=I.append(o,u(".strip")),this.overlay=I.append(this.domNode,u(".overlay")),this.slider=I.append(this.domNode,u(".slider")),this.slider.style.top="0px",this._register(I.addDisposableGenericMouseDownListner(this.domNode,f=>this.onMouseDown(f))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const o=this.getValue(this.model.color);this.updateSliderPosition(o)}onMouseDown(o){const h=this._register(new k.GlobalMouseMoveMonitor),f=I.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),o.target!==this.slider&&this.onDidChangeTop(o.offsetY),h.startMonitoring(o.target,o.buttons,k.standardMouseMoveMerger,g=>this.onDidChangeTop(g.posy-f.top),()=>null);const m=I.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),m.dispose(),h.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(o){const h=Math.max(0,Math.min(1,1-o/this.height));this.updateSliderPosition(h),this._onDidChange.fire(h)}updateSliderPosition(o){this.slider.style.top=`${(1-o)*this.height}px`}}class r extends d{constructor(o,h){super(o,h);this.domNode.classList.add("opacity-strip"),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(o){const{r:h,g:f,b:m}=o.rgba,g=new S.Color(new S.RGBA(h,f,m,1)),b=new S.Color(new S.RGBA(h,f,m,0));this.overlay.style.background=`linear-gradient(to bottom, ${g} 0%, ${b} 100%)`}getValue(o){return o.hsva.a}}class n extends d{constructor(o,h){super(o,h);this.domNode.classList.add("hue-strip")}getValue(o){return 1-o.hsva.h/360}}class s extends w.Widget{constructor(o,h,f,m){super();this.model=h,this.pixelRatio=f,this._register((0,v.onDidChangeZoomLevel)(()=>this.layout()));const g=u(".colorpicker-widget");o.appendChild(g);const b=new a(g,this.model,m);this.body=new l(g,this.model,this.pixelRatio),this._register(b),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=s}),define(te[567],ie([0,1,3,50,31,22,12]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class p{constructor(i){this._editor=i,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const i=this._findScopeDecorationIds.map(_=>this._editor.getModel().getDecorationRange(_)).filter(_=>!!_);if(i.length)return i}return null}getStartPosition(){return this._startPosition}setStartPosition(i){this._startPosition=i,this.setCurrentFindMatch(null)}_getDecorationIndex(i){const _=this._decorations.indexOf(i);return _>=0?_+1:1}getCurrentMatchesPosition(i){let _=this._editor.getModel().getDecorationsInRange(i);for(const u of _){const a=u.options;if(a===p._FIND_MATCH_DECORATION||a===p._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(u.id)}return 0}setCurrentFindMatch(i){let _=null,u=0;if(i)for(let a=0,l=this._decorations.length;a<l;a++){let c=this._editor.getModel().getDecorationRange(this._decorations[a]);if(i.equalsRange(c)){_=this._decorations[a],u=a+1;break}}return(this._highlightedDecorationId!==null||_!==null)&&this._editor.changeDecorations(a=>{if(this._highlightedDecorationId!==null&&(a.changeDecorationOptions(this._highlightedDecorationId,p._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),_!==null&&(this._highlightedDecorationId=_,a.changeDecorationOptions(this._highlightedDecorationId,p._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(a.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),_!==null){let l=this._editor.getModel().getDecorationRange(_);if(l.startLineNumber!==l.endLineNumber&&l.endColumn===1){let c=l.endLineNumber-1,d=this._editor.getModel().getLineMaxColumn(c);l=new v.Range(l.startLineNumber,l.startColumn,c,d)}this._rangeHighlightDecorationId=a.addDecoration(l,p._RANGE_HIGHLIGHT_DECORATION)}}),u}set(i,_){this._editor.changeDecorations(u=>{let a=p._FIND_MATCH_DECORATION,l=[];if(i.length>1e3){a=p._FIND_MATCH_NO_OVERVIEW_DECORATION;const d=this._editor.getModel().getLineCount(),n=this._editor.getLayoutInfo().height/d,s=Math.max(2,Math.ceil(3/n));let t=i[0].range.startLineNumber,o=i[0].range.endLineNumber;for(let h=1,f=i.length;h<f;h++){const m=i[h].range;o+s>=m.startLineNumber?m.endLineNumber>o&&(o=m.endLineNumber):(l.push({range:new v.Range(t,1,o,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),t=m.startLineNumber,o=m.endLineNumber)}l.push({range:new v.Range(t,1,o,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let c=new Array(i.length);for(let d=0,r=i.length;d<r;d++)c[d]={range:i[d].range,options:a};this._decorations=u.deltaDecorations(this._decorations,c),this._overviewRulerApproximateDecorations=u.deltaDecorations(this._overviewRulerApproximateDecorations,l),this._rangeHighlightDecorationId&&(u.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(d=>u.removeDecoration(d)),this._findScopeDecorationIds=[]),(_==null?void 0:_.length)&&(this._findScopeDecorationIds=_.map(d=>u.addDecoration(d,p._FIND_SCOPE_DECORATION)))})}matchBeforePosition(i){if(this._decorations.length===0)return null;for(let _=this._decorations.length-1;_>=0;_--){let u=this._decorations[_],a=this._editor.getModel().getDecorationRange(u);if(!(!a||a.endLineNumber>i.lineNumber)){if(a.endLineNumber<i.lineNumber)return a;if(!(a.endColumn>i.column))return a}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(i){if(this._decorations.length===0)return null;for(let _=0,u=this._decorations.length;_<u;_++){let a=this._decorations[_],l=this._editor.getModel().getDecorationRange(a);if(!(!l||l.startLineNumber<i.lineNumber)){if(l.startLineNumber>i.lineNumber)return l;if(!(l.startColumn<i.column))return l}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let i=[];return i=i.concat(this._decorations),i=i.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&i.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&i.push(this._rangeHighlightDecorationId),i}}e.FindDecorations=p,p._CURRENT_FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(w.overviewRulerFindMatchForeground),position:I.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(w.minimapFindMatch),position:I.MinimapPosition.Inline}}),p._FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(w.overviewRulerFindMatchForeground),position:I.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(w.minimapFindMatch),position:I.MinimapPosition.Inline}}),p._FIND_MATCH_NO_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),p._FIND_MATCH_ONLY_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({stickiness:1,overviewRuler:{color:(0,S.themeColorFromId)(w.overviewRulerFindMatchForeground),position:I.OverviewRulerLane.Center}}),p._RANGE_HIGHLIGHT_DECORATION=k.ModelDecorationOptions.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),p._FIND_SCOPE_DECORATION=k.ModelDecorationOptions.register({className:"findScope",isWholeLine:!0})}),define(te[131],ie([0,1,15,2,97,14,3,21,187,567,663,664,16,19]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new a.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_INPUT_FOCUSED=new a.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new a.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const c=240;class d{constructor(n,s){this._toDispose=new I.DisposableStore,this._editor=n,this._state=s,this._isDisposed=!1,this._startSearchingTimer=new v.TimeoutTimer,this._decorations=new i.FindDecorations(n),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new v.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(t=>{(t.reason===3||t.reason===5||t.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(t=>{this._ignoreModelContentChanged||(t.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(t=>this._onStateChanged(t))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,I.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(n){this._isDisposed||!this._editor.hasModel()||(n.searchString||n.isReplaceRevealed||n.isRegex||n.wholeWord||n.matchCase||n.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor)},c)):n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor))}static _getSearchRange(n,s){return s||n.getFullModelRange()}research(n,s){let t=null;typeof s!="undefined"?s!==null&&(Array.isArray(s)?t=s:t=[s]):t=this._decorations.getFindScopes(),t!==null&&(t=t.map(m=>{if(m.startLineNumber!==m.endLineNumber){let g=m.endLineNumber;return m.endColumn===1&&(g=g-1),new S.Range(m.startLineNumber,1,g,this._editor.getModel().getLineMaxColumn(g))}return m}));let o=this._findMatches(t,!1,e.MATCHES_LIMIT);this._decorations.set(o,t);const h=this._editor.getSelection();let f=this._decorations.getCurrentMatchesPosition(h);if(f===0&&o.length>0){const m=(0,l.findFirstInSorted)(o.map(g=>g.range),g=>S.Range.compareRangesUsingStarts(g,h)>=0);f=m>0?m-1+1:f}this._state.changeMatchInfo(f,this._decorations.getCount(),void 0),n&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let n=this._decorations.getFindScope();return n&&this._editor.revealRangeInCenterIfOutsideViewport(n,0),!0}return!1}_setCurrentFindMatch(n){let s=this._decorations.setCurrentFindMatch(n);this._state.changeMatchInfo(s,this._decorations.getCount(),n),this._editor.setSelection(n),this._editor.revealRangeInCenterIfOutsideViewport(n,0)}_prevSearchPosition(n){let s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:o}=n,h=this._editor.getModel();return s||o===1?(t===1?t=h.getLineCount():t--,o=h.getLineMaxColumn(t)):o--,new w.Position(t,o)}_moveToPrevMatch(n,s=!1){if(!this._state.canNavigateBack()){const y=this._decorations.matchAfterPosition(n);y&&this._setCurrentFindMatch(y);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let y=this._decorations.matchBeforePosition(n);y&&y.isEmpty()&&y.getStartPosition().equals(n)&&(n=this._prevSearchPosition(n),y=this._decorations.matchBeforePosition(n)),y&&this._setCurrentFindMatch(y);return}if(!this._cannotFind()){let t=this._decorations.getFindScope(),o=d._getSearchRange(this._editor.getModel(),t);o.getEndPosition().isBefore(n)&&(n=o.getEndPosition()),n.isBefore(o.getStartPosition())&&(n=o.getEndPosition());let{lineNumber:h,column:f}=n,m=this._editor.getModel(),g=new w.Position(h,f),b=m.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(112):null,!1);if(b&&b.range.isEmpty()&&b.range.getStartPosition().equals(g)&&(g=this._prevSearchPosition(g),b=m.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(112):null,!1)),!!b){if(!s&&!o.containsRange(b.range))return this._moveToPrevMatch(b.range.getStartPosition(),!0);this._setCurrentFindMatch(b.range)}}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(n){let s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:o}=n,h=this._editor.getModel();return s||o===h.getLineMaxColumn(t)?(t===h.getLineCount()?t=1:t++,o=1):o++,new w.Position(t,o)}_moveToNextMatch(n){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(n);t&&this._setCurrentFindMatch(t);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let t=this._decorations.matchAfterPosition(n);t&&t.isEmpty()&&t.getStartPosition().equals(n)&&(n=this._nextSearchPosition(n),t=this._decorations.matchAfterPosition(n)),t&&this._setCurrentFindMatch(t);return}let s=this._getNextMatch(n,!1,!0);s&&this._setCurrentFindMatch(s.range)}_getNextMatch(n,s,t,o=!1){if(this._cannotFind())return null;let h=this._decorations.getFindScope(),f=d._getSearchRange(this._editor.getModel(),h);f.getEndPosition().isBefore(n)&&(n=f.getStartPosition()),n.isBefore(f.getStartPosition())&&(n=f.getStartPosition());let{lineNumber:m,column:g}=n,b=this._editor.getModel(),y=new w.Position(m,g),L=b.findNextMatch(this._state.searchString,y,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(112):null,s);return t&&L&&L.range.isEmpty()&&L.range.getStartPosition().equals(y)&&(y=this._nextSearchPosition(y),L=b.findNextMatch(this._state.searchString,y,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(112):null,s)),L?!o&&!f.containsRange(L.range)?this._getNextMatch(L.range.getEndPosition(),s,t,!0):L:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,u.parseReplaceString)(this._state.replaceString):u.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!!this._hasMatches()){let n=this._getReplacePattern(),s=this._editor.getSelection(),t=this._getNextMatch(s.getStartPosition(),!0,!1);if(t)if(s.equalsRange(t.range)){let o=n.buildReplaceString(t.matches,this._state.preserveCase),h=new k.ReplaceCommand(s,o);this._executeEditorCommand("replace",h),this._decorations.setStartPosition(new w.Position(s.startLineNumber,s.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(t.range)}}_findMatches(n,s,t){const o=(n||[null]).map(h=>d._getSearchRange(this._editor.getModel(),h));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(112):null,s,t)}replaceAll(){if(!!this._hasMatches()){const n=this._decorations.getFindScopes();n===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(n),this.research(!1)}}_largeReplaceAll(){const s=new C.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(112):null).parseSearchRequest();if(!!s){let t=s.regex;if(!t.multiline){let L="mu";t.ignoreCase&&(L+="i"),t.global&&(L+="g"),t=new RegExp(t.source,L)}const o=this._editor.getModel(),h=o.getValue(1),f=o.getFullModelRange(),m=this._getReplacePattern();let g;const b=this._state.preserveCase;m.hasReplacementPatterns||b?g=h.replace(t,function(){return m.buildReplaceString(arguments,b)}):g=h.replace(t,m.buildReplaceString(null,b));let y=new k.ReplaceCommandThatPreservesSelection(f,g,this._editor.getSelection());this._executeEditorCommand("replaceAll",y)}}_regularReplaceAll(n){const s=this._getReplacePattern();let t=this._findMatches(n,s.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let f=0,m=t.length;f<m;f++)o[f]=s.buildReplaceString(t[f].matches,this._state.preserveCase);let h=new _.ReplaceAllCommand(this._editor.getSelection(),t.map(f=>f.range),o);this._executeEditorCommand("replaceAll",h)}selectAllMatches(){if(!!this._hasMatches()){let n=this._decorations.getFindScopes(),t=this._findMatches(n,!1,1073741824).map(h=>new p.Selection(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)),o=this._editor.getSelection();for(let h=0,f=t.length;h<f;h++)if(t[h].equalsRange(o)){t=[o].concat(t.slice(0,h)).concat(t.slice(h+1));break}this._editor.setSelections(t)}}_executeEditorCommand(n,s){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(n,s),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=d}),define(te[569],ie([0,1,7,213,52,15,131,22,12]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class i extends k.Widget{constructor(u,a,l,c){super();this._hideSoon=this._register(new w.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=u,this._state=a,this._keybindingService=l,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const d=c.getColorTheme().getColor(p.inputActiveOptionBorder),r=c.getColorTheme().getColor(p.inputActiveOptionForeground),n=c.getColorTheme().getColor(p.inputActiveOptionBackground);this.caseSensitive=this._register(new I.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new I.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new I.RegexCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(s=>{let t=!1;s.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),s.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),s.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register(v.addDisposableNonBubblingMouseOutListener(this._domNode,s=>this._onMouseOut())),this._register(v.addDisposableListener(this._domNode,"mouseover",s=>this._onMouseOver())),this._applyTheme(c.getColorTheme()),this._register(c.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(u){let a=this._keybindingService.lookupKeybinding(u);return a?` (${a.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return i.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(u){let a={inputActiveOptionBorder:u.getColor(p.inputActiveOptionBorder),inputActiveOptionForeground:u.getColor(p.inputActiveOptionForeground),inputActiveOptionBackground:u.getColor(p.inputActiveOptionBackground)};this.caseSensitive.style(a),this.wholeWords.style(a),this.regex.style(a)}}e.FindOptionsWidget=i,i.ID="editor.contrib.findOptionsWidget",(0,C.registerThemingParticipant)((_,u)=>{const a=_.getColor(p.editorWidgetBackground);a&&u.addRule(`.monaco-editor .findOptionsWidget { background-color: ${a}; }`);const l=_.getColor(p.editorWidgetForeground);l&&u.addRule(`.monaco-editor .findOptionsWidget { color: ${l}; }`);const c=_.getColor(p.widgetShadow);c&&u.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${c}; }`);const d=_.getColor(p.contrastBorder);d&&u.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${d}; }`)})}),define(te[570],ie([0,1,6,2,3,131]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(C,i){return C===1?!0:C===2?!1:i}class p extends I.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new v.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(i,_,u){let a={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},l=!1;_===0&&(i=0),i>_&&(i=_),this._matchesPosition!==i&&(this._matchesPosition=i,a.matchesPosition=!0,l=!0),this._matchesCount!==_&&(this._matchesCount=_,a.matchesCount=!0,l=!0),typeof u!="undefined"&&(k.Range.equalsRange(this._currentMatch,u)||(this._currentMatch=u,a.currentMatch=!0,l=!0)),l&&this._onFindReplaceStateChange.fire(a)}change(i,_,u=!0){var a;let l={moveCursor:_,updateHistory:u,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},c=!1;const d=this.isRegex,r=this.wholeWord,n=this.matchCase,s=this.preserveCase;typeof i.searchString!="undefined"&&this._searchString!==i.searchString&&(this._searchString=i.searchString,l.searchString=!0,c=!0),typeof i.replaceString!="undefined"&&this._replaceString!==i.replaceString&&(this._replaceString=i.replaceString,l.replaceString=!0,c=!0),typeof i.isRevealed!="undefined"&&this._isRevealed!==i.isRevealed&&(this._isRevealed=i.isRevealed,l.isRevealed=!0,c=!0),typeof i.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==i.isReplaceRevealed&&(this._isReplaceRevealed=i.isReplaceRevealed,l.isReplaceRevealed=!0,c=!0),typeof i.isRegex!="undefined"&&(this._isRegex=i.isRegex),typeof i.wholeWord!="undefined"&&(this._wholeWord=i.wholeWord),typeof i.matchCase!="undefined"&&(this._matchCase=i.matchCase),typeof i.preserveCase!="undefined"&&(this._preserveCase=i.preserveCase),typeof i.searchScope!="undefined"&&(((a=i.searchScope)===null||a===void 0?void 0:a.every(t=>{var o;return(o=this._searchScope)===null||o===void 0?void 0:o.some(h=>!k.Range.equalsRange(h,t))}))||(this._searchScope=i.searchScope,l.searchScope=!0,c=!0)),typeof i.loop!="undefined"&&this._loop!==i.loop&&(this._loop=i.loop,l.loop=!0,c=!0),this._isRegexOverride=typeof i.isRegexOverride!="undefined"?i.isRegexOverride:0,this._wholeWordOverride=typeof i.wholeWordOverride!="undefined"?i.wholeWordOverride:0,this._matchCaseOverride=typeof i.matchCaseOverride!="undefined"?i.matchCaseOverride:0,this._preserveCaseOverride=typeof i.preserveCaseOverride!="undefined"?i.preserveCaseOverride:0,d!==this.isRegex&&(c=!0,l.isRegex=!0),r!==this.wholeWord&&(c=!0,l.wholeWord=!0),n!==this.matchCase&&(c=!0,l.matchCase=!0),s!==this.preserveCase&&(c=!0,l.preserveCase=!0),c&&this._onFindReplaceStateChange.fire(l)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=w.MATCHES_LIMIT}}e.FindReplaceState=p}),define(te[571],ie([0,1,107,66,191,246,102,12,99,7,370,170,46,2,9,35,70,160]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let s=class{constructor(N){this._resolverService=N}hasChildren(N){return N instanceof v.ReferencesModel||N instanceof v.FileReferences}getChildren(N){if(N instanceof v.ReferencesModel)return N.groups;if(N instanceof v.FileReferences)return N.resolve(this._resolverService).then(M=>M.children);throw new Error("bad tree")}};s=Me([_e(0,I.ITextModelService)],s),e.DataSource=s;class t{getHeight(){return 23}getTemplateId(N){return N instanceof v.FileReferences?m.id:b.id}}e.Delegate=t;let o=class{constructor(N){this._keybindingService=N}getKeyboardNavigationLabel(N){var M;if(N instanceof v.OneReference){const D=(M=N.parent.getPreview(N))===null||M===void 0?void 0:M.preview(N.range);if(D)return D.value}return(0,a.basename)(N.uri)}};o=Me([_e(0,d.IKeybindingService)],o),e.StringRepresentationProvider=o;class h{getId(N){return N instanceof v.OneReference?N.id:N.uri}}e.IdentityProvider=h;let f=class extends l.Disposable{constructor(N,M,D){super();this._uriLabel=M;const R=document.createElement("div");R.classList.add("reference-file"),this.file=this._register(new k.IconLabel(R,{supportHighlights:!0})),this.badge=new w.CountBadge(i.append(R,i.$(".count"))),this._register((0,C.attachBadgeStyler)(this.badge,D)),N.appendChild(R)}set(N,M){let D=(0,a.dirname)(N.uri);this.file.setLabel((0,u.getBaseLabel)(N.uri),this._uriLabel.getUriLabel(D,{relative:!0}),{title:this._uriLabel.getUriLabel(N.uri),matches:M});const R=N.children.length;this.badge.setCount(R),R>1?this.badge.setTitleFormat((0,_.localize)(0,null,R)):this.badge.setTitleFormat((0,_.localize)(1,null,R))}};f=Me([_e(1,S.ILabelService),_e(2,p.IThemeService)],f);let m=class Ot{constructor(N){this._instantiationService=N,this.templateId=Ot.id}renderTemplate(N){return this._instantiationService.createInstance(f,N)}renderElement(N,M,D){D.set(N.element,(0,r.createMatches)(N.filterData))}disposeTemplate(N){N.dispose()}};m.id="FileReferencesRenderer",m=Me([_e(0,c.IInstantiationService)],m),e.FileReferencesRenderer=m;class g{constructor(N){this.label=new n.HighlightedLabel(N,!1)}set(N,M){var D;const R=(D=N.parent.getPreview(N))===null||D===void 0?void 0:D.preview(N.range);if(!R||!R.value)this.label.set(`${(0,a.basename)(N.uri)}:${N.range.startLineNumber+1}:${N.range.startColumn+1}`);else{const{value:P,highlight:O}=R;M&&!r.FuzzyScore.isDefault(M)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(P,(0,r.createMatches)(M))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(P,[O]))}}}class b{constructor(){this.templateId=b.id}renderTemplate(N){return new g(N)}renderElement(N,M,D){D.set(N.element,N.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=b,b.id="OneReferenceRenderer";class y{getWidgetAriaLabel(){return(0,_.localize)(2,null)}getAriaLabel(N){return N.ariaMessage}}e.AccessibilityProvider=y}),define(te[241],ie([0,1,50,12,48,2,105,20,90]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class i{constructor(u){this.options=u,this.rangeHighlightDecorationId=void 0}provide(u,a){var l;const c=new w.DisposableStore;u.canAcceptInBackground=!!((l=this.options)===null||l===void 0?void 0:l.canAcceptInBackground),u.matchOnLabel=u.matchOnDescription=u.matchOnDetail=u.sortByLabel=!1;const d=c.add(new w.MutableDisposable);return d.value=this.doProvide(u,a),c.add(this.onDidActiveTextEditorControlChange(()=>{d.value=void 0,d.value=this.doProvide(u,a)})),c}doProvide(u,a){const l=new w.DisposableStore,c=this.activeTextEditorControl;if(c&&this.canProvideWithTextEditor(c)){const d={editor:c},r=(0,S.getCodeEditor)(c);if(r){let n=(0,p.withNullAsUndefined)(c.saveViewState());l.add(r.onDidChangeCursorPosition(()=>{n=(0,p.withNullAsUndefined)(c.saveViewState())})),d.restoreViewState=()=>{n&&c===this.activeTextEditorControl&&c.restoreViewState(n)},l.add((0,C.once)(a.onCancellationRequested)(()=>{var s;return(s=d.restoreViewState)===null||s===void 0?void 0:s.call(d)}))}l.add((0,w.toDisposable)(()=>this.clearDecorations(c))),l.add(this.provideWithTextEditor(d,u,a))}else l.add(this.provideWithoutTextEditor(u,a));return l}canProvideWithTextEditor(u){return!0}gotoLocation({editor:u},a){u.setSelection(a.range),u.revealRangeInCenter(a.range,0),a.preserveFocus||u.focus()}getModel(u){var a;return(0,S.isDiffEditor)(u)?(a=u.getModel())===null||a===void 0?void 0:a.modified:u.getModel()}addDecorations(u,a){u.changeDecorations(l=>{const c=[];this.rangeHighlightDecorationId&&(c.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),c.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const d=[{range:a,options:{className:"rangeHighlight",isWholeLine:!0}},{range:a,options:{overviewRuler:{color:(0,I.themeColorFromId)(k.overviewRulerRangeHighlight),position:v.OverviewRulerLane.Full}}}],[r,n]=l.deltaDecorations(c,d);this.rangeHighlightDecorationId={rangeHighlightId:r,overviewRulerDecorationId:n}})}clearDecorations(u){const a=this.rangeHighlightDecorationId;a&&(u.changeDecorations(l=>{l.deltaDecorations([a.overviewRulerDecorationId,a.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=i}),define(te[573],ie([0,1,388,2,241,105]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends k.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(C){const i=(0,v.localize)(0,null);return C.items=[{label:i}],C.ariaLabel=i,I.Disposable.None}provideWithTextEditor(C,i,_){const u=C.editor,a=new I.DisposableStore;a.add(i.onDidAccept(d=>{const[r]=i.selectedItems;if(r){if(!this.isValidLineNumber(u,r.lineNumber))return;this.gotoLocation(C,{range:this.toRange(r.lineNumber,r.column),keyMods:i.keyMods,preserveFocus:d.inBackground}),d.inBackground||i.hide()}}));const l=()=>{const d=this.parsePosition(u,i.value.trim().substr(S.PREFIX.length)),r=this.getPickLabel(u,d.lineNumber,d.column);if(i.items=[{lineNumber:d.lineNumber,column:d.column,label:r}],i.ariaLabel=r,!this.isValidLineNumber(u,d.lineNumber)){this.clearDecorations(u);return}const n=this.toRange(d.lineNumber,d.column);u.revealRangeInCenter(n,0),this.addDecorations(u,n)};l(),a.add(i.onDidChangeValue(()=>l()));const c=(0,w.getCodeEditor)(u);return c&&c.getOptions().get(56).renderType===2&&(c.updateOptions({lineNumbers:"on"}),a.add((0,I.toDisposable)(()=>c.updateOptions({lineNumbers:"relative"})))),a}toRange(C=1,i=1){return{startLineNumber:C,startColumn:i,endLineNumber:C,endColumn:i}}parsePosition(C,i){const _=i.split(/,|:|#/).map(a=>parseInt(a,10)).filter(a=>!isNaN(a)),u=this.lineCount(C)+1;return{lineNumber:_[0]>0?_[0]:u+_[0],column:_[1]}}getPickLabel(C,i,_){if(this.isValidLineNumber(C,i))return this.isValidColumn(C,i,_)?(0,v.localize)(1,null,i,_):(0,v.localize)(2,null,i);const u=C.getPosition()||{lineNumber:1,column:1},a=this.lineCount(C);return a>1?(0,v.localize)(3,null,u.lineNumber,u.column,a):(0,v.localize)(4,null,u.lineNumber,u.column)}isValidLineNumber(C,i){return!i||typeof i!="number"?!1:i>0&&i<=this.lineCount(C)}isValidColumn(C,i,_){if(!_||typeof _!="number")return!1;const u=this.getModel(C);if(!u)return!1;const a={lineNumber:i,column:_};return u.validatePosition(a).equals(a)}lineCount(C){var i,_;return(_=(i=this.getModel(C))===null||i===void 0?void 0:i.getLineCount())!==null&&_!==void 0?_:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(te[574],ie([0,1,389,24,2,3,241,18,198,8,482,27]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;class a extends S.AbstractEditorNavigationQuickAccessProvider{constructor(r=Object.create(null)){super(r);this.options=r,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(r){return this.provideLabelPick(r,(0,v.localize)(0,null)),k.Disposable.None}provideWithTextEditor(r,n,s){const t=r.editor,o=this.getModel(t);return o?p.DocumentSymbolProviderRegistry.has(o)?this.doProvideWithEditorSymbols(r,o,n,s):this.doProvideWithoutEditorSymbols(r,o,n,s):k.Disposable.None}doProvideWithoutEditorSymbols(r,n,s,t){const o=new k.DisposableStore;return this.provideLabelPick(s,(0,v.localize)(1,null)),(()=>De(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(n,o))||t.isCancellationRequested||o.add(this.doProvideWithEditorSymbols(r,n,s,t))}))(),o}provideLabelPick(r,n){r.items=[{label:n,index:0,kind:14}],r.ariaLabel=n}waitForLanguageSymbolRegistry(r,n){return De(this,void 0,void 0,function*(){if(p.DocumentSymbolProviderRegistry.has(r))return!0;let s;const t=new Promise(h=>s=h),o=n.add(p.DocumentSymbolProviderRegistry.onDidChange(()=>{p.DocumentSymbolProviderRegistry.has(r)&&(o.dispose(),s(!0))}));return n.add((0,k.toDisposable)(()=>s(!1))),t})}doProvideWithEditorSymbols(r,n,s,t){const o=r.editor,h=new k.DisposableStore;h.add(s.onDidAccept(y=>{const[L]=s.selectedItems;L&&L.range&&(this.gotoLocation(r,{range:L.range.selection,keyMods:s.keyMods,preserveFocus:y.inBackground}),y.inBackground||s.hide())})),h.add(s.onDidTriggerItemButton(({item:y})=>{y&&y.range&&(this.gotoLocation(r,{range:y.range.selection,keyMods:s.keyMods,forceSideBySide:!0}),s.hide())}));const f=this.getDocumentSymbols(n,t);let m;const g=()=>De(this,void 0,void 0,function*(){m==null||m.dispose(!0),s.busy=!1,m=new I.CancellationTokenSource(t),s.busy=!0;try{const y=(0,_.prepareQuery)(s.value.substr(a.PREFIX.length).trim()),L=yield this.doGetSymbolPicks(f,y,void 0,m.token);if(t.isCancellationRequested)return;L.length>0?s.items=L:y.original.length>0?this.provideLabelPick(s,(0,v.localize)(2,null)):this.provideLabelPick(s,(0,v.localize)(3,null))}finally{t.isCancellationRequested||(s.busy=!1)}});h.add(s.onDidChangeValue(()=>g())),g();let b=!0;return h.add(s.onDidChangeActive(()=>{const[y]=s.activeItems;if(y&&y.range){if(b){b=!1;return}o.revealRangeInCenter(y.range.selection,0),this.addDecorations(o,y.range.decoration)}})),h}doGetSymbolPicks(r,n,s,t){return De(this,void 0,void 0,function*(){const o=yield r;if(t.isCancellationRequested)return[];const h=n.original.indexOf(a.SCOPE_PREFIX)===0,f=h?1:0;let m,g;n.values&&n.values.length>1?(m=(0,_.pieceToQuery)(n.values[0]),g=(0,_.pieceToQuery)(n.values.slice(1))):m=n;const b=[];for(let M=0;M<o.length;M++){const D=o[M],R=(0,i.trim)(D.name),P=`$(symbol-${p.SymbolKinds.toString(D.kind)||"property"}) ${R}`,O=P.length-R.length;let W=D.containerName;(s==null?void 0:s.extraContainerLabel)&&(W?W=`${s.extraContainerLabel} \u2022 ${W}`:W=s.extraContainerLabel);let F,E,A,B;if(n.original.length>f){let U=!1;if(m!==n&&([F,E]=(0,_.scoreFuzzy2)(P,Object.assign(Object.assign({},n),{values:void 0}),f,O),typeof F=="number"&&(U=!0)),typeof F!="number"&&([F,E]=(0,_.scoreFuzzy2)(P,m,f,O),typeof F!="number"))continue;if(!U&&g){if(W&&g.original.length>0&&([A,B]=(0,_.scoreFuzzy2)(W,g)),typeof A!="number")continue;typeof F=="number"&&(F+=A)}}const z=D.tags&&D.tags.indexOf(1)>=0;b.push({index:M,kind:D.kind,score:F,label:P,ariaLabel:R,description:W,highlights:z?void 0:{label:E,description:B},range:{selection:w.Range.collapseToStart(D.selectionRange),decoration:D.range},strikethrough:z,buttons:(()=>{var U,K;const G=((U=this.options)===null||U===void 0?void 0:U.openSideBySideDirection)?(K=this.options)===null||K===void 0?void 0:K.openSideBySideDirection():void 0;if(!!G)return[{iconClass:G==="right"?u.Codicon.splitHorizontal.classNames:u.Codicon.splitVertical.classNames,tooltip:G==="right"?(0,v.localize)(4,null):(0,v.localize)(5,null)}]})()})}const y=b.sort((M,D)=>h?this.compareByKindAndScore(M,D):this.compareByScore(M,D));let L=[];if(h){let M,D,R=0;function N(){D&&typeof M=="number"&&R>0&&(D.label=(0,i.format)(c[M]||l,R))}for(const P of y)M!==P.kind?(N(),M=P.kind,R=1,D={type:"separator"},L.push(D)):R++,L.push(P);N()}else y.length>0&&(L=[{label:(0,v.localize)(6,null,b.length),type:"separator"},...y]);return L})}compareByScore(r,n){if(typeof r.score!="number"&&typeof n.score=="number")return 1;if(typeof r.score=="number"&&typeof n.score!="number")return-1;if(typeof r.score=="number"&&typeof n.score=="number"){if(r.score>n.score)return-1;if(r.score<n.score)return 1}return r.index<n.index?-1:r.index>n.index?1:0}compareByKindAndScore(r,n){const s=c[r.kind]||l,t=c[n.kind]||l,o=s.localeCompare(t);return o===0?this.compareByScore(r,n):o}getDocumentSymbols(r,n){return De(this,void 0,void 0,function*(){const s=yield C.OutlineModel.create(r,n);return n.isCancellationRequested?[]:s.asListOfDocumentSymbols()})}}e.AbstractGotoSymbolQuickAccessProvider=a,a.PREFIX="@",a.SCOPE_PREFIX=":",a.PREFIX_BY_CATEGORY=`${a.PREFIX}${a.SCOPE_PREFIX}`;const l=(0,v.localize)(7,null),c={[5]:(0,v.localize)(8,null),[11]:(0,v.localize)(9,null),[8]:(0,v.localize)(10,null),[12]:(0,v.localize)(11,null),[4]:(0,v.localize)(12,null),[22]:(0,v.localize)(13,null),[23]:(0,v.localize)(14,null),[24]:(0,v.localize)(15,null),[10]:(0,v.localize)(16,null),[2]:(0,v.localize)(17,null),[3]:(0,v.localize)(18,null),[25]:(0,v.localize)(19,null),[1]:(0,v.localize)(20,null),[6]:(0,v.localize)(21,null),[9]:(0,v.localize)(22,null),[21]:(0,v.localize)(23,null),[14]:(0,v.localize)(24,null),[0]:(0,v.localize)(25,null),[17]:(0,v.localize)(26,null),[15]:(0,v.localize)(27,null),[16]:(0,v.localize)(28,null),[18]:(0,v.localize)(29,null),[19]:(0,v.localize)(30,null),[7]:(0,v.localize)(31,null),[13]:(0,v.localize)(32,null)}}),define(te[575],ie([0,1,2,14,391,16,22,12,35,427]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new w.RawContextKey("renameInputVisible",!1,(0,k.localize)(0,null));let i=class{constructor(u,a,l,c,d){this._editor=u,this._acceptKeybindings=a,this._themeService=l,this._keybindingService=c,this._disposables=new v.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(d),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(40)&&this._updateFont()})),this._disposables.add(l.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,k.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const u=()=>{var a,l;const[c,d]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(c),this._label.innerText=(0,k.localize)(2,null,(a=this._keybindingService.lookupKeybinding(c))===null||a===void 0?void 0:a.getLabel(),(l=this._keybindingService.lookupKeybinding(d))===null||l===void 0?void 0:l.getLabel())};u(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(u)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(u){var a,l,c,d;if(!(!this._input||!this._domNode)){const r=u.getColor(S.widgetShadow);this._domNode.style.backgroundColor=String((a=u.getColor(S.editorWidgetBackground))!==null&&a!==void 0?a:""),this._domNode.style.boxShadow=r?` 0 0 8px 2px ${r}`:"",this._domNode.style.color=String((l=u.getColor(S.inputForeground))!==null&&l!==void 0?l:""),this._input.style.backgroundColor=String((c=u.getColor(S.inputBackground))!==null&&c!==void 0?c:"");const n=u.getColor(S.inputBorder);this._input.style.borderWidth=n?"1px":"0px",this._input.style.borderStyle=n?"solid":"none",this._input.style.borderColor=(d=n==null?void 0:n.toString())!==null&&d!==void 0?d:"none"}}_updateFont(){if(!(!this._input||!this._label)){const u=this._editor.getOption(40);this._input.style.fontFamily=u.fontFamily,this._input.style.fontWeight=u.fontWeight,this._input.style.fontSize=`${u.fontSize}px`,this._label.style.fontSize=`${u.fontSize*.8}px`}}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(u){u||this.cancelInput(!0)}acceptInput(u){this._currentAcceptInput&&this._currentAcceptInput(u)}cancelInput(u){this._currentCancelInput&&this._currentCancelInput(u)}getInput(u,a,l,c,d,r){this._domNode.classList.toggle("preview",d),this._position=new I.Position(u.startLineNumber,u.startColumn),this._input.value=a,this._input.setAttribute("selectionStart",l.toString()),this._input.setAttribute("selectionEnd",c.toString()),this._input.size=Math.max((u.endColumn-u.startColumn)*1.1,20);const n=new v.DisposableStore;return new Promise(s=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,s(t),!0),this._currentAcceptInput=t=>{if(this._input.value.trim().length===0||this._input.value===a){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,s({newName:this._input.value,wantsPreview:d&&t})},r.onCancellationRequested(()=>this.cancelInput(!0)),n.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{n.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};i=Me([_e(2,p.IThemeService),_e(3,C.IKeybindingService),_e(4,w.IContextKeyService)],i),e.RenameInputField=i}),define(te[242],ie([0,1,401,12,22,27]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,v.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,v.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,v.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,v.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,v.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,v.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,v.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,v.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,v.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,v.localize)(32,null)),(0,I.registerThemingParticipant)((S,p)=>{const C=S.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);C&&p.addRule(`${w.Codicon.symbolArray.cssSelector} { color: ${C}; }`);const i=S.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);i&&p.addRule(`${w.Codicon.symbolBoolean.cssSelector} { color: ${i}; }`);const _=S.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);_&&p.addRule(`${w.Codicon.symbolClass.cssSelector} { color: ${_}; }`);const u=S.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);u&&p.addRule(`${w.Codicon.symbolMethod.cssSelector} { color: ${u}; }`);const a=S.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);a&&p.addRule(`${w.Codicon.symbolColor.cssSelector} { color: ${a}; }`);const l=S.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);l&&p.addRule(`${w.Codicon.symbolConstant.cssSelector} { color: ${l}; }`);const c=S.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);c&&p.addRule(`${w.Codicon.symbolConstructor.cssSelector} { color: ${c}; }`);const d=S.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);d&&p.addRule(`
			${w.Codicon.symbolValue.cssSelector},${w.Codicon.symbolEnum.cssSelector} { color: ${d}; }`);const r=S.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);r&&p.addRule(`${w.Codicon.symbolEnumMember.cssSelector} { color: ${r}; }`);const n=S.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);n&&p.addRule(`${w.Codicon.symbolEvent.cssSelector} { color: ${n}; }`);const s=S.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);s&&p.addRule(`${w.Codicon.symbolField.cssSelector} { color: ${s}; }`);const t=S.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);t&&p.addRule(`${w.Codicon.symbolFile.cssSelector} { color: ${t}; }`);const o=S.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);o&&p.addRule(`${w.Codicon.symbolFolder.cssSelector} { color: ${o}; }`);const h=S.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);h&&p.addRule(`${w.Codicon.symbolFunction.cssSelector} { color: ${h}; }`);const f=S.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);f&&p.addRule(`${w.Codicon.symbolInterface.cssSelector} { color: ${f}; }`);const m=S.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);m&&p.addRule(`${w.Codicon.symbolKey.cssSelector} { color: ${m}; }`);const g=S.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);g&&p.addRule(`${w.Codicon.symbolKeyword.cssSelector} { color: ${g}; }`);const b=S.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);b&&p.addRule(`${w.Codicon.symbolModule.cssSelector} { color: ${b}; }`);const y=S.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);y&&p.addRule(`${w.Codicon.symbolNamespace.cssSelector} { color: ${y}; }`);const L=S.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);L&&p.addRule(`${w.Codicon.symbolNull.cssSelector} { color: ${L}; }`);const N=S.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);N&&p.addRule(`${w.Codicon.symbolNumber.cssSelector} { color: ${N}; }`);const M=S.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);M&&p.addRule(`${w.Codicon.symbolObject.cssSelector} { color: ${M}; }`);const D=S.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);D&&p.addRule(`${w.Codicon.symbolOperator.cssSelector} { color: ${D}; }`);const R=S.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);R&&p.addRule(`${w.Codicon.symbolPackage.cssSelector} { color: ${R}; }`);const P=S.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);P&&p.addRule(`${w.Codicon.symbolProperty.cssSelector} { color: ${P}; }`);const O=S.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);O&&p.addRule(`${w.Codicon.symbolReference.cssSelector} { color: ${O}; }`);const W=S.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);W&&p.addRule(`${w.Codicon.symbolSnippet.cssSelector} { color: ${W}; }`);const F=S.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);F&&p.addRule(`${w.Codicon.symbolString.cssSelector} { color: ${F}; }`);const E=S.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);E&&p.addRule(`${w.Codicon.symbolStruct.cssSelector} { color: ${E}; }`);const A=S.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);A&&p.addRule(`${w.Codicon.symbolText.cssSelector} { color: ${A}; }`);const B=S.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);B&&p.addRule(`${w.Codicon.symbolTypeParameter.cssSelector} { color: ${B}; }`);const z=S.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);z&&p.addRule(`${w.Codicon.symbolUnit.cssSelector} { color: ${z}; }`);const U=S.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);U&&p.addRule(`${w.Codicon.symbolVariable.cssSelector} { color: ${U}; }`)})}),define(te[577],ie([0,1,7,45,550,16,12]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorServiceImpl=void 0;let p=class extends k.CodeEditorServiceImpl{constructor(i,_,u){super(i,u);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=_.createKey("editorIsOpen",!1)}_checkContextKey(){let i=!1;for(const _ of this.listCodeEditors())if(!_.isSimpleWidget){i=!0;break}this._editorIsOpen.set(i)}getActiveCodeEditor(){return null}openCodeEditor(i,_,u){return _?Promise.resolve(this.doOpenEditor(_,i)):Promise.resolve(null)}doOpenEditor(i,_){if(!this.findModel(i,_.resource)){if(_.resource){const l=_.resource.scheme;if(l===I.Schemas.http||l===I.Schemas.https)return(0,v.windowOpenNoOpener)(_.resource.toString()),i}return null}const a=_.options?_.options.selection:null;if(a)if(typeof a.endLineNumber=="number"&&typeof a.endColumn=="number")i.setSelection(a),i.revealRangeInCenter(a,1);else{const l={lineNumber:a.startLineNumber,column:a.startColumn};i.setPosition(l),i.revealPositionInCenter(l,1)}return i}findModel(i,_){const u=i.getModel();return u&&u.uri.toString()!==_.toString()?null:u}};p=Me([_e(1,w.IContextKeyService),_e(2,S.IThemeService)],p),e.StandaloneCodeEditorServiceImpl=p}),define(te[578],ie([0,1,48,22]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[I.editorBackground]:"#FFFFFE",[I.editorForeground]:"#000000",[I.editorInactiveSelection]:"#E5EBF1",[v.editorIndentGuides]:"#D3D3D3",[v.editorActiveIndentGuides]:"#939393",[I.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[I.editorBackground]:"#1E1E1E",[I.editorForeground]:"#D4D4D4",[I.editorInactiveSelection]:"#3A3D41",[v.editorIndentGuides]:"#404040",[v.editorActiveIndentGuides]:"#707070",[I.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[I.editorBackground]:"#000000",[I.editorForeground]:"#FFFFFF",[v.editorIndentGuides]:"#FFFFFF",[v.editorActiveIndentGuides]:"#FFFFFF"}}}),define(te[34],ie([0,1,49,9,16,26,2,6,12,56,77,27]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function a(r){return r.command!==void 0}e.isIMenuItem=a;class l{constructor(n){this.id=l._idPool++,this._debugName=n}}e.MenuId=l,l._idPool=0,l.CommandPalette=new l("CommandPalette"),l.EditorContext=new l("EditorContext"),l.EditorContextCopy=new l("EditorContextCopy"),l.EditorContextPeek=new l("EditorContextPeek"),l.MenubarEditMenu=new l("MenubarEditMenu"),l.MenubarCopy=new l("MenubarCopy"),l.MenubarGoMenu=new l("MenubarGoMenu"),l.MenubarSelectionMenu=new l("MenubarSelectionMenu"),e.IMenuService=(0,I.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new p.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:r=>r===l.CommandPalette}}addCommand(r){return this.addCommands(i.Iterable.single(r))}addCommands(r){for(const n of r)this._commands.set(n.id,n);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,S.toDisposable)(()=>{let n=!1;for(const s of r)n=this._commands.delete(s.id)||n;n&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(r){return this._commands.get(r)}getCommands(){const r=new Map;return this._commands.forEach((n,s)=>r.set(s,n)),r}appendMenuItem(r,n){return this.appendMenuItems(i.Iterable.single({id:r,item:n}))}appendMenuItems(r){const n=new Set,s=new _.LinkedList;for(const{id:t,item:o}of r){let h=this._menuItems.get(t);h||(h=new _.LinkedList,this._menuItems.set(t,h)),s.push(h.push(o)),n.add(t)}return this._onDidChangeMenu.fire(n),(0,S.toDisposable)(()=>{if(s.size>0){for(let t of s)t();this._onDidChangeMenu.fire(n),s.clear()}})}getMenuItems(r){let n;return this._menuItems.has(r)?n=[...this._menuItems.get(r)]:n=[],r===l.CommandPalette&&this._appendImplicitItems(n),n}_appendImplicitItems(r){const n=new Set;for(const s of r)a(s)&&(n.add(s.command.id),s.alt&&n.add(s.alt.id));this._commands.forEach((s,t)=>{n.has(t)||r.push({command:s})})}};class c extends v.SubmenuAction{constructor(n,s,t,o){super(`submenuitem.${n.submenu.id}`,typeof n.title=="string"?n.title:n.title.value,[],"submenu");this.item=n,this._menuService=s,this._contextKeyService=t,this._options=o}get actions(){const n=[],s=this._menuService.createMenu(this.item.submenu,this._contextKeyService),t=s.getActions(this._options);s.dispose();for(const[,o]of t)o.length>0&&(n.push(...o),n.push(new v.Separator));return n.length&&n.pop(),n}}e.SubmenuItemAction=c;let d=class Pt{constructor(n,s,t,o,h){var f;if(this._commandService=h,this.id=n.id,this.label=typeof n.title=="string"?n.title:n.title.value,this.tooltip=(f=n.tooltip)!==null&&f!==void 0?f:"",this.enabled=!n.precondition||o.contextMatchesRules(n.precondition),this.checked=!1,n.toggled){const m=n.toggled.condition?n.toggled:{condition:n.toggled};this.checked=o.contextMatchesRules(m.condition),this.checked&&m.tooltip&&(this.tooltip=typeof m.tooltip=="string"?m.tooltip:m.tooltip.value),m.title&&(this.label=typeof m.title=="string"?m.title:m.title.value)}this.item=n,this.alt=s?new Pt(s,void 0,t,o,h):void 0,this._options=t,C.ThemeIcon.isThemeIcon(n.icon)&&(this.class=u.CSSIcon.asClassName(n.icon))}dispose(){}run(...n){var s,t;let o=[];return((s=this._options)===null||s===void 0?void 0:s.arg)&&(o=[...o,this._options.arg]),((t=this._options)===null||t===void 0?void 0:t.shouldForwardArgs)&&(o=[...o,...n]),this._commandService.executeCommand(this.id,...o)}};d=Me([_e(3,k.IContextKeyService),_e(4,w.ICommandService)],d),e.MenuItemAction=d}),define(te[13],ie([0,1,330,23,28,14,37,66,34,26,16,86,32,84,20,69]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class r{constructor(W){this.id=W.id,this.precondition=W.precondition,this._kbOpts=W.kbOpts,this._menuOpts=W.menuOpts,this._description=W.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){let W=this._kbOpts.kbExpr;this.precondition&&(W?W=_.ContextKeyExpr.and(W,this.precondition):W=this.precondition),u.KeybindingsRegistry.registerCommandAndKeybindingRule({id:this.id,handler:(F,E)=>this.runCommand(F,E),weight:this._kbOpts.weight,args:this._kbOpts.args,when:W,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else i.CommandsRegistry.registerCommand({id:this.id,handler:(W,F)=>this.runCommand(W,F),description:this._description})}_registerMenuItem(W){C.MenuRegistry.appendMenuItem(W.menuId,{group:W.group,command:{id:this.id,title:W.title,icon:W.icon,precondition:this.precondition},when:W.when,order:W.order})}}e.Command=r;class n extends r{constructor(){super(...arguments);this._implementations=[]}addImplementation(W,F,E){return this._implementations.push({priority:W,name:F,implementation:E}),this._implementations.sort((A,B)=>B.priority-A.priority),{dispose:()=>{for(let A=0;A<this._implementations.length;A++)if(this._implementations[A].implementation===E){this._implementations.splice(A,1);return}}}}runCommand(W,F){const E=W.get(d.ILogService);for(const A of this._implementations){const B=A.implementation(W,F);if(B)return E.trace(`Command '${this.id}' was handled by '${A.name}'.`),typeof B=="boolean"?void 0:B}}}e.MultiCommand=n;class s extends r{constructor(W,F){super(F);this.command=W}runCommand(W,F){return this.command.runCommand(W,F)}}e.ProxyCommand=s;class t extends r{static bindToContribution(W){return class extends t{constructor(E){super(E);this._callback=E.handler}runEditorCommand(E,A,B){W(A)&&this._callback(W(A),B)}}}runCommand(W,F){const E=W.get(k.ICodeEditorService),A=E.getFocusedCodeEditor()||E.getActiveCodeEditor();if(!!A)return A.invokeWithinContext(B=>{if(!!B.get(_.IContextKeyService).contextMatchesRules((0,c.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(B,A,F)})}}e.EditorCommand=t;class o extends t{constructor(W){super(o.convertOptions(W));this.label=W.label,this.alias=W.alias}static convertOptions(W){let F;Array.isArray(W.menuOpts)?F=W.menuOpts:W.menuOpts?F=[W.menuOpts]:F=[];function E(A){return A.menuId||(A.menuId=C.MenuId.EditorContext),A.title||(A.title=W.label),A.when=_.ContextKeyExpr.and(W.precondition,A.when),A}return Array.isArray(W.contextMenuOpts)?F.push(...W.contextMenuOpts.map(E)):W.contextMenuOpts&&F.push(E(W.contextMenuOpts)),W.menuOpts=F,W}runEditorCommand(W,F,E){return this.reportTelemetry(W,F),this.run(W,F,E||{})}reportTelemetry(W,F){W.get(l.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=o;class h extends o{constructor(){super(...arguments);this._implementations=[]}addImplementation(W,F){return this._implementations.push([W,F]),this._implementations.sort((E,A)=>A[0]-E[0]),{dispose:()=>{for(let E=0;E<this._implementations.length;E++)if(this._implementations[E][1]===F){this._implementations.splice(E,1);return}}}}run(W,F,E){for(const A of this._implementations){const B=A[1](W,E);if(B)return typeof B=="boolean"?void 0:B}}}e.MultiEditorAction=h;function f(O,W){i.CommandsRegistry.registerCommand(O,function(F,...E){const[A,B]=E;(0,c.assertType)(I.URI.isUri(A)),(0,c.assertType)(w.Position.isIPosition(B));const z=F.get(S.IModelService).getModel(A);if(z){const U=w.Position.lift(B);return W(z,U,...E.slice(2))}return F.get(p.ITextModelService).createModelReference(A).then(U=>new Promise((K,G)=>{try{const J=W(U.object.textEditorModel,w.Position.lift(B),E.slice(2));K(J)}catch(J){G(J)}}).finally(()=>{U.dispose()}))})}e.registerModelAndPositionCommand=f;function m(O,W){i.CommandsRegistry.registerCommand(O,function(F,...E){const[A]=E;(0,c.assertType)(I.URI.isUri(A));const B=F.get(S.IModelService).getModel(A);return B?W(B,...E.slice(1)):F.get(p.ITextModelService).createModelReference(A).then(z=>new Promise((U,K)=>{try{const G=W(z.object.textEditorModel,E.slice(1));U(G)}catch(G){K(G)}}).finally(()=>{z.dispose()}))})}e.registerModelCommand=m;function g(O){return R.INSTANCE.registerEditorCommand(O),O}e.registerEditorCommand=g;function b(O){const W=new O;return R.INSTANCE.registerEditorAction(W),W}e.registerEditorAction=b;function y(O){return R.INSTANCE.registerEditorAction(O),O}e.registerMultiEditorAction=y;function L(O){R.INSTANCE.registerEditorAction(O)}e.registerInstantiatedEditorAction=L;function N(O,W){R.INSTANCE.registerEditorContribution(O,W)}e.registerEditorContribution=N;var M;(function(O){function W(z){return R.INSTANCE.getEditorCommand(z)}O.getEditorCommand=W;function F(){return R.INSTANCE.getEditorActions()}O.getEditorActions=F;function E(){return R.INSTANCE.getEditorContributions()}O.getEditorContributions=E;function A(z){return R.INSTANCE.getEditorContributions().filter(U=>z.indexOf(U.id)>=0)}O.getSomeEditorContributions=A;function B(){return R.INSTANCE.getDiffEditorContributions()}O.getDiffEditorContributions=B})(M=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const D={EditorCommonContributions:"editor.contributions"};class R{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(W,F){this.editorContributions.push({id:W,ctor:F})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(W){W.register(),this.editorActions.push(W)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(W){W.register(),this.editorCommands[W.id]=W}getEditorCommand(W){return this.editorCommands[W]||null}}R.INSTANCE=new R,a.Registry.add(D.EditorCommonContributions,R.INSTANCE);function P(O){return O.register(),O}e.UndoCommand=P(new n({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:v.localize(0,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:v.localize(1,null),order:1}]})),P(new s(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=P(new n({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:v.localize(2,null),order:2},{menuId:C.MenuId.CommandPalette,group:"",title:v.localize(3,null),order:1}]})),P(new s(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=P(new n({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:C.MenuId.MenubarSelectionMenu,group:"1_basic",title:v.localize(4,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:v.localize(5,null),order:1}]}))}),define(te[157],ie([0,1,327,36,20,40,13,28,445,39,181,203,182,14,3,25,16,86]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const s=0;class t extends S.EditorCommand{runEditorCommand(R,P,O){const W=P._getViewModel();!W||this.runCoreEditorCommand(W,O||{})}}e.CoreEditorCommand=t;var o;(function(D){const R=function(O){if(!k.isObject(O))return!1;const W=O;return!(!k.isString(W.to)||!k.isUndefined(W.by)&&!k.isString(W.by)||!k.isUndefined(W.value)&&!k.isNumber(W.value)||!k.isUndefined(W.revealCursor)&&!k.isBoolean(W.revealCursor))};D.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:R,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},D.RawDirection={Up:"up",Down:"down"},D.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function P(O){let W;switch(O.to){case D.RawDirection.Up:W=1;break;case D.RawDirection.Down:W=2;break;default:return null}let F;switch(O.by){case D.RawUnit.Line:F=1;break;case D.RawUnit.WrappedLine:F=2;break;case D.RawUnit.Page:F=3;break;case D.RawUnit.HalfPage:F=4;break;default:F=2}const E=Math.floor(O.value||1),A=!!O.revealCursor;return{direction:W,unit:F,value:E,revealCursor:A,select:!!O.select}}D.parse=P})(o=e.EditorScroll_||(e.EditorScroll_={}));var h;(function(D){const R=function(P){if(!k.isObject(P))return!1;const O=P;return!(!k.isNumber(O.lineNumber)&&!k.isString(O.lineNumber)||!k.isUndefined(O.at)&&!k.isString(O.at))};D.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:R,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},D.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(h=e.RevealLine_||(e.RevealLine_={}));class f{constructor(R){R.addImplementation(1e4,"code-editor",(P,O)=>{const W=P.get(p.ICodeEditorService).getFocusedCodeEditor();return W&&W.hasTextFocus()?this._runEditorCommand(P,W,O):!1}),R.addImplementation(1e3,"generic-dom-input-textarea",(P,O)=>{const W=document.activeElement;return W&&["input","textarea"].indexOf(W.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),R.addImplementation(0,"generic-dom",(P,O)=>{const W=P.get(p.ICodeEditorService).getActiveCodeEditor();return W?(W.focus(),this._runEditorCommand(P,W,O)):!1})}_runEditorCommand(R,P,O){const W=this.runEditorCommand(R,P,O);return W||!0}}var m;(function(D){class R extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,[u.CursorMoveCommands.moveTo(T,T.getPrimaryCursorState(),this._inSelectionMode,x.position,x.viewPosition)]),T.revealPrimaryCursor(x.source,!0)}}D.MoveTo=(0,S.registerEditorCommand)(new R({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),D.MoveToSelect=(0,S.registerEditorCommand)(new R({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class P extends t{runCoreEditorCommand(T,x){T.model.pushStackElement();const H=this._getColumnSelectResult(T,T.getPrimaryCursorState(),T.getCursorColumnSelectData(),x);T.setCursorStates(x.source,3,H.viewStates.map(V=>i.CursorState.fromViewState(V))),T.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:H.fromLineNumber,fromViewVisualColumn:H.fromVisualColumn,toViewLineNumber:H.toLineNumber,toViewVisualColumn:H.toVisualColumn}),H.reversed?T.revealTopMostCursor(x.source):T.revealBottomMostCursor(x.source)}}D.ColumnSelect=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Z,T,x,H){const V=Z.model.validatePosition(H.position),q=Z.coordinatesConverter.validateViewPosition(new l.Position(H.viewPosition.lineNumber,H.viewPosition.column),V);let ee=H.doColumnSelect?x.fromViewLineNumber:q.lineNumber,oe=H.doColumnSelect?x.fromViewVisualColumn:H.mouseColumn-1;return C.ColumnSelection.columnSelect(Z.cursorConfig,Z,ee,oe,q.lineNumber,H.mouseColumn-1)}}),D.CursorColumnSelectLeft=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(Z,T,x,H){return C.ColumnSelection.columnSelectLeft(Z.cursorConfig,Z,x)}}),D.CursorColumnSelectRight=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(Z,T,x,H){return C.ColumnSelection.columnSelectRight(Z.cursorConfig,Z,x)}});class O extends P{constructor(T){super(T);this._isPaged=T.isPaged}_getColumnSelectResult(T,x,H,V){return C.ColumnSelection.columnSelectUp(T.cursorConfig,T,H,this._isPaged)}}D.CursorColumnSelectUp=(0,S.registerEditorCommand)(new O({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),D.CursorColumnSelectPageUp=(0,S.registerEditorCommand)(new O({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class W extends P{constructor(T){super(T);this._isPaged=T.isPaged}_getColumnSelectResult(T,x,H,V){return C.ColumnSelection.columnSelectDown(T.cursorConfig,T,H,this._isPaged)}}D.CursorColumnSelectDown=(0,S.registerEditorCommand)(new W({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),D.CursorColumnSelectPageDown=(0,S.registerEditorCommand)(new W({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class F extends t{constructor(){super({id:"cursorMove",precondition:void 0,description:u.CursorMove.description})}runCoreEditorCommand(T,x){const H=u.CursorMove.parse(x);!H||this._runCursorMove(T,x.source,H)}_runCursorMove(T,x,H){T.model.pushStackElement(),T.setCursorStates(x,3,F._move(T,T.getCursorStates(),H)),T.revealPrimaryCursor(x,!0)}static _move(T,x,H){const V=H.select,q=H.value;switch(H.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return u.CursorMoveCommands.simpleMove(T,x,H.direction,V,q,H.unit);case 11:case 13:case 12:case 14:return u.CursorMoveCommands.viewportMove(T,x,H.direction,V,q);default:return null}}}D.CursorMoveImpl=F,D.CursorMove=(0,S.registerEditorCommand)(new F);class E extends t{constructor(T){super(T);this._staticArgs=T.args}runCoreEditorCommand(T,x){let H=this._staticArgs;this._staticArgs.value===-1&&(H={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:T.cursorConfig.pageSize}),T.model.pushStackElement(),T.setCursorStates(x.source,3,u.CursorMoveCommands.simpleMove(T,T.getCursorStates(),H.direction,H.select,H.value,H.unit)),T.revealPrimaryCursor(x.source,!0)}}D.CursorLeft=(0,S.registerEditorCommand)(new E({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),D.CursorLeftSelect=(0,S.registerEditorCommand)(new E({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|15}})),D.CursorRight=(0,S.registerEditorCommand)(new E({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),D.CursorRightSelect=(0,S.registerEditorCommand)(new E({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|17}})),D.CursorUp=(0,S.registerEditorCommand)(new E({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),D.CursorUpSelect=(0,S.registerEditorCommand)(new E({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),D.CursorPageUp=(0,S.registerEditorCommand)(new E({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:11}})),D.CursorPageUpSelect=(0,S.registerEditorCommand)(new E({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|11}})),D.CursorDown=(0,S.registerEditorCommand)(new E({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),D.CursorDownSelect=(0,S.registerEditorCommand)(new E({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),D.CursorPageDown=(0,S.registerEditorCommand)(new E({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:12}})),D.CursorPageDownSelect=(0,S.registerEditorCommand)(new E({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|12}})),D.CreateCursor=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Z,T){let x;T.wholeLine?x=u.CursorMoveCommands.line(Z,Z.getPrimaryCursorState(),!1,T.position,T.viewPosition):x=u.CursorMoveCommands.moveTo(Z,Z.getPrimaryCursorState(),!1,T.position,T.viewPosition);const H=Z.getCursorStates();if(H.length>1){const V=x.modelState?x.modelState.position:null,q=x.viewState?x.viewState.position:null;for(let ee=0,oe=H.length;ee<oe;ee++){const le=H[ee];if(!(V&&!le.modelState.selection.containsPosition(V))&&!(q&&!le.viewState.selection.containsPosition(q))){H.splice(ee,1),Z.model.pushStackElement(),Z.setCursorStates(T.source,3,H);return}}}H.push(x),Z.model.pushStackElement(),Z.setCursorStates(T.source,3,H)}}),D.LastCursorMoveToSelect=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Z,T){const x=Z.getLastAddedCursorIndex(),H=Z.getCursorStates(),V=H.slice(0);V[x]=u.CursorMoveCommands.moveTo(Z,H[x],!0,T.position,T.viewPosition),Z.model.pushStackElement(),Z.setCursorStates(T.source,3,V)}});class A extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,u.CursorMoveCommands.moveToBeginningOfLine(T,T.getCursorStates(),this._inSelectionMode)),T.revealPrimaryCursor(x.source,!0)}}D.CursorHome=(0,S.registerEditorCommand)(new A({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),D.CursorHomeSelect=(0,S.registerEditorCommand)(new A({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class B extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,this._exec(T.getCursorStates())),T.revealPrimaryCursor(x.source,!0)}_exec(T){const x=[];for(let H=0,V=T.length;H<V;H++){const q=T[H],ee=q.modelState.position.lineNumber;x[H]=i.CursorState.fromModelState(q.modelState.move(this._inSelectionMode,ee,1,0))}return x}}D.CursorLineStart=(0,S.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),D.CursorLineStartSelect=(0,S.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class z extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,u.CursorMoveCommands.moveToEndOfLine(T,T.getCursorStates(),this._inSelectionMode,x.sticky||!1)),T.revealPrimaryCursor(x.source,!0)}}D.CursorEnd=(0,S.registerEditorCommand)(new z({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:v.localize(0,null),type:"boolean",default:!1}}}}]}})),D.CursorEndSelect=(0,S.registerEditorCommand)(new z({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:v.localize(1,null),type:"boolean",default:!1}}}}]}}));class U extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,this._exec(T,T.getCursorStates())),T.revealPrimaryCursor(x.source,!0)}_exec(T,x){const H=[];for(let V=0,q=x.length;V<q;V++){const ee=x[V],oe=ee.modelState.position.lineNumber,le=T.model.getLineMaxColumn(oe);H[V]=i.CursorState.fromModelState(ee.modelState.move(this._inSelectionMode,oe,le,0))}return H}}D.CursorLineEnd=(0,S.registerEditorCommand)(new U({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),D.CursorLineEndSelect=(0,S.registerEditorCommand)(new U({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class K extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,u.CursorMoveCommands.moveToBeginningOfBuffer(T,T.getCursorStates(),this._inSelectionMode)),T.revealPrimaryCursor(x.source,!0)}}D.CursorTop=(0,S.registerEditorCommand)(new K({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),D.CursorTopSelect=(0,S.registerEditorCommand)(new K({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class G extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,u.CursorMoveCommands.moveToEndOfBuffer(T,T.getCursorStates(),this._inSelectionMode)),T.revealPrimaryCursor(x.source,!0)}}D.CursorBottom=(0,S.registerEditorCommand)(new G({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),D.CursorBottomSelect=(0,S.registerEditorCommand)(new G({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class J extends t{constructor(){super({id:"editorScroll",precondition:void 0,description:o.description})}runCoreEditorCommand(T,x){const H=o.parse(x);!H||this._runEditorScroll(T,x.source,H)}_runEditorScroll(T,x,H){const V=this._computeDesiredScrollTop(T,H);if(H.revealCursor){const q=T.getCompletelyVisibleViewRangeAtScrollTop(V);T.setCursorStates(x,3,[u.CursorMoveCommands.findPositionInViewportIfOutside(T,T.getPrimaryCursorState(),q,H.select)])}T.setScrollTop(V,0)}_computeDesiredScrollTop(T,x){if(x.unit===1){const q=T.getCompletelyVisibleViewRange(),ee=T.coordinatesConverter.convertViewRangeToModelRange(q);let oe;x.direction===1?oe=Math.max(1,ee.startLineNumber-x.value):oe=Math.min(T.model.getLineCount(),ee.startLineNumber+x.value);const le=T.coordinatesConverter.convertModelPositionToViewPosition(new l.Position(oe,1));return T.getVerticalOffsetForLineNumber(le.lineNumber)}let H;x.unit===3?H=T.cursorConfig.pageSize*x.value:x.unit===4?H=Math.round(T.cursorConfig.pageSize/2)*x.value:H=x.value;const V=(x.direction===1?-1:1)*H;return T.getScrollTop()+V*T.cursorConfig.lineHeight}}D.EditorScrollImpl=J,D.EditorScroll=(0,S.registerEditorCommand)(new J),D.ScrollLineUp=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(Z,T){D.EditorScroll._runEditorScroll(Z,T.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),D.ScrollPageUp=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(Z,T){D.EditorScroll._runEditorScroll(Z,T.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),D.ScrollLineDown=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(Z,T){D.EditorScroll._runEditorScroll(Z,T.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),D.ScrollPageDown=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(Z,T){D.EditorScroll._runEditorScroll(Z,T.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class Q extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,[u.CursorMoveCommands.word(T,T.getPrimaryCursorState(),this._inSelectionMode,x.position)]),T.revealPrimaryCursor(x.source,!0)}}D.WordSelect=(0,S.registerEditorCommand)(new Q({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),D.WordSelectDrag=(0,S.registerEditorCommand)(new Q({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),D.LastCursorWordSelect=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Z,T){const x=Z.getLastAddedCursorIndex(),H=Z.getCursorStates(),V=H.slice(0),q=H[x];V[x]=u.CursorMoveCommands.word(Z,q,q.modelState.hasSelection(),T.position),Z.model.pushStackElement(),Z.setCursorStates(T.source,3,V)}});class ae extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,[u.CursorMoveCommands.line(T,T.getPrimaryCursorState(),this._inSelectionMode,x.position,x.viewPosition)]),T.revealPrimaryCursor(x.source,!1)}}D.LineSelect=(0,S.registerEditorCommand)(new ae({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),D.LineSelectDrag=(0,S.registerEditorCommand)(new ae({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class se extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){const H=T.getLastAddedCursorIndex(),V=T.getCursorStates(),q=V.slice(0);q[H]=u.CursorMoveCommands.line(T,V[H],this._inSelectionMode,x.position,x.viewPosition),T.model.pushStackElement(),T.setCursorStates(x.source,3,q)}}D.LastCursorLineSelect=(0,S.registerEditorCommand)(new se({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),D.LastCursorLineSelectDrag=(0,S.registerEditorCommand)(new se({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),D.ExpandLineSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|42}})}runCoreEditorCommand(Z,T){Z.model.pushStackElement(),Z.setCursorStates(T.source,3,u.CursorMoveCommands.expandLineSelection(Z,Z.getCursorStates())),Z.revealPrimaryCursor(T.source,!0)}}),D.CancelSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"cancelSelection",precondition:d.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Z,T){Z.model.pushStackElement(),Z.setCursorStates(T.source,3,[u.CursorMoveCommands.cancelSelection(Z,Z.getPrimaryCursorState())]),Z.revealPrimaryCursor(T.source,!0)}}),D.RemoveSecondaryCursors=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"removeSecondaryCursors",precondition:d.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:s+1,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Z,T){Z.model.pushStackElement(),Z.setCursorStates(T.source,3,[Z.getPrimaryCursorState()]),Z.revealPrimaryCursor(T.source,!0),(0,w.status)(v.localize(2,null))}}),D.RevealLine=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"revealLine",precondition:void 0,description:h.description})}runCoreEditorCommand(Z,T){const x=T,H=x.lineNumber||0;let V=typeof H=="number"?H+1:parseInt(H)+1;V<1&&(V=1);const q=Z.model.getLineCount();V>q&&(V=q);const ee=new c.Range(V,1,V,Z.model.getLineMaxColumn(V));let oe=0;if(x.at)switch(x.at){case h.RawAtArgument.Top:oe=3;break;case h.RawAtArgument.Center:oe=1;break;case h.RawAtArgument.Bottom:oe=4;break;default:break}const le=Z.coordinatesConverter.convertModelRangeToViewRange(ee);Z.revealRange(T.source,!1,le,oe,0)}}),D.SelectAll=new class extends f{constructor(){super(S.SelectAllCommand)}runDOMCommand(){I.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Z,T,x){const H=T._getViewModel();!H||this.runCoreEditorCommand(H,x)}runCoreEditorCommand(Z,T){Z.model.pushStackElement(),Z.setCursorStates("keyboard",3,[u.CursorMoveCommands.selectAll(Z,Z.getPrimaryCursorState())])}},D.SetSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Z,T){Z.model.pushStackElement(),Z.setCursorStates(T.source,3,[i.CursorState.fromModelSelection(T.selection)])}})})(m=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const g=r.ContextKeyExpr.and(d.EditorContextKeys.textInputFocus,d.EditorContextKeys.columnSelection);function b(D,R){n.KeybindingsRegistry.registerKeybindingRule({id:D,primary:R,when:g,weight:s+1})}b(m.CursorColumnSelectLeft.id,1024|15),b(m.CursorColumnSelectRight.id,1024|17),b(m.CursorColumnSelectUp.id,1024|16),b(m.CursorColumnSelectPageUp.id,1024|11),b(m.CursorColumnSelectDown.id,1024|18),b(m.CursorColumnSelectPageDown.id,1024|12);function y(D){return D.register(),D}var L;(function(D){class R extends S.EditorCommand{runEditorCommand(O,W,F){const E=W._getViewModel();!E||this.runCoreEditingCommand(W,E,F||{})}}D.CoreEditingCommand=R,D.LineBreakInsert=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"lineBreakInsert",precondition:d.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(P,O,W){P.pushUndoStop(),P.executeCommands(this.id,a.TypeOperations.lineBreakInsert(O.cursorConfig,O.model,O.getCursorStates().map(F=>F.modelState.selection)))}}),D.Outdent=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"outdent",precondition:d.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:r.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(P,O,W){P.pushUndoStop(),P.executeCommands(this.id,a.TypeOperations.outdent(O.cursorConfig,O.model,O.getCursorStates().map(F=>F.modelState.selection))),P.pushUndoStop()}}),D.Tab=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"tab",precondition:d.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:r.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(P,O,W){P.pushUndoStop(),P.executeCommands(this.id,a.TypeOperations.tab(O.cursorConfig,O.model,O.getCursorStates().map(F=>F.modelState.selection))),P.pushUndoStop()}}),D.DeleteLeft=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(P,O,W){const[F,E]=_.DeleteOperations.deleteLeft(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(A=>A.modelState.selection),O.getCursorAutoClosedCharacters());F&&P.pushUndoStop(),P.executeCommands(this.id,E),O.setPrevEditOperationType(2)}}),D.DeleteRight=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(P,O,W){const[F,E]=_.DeleteOperations.deleteRight(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(A=>A.modelState.selection));F&&P.pushUndoStop(),P.executeCommands(this.id,E),O.setPrevEditOperationType(3)}}),D.Undo=new class extends f{constructor(){super(S.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(P,O,W){if(!(!O.hasModel()||O.getOption(77)===!0))return O.getModel().undo()}},D.Redo=new class extends f{constructor(){super(S.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(P,O,W){if(!(!O.hasModel()||O.getOption(77)===!0))return O.getModel().redo()}}})(L=e.CoreEditingCommands||(e.CoreEditingCommands={}));class N extends S.Command{constructor(R,P,O){super({id:R,precondition:void 0,description:O});this._handlerId=P}runCommand(R,P){const O=R.get(p.ICodeEditorService).getFocusedCodeEditor();!O||O.trigger("keyboard",this._handlerId,P)}}function M(D,R){y(new N("default:"+D,D)),y(new N(D,D,R))}M("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),M("replacePreviousChar"),M("compositionType"),M("compositionStart"),M("compositionEnd"),M("paste"),M("cut")}),define(te[582],ie([0,1,13,16,24,77,9,73,329]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const i=(0,S.createDecorator)("IEditorCancelService"),_=new I.RawContextKey("cancellableOperation",!1,(0,C.localize)(0,null));(0,p.registerSingleton)(i,class{constructor(){this._tokens=new WeakMap}add(a,l){let c=this._tokens.get(a);c||(c=a.invokeWithinContext(r=>{const n=_.bindTo(r.get(I.IContextKeyService)),s=new w.LinkedList;return{key:n,tokens:s}}),this._tokens.set(a,c));let d;return c.key.set(!0),d=c.tokens.push(l),()=>{d&&(d(),c.key.set(!c.tokens.isEmpty()),d=void 0)}}cancel(a){const l=this._tokens.get(a);if(!!l){const c=l.tokens.pop();c&&(c.cancel(),l.key.set(!l.tokens.isEmpty()))}}},!0);class u extends k.CancellationTokenSource{constructor(l,c){super(c);this.editor=l,this._unregister=l.invokeWithinContext(d=>d.get(i).add(l,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=u,(0,v.registerEditorCommand)(new class extends v.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:_})}runEditorCommand(a,l){a.get(i).cancel(l)}})}),define(te[68],ie([0,1,8,3,24,2,582]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class p{constructor(a,l){if(this.flags=l,(this.flags&1)!=0){const c=a.getModel();this.modelVersionId=c?v.format("{0}#{1}",c.uri.toString(),c.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=a.getPosition():this.position=null,(this.flags&2)!=0?this.selection=a.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=a.getScrollLeft(),this.scrollTop=a.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(a){if(!(a instanceof p))return!1;const l=a;return!(this.modelVersionId!==l.modelVersionId||this.scrollLeft!==l.scrollLeft||this.scrollTop!==l.scrollTop||!this.position&&l.position||this.position&&!l.position||this.position&&l.position&&!this.position.equals(l.position)||!this.selection&&l.selection||this.selection&&!l.selection||this.selection&&l.selection&&!this.selection.equalsRange(l.selection))}validate(a){return this._equals(new p(a,this.flags))}}e.EditorState=p;class C extends S.EditorKeybindingCancellationTokenSource{constructor(a,l,c,d){super(a,d);this._listener=new w.DisposableStore,l&4&&this._listener.add(a.onDidChangeCursorPosition(r=>{(!c||!I.Range.containsPosition(c,r.position))&&this.cancel()})),l&2&&this._listener.add(a.onDidChangeCursorSelection(r=>{(!c||!I.Range.containsRange(c,r.selection))&&this.cancel()})),l&8&&this._listener.add(a.onDidScrollChange(r=>this.cancel())),l&1&&(this._listener.add(a.onDidChangeModel(r=>this.cancel())),this._listener.add(a.onDidChangeModelContent(r=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=C;class i extends k.CancellationTokenSource{constructor(a,l){super(l);this._listener=a.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=i;class _{constructor(a,l,c){this._visiblePosition=a,this._visiblePositionScrollDelta=l,this._cursorPosition=c}static capture(a){let l=null,c=0;if(a.getScrollTop()!==0){const d=a.getVisibleRanges();if(d.length>0){l=d[0].getStartPosition();const r=a.getTopForPosition(l.lineNumber,l.column);c=a.getScrollTop()-r}}return new _(l,c,a.getPosition())}restore(a){if(this._visiblePosition){const l=a.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);a.setScrollTop(l+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(a){const l=a.getPosition();if(!(!this._cursorPosition||!l)){const c=a.getTopForLineNumber(l.lineNumber)-a.getTopForLineNumber(this._cursorPosition.lineNumber);a.setScrollTop(a.getScrollTop()+c)}}}e.StableEditorScrollState=_}),define(te[584],ie([0,1,167,13]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let k=class{constructor(S,p){}dispose(){}};k.ID="editor.contrib.markerDecorations",k=Me([_e(1,v.IMarkerDecorationsService)],k),e.MarkerDecorationsContribution=k,(0,I.registerEditorContribution)(k.ID,k)}),define(te[585],ie([0,1,157,14,17]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class w{constructor(p,C,i,_){this.configuration=p,this.viewModel=C,this.userInputEvents=i,this.commandDelegate=_}paste(p,C,i,_){this.commandDelegate.paste(p,C,i,_)}type(p){this.commandDelegate.type(p)}compositionType(p,C,i,_){this.commandDelegate.compositionType(p,C,i,_)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(p){v.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:p})}_validateViewColumn(p){const C=this.viewModel.getLineMinColumn(p.lineNumber);return p.column<C?new I.Position(p.lineNumber,C):p}_hasMulticursorModifier(p){switch(this.configuration.options.get(66)){case"altKey":return p.altKey;case"ctrlKey":return p.ctrlKey;case"metaKey":return p.metaKey;default:return!1}}_hasNonMulticursorModifier(p){switch(this.configuration.options.get(66)){case"altKey":return p.ctrlKey||p.metaKey;case"ctrlKey":return p.altKey||p.metaKey;case"metaKey":return p.ctrlKey||p.altKey;default:return!1}}dispatchMouse(p){const C=this.configuration.options,i=k.isLinux&&C.get(93),_=C.get(16);p.middleButton&&!i?this._columnSelect(p.position,p.mouseColumn,p.inSelectionMode):p.startedOnLineNumbers?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelect(p.position):this._createCursor(p.position,!0):p.inSelectionMode?this._lineSelectDrag(p.position):this._lineSelect(p.position):p.mouseDownCount>=4?this._selectAll():p.mouseDownCount===3?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelectDrag(p.position):this._lastCursorLineSelect(p.position):p.inSelectionMode?this._lineSelectDrag(p.position):this._lineSelect(p.position):p.mouseDownCount===2?this._hasMulticursorModifier(p)?this._lastCursorWordSelect(p.position):p.inSelectionMode?this._wordSelectDrag(p.position):this._wordSelect(p.position):this._hasMulticursorModifier(p)?this._hasNonMulticursorModifier(p)||(p.shiftKey?this._columnSelect(p.position,p.mouseColumn,!0):p.inSelectionMode?this._lastCursorMoveToSelect(p.position):this._createCursor(p.position,!1)):p.inSelectionMode?p.altKey?this._columnSelect(p.position,p.mouseColumn,!0):_?this._columnSelect(p.position,p.mouseColumn,!0):this._moveToSelect(p.position):this.moveTo(p.position)}_usualArgs(p){return p=this._validateViewColumn(p),{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p}}moveTo(p){v.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_moveToSelect(p){v.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_columnSelect(p,C,i){p=this._validateViewColumn(p),v.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,mouseColumn:C,doColumnSelect:i})}_createCursor(p,C){p=this._validateViewColumn(p),v.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,wholeLine:C})}_lastCursorMoveToSelect(p){v.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_wordSelect(p){v.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_wordSelectDrag(p){v.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorWordSelect(p){v.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lineSelect(p){v.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lineSelectDrag(p){v.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorLineSelect(p){v.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorLineSelectDrag(p){v.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_selectAll(){v.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(p){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(p)}emitKeyDown(p){this.userInputEvents.emitKeyDown(p)}emitKeyUp(p){this.userInputEvents.emitKeyUp(p)}emitContextMenu(p){this.userInputEvents.emitContextMenu(p)}emitMouseMove(p){this.userInputEvents.emitMouseMove(p)}emitMouseLeave(p){this.userInputEvents.emitMouseLeave(p)}emitMouseUp(p){this.userInputEvents.emitMouseUp(p)}emitMouseDown(p){this.userInputEvents.emitMouseDown(p)}emitMouseDrag(p){this.userInputEvents.emitMouseDrag(p)}emitMouseDrop(p){this.userInputEvents.emitMouseDrop(p)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(p){this.userInputEvents.emitMouseWheel(p)}}e.ViewController=w}),define(te[586],ie([0,1,7,36,21,30,11,546,559,585,236,519,47,583,556,587,551,165,557,239,548,594,223,604,552,606,560,616,561,553,554,562,618,14,3,115,543,558,118,12,184]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m,g,b,y,L,N,M,D,R,P,O,W,F,E,A,B,z,U){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class K extends B.ViewEventHandler{constructor(Q,ae,se,Z,T,x){super();this._selections=[new k.Selection(1,1,1,1)],this._renderAnimationFrame=null;const H=new i.ViewController(ae,Z,T,Q);this._context=new E.ViewContext(ae,se.getColorTheme(),Z),this._configPixelRatio=this._context.configuration.options.get(124),this._context.addEventHandler(this),this._register(se.onDidColorThemeChange(ne=>{this._context.theme.update(ne),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new C.TextAreaHandler(this._context,H,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,w.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,w.createFastDomNode)(document.createElement("div")),a.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new r.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new o.ViewLines(this._context,this._linesContent),this._viewZones=new P.ViewZones(this._context),this._viewParts.push(this._viewZones);const V=new y.DecorationsOverviewRuler(this._context);this._viewParts.push(V);const q=new M.ScrollDecorationViewPart(this._context);this._viewParts.push(q);const ee=new u.ContentViewOverlays(this._context);this._viewParts.push(ee),ee.addDynamicOverlay(new c.CurrentLineHighlightOverlay(this._context)),ee.addDynamicOverlay(new D.SelectionsOverlay(this._context)),ee.addDynamicOverlay(new s.IndentGuidesOverlay(this._context)),ee.addDynamicOverlay(new d.DecorationsOverlay(this._context));const oe=new u.MarginViewOverlays(this._context);this._viewParts.push(oe),oe.addDynamicOverlay(new c.CurrentLineMarginHighlightOverlay(this._context)),oe.addDynamicOverlay(new n.GlyphMarginOverlay(this._context)),oe.addDynamicOverlay(new m.MarginViewLineDecorationsOverlay(this._context)),oe.addDynamicOverlay(new h.LinesDecorationsOverlay(this._context)),oe.addDynamicOverlay(new t.LineNumbersOverlay(this._context));const le=new f.Margin(this._context);le.getDomNode().appendChild(this._viewZones.marginDomNode),le.getDomNode().appendChild(oe.getDomNode()),this._viewParts.push(le),this._contentWidgets=new l.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new R.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new b.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const Y=new N.Rulers(this._context);this._viewParts.push(Y);const j=new g.Minimap(this._context);if(this._viewParts.push(j),V){const ne=this._scrollbar.getOverviewRulerLayoutInfo();ne.parent.insertBefore(V.getDomNode(),ne.insertBefore)}this._linesContent.appendChild(ee.getDomNode()),this._linesContent.appendChild(Y.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(le.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(q.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(j.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),x?x.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new p.PointerHandler(this._context,H,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:Q=>{this._textAreaHandler.textArea.domNode.dispatchEvent(Q)},getLastRenderData:()=>{const Q=this._viewCursors.getLastRenderData()||[],ae=this._textAreaHandler.getLastRenderData();return new U.PointerHandlerLastRenderData(Q,ae)},shouldSuppressMouseDownOnViewZone:Q=>this._viewZones.shouldSuppressMouseDownOnViewZone(Q),shouldSuppressMouseDownOnWidget:Q=>this._contentWidgets.shouldSuppressMouseDownOnWidget(Q),getPositionFromDOMInfo:(Q,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(Q,ae)),visibleRangeForPosition:(Q,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new O.Position(Q,ae))),getLineWidth:Q=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(Q))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(Q,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new O.Position(Q,ae)))}}_applyLayout(){const ae=this._context.configuration.options.get(126);this.domNode.setWidth(ae.width),this.domNode.setHeight(ae.height),this._overflowGuardContainer.setWidth(ae.width),this._overflowGuardContainer.setHeight(ae.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const Q=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(123)+" "+(0,z.getThemeTypeSelector)(this._context.theme.type)+Q}handleEvents(Q){super.handleEvents(Q),this._scheduleRender()}onConfigurationChanged(Q){return this._configPixelRatio=this._context.configuration.options.get(124),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(Q){return this._selections=Q.selections,!1}onFocusChanged(Q){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(Q){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const Q of this._viewParts)Q.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=v.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){G(()=>this._actualRender())}_getViewPartsToRender(){let Q=[],ae=0;for(const se of this._viewParts)se.shouldRender()&&(Q[ae++]=se);return Q}_actualRender(){if(!!v.isInDOM(this.domNode.domNode)){let Q=this._getViewPartsToRender();if(!(!this._viewLines.shouldRender()&&Q.length===0)){const ae=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(ae.startLineNumber,ae.endLineNumber,ae.centeredLineNumber);const se=new A.ViewportData(this._selections,ae,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(se),this._viewLines.shouldRender()&&(this._viewLines.renderText(se),this._viewLines.onDidRender(),Q=this._getViewPartsToRender());const Z=new F.RenderingContext(this._context.viewLayout,se,this._viewLines);for(const T of Q)T.prepareRender(Z);for(const T of Q)T.render(Z),T.onDidRender();Math.abs(I.getPixelRatio()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}}}delegateVerticalScrollbarMouseDown(Q){this._scrollbar.delegateVerticalScrollbarMouseDown(Q)}restoreState(Q){this._context.model.setScrollPosition({scrollTop:Q.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:Q.scrollLeft},1)}getOffsetForColumn(Q,ae){const se=this._context.model.validateModelPosition({lineNumber:Q,column:ae}),Z=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(se);this._flushAccumulatedAndRenderNow();const T=this._viewLines.visibleRangeForPosition(new O.Position(Z.lineNumber,Z.column));return T?T.left:-1}getTargetAtClientPoint(Q,ae){const se=this._pointerHandler.getTargetAtClientPoint(Q,ae);return se?_.ViewUserInputEvents.convertViewToModelMouseTarget(se,this._context.model.coordinatesConverter):null}createOverviewRuler(Q){return new L.OverviewRuler(this._context,Q)}change(Q){this._viewZones.changeViewZones(Q),this._scheduleRender()}render(Q,ae){if(ae){this._viewLines.forceShouldRender();for(const se of this._viewParts)se.forceShouldRender()}Q?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(Q){this._textAreaHandler.setAriaOptions(Q)}addContentWidget(Q){this._contentWidgets.addWidget(Q.widget),this.layoutContentWidget(Q),this._scheduleRender()}layoutContentWidget(Q){let ae=Q.position&&Q.position.range||null;if(ae===null){const Z=Q.position?Q.position.position:null;Z!==null&&(ae=new W.Range(Z.lineNumber,Z.column,Z.lineNumber,Z.column))}const se=Q.position?Q.position.preference:null;this._contentWidgets.setWidgetPosition(Q.widget,ae,se),this._scheduleRender()}removeContentWidget(Q){this._contentWidgets.removeWidget(Q.widget),this._scheduleRender()}addOverlayWidget(Q){this._overlayWidgets.addWidget(Q.widget),this.layoutOverlayWidget(Q),this._scheduleRender()}layoutOverlayWidget(Q){const ae=Q.position?Q.position.preference:null;this._overlayWidgets.setWidgetPosition(Q.widget,ae)&&this._scheduleRender()}removeOverlayWidget(Q){this._overlayWidgets.removeWidget(Q.widget),this._scheduleRender()}}e.View=K;function G(J){try{return J()}catch(Q){(0,S.onUnexpectedError)(Q)}}}),define(te[134],ie([0,1,331,7,11,6,2,45,71,13,28,586,236,38,201,39,14,3,21,229,104,25,18,48,22,459,26,16,9,136,33,12,65,20,623,518,140,584,303]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m,g,b,y,L,N,M,D,R,P,O,W,F,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let A=0;class B{constructor(V,q,ee,oe,le){this.model=V,this.viewModel=q,this.view=ee,this.hasRealView=oe,this.listenersToRemove=le}dispose(){(0,S.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let z=class ct extends S.Disposable{constructor(V,q,ee,oe,le,Y,j,ne,X,ue){super();this._onDidDispose=this._register(new w.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new w.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new w.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new w.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new w.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new w.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new w.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new w.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new w.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new w.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new w.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new w.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new U),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new U),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new w.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new w.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new w.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new w.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new w.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new w.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new w.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new w.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new w.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new w.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new w.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new w.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new w.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new w.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new w.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new w.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new w.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const he=Object.assign({},q);this._domElement=V,this._overflowWidgetsDomNode=he.overflowWidgetsDomNode,delete he.overflowWidgetsDomNode,this._id=++A,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=ee.isSimpleWidget||!1,this._telemetryData=ee.telemetryData,this._configuration=this._register(this._createConfiguration(he,ue)),this._register(this._configuration.onDidChange(ce=>{this._onDidChangeConfiguration.fire(ce);const me=this._configuration.options;if(ce.hasChanged(126)){const Ce=me.get(126);this._onDidLayoutChange.fire(Ce)}})),this._contextKeyService=this._register(j.createScoped(this._domElement)),this._notificationService=X,this._codeEditorService=le,this._commandService=Y,this._themeService=ne,this._register(new K(this,this._contextKeyService)),this._register(new G(this,this._contextKeyService)),this._instantiationService=oe.createChild(new M.ServiceCollection([L.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new J(V),this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}),this._contentWidgets={},this._overlayWidgets={};let re;Array.isArray(ee.contributions)?re=ee.contributions:re=i.EditorExtensionsRegistry.getEditorContributions();for(const ce of re)try{const me=this._instantiationService.createInstance(ce.ctor,this);this._contributions[ce.id]=me}catch(me){(0,k.onUnexpectedError)(me)}i.EditorExtensionsRegistry.getEditorActions().forEach(ce=>{const me=new t.InternalEditorAction(ce.id,ce.label,ce.alias,(0,O.withNullAsUndefined)(ce.precondition),()=>this._instantiationService.invokeFunction(Ce=>Promise.resolve(ce.runEditorCommand(Ce,this,null))),this._contextKeyService);this._actions[me.id]=me}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(V,q){return new C.Configuration(this.isSimpleWidget,V,this._domElement,q)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return o.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const V=Object.keys(this._contributions);for(let q=0,ee=V.length;q<ee;q++){const oe=V[q];this._contributions[oe].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(V){return this._instantiationService.invokeFunction(V)}updateOptions(V){this._configuration.updateOptions(V)}getOptions(){return this._configuration.options}getOption(V){return this._configuration.options.get(V)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(V){return this._modelData?E.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(112),V):null}getValue(V=null){if(!this._modelData)return"";const q=!!(V&&V.preserveBOM);let ee=0;return V&&V.lineEnding&&V.lineEnding===`
`?ee=1:V&&V.lineEnding&&V.lineEnding===`\r
`&&(ee=2),this._modelData.model.getValue(ee,q)}setValue(V){!this._modelData||this._modelData.model.setValue(V)}getModel(){return this._modelData?this._modelData.model:null}setModel(V=null){const q=V;if(!(this._modelData===null&&q===null)&&!(this._modelData&&this._modelData.model===q)){const ee=this.hasTextFocus(),oe=this._detachModel();this._attachModel(q),ee&&this.hasModel()&&this.focus();const le={oldModelUrl:oe?oe.uri:null,newModelUrl:q?q.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(le),this._postDetachModelCleanup(oe)}}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let V in this._decorationTypeSubtypes){const q=this._decorationTypeSubtypes[V];for(let ee in q)this._removeDecorationType(V+"-"+ee)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(V,q,ee){const oe=V.model.validatePosition({lineNumber:q,column:ee}),le=V.viewModel.coordinatesConverter.convertModelPositionToViewPosition(oe);return V.viewModel.viewLayout.getVerticalOffsetForLineNumber(le.lineNumber)}getTopForLineNumber(V){return this._modelData?ct._getVerticalOffsetForPosition(this._modelData,V,1):-1}getTopForPosition(V,q){return this._modelData?ct._getVerticalOffsetForPosition(this._modelData,V,q):-1}setHiddenAreas(V){this._modelData&&this._modelData.viewModel.setHiddenAreas(V.map(q=>n.Range.lift(q)))}getVisibleColumnFromPosition(V){if(!this._modelData)return V.column;const q=this._modelData.model.validatePosition(V),ee=this._modelData.model.getOptions().tabSize;return d.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(q.lineNumber),q.column,ee)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(V){if(!!this._modelData){if(!r.Position.isIPosition(V))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:V.lineNumber,selectionStartColumn:V.column,positionLineNumber:V.lineNumber,positionColumn:V.column}])}}_sendRevealRange(V,q,ee,oe){if(!!this._modelData){if(!n.Range.isIRange(V))throw new Error("Invalid arguments");const le=this._modelData.model.validateRange(V),Y=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(le);this._modelData.viewModel.revealRange("api",ee,Y,q,oe)}}revealLine(V,q=0){this._revealLine(V,0,q)}revealLineInCenter(V,q=0){this._revealLine(V,1,q)}revealLineInCenterIfOutsideViewport(V,q=0){this._revealLine(V,2,q)}revealLineNearTop(V,q=0){this._revealLine(V,5,q)}_revealLine(V,q,ee){if(typeof V!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(V,1,V,1),q,!1,ee)}revealPosition(V,q=0){this._revealPosition(V,0,!0,q)}revealPositionInCenter(V,q=0){this._revealPosition(V,1,!0,q)}revealPositionInCenterIfOutsideViewport(V,q=0){this._revealPosition(V,2,!0,q)}revealPositionNearTop(V,q=0){this._revealPosition(V,5,!0,q)}_revealPosition(V,q,ee,oe){if(!r.Position.isIPosition(V))throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(V.lineNumber,V.column,V.lineNumber,V.column),q,ee,oe)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(V){const q=s.Selection.isISelection(V),ee=n.Range.isIRange(V);if(!q&&!ee)throw new Error("Invalid arguments");if(q)this._setSelectionImpl(V);else if(ee){const oe={selectionStartLineNumber:V.startLineNumber,selectionStartColumn:V.startColumn,positionLineNumber:V.endLineNumber,positionColumn:V.endColumn};this._setSelectionImpl(oe)}}_setSelectionImpl(V){if(!!this._modelData){const q=new s.Selection(V.selectionStartLineNumber,V.selectionStartColumn,V.positionLineNumber,V.positionColumn);this._modelData.viewModel.setSelections("api",[q])}}revealLines(V,q,ee=0){this._revealLines(V,q,0,ee)}revealLinesInCenter(V,q,ee=0){this._revealLines(V,q,1,ee)}revealLinesInCenterIfOutsideViewport(V,q,ee=0){this._revealLines(V,q,2,ee)}revealLinesNearTop(V,q,ee=0){this._revealLines(V,q,5,ee)}_revealLines(V,q,ee,oe){if(typeof V!="number"||typeof q!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(V,1,q,1),ee,!1,oe)}revealRange(V,q=0,ee=!1,oe=!0){this._revealRange(V,ee?1:0,oe,q)}revealRangeInCenter(V,q=0){this._revealRange(V,1,!0,q)}revealRangeInCenterIfOutsideViewport(V,q=0){this._revealRange(V,2,!0,q)}revealRangeNearTop(V,q=0){this._revealRange(V,5,!0,q)}revealRangeNearTopIfOutsideViewport(V,q=0){this._revealRange(V,6,!0,q)}revealRangeAtTop(V,q=0){this._revealRange(V,3,!0,q)}_revealRange(V,q,ee,oe){if(!n.Range.isIRange(V))throw new Error("Invalid arguments");this._sendRevealRange(n.Range.lift(V),q,ee,oe)}setSelections(V,q="api",ee=0){if(!!this._modelData){if(!V||V.length===0)throw new Error("Invalid arguments");for(let oe=0,le=V.length;oe<le;oe++)if(!s.Selection.isISelection(V[oe]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,V,ee)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(V,q=1){if(!!this._modelData){if(typeof V!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:V},q)}}setScrollTop(V,q=1){if(!!this._modelData){if(typeof V!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:V},q)}}setScrollPosition(V,q=1){!this._modelData||this._modelData.viewModel.setScrollPosition(V,q)}saveViewState(){if(!this._modelData)return null;const V={},q=Object.keys(this._contributions);for(const le of q){const Y=this._contributions[le];typeof Y.saveViewState=="function"&&(V[le]=Y.saveViewState())}const ee=this._modelData.viewModel.saveCursorState(),oe=this._modelData.viewModel.saveState();return{cursorState:ee,viewState:oe,contributionsState:V}}restoreViewState(V){if(!(!this._modelData||!this._modelData.hasRealView)){const q=V;if(q&&q.cursorState&&q.viewState){const ee=q.cursorState;Array.isArray(ee)?this._modelData.viewModel.restoreCursorState(ee):this._modelData.viewModel.restoreCursorState([ee]);const oe=q.contributionsState||{},le=Object.keys(this._contributions);for(let j=0,ne=le.length;j<ne;j++){const X=le[j],ue=this._contributions[X];typeof ue.restoreViewState=="function"&&ue.restoreViewState(oe[X])}const Y=this._modelData.viewModel.reduceRestoreState(q.viewState);this._modelData.view.restoreState(Y)}}}getContribution(V){return this._contributions[V]||null}getActions(){const V=[],q=Object.keys(this._actions);for(let ee=0,oe=q.length;ee<oe;ee++){const le=q[ee];V.push(this._actions[le])}return V}getSupportedActions(){let V=this.getActions();return V=V.filter(q=>q.isSupported()),V}getAction(V){return this._actions[V]||null}trigger(V,q,ee){switch(ee=ee||{},q){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(V);return;case"type":{const le=ee;this._type(V,le.text||"");return}case"replacePreviousChar":{const le=ee;this._compositionType(V,le.text||"",le.replaceCharCnt||0,0,0);return}case"compositionType":{const le=ee;this._compositionType(V,le.text||"",le.replacePrevCharCnt||0,le.replaceNextCharCnt||0,le.positionDelta||0);return}case"paste":{const le=ee;this._paste(V,le.text||"",le.pasteOnNewLine||!1,le.multicursorText||null,le.mode||null);return}case"cut":this._cut(V);return}const oe=this.getAction(q);if(oe){Promise.resolve(oe.run()).then(void 0,k.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(V,q,ee)||this._commandService.executeCommand(q,ee)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(V){!this._modelData||(this._modelData.viewModel.endComposition(V),this._onDidCompositionEnd.fire())}_type(V,q){!this._modelData||q.length===0||(V==="keyboard"&&this._onWillType.fire(q),this._modelData.viewModel.type(q,V),V==="keyboard"&&this._onDidType.fire(q))}_compositionType(V,q,ee,oe,le){!this._modelData||this._modelData.viewModel.compositionType(q,ee,oe,le,V)}_paste(V,q,ee,oe,le){if(!(!this._modelData||q.length===0)){const Y=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(q,ee,oe,V);const j=this._modelData.viewModel.getSelection().getStartPosition();V==="keyboard"&&this._onDidPaste.fire({range:new n.Range(Y.lineNumber,Y.column,j.lineNumber,j.column),mode:le})}}_cut(V){!this._modelData||this._modelData.viewModel.cut(V)}_triggerEditorCommand(V,q,ee){const oe=i.EditorExtensionsRegistry.getEditorCommand(q);return oe?(ee=ee||{},ee.source=V,this._instantiationService.invokeFunction(le=>{Promise.resolve(oe.runEditorCommand(le,this,ee)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(77)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(77)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(V,q,ee){if(!this._modelData||this._configuration.options.get(77))return!1;let oe;return ee?Array.isArray(ee)?oe=()=>ee:oe=ee:oe=()=>null,this._modelData.viewModel.executeEdits(V,q,oe),!0}executeCommand(V,q){!this._modelData||this._modelData.viewModel.executeCommand(q,V)}executeCommands(V,q){!this._modelData||this._modelData.viewModel.executeCommands(q,V)}changeDecorations(V){return this._modelData?this._modelData.model.changeDecorations(V,this._id):null}getLineDecorations(V){return this._modelData?this._modelData.model.getLineDecorations(V,this._id,(0,l.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(V,q){return this._modelData?V.length===0&&q.length===0?V:this._modelData.model.deltaDecorations(V,q,this._id):[]}removeDecorations(V){const q=this._decorationTypeKeysToIds[V];q&&this.deltaDecorations(q,[]),this._decorationTypeKeysToIds.hasOwnProperty(V)&&delete this._decorationTypeKeysToIds[V],this._decorationTypeSubtypes.hasOwnProperty(V)&&delete this._decorationTypeSubtypes[V]}getLayoutInfo(){return this._configuration.options.get(126)}createOverviewRuler(V){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(V)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(V){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(V)}layout(V){this._configuration.observeReferenceElement(V),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(V){const q={widget:V,position:V.getPosition()};this._contentWidgets.hasOwnProperty(V.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[V.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(q)}layoutContentWidget(V){const q=V.getId();if(this._contentWidgets.hasOwnProperty(q)){const ee=this._contentWidgets[q];ee.position=V.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(ee)}}removeContentWidget(V){const q=V.getId();if(this._contentWidgets.hasOwnProperty(q)){const ee=this._contentWidgets[q];delete this._contentWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(ee)}}addOverlayWidget(V){const q={widget:V,position:V.getPosition()};this._overlayWidgets.hasOwnProperty(V.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[V.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(q)}layoutOverlayWidget(V){const q=V.getId();if(this._overlayWidgets.hasOwnProperty(q)){const ee=this._overlayWidgets[q];ee.position=V.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(ee)}}removeOverlayWidget(V){const q=V.getId();if(this._overlayWidgets.hasOwnProperty(q)){const ee=this._overlayWidgets[q];delete this._overlayWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(ee)}}changeViewZones(V){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(V)}getTargetAtClientPoint(V,q){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(V,q)}getScrolledVisiblePosition(V){if(!this._modelData||!this._modelData.hasRealView)return null;const q=this._modelData.model.validatePosition(V),ee=this._configuration.options,oe=ee.get(126),le=ct._getVerticalOffsetForPosition(this._modelData,q.lineNumber,q.column)-this.getScrollTop(),Y=this._modelData.view.getOffsetForColumn(q.lineNumber,q.column)+oe.glyphMarginWidth+oe.lineNumbersWidth+oe.decorationsWidth-this.getScrollLeft();return{top:le,left:Y,height:ee.get(55)}}getOffsetForColumn(V,q){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(V,q)}render(V=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,V)}setAriaOptions(V){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(V)}applyFontInfo(V){C.Configuration.applyFontInfoSlow(V,this._configuration.options.get(40))}_attachModel(V){if(!V){this._modelData=null;return}const q=[];this._domElement.setAttribute("data-mode-id",V.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(V.isDominatedByLongLines()),this._configuration.setMaxLineNumber(V.getLineCount()),V.onBeforeAttached();const ee=new b.ViewModel(this._id,this._configuration,V,F.DOMLineBreaksComputerFactory.create(),W.MonospaceLineBreaksComputerFactory.create(this._configuration.options),Y=>I.scheduleAtNextAnimationFrame(Y));q.push(V.onDidChangeDecorations(Y=>this._onDidChangeModelDecorations.fire(Y))),q.push(V.onDidChangeLanguage(Y=>{this._domElement.setAttribute("data-mode-id",V.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(Y)})),q.push(V.onDidChangeLanguageConfiguration(Y=>this._onDidChangeModelLanguageConfiguration.fire(Y))),q.push(V.onDidChangeContent(Y=>this._onDidChangeModelContent.fire(Y))),q.push(V.onDidChangeOptions(Y=>this._onDidChangeModelOptions.fire(Y))),q.push(V.onWillDispose(()=>this.setModel(null))),q.push(ee.onEvent(Y=>{switch(Y.kind){case 0:this._onDidContentSizeChange.fire(Y);break;case 1:this._editorTextFocus.setValue(Y.hasFocus);break;case 2:this._onDidScrollChange.fire(Y);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{Y.reachedMaxCursorCount&&this._notificationService.warn(v.localize(0,null,c.Cursor.MAX_CURSOR_COUNT));const j=[];for(let ue=0,he=Y.selections.length;ue<he;ue++)j[ue]=Y.selections[ue].getPosition();const ne={position:j[0],secondaryPositions:j.slice(1),reason:Y.reason,source:Y.source};this._onDidChangeCursorPosition.fire(ne);const X={selection:Y.selections[0],secondarySelections:Y.selections.slice(1),modelVersionId:Y.modelVersionId,oldSelections:Y.oldSelections,oldModelVersionId:Y.oldModelVersionId,source:Y.source,reason:Y.reason};this._onDidChangeCursorSelection.fire(X);break}}}));const[oe,le]=this._createView(ee);if(le){this._domElement.appendChild(oe.domNode.domNode);let Y=Object.keys(this._contentWidgets);for(let j=0,ne=Y.length;j<ne;j++){const X=Y[j];oe.addContentWidget(this._contentWidgets[X])}Y=Object.keys(this._overlayWidgets);for(let j=0,ne=Y.length;j<ne;j++){const X=Y[j];oe.addOverlayWidget(this._overlayWidgets[X])}oe.render(!1,!0),oe.domNode.domNode.setAttribute("data-uri",V.uri.toString())}this._modelData=new B(V,ee,oe,le,q)}_createView(V){let q;this.isSimpleWidget?q={paste:(le,Y,j,ne)=>{this._paste("keyboard",le,Y,j,ne)},type:le=>{this._type("keyboard",le)},compositionType:(le,Y,j,ne)=>{this._compositionType("keyboard",le,Y,j,ne)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:q={paste:(le,Y,j,ne)=>{const X={text:le,pasteOnNewLine:Y,multicursorText:j,mode:ne};this._commandService.executeCommand("paste",X)},type:le=>{const Y={text:le};this._commandService.executeCommand("type",Y)},compositionType:(le,Y,j,ne)=>{if(j||ne){const X={text:le,replacePrevCharCnt:Y,replaceNextCharCnt:j,positionDelta:ne};this._commandService.executeCommand("compositionType",X)}else{const X={text:le,replaceCharCnt:Y};this._commandService.executeCommand("replacePreviousChar",X)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const ee=new a.ViewUserInputEvents(V.coordinatesConverter);return ee.onKeyDown=le=>this._onKeyDown.fire(le),ee.onKeyUp=le=>this._onKeyUp.fire(le),ee.onContextMenu=le=>this._onContextMenu.fire(le),ee.onMouseMove=le=>this._onMouseMove.fire(le),ee.onMouseLeave=le=>this._onMouseLeave.fire(le),ee.onMouseDown=le=>this._onMouseDown.fire(le),ee.onMouseUp=le=>this._onMouseUp.fire(le),ee.onMouseDrag=le=>this._onMouseDrag.fire(le),ee.onMouseDrop=le=>this._onMouseDrop.fire(le),ee.onMouseDropCanceled=le=>this._onMouseDropCanceled.fire(le),ee.onMouseWheel=le=>this._onMouseWheel.fire(le),[new u.View(q,this._configuration,this._themeService,V,ee,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(V){V&&V.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const V=this._modelData.model,q=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),q&&this._domElement.contains(q)&&this._domElement.removeChild(q),V}_removeDecorationType(V){this._codeEditorService.removeDecorationType(V)}hasModel(){return this._modelData!==null}};z=Me([_e(3,N.IInstantiationService),_e(4,_.ICodeEditorService),_e(5,y.ICommandService),_e(6,L.IContextKeyService),_e(7,R.IThemeService),_e(8,D.INotificationService),_e(9,P.IAccessibilityService)],z),e.CodeEditorWidget=z;class U extends S.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new w.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new w.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(V){const q=V?2:1;this._value!==q&&(this._value=q,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=U;class K extends S.Disposable{constructor(V,q){super();this._editor=V,q.createKey("editorId",V.getId()),this._editorSimpleInput=h.EditorContextKeys.editorSimpleInput.bindTo(q),this._editorFocus=h.EditorContextKeys.focus.bindTo(q),this._textInputFocus=h.EditorContextKeys.textInputFocus.bindTo(q),this._editorTextFocus=h.EditorContextKeys.editorTextFocus.bindTo(q),this._editorTabMovesFocus=h.EditorContextKeys.tabMovesFocus.bindTo(q),this._editorReadonly=h.EditorContextKeys.readOnly.bindTo(q),this._inDiffEditor=h.EditorContextKeys.inDiffEditor.bindTo(q),this._editorColumnSelection=h.EditorContextKeys.columnSelection.bindTo(q),this._hasMultipleSelections=h.EditorContextKeys.hasMultipleSelections.bindTo(q),this._hasNonEmptySelection=h.EditorContextKeys.hasNonEmptySelection.bindTo(q),this._canUndo=h.EditorContextKeys.canUndo.bindTo(q),this._canRedo=h.EditorContextKeys.canRedo.bindTo(q),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const V=this._editor.getOptions();this._editorTabMovesFocus.set(V.get(125)),this._editorReadonly.set(V.get(77)),this._inDiffEditor.set(V.get(51)),this._editorColumnSelection.set(V.get(16))}_updateFromSelection(){const V=this._editor.getSelections();V?(this._hasMultipleSelections.set(V.length>1),this._hasNonEmptySelection.set(V.some(q=>!q.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const V=this._editor.getModel();this._canUndo.set(Boolean(V&&V.canUndo())),this._canRedo.set(Boolean(V&&V.canRedo()))}}class G extends S.Disposable{constructor(V,q){super();this._editor=V,this._contextKeyService=q,this._langId=h.EditorContextKeys.languageId.bindTo(q),this._hasCompletionItemProvider=h.EditorContextKeys.hasCompletionItemProvider.bindTo(q),this._hasCodeActionsProvider=h.EditorContextKeys.hasCodeActionsProvider.bindTo(q),this._hasCodeLensProvider=h.EditorContextKeys.hasCodeLensProvider.bindTo(q),this._hasDefinitionProvider=h.EditorContextKeys.hasDefinitionProvider.bindTo(q),this._hasDeclarationProvider=h.EditorContextKeys.hasDeclarationProvider.bindTo(q),this._hasImplementationProvider=h.EditorContextKeys.hasImplementationProvider.bindTo(q),this._hasTypeDefinitionProvider=h.EditorContextKeys.hasTypeDefinitionProvider.bindTo(q),this._hasHoverProvider=h.EditorContextKeys.hasHoverProvider.bindTo(q),this._hasDocumentHighlightProvider=h.EditorContextKeys.hasDocumentHighlightProvider.bindTo(q),this._hasDocumentSymbolProvider=h.EditorContextKeys.hasDocumentSymbolProvider.bindTo(q),this._hasReferenceProvider=h.EditorContextKeys.hasReferenceProvider.bindTo(q),this._hasRenameProvider=h.EditorContextKeys.hasRenameProvider.bindTo(q),this._hasSignatureHelpProvider=h.EditorContextKeys.hasSignatureHelpProvider.bindTo(q),this._hasInlineHintsProvider=h.EditorContextKeys.hasInlineHintsProvider.bindTo(q),this._hasDocumentFormattingProvider=h.EditorContextKeys.hasDocumentFormattingProvider.bindTo(q),this._hasDocumentSelectionFormattingProvider=h.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(q),this._hasMultipleDocumentFormattingProvider=h.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(q),this._hasMultipleDocumentSelectionFormattingProvider=h.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(q),this._isInWalkThrough=h.EditorContextKeys.isInWalkThroughSnippet.bindTo(q);const ee=()=>this._update();this._register(V.onDidChangeModel(ee)),this._register(V.onDidChangeModelLanguage(ee)),this._register(f.CompletionProviderRegistry.onDidChange(ee)),this._register(f.CodeActionProviderRegistry.onDidChange(ee)),this._register(f.CodeLensProviderRegistry.onDidChange(ee)),this._register(f.DefinitionProviderRegistry.onDidChange(ee)),this._register(f.DeclarationProviderRegistry.onDidChange(ee)),this._register(f.ImplementationProviderRegistry.onDidChange(ee)),this._register(f.TypeDefinitionProviderRegistry.onDidChange(ee)),this._register(f.HoverProviderRegistry.onDidChange(ee)),this._register(f.DocumentHighlightProviderRegistry.onDidChange(ee)),this._register(f.DocumentSymbolProviderRegistry.onDidChange(ee)),this._register(f.ReferenceProviderRegistry.onDidChange(ee)),this._register(f.RenameProviderRegistry.onDidChange(ee)),this._register(f.DocumentFormattingEditProviderRegistry.onDidChange(ee)),this._register(f.DocumentRangeFormattingEditProviderRegistry.onDidChange(ee)),this._register(f.SignatureHelpProviderRegistry.onDidChange(ee)),this._register(f.InlineHintsProviderRegistry.onDidChange(ee)),ee()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const V=this._editor.getModel();if(!V){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(V.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(f.CompletionProviderRegistry.has(V)),this._hasCodeActionsProvider.set(f.CodeActionProviderRegistry.has(V)),this._hasCodeLensProvider.set(f.CodeLensProviderRegistry.has(V)),this._hasDefinitionProvider.set(f.DefinitionProviderRegistry.has(V)),this._hasDeclarationProvider.set(f.DeclarationProviderRegistry.has(V)),this._hasImplementationProvider.set(f.ImplementationProviderRegistry.has(V)),this._hasTypeDefinitionProvider.set(f.TypeDefinitionProviderRegistry.has(V)),this._hasHoverProvider.set(f.HoverProviderRegistry.has(V)),this._hasDocumentHighlightProvider.set(f.DocumentHighlightProviderRegistry.has(V)),this._hasDocumentSymbolProvider.set(f.DocumentSymbolProviderRegistry.has(V)),this._hasReferenceProvider.set(f.ReferenceProviderRegistry.has(V)),this._hasRenameProvider.set(f.RenameProviderRegistry.has(V)),this._hasSignatureHelpProvider.set(f.SignatureHelpProviderRegistry.has(V)),this._hasInlineHintsProvider.set(f.InlineHintsProviderRegistry.has(V)),this._hasDocumentFormattingProvider.set(f.DocumentFormattingEditProviderRegistry.has(V)||f.DocumentRangeFormattingEditProviderRegistry.has(V)),this._hasDocumentSelectionFormattingProvider.set(f.DocumentRangeFormattingEditProviderRegistry.has(V)),this._hasMultipleDocumentFormattingProvider.set(f.DocumentFormattingEditProviderRegistry.all(V).length+f.DocumentRangeFormattingEditProviderRegistry.all(V).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(f.DocumentRangeFormattingEditProviderRegistry.all(V).length>1),this._isInWalkThrough.set(V.uri.scheme===p.Schemas.walkThroughSnippet)})}}e.EditorModeContext=G;class J extends S.Disposable{constructor(V){super();this._onChange=this._register(new w.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(I.trackFocus(V)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const Q=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ae=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function se(H){return Q+encodeURIComponent(H.toString())+ae}const Z=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),T=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function x(H){return Z+encodeURIComponent(H.toString())+T}(0,R.registerThemingParticipant)((H,V)=>{const q=H.getColor(g.editorErrorBorder);q&&V.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${q}; }`);const ee=H.getColor(g.editorErrorForeground);ee&&V.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${se(ee)}") repeat-x bottom left; }`);const oe=H.getColor(g.editorErrorBackground);oe&&V.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${oe}; }`);const le=H.getColor(g.editorWarningBorder);le&&V.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${le}; }`);const Y=H.getColor(g.editorWarningForeground);Y&&V.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${se(Y)}") repeat-x bottom left; }`);const j=H.getColor(g.editorWarningBackground);j&&V.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${j}; }`);const ne=H.getColor(g.editorInfoBorder);ne&&V.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${ne}; }`);const X=H.getColor(g.editorInfoForeground);X&&V.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${se(X)}") repeat-x bottom left; }`);const ue=H.getColor(g.editorInfoBackground);ue&&V.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${ue}; }`);const he=H.getColor(g.editorHintBorder);he&&V.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${he}; }`);const re=H.getColor(g.editorHintForeground);re&&V.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${x(re)}") no-repeat bottom left; }`);const ce=H.getColor(m.editorUnnecessaryCodeOpacity);ce&&V.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${ce.rgba.a}; }`);const me=H.getColor(m.editorUnnecessaryCodeBorder);me&&V.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${me}; }`);const Ce=H.getColor(g.editorForeground)||"inherit";V.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${Ce}}`)})}),define(te[138],ie([0,1,43,28,134,26,16,9,33,12,65]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let u=class extends k.CodeEditorWidget{constructor(l,c,d,r,n,s,t,o,h,f){super(l,Object.assign(Object.assign({},d.getRawOptions()),{overflowWidgetsDomNode:d.getOverflowWidgetsDomNode()}),{},r,n,s,t,o,h,f);this._parentEditor=d,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(d.onDidChangeConfiguration(m=>this._onParentConfigurationChanged(m)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(l){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(l){v.mixin(this._overwriteOptions,l,!0),super.updateOptions(this._overwriteOptions)}};u=Me([_e(3,p.IInstantiationService),_e(4,I.ICodeEditorService),_e(5,w.ICommandService),_e(6,S.IContextKeyService),_e(7,i.IThemeService),_e(8,C.INotificationService),_e(9,_.IAccessibilityService)],u),e.EmbeddedCodeEditorWidget=u}),define(te[589],ie([0,1,13,347,25,21,41,16,78,40,305]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new p.RawContextKey("selectionAnchorSet",!1);let _=class Ft{constructor(r,n){this.editor=r,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(n),this.modelChangeListener=r.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(r){return r.getContribution(Ft.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const r=this.editor.getPosition(),n=this.decorationId?[this.decorationId]:[],s=this.editor.deltaDecorations(n,[{range:w.Selection.fromPositions(r,r),options:{stickiness:1,hoverMessage:new C.MarkdownString().appendText((0,I.localize)(0,null)),className:"selection-anchor"}}]);this.decorationId=s[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,i.alert)((0,I.localize)(1,null,r.lineNumber,r.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);r&&this.editor.setPosition(r.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);if(r){const n=this.editor.getPosition();this.editor.setSelection(w.Selection.fromPositions(r.getStartPosition(),n)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};_.ID="editor.contrib.selectionAnchorController",_=Me([_e(1,p.IContextKeyService)],_);class u extends v.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,I.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|32),weight:100}})}run(r,n){return De(this,void 0,void 0,function*(){_.get(n).setSelectionAnchor()})}}class a extends v.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,I.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(r,n){return De(this,void 0,void 0,function*(){_.get(n).goToSelectionAnchor()})}}class l extends v.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,I.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|41),weight:100}})}run(r,n){return De(this,void 0,void 0,function*(){_.get(n).selectFromAnchorToCursor()})}}class c extends v.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,I.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(r,n){return De(this,void 0,void 0,function*(){_.get(n).cancelSelectionAnchor()})}}(0,v.registerEditorContribution)(_.ID,_),(0,v.registerEditorAction)(u),(0,v.registerEditorAction)(a),(0,v.registerEditorAction)(l),(0,v.registerEditorAction)(c)}),define(te[590],ie([0,1,348,15,2,13,14,3,21,25,50,31,48,22,12,34,308]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const r=(0,l.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},v.localize(0,null));class n extends w.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:v.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(f,m){let g=o.get(m);!g||g.jumpToBracket()}}class s extends w.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:v.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(f,m,g){const b=o.get(m);if(!!b){let y=!0;g&&g.selectBrackets===!1&&(y=!1),b.selectToBracket(y)}}}class t{constructor(f,m,g){this.position=f,this.brackets=m,this.options=g}}class o extends k.Disposable{constructor(f){super();this._editor=f,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new I.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(60),this._updateBracketsSoon.schedule(),this._register(f.onDidChangeCursorPosition(m=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeModelContent(m=>{this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeModel(m=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeModelLanguageConfiguration(m=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeConfiguration(m=>{m.hasChanged(60)&&(this._matchBrackets=this._editor.getOption(60),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(f){return f.getContribution(o.ID)}jumpToBracket(){if(!!this._editor.hasModel()){const f=this._editor.getModel(),m=this._editor.getSelections().map(g=>{const b=g.getStartPosition(),y=f.matchBracket(b);let L=null;if(y)y[0].containsPosition(b)?L=y[1].getStartPosition():y[1].containsPosition(b)&&(L=y[0].getStartPosition());else{const N=f.findEnclosingBrackets(b);if(N)L=N[0].getStartPosition();else{const M=f.findNextBracket(b);M&&M.range&&(L=M.range.getStartPosition())}}return L?new C.Selection(L.lineNumber,L.column,L.lineNumber,L.column):new C.Selection(b.lineNumber,b.column,b.lineNumber,b.column)});this._editor.setSelections(m),this._editor.revealRange(m[0])}}selectToBracket(f){if(!!this._editor.hasModel()){const m=this._editor.getModel(),g=[];this._editor.getSelections().forEach(b=>{const y=b.getStartPosition();let L=m.matchBracket(y);if(!L&&(L=m.findEnclosingBrackets(y),!L)){const D=m.findNextBracket(y);D&&D.range&&(L=m.matchBracket(D.range.getStartPosition()))}let N=null,M=null;if(L){L.sort(p.Range.compareRangesUsingStarts);const[D,R]=L;N=f?D.getStartPosition():D.getEndPosition(),M=f?R.getEndPosition():R.getStartPosition()}N&&M&&g.push(new C.Selection(N.lineNumber,N.column,M.lineNumber,M.column))}),g.length>0&&(this._editor.setSelections(g),this._editor.revealRange(g[0]))}}_updateBrackets(){if(this._matchBrackets!=="never"){this._recomputeBrackets();let f=[],m=0;for(const g of this._lastBracketsData){let b=g.brackets;b&&(f[m++]={range:b[0],options:g.options},f[m++]={range:b[1],options:g.options})}this._decorations=this._editor.deltaDecorations(this._decorations,f)}}_recomputeBrackets(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}const f=this._editor.getSelections();if(f.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const m=this._editor.getModel(),g=m.getVersionId();let b=[];this._lastVersionId===g&&(b=this._lastBracketsData);let y=[],L=0;for(let P=0,O=f.length;P<O;P++){let W=f[P];W.isEmpty()&&(y[L++]=W.getStartPosition())}y.length>1&&y.sort(S.Position.compare);let N=[],M=0,D=0,R=b.length;for(let P=0,O=y.length;P<O;P++){let W=y[P];for(;D<R&&b[D].position.isBefore(W);)D++;if(D<R&&b[D].position.equals(W))N[M++]=b[D];else{let F=m.matchBracket(W),E=o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!F&&this._matchBrackets==="always"&&(F=m.findEnclosingBrackets(W,20),E=o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),N[M++]=new t(W,F,E)}}this._lastBracketsData=N,this._lastVersionId=g}}e.BracketMatchingController=o,o.ID="editor.contrib.bracketMatchingController",o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=u.ModelDecorationOptions.register({stickiness:1,className:"bracket-match",overviewRuler:{color:(0,c.themeColorFromId)(r),position:_.OverviewRulerLane.Center}}),o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=u.ModelDecorationOptions.register({stickiness:1,className:"bracket-match"}),(0,w.registerEditorContribution)(o.ID,o),(0,w.registerEditorAction)(s),(0,w.registerEditorAction)(n),(0,c.registerThemingParticipant)((h,f)=>{const m=h.getColor(a.editorBracketMatchBackground);m&&f.addRule(`.monaco-editor .bracket-match { background-color: ${m}; }`);const g=h.getColor(a.editorBracketMatchBorder);g&&f.addRule(`.monaco-editor .bracket-match { border: 1px solid ${g}; }`)}),d.MenuRegistry.appendMenuItem(d.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:v.localize(3,null)},order:2})}),define(te[591],ie([0,1,349,13,25,637]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends I.EditorAction{constructor(_,u){super(u);this.left=_}run(_,u){if(!!u.hasModel()){let a=[],l=u.getSelections();for(const c of l)a.push(new w.MoveCaretCommand(c,this.left));u.pushUndoStop(),u.executeCommands(this.id,a),u.pushUndoStop()}}}class p extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:v.localize(0,null),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class C extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:v.localize(1,null),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}(0,I.registerEditorAction)(p),(0,I.registerEditorAction)(C)}),define(te[592],ie([0,1,350,13,97,3,25,180]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class C extends I.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:v.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(_,u){if(!!u.hasModel()){let a=u.getModel(),l=[],c=u.getSelections();for(let d of c)if(!!d.isEmpty()){let r=d.startLineNumber,n=d.startColumn,s=a.getLineMaxColumn(r);if(!(r===1&&(n===1||n===2&&s===2))){let t=n===s?d.getPosition():p.MoveOperations.rightPosition(a,d.getPosition().lineNumber,d.getPosition().column),o=p.MoveOperations.leftPosition(a,t.lineNumber,t.column),h=p.MoveOperations.leftPosition(a,o.lineNumber,o.column),f=a.getValueInRange(w.Range.fromPositions(h,o)),m=a.getValueInRange(w.Range.fromPositions(o,t)),g=w.Range.fromPositions(h,t);l.push(new k.ReplaceCommand(g,m+f))}}l.length>0&&(u.pushUndoStop(),u.executeCommands(this.id,l),u.pushUndoStop())}}}(0,I.registerEditorAction)(C)}),define(te[593],ie([0,1,351,36,17,168,13,28,25,34,87]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const u="9_cutcopypaste",a=k.isNative||document.queryCommandSupported("cut"),l=k.isNative||document.queryCommandSupported("copy"),c=typeof navigator.clipboard=="undefined"||I.isFirefox?document.queryCommandSupported("paste"):!0;function d(s){return s.register(),s}e.CutAction=a?d(new S.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:k.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(0,null),order:1},{menuId:i.MenuId.EditorContext,group:u,title:v.localize(1,null),when:C.EditorContextKeys.writable,order:1},{menuId:i.MenuId.CommandPalette,group:"",title:v.localize(2,null),order:1}]})):void 0,e.CopyAction=l?d(new S.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:k.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(3,null),order:2},{menuId:i.MenuId.EditorContext,group:u,title:v.localize(4,null),order:2},{menuId:i.MenuId.CommandPalette,group:"",title:v.localize(5,null),order:1}]})):void 0,i.MenuRegistry.appendMenuItem(i.MenuId.MenubarEditMenu,{submenu:i.MenuId.MenubarCopy,title:{value:v.localize(6,null),original:"Copy As"},group:"2_ccp",order:3}),i.MenuRegistry.appendMenuItem(i.MenuId.EditorContext,{submenu:i.MenuId.EditorContextCopy,title:{value:v.localize(7,null),original:"Copy As"},group:u,order:3}),e.PasteAction=c?d(new S.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:k.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(8,null),order:4},{menuId:i.MenuId.EditorContext,group:u,title:v.localize(9,null),when:C.EditorContextKeys.writable,order:4},{menuId:i.MenuId.CommandPalette,group:"",title:v.localize(10,null),order:1}]})):void 0;class r extends S.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:v.localize(11,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(t,o){!o.hasModel()||!o.getOption(30)&&o.getSelection().isEmpty()||(w.CopyOptions.forceCopyWithSyntaxHighlighting=!0,o.focus(),document.execCommand("copy"),w.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function n(s,t){!s||(s.addImplementation(1e4,"code-editor",(o,h)=>{const f=o.get(p.ICodeEditorService).getFocusedCodeEditor();if(f&&f.hasTextFocus()){const m=f.getOption(30),g=f.getSelection();return g&&g.isEmpty()&&!m||document.execCommand(t),!0}return!1}),s.addImplementation(0,"generic-dom",(o,h)=>(document.execCommand(t),!0)))}n(e.CutAction,"cut"),n(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(s,t)=>{const o=s.get(p.ICodeEditorService),h=s.get(_.IClipboardService),f=o.getFocusedCodeEditor();return f&&f.hasTextFocus()?(!document.execCommand("paste")&&k.isWeb&&(()=>De(void 0,void 0,void 0,function*(){const g=yield h.readText();if(g!==""){const b=w.InMemoryClipboardMetadataManager.INSTANCE.get(g);let y=!1,L=null,N=null;b&&(y=f.getOption(30)&&!!b.isFromEmptySelection,L=typeof b.multicursorText!="undefined"?b.multicursorText:null,N=b.mode),f.trigger("keyboard","paste",{text:g,pasteOnNewLine:y,multicursorText:L,mode:N})}}))(),!0):!1}),e.PasteAction.addImplementation(0,"generic-dom",(s,t)=>(document.execCommand("paste"),!0))),l&&(0,S.registerEditorAction)(r)}),define(te[139],ie([0,1,19,24,11,2,23,68,3,21,18,37,124,57,26]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class d{constructor(f,m){this.action=f,this.provider=m}resolve(f){var m;return De(this,void 0,void 0,function*(){if(((m=this.provider)===null||m===void 0?void 0:m.resolveCodeAction)&&!this.action.edit){let g;try{g=yield this.provider.resolveCodeAction(this.action,f)}catch(b){(0,k.onUnexpectedExternalError)(b)}g&&(this.action.edit=g.edit)}return this})}}e.CodeActionItem=d;class r extends w.Disposable{constructor(f,m,g){super();this.documentation=m,this._register(g),this.allActions=[...f].sort(r.codeActionsComparator),this.validActions=this.allActions.filter(({action:b})=>!b.disabled)}static codeActionsComparator({action:f},{action:m}){return f.isPreferred&&!m.isPreferred?-1:!f.isPreferred&&m.isPreferred?1:(0,v.isNonEmptyArray)(f.diagnostics)?(0,v.isNonEmptyArray)(m.diagnostics)?f.diagnostics[0].message.localeCompare(m.diagnostics[0].message):-1:(0,v.isNonEmptyArray)(m.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:f})=>!!f.kind&&a.CodeActionKind.QuickFix.contains(new a.CodeActionKind(f.kind))&&!!f.isPreferred)}}const n={actions:[],documentation:void 0};function s(h,f,m,g,b){var y;const L=m.filter||{},N={only:(y=L.include)===null||y===void 0?void 0:y.value,trigger:m.type},M=new p.TextModelCancellationTokenSource(h,b),D=t(h,L),R=new w.DisposableStore,P=D.map(W=>De(this,void 0,void 0,function*(){try{g.report(W);const F=yield W.provideCodeActions(h,f,N,M.token);if(F&&R.add(F),M.token.isCancellationRequested)return n;const E=((F==null?void 0:F.actions)||[]).filter(B=>B&&(0,a.filtersAction)(L,B)),A=o(W,E,L.include);return{actions:E.map(B=>new d(B,W)),documentation:A}}catch(F){if((0,k.isPromiseCanceledError)(F))throw F;return(0,k.onUnexpectedExternalError)(F),n}})),O=_.CodeActionProviderRegistry.onDidChange(()=>{const W=_.CodeActionProviderRegistry.all(h);(0,v.equals)(W,D)||M.cancel()});return Promise.all(P).then(W=>{const F=(0,v.flatten)(W.map(A=>A.actions)),E=(0,v.coalesce)(W.map(A=>A.documentation));return new r(F,E,R)}).finally(()=>{O.dispose(),M.dispose()})}e.getCodeActions=s;function t(h,f){return _.CodeActionProviderRegistry.all(h).filter(m=>m.providedCodeActionKinds?m.providedCodeActionKinds.some(g=>(0,a.mayIncludeActionsOfKind)(f,new a.CodeActionKind(g))):!0)}function o(h,f,m){if(!!h.documentation){const g=h.documentation.map(b=>({kind:new a.CodeActionKind(b.kind),command:b.command}));if(m){let b;for(const y of g)y.kind.contains(m)&&(b?b.kind.contains(y.kind)&&(b=y):b=y);if(b)return b==null?void 0:b.command}for(const b of f)if(!!b.kind){for(const y of g)if(y.kind.contains(new a.CodeActionKind(b.kind)))return y.command}}}c.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(h,f,m,g,b){return De(this,void 0,void 0,function*(){if(!(f instanceof S.URI))throw(0,k.illegalArgument)();const y=h.get(u.IModelService).getModel(f);if(!y)throw(0,k.illegalArgument)();const L=i.Selection.isISelection(m)?i.Selection.liftSelection(m):C.Range.isIRange(m)?y.validateRange(m):void 0;if(!L)throw(0,k.illegalArgument)();const N=typeof g=="string"?new a.CodeActionKind(g):void 0,M=yield s(y,L,{type:1,filter:{includeSourceActions:!0,include:N}},l.Progress.None,I.CancellationToken.None),D=[],R=Math.min(M.validActions.length,typeof b=="number"?b:0);for(let P=0;P<R;P++)D.push(M.validActions[P].resolve(I.CancellationToken.None));try{return yield Promise.all(D),M.validActions.map(P=>P.action)}finally{setTimeout(()=>M.dispose(),100)}})})}),define(te[595],ie([0,1,7,49,11,177,2,14,18,139,124,67,35]),function($,e,v,I,k,w,S,p,C,i,_,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class l extends I.Action{constructor(s,t){super(s.command?s.command.id:s.title,c(s.title),void 0,!s.disabled,t);this.action=s}}function c(n){return n.replace(/\r\n|\r|\n/g," ")}let d=class extends S.Disposable{constructor(s,t,o,h){super();this._editor=s,this._delegate=t,this._contextMenuService=o,this._visible=!1,this._showingActions=this._register(new S.MutableDisposable),this._keybindingResolver=new r({getKeybindings:()=>h.getKeybindings()})}get isVisible(){return this._visible}show(s,t,o,h){return De(this,void 0,void 0,function*(){const f=h.includeDisabledActions?t.allActions:t.validActions;if(!f.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,k.canceled)();this._visible=!0,this._showingActions.value=t;const m=this.getMenuActions(s,f,t.documentation),g=p.Position.isIPosition(o)?this._toCoords(o):o||{x:0,y:0},b=this._keybindingResolver.getResolver();this._contextMenuService.showContextMenu({domForShadowRoot:this._editor.getDomNode(),getAnchor:()=>g,getActions:()=>m,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:y=>y instanceof l?b(y.action):void 0})})}getMenuActions(s,t,o){var h,f;const m=L=>new l(L.action,()=>this._delegate.onSelectCodeAction(L)),g=t.map(m),b=[...o],y=this._editor.getModel();if(y&&g.length)for(const L of C.CodeActionProviderRegistry.all(y))L._getAdditionalMenuItems&&b.push(...L._getAdditionalMenuItems({trigger:s.type,only:(f=(h=s.filter)===null||h===void 0?void 0:h.include)===null||f===void 0?void 0:f.value},t.map(N=>N.action)));return b.length&&g.push(new I.Separator,...b.map(L=>m(new i.CodeActionItem({title:L.title,command:L},void 0)))),g}_toCoords(s){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(s,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(s),o=(0,v.getDomNodePagePosition)(this._editor.getDomNode()),h=o.left+t.left,f=o.top+t.top+t.height;return{x:h,y:f}}};d=Me([_e(2,u.IContextMenuService),_e(3,a.IKeybindingService)],d),e.CodeActionMenu=d;class r{constructor(s){this._keybindingProvider=s}getResolver(){const s=new w.Lazy(()=>this._keybindingProvider.getKeybindings().filter(t=>r.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let o=t.commandArgs;return t.command===i.organizeImportsCommandId?o={kind:_.CodeActionKind.SourceOrganizeImports.value}:t.command===i.fixAllCommandId&&(o={kind:_.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},_.CodeActionCommandArgs.fromUser(o,{kind:_.CodeActionKind.None,apply:"never"}))}));return t=>{if(t.kind){const o=this.bestKeybindingForCodeAction(t,s.getValue());return o==null?void 0:o.resolvedKeybinding}}}bestKeybindingForCodeAction(s,t){if(!!s.kind){const o=new _.CodeActionKind(s.kind);return t.filter(h=>h.kind.contains(o)).filter(h=>h.preferred?s.isPreferred:!0).reduceRight((h,f)=>h?h.kind.contains(f.kind)?f:h:f,void 0)}}}e.CodeActionKeybindingResolver=r,r.codeActionCommands=[i.refactorCommandId,i.codeActionCommandId,i.sourceActionCommandId,i.organizeImportsCommandId,i.fixAllCommandId]});var tt=this&&this.__classPrivateFieldGet||function($,e,v,I){if(v==="a"&&!I)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?$!==e||!I:!e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?I:v==="a"?I.call($):I?I.value:e.get($)},_t=this&&this.__classPrivateFieldSet||function($,e,v,I,k){if(I==="m")throw new TypeError("Private method is not writable");if(I==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?$!==e||!k:!e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return I==="a"?k.call($,v):k?k.value=v:e.set($,v),v};define(te[596],ie([0,1,15,11,6,2,46,3,18,16,57,139]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new i.RawContextKey("supportedCodeAction","");class l extends w.Disposable{constructor(s,t,o,h=250){super();this._editor=s,this._markerService=t,this._signalChange=o,this._delay=h,this._autoTriggerTimer=this._register(new v.TimeoutTimer),this._register(this._markerService.onMarkerChanged(f=>this._onMarkerChanges(f))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(s){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(s);return this._createEventAndSignalChange(s,t)}_onMarkerChanges(s){const t=this._editor.getModel();!t||s.some(o=>(0,S.isEqual)(o,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(s){const t=this._editor.getModel();if(!!t)for(const o of this._markerService.read({resource:t.uri})){const h=t.validateRange(o);if(p.Range.intersectRanges(h,s))return p.Range.lift(h)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(s){if(!!this._editor.hasModel()){const t=this._editor.getModel(),o=this._editor.getSelection();if(o.isEmpty()&&s.type===2){const{lineNumber:h,column:f}=o.getPosition(),m=t.getLineContent(h);if(m.length===0)return;if(f===1){if(/\s/.test(m[0]))return}else if(f===t.getLineMaxColumn(h)){if(/\s/.test(m[m.length-1]))return}else if(/\s/.test(m[f-2])&&/\s/.test(m[f-1]))return}return o}}_createEventAndSignalChange(s,t){const o=this._editor.getModel();if(!t||!o){this._signalChange(void 0);return}const h=this._getRangeOfMarker(t),f=h?h.getStartPosition():t.getStartPosition(),m={trigger:s,selection:t,position:f};return this._signalChange(m),m}}var c;(function(n){n.Empty={type:0};class s{constructor(o,h,f,m){this.trigger=o,this.rangeOrSelection=h,this.position=f,this._cancellablePromise=m,this.type=1,this.actions=m.catch(g=>{if((0,I.isPromiseCanceledError)(g))return d;throw g})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=s})(c=e.CodeActionsState||(e.CodeActionsState={}));const d={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class r extends w.Disposable{constructor(s,t,o,h){super();this._editor=s,this._markerService=t,this._progressService=h,this._codeActionOracle=this._register(new w.MutableDisposable),this._state=c.Empty,this._onDidChangeState=this._register(new k.Emitter),this.onDidChangeState=this._onDidChangeState.event,a.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(C.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){tt(this,a,"f")||(_t(this,a,!0,"f"),super.dispose(),this.setState(c.Empty,!0))}_update(){if(!tt(this,a,"f")){this._codeActionOracle.value=void 0,this.setState(c.Empty);const s=this._editor.getModel();if(s&&C.CodeActionProviderRegistry.has(s)&&!this._editor.getOption(77)){const t=[];for(const o of C.CodeActionProviderRegistry.all(s))Array.isArray(o.providedCodeActionKinds)&&t.push(...o.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new l(this._editor,this._markerService,o=>{var h;if(!o){this.setState(c.Empty);return}const f=(0,v.createCancelablePromise)(m=>(0,u.getCodeActions)(s,o.selection,o.trigger,_.Progress.None,m));o.trigger.type===1&&((h=this._progressService)===null||h===void 0||h.showWhile(f,250)),this.setState(new c.Triggered(o.trigger,o.selection,o.position,f))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}}trigger(s){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(s)}setState(s,t){s!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=s,!t&&!tt(this,a,"f")&&this._onDidChangeState.fire(s))}}e.CodeActionModel=r,a=new WeakMap}),define(te[597],ie([0,1,15,11,2,68,13,18,196,565,26,33,534,7,95,79,354,25,132]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let t=class{constructor(h,f,m,g){this._editor=h,this._commandService=f,this._notificationService=m,this._codeLensCache=g,this._disposables=new k.DisposableStore,this._localToDispose=new k.DisposableStore,this._lenses=[],this._getCodeLensModelDelays=new s.LanguageFeatureRequestDelays(p.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new k.DisposableStore,this._resolveCodeLensesDelays=new s.LanguageFeatureRequestDelays(p.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new v.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(b=>{(b.hasChanged(40)||b.hasChanged(14)||b.hasChanged(13))&&this._updateLensStyle(),b.hasChanged(12)&&this._onModelChange()})),this._disposables.add(p.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,c.hash)(this._editor.getId()).toString(16),this._styleElement=l.createStyleSheet(l.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var h;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(h=this._currentCodeLensModel)===null||h===void 0||h.dispose(),this._styleElement.remove()}_getLayoutInfo(){let h=this._editor.getOption(14),f;return!h||h<5?(h=this._editor.getOption(42)*.9|0,f=this._editor.getOption(55)):f=h*Math.max(1.3,this._editor.getOption(55)/this._editor.getOption(42))|0,{codeLensHeight:f,fontSize:h}}_updateLensStyle(){const{codeLensHeight:h,fontSize:f}=this._getLayoutInfo(),m=this._editor.getOption(13),g=this._editor.getOption(40),b=`--codelens-font-family${this._styleClassName}`,y=`--codelens-font-features${this._styleClassName}`;let L=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${h}px; font-size: ${f}px; padding-right: ${Math.round(f*.5)}px; font-feature-settings: var(${y}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${h}px; font-size: ${f}px; }
		`;m&&(L+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${b})}`),this._styleElement.textContent=L,this._editor.getContainerDomNode().style.setProperty(b,m!=null?m:"inherit"),this._editor.getContainerDomNode().style.setProperty(y,g.fontFeatureSettings),this._editor.changeViewZones(N=>{for(let M of this._lenses)M.updateHeight(h,N)})}_localDispose(){var h,f,m;(h=this._getCodeLensModelPromise)===null||h===void 0||h.cancel(),this._getCodeLensModelPromise=void 0,(f=this._resolveCodeLensesPromise)===null||f===void 0||f.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(m=this._currentCodeLensModel)===null||m===void 0||m.dispose()}_onModelChange(){this._localDispose();const h=this._editor.getModel();if(!!h&&!!this._editor.getOption(12)){const f=this._codeLensCache.get(h);if(f&&this._renderCodeLensSymbols(f),!p.CodeLensProviderRegistry.has(h)){f&&this._localToDispose.add((0,v.disposableTimeout)(()=>{const g=this._codeLensCache.get(h);f===g&&(this._codeLensCache.delete(h),this._onModelChange())},30*1e3));return}for(const g of p.CodeLensProviderRegistry.all(h))if(typeof g.onDidChange=="function"){let b=g.onDidChange(()=>m.schedule());this._localToDispose.add(b)}const m=new v.RunOnceScheduler(()=>{var g;const b=Date.now();(g=this._getCodeLensModelPromise)===null||g===void 0||g.cancel(),this._getCodeLensModelPromise=(0,v.createCancelablePromise)(y=>(0,C.getCodeLensModel)(h,y)),this._getCodeLensModelPromise.then(y=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=y,this._codeLensCache.put(h,y);const L=this._getCodeLensModelDelays.update(h,Date.now()-b);m.delay=L,this._renderCodeLensSymbols(y),this._resolveCodeLensesInViewport()},I.onUnexpectedError)},this._getCodeLensModelDelays.get(h));this._localToDispose.add(m),this._localToDispose.add((0,k.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(g=>{this._editor.changeViewZones(b=>{let y=[],L=-1;this._lenses.forEach(M=>{!M.isValid()||L===M.getLineNumber()?y.push(M):(M.update(b),L=M.getLineNumber())});let N=new i.CodeLensHelper;y.forEach(M=>{M.dispose(N,b),this._lenses.splice(this._lenses.indexOf(M),1)}),N.commit(g)})}),m.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{m.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(g=>{g.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,k.toDisposable)(()=>{if(this._editor.getModel()){const g=w.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(b=>{this._editor.changeViewZones(y=>{this._disposeAllLenses(b,y)})}),g.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(g=>{if(g.target.type===9){let b=g.target.element;if((b==null?void 0:b.tagName)==="SPAN"&&(b=b.parentElement),(b==null?void 0:b.tagName)==="A")for(const y of this._lenses){let L=y.getCommand(b);if(L){this._commandService.executeCommand(L.id,...L.arguments||[]).catch(N=>this._notificationService.error(N));break}}}})),m.schedule()}}_disposeAllLenses(h,f){const m=new i.CodeLensHelper;for(const g of this._lenses)g.dispose(m,f);h&&m.commit(h),this._lenses.length=0}_renderCodeLensSymbols(h){if(!!this._editor.hasModel()){let f=this._editor.getModel().getLineCount(),m=[],g;for(let L of h.lenses){let N=L.symbol.range.startLineNumber;N<1||N>f||(g&&g[g.length-1].symbol.range.startLineNumber===N?g.push(L):(g=[L],m.push(g)))}const b=w.StableEditorScrollState.capture(this._editor),y=this._getLayoutInfo();this._editor.changeDecorations(L=>{this._editor.changeViewZones(N=>{const M=new i.CodeLensHelper;let D=0,R=0;for(;R<m.length&&D<this._lenses.length;){let P=m[R][0].symbol.range.startLineNumber,O=this._lenses[D].getLineNumber();O<P?(this._lenses[D].dispose(M,N),this._lenses.splice(D,1)):O===P?(this._lenses[D].updateCodeLensSymbols(m[R],M),R++,D++):(this._lenses.splice(D,0,new i.CodeLensWidget(m[R],this._editor,this._styleClassName,M,N,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),D++,R++)}for(;D<this._lenses.length;)this._lenses[D].dispose(M,N),this._lenses.splice(D,1);for(;R<m.length;)this._lenses.push(new i.CodeLensWidget(m[R],this._editor,this._styleClassName,M,N,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),R++;M.commit(L)})}),b.restore(this._editor)}}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var h;(h=this._resolveCodeLensesPromise)===null||h===void 0||h.cancel(),this._resolveCodeLensesPromise=void 0;const f=this._editor.getModel();if(!!f){const m=[],g=[];if(this._lenses.forEach(L=>{const N=L.computeIfNecessary(f);N&&(m.push(N),g.push(L))}),m.length!==0){const b=Date.now(),y=(0,v.createCancelablePromise)(L=>{const N=m.map((M,D)=>{const R=new Array(M.length),P=M.map((O,W)=>!O.symbol.command&&typeof O.provider.resolveCodeLens=="function"?Promise.resolve(O.provider.resolveCodeLens(f,O.symbol,L)).then(F=>{R[W]=F},I.onUnexpectedExternalError):(R[W]=O.symbol,Promise.resolve(void 0)));return Promise.all(P).then(()=>{!L.isCancellationRequested&&!g[D].isDisposed()&&g[D].updateCommands(R)})});return Promise.all(N)});this._resolveCodeLensesPromise=y,this._resolveCodeLensesPromise.then(()=>{const L=this._resolveCodeLensesDelays.update(f,Date.now()-b);this._resolveCodeLensesScheduler.delay=L,this._currentCodeLensModel&&this._codeLensCache.put(f,this._currentCodeLensModel),this._oldCodeLensModels.clear(),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},L=>{(0,I.onUnexpectedError)(L),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}}}getLenses(){return this._lenses}};t.ID="css.editor.codeLens",t=Me([_e(1,_.ICommandService),_e(2,u.INotificationService),_e(3,a.ICodeLensCache)],t),e.CodeLensContribution=t,(0,S.registerEditorContribution)(t.ID,t),(0,S.registerEditorAction)(class extends S.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:n.EditorContextKeys.hasCodeLensProvider,label:(0,r.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(h,f){return De(this,void 0,void 0,function*(){if(!!f.hasModel()){const m=h.get(d.IQuickInputService),g=h.get(_.ICommandService),b=h.get(u.INotificationService),y=f.getSelection().positionLineNumber,L=f.getContribution(t.ID),N=[];for(let D of L.getLenses())if(D.getLineNumber()===y)for(let R of D.getItems()){const{command:P}=R.symbol;P&&N.push({label:P.title,command:P})}if(N.length!==0){const M=yield m.pick(N,{canPickMany:!1});if(!!M)try{yield g.executeCommand(M.command.id,...M.command.arguments||[])}catch(D){b.error(D)}}}})}})}),define(te[250],ie([0,1,15,29,11,95,2,13,28,3,31,18,197,44]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=void 0;const c=500;let d=class Wt extends S.Disposable{constructor(n,s,t){super();this._editor=n,this._codeEditorService=s,this._configurationService=t,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(n.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(n.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(u.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(n.onDidChangeConfiguration(()=>{let o=this._isEnabled;this._isEnabled=this.isEnabled(),o!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const n=this._editor.getModel();if(!n)return!1;const s=n.getLanguageIdentifier(),t=this._configurationService.getValue(s.language);if(t){const o=t.colorDecorators;if(o&&o.enable!==void 0&&!o.enable)return o.enable}return this._editor.getOption(15)}static get(n){return n.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!!this._isEnabled){const n=this._editor.getModel();!n||!u.ColorProviderRegistry.has(n)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new v.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},Wt.RECOMPUTE_TIME))})),this.beginCompute())}}beginCompute(){this._computePromise=(0,v.createCancelablePromise)(n=>{const s=this._editor.getModel();return s?(0,a.getColors)(s,n):Promise.resolve([])}),this._computePromise.then(n=>{this.updateDecorations(n),this.updateColorDecorators(n),this._computePromise=null},k.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(n){const s=n.map(t=>({range:{startLineNumber:t.colorInfo.range.startLineNumber,startColumn:t.colorInfo.range.startColumn,endLineNumber:t.colorInfo.range.endLineNumber,endColumn:t.colorInfo.range.endColumn},options:_.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,s),this._colorDatas=new Map,this._decorationsIds.forEach((t,o)=>this._colorDatas.set(t,n[o]))}updateColorDecorators(n){let s=[],t={};for(let o=0;o<n.length&&s.length<c;o++){const{red:h,green:f,blue:m,alpha:g}=n[o].colorInfo.color,b=new I.RGBA(Math.round(h*255),Math.round(f*255),Math.round(m*255),g);let y=(0,w.hash)(`rgba(${b.r},${b.g},${b.b},${b.a})`).toString(16),L=`rgba(${b.r}, ${b.g}, ${b.b}, ${b.a})`,N="colorBox-"+y;!this._decorationsTypes.has(N)&&!t[N]&&this._codeEditorService.registerDecorationType(N,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:L},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),t[N]=!0,s.push({range:{startLineNumber:n[o].colorInfo.range.startLineNumber,startColumn:n[o].colorInfo.range.startColumn,endLineNumber:n[o].colorInfo.range.endLineNumber,endColumn:n[o].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(N,!0)})}this._decorationsTypes.forEach(o=>{t[o]||this._codeEditorService.removeDecorationType(o)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,s)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(n=>{this._codeEditorService.removeDecorationType(n)})}getColorData(n){const s=this._editor.getModel();if(!s)return null;const t=s.getDecorationsInRange(i.Range.fromPositions(n,n)).filter(o=>this._colorDatas.has(o.id));return t.length===0?null:this._colorDatas.get(t[0].id)}};d.ID="editor.contrib.colorDetector",d.RECOMPUTE_TIME=1e3,d=Me([_e(1,C.ICodeEditorService),_e(2,l.IConfigurationService)],d),e.ColorDetector=d,(0,p.registerEditorContribution)(d.ID,d)}),define(te[599],ie([0,1,355,41,13,3,25,222,650,34]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class _ extends k.EditorAction{constructor(r,n){super(n);this._type=r}run(r,n){if(!!n.hasModel()){const s=n.getModel(),t=[],o=s.getOptions(),h=n.getOption(17),f=n.getSelections().map((g,b)=>({selection:g,index:b,ignoreFirstLine:!1}));f.sort((g,b)=>w.Range.compareRangesUsingStarts(g.selection,b.selection));let m=f[0];for(let g=1;g<f.length;g++){const b=f[g];m.selection.endLineNumber===b.selection.startLineNumber&&(m.index<b.index?b.ignoreFirstLine=!0:(m.ignoreFirstLine=!0,m=b))}for(const g of f)t.push(new C.LineCommentCommand(g.selection,o.tabSize,this._type,h.insertSpace,h.ignoreEmptyLines,g.ignoreFirstLine));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}}class u extends _{constructor(){super(0,{id:"editor.action.commentLine",label:v.localize(0,null),alias:"Toggle Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:v.localize(1,null),order:1}})}}class a extends _{constructor(){super(1,{id:"editor.action.addCommentLine",label:v.localize(2,null),alias:"Add Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|33),weight:100}})}}class l extends _{constructor(){super(2,{id:"editor.action.removeCommentLine",label:v.localize(3,null),alias:"Remove Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|51),weight:100}})}}class c extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:v.localize(4,null),alias:"Toggle Block Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:v.localize(5,null),order:2}})}run(r,n){if(!!n.hasModel()){const s=n.getOption(17),t=[],o=n.getSelections();for(const h of o)t.push(new p.BlockCommentCommand(h,s.insertSpace));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}}(0,k.registerEditorAction)(u),(0,k.registerEditorAction)(a),(0,k.registerEditorAction)(l),(0,k.registerEditorAction)(c)}),define(te[600],ie([0,1,356,7,49,2,13,25,34,16,67,35,116]),function($,e,v,I,k,w,S,p,C,i,_,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let l=class Bt{constructor(r,n,s,t,o,h){this._contextMenuService=n,this._contextViewService=s,this._contextKeyService=t,this._keybindingService=o,this._menuService=h,this._toDispose=new w.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=r,this._toDispose.add(this._editor.onContextMenu(f=>this._onContextMenu(f))),this._toDispose.add(this._editor.onMouseWheel(f=>{if(this._contextMenuIsBeingShownCount>0){const m=this._contextViewService.getContextViewElement(),g=f.srcElement;g.shadowRoot&&I.getShadowRoot(m)===g.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(f=>{f.keyCode===58&&(f.preventDefault(),f.stopPropagation(),this.showContextMenu())}))}static get(r){return r.getContribution(Bt.ID)}_onContextMenu(r){if(!!this._editor.hasModel()){if(!this._editor.getOption(18)){this._editor.focus(),r.target.position&&!this._editor.getSelection().containsPosition(r.target.position)&&this._editor.setPosition(r.target.position);return}if(r.target.type!==12&&(r.event.preventDefault(),!(r.target.type!==6&&r.target.type!==7&&r.target.type!==1))){if(this._editor.focus(),r.target.position){let s=!1;for(const t of this._editor.getSelections())if(t.containsPosition(r.target.position)){s=!0;break}s||this._editor.setPosition(r.target.position)}let n=null;r.target.type!==1&&(n={x:r.event.posx-1,width:2,y:r.event.posy-1,height:2}),this.showContextMenu(n)}}}showContextMenu(r){if(!!this._editor.getOption(18)&&!!this._editor.hasModel()){if(!this._contextMenuService){this._editor.focus();return}const n=this._getMenuActions(this._editor.getModel(),C.MenuId.EditorContext);n.length>0&&this._doShowContextMenu(n,r)}}_getMenuActions(r,n){const s=[],t=this._menuService.createMenu(n,this._contextKeyService),o=t.getActions({arg:r.uri});t.dispose();for(let h of o){const[,f]=h;let m=0;for(const g of f)if(g instanceof C.SubmenuItemAction){const b=this._getMenuActions(r,g.item.submenu);b.length>0&&(s.push(new k.SubmenuAction(g.id,g.label,b)),m++)}else s.push(g),m++;m&&s.push(new k.Separator)}return s.length&&s.pop(),s}_doShowContextMenu(r,n=null){if(!!this._editor.hasModel()){const s=this._editor.getOption(50);if(this._editor.updateOptions({hover:{enabled:!1}}),!n){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),o=I.getDomNodePagePosition(this._editor.getDomNode()),h=o.left+t.left,f=o.top+t.top+t.height;n={x:h,y:f}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:this._editor.getDomNode(),getAnchor:()=>n,getActions:()=>r,getActionViewItem:t=>{const o=this._keybindingFor(t);if(o)return new a.ActionViewItem(t,t,{label:!0,keybinding:o.getLabel(),isMenu:!0});const h=t;return typeof h.getActionViewItem=="function"?h.getActionViewItem():new a.ActionViewItem(t,t,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:t=>this._keybindingFor(t),onHide:t=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:s})}})}}_keybindingFor(r){return this._keybindingService.lookupKeybinding(r.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};l.ID="editor.contrib.contextmenu",l=Me([_e(1,_.IContextMenuService),_e(2,_.IContextViewService),_e(3,i.IContextKeyService),_e(4,u.IKeybindingService),_e(5,C.IMenuService)],l),e.ContextMenuController=l;class c extends S.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:v.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(r,n){l.get(n).showContextMenu()}}(0,S.registerEditorContribution)(l.ID,l),(0,S.registerEditorAction)(c)}),define(te[601],ie([0,1,357,2,13,25]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(a){this.selections=a}equals(a){const l=this.selections.length,c=a.selections.length;if(l!==c)return!1;for(let d=0;d<l;d++)if(!this.selections[d].equalsSelection(a.selections[d]))return!1;return!0}}class p{constructor(a,l,c){this.cursorState=a,this.scrollTop=l,this.scrollLeft=c}}class C extends I.Disposable{constructor(a){super();this._editor=a,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(a.onDidChangeModel(l=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeModelContent(l=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeCursorSelection(l=>{if(!this._isCursorUndoRedo&&!!l.oldSelections&&l.oldModelVersionId===l.modelVersionId){const c=new S(l.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(c)||(this._undoStack.push(new p(c,a.getScrollTop(),a.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}}))}static get(a){return a.getContribution(C.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new p(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new p(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(a){this._isCursorUndoRedo=!0,this._editor.setSelections(a.cursorState.selections),this._editor.setScrollPosition({scrollTop:a.scrollTop,scrollLeft:a.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=C,C.ID="editor.contrib.cursorUndoRedoController";class i extends k.EditorAction{constructor(){super({id:"cursorUndo",label:v.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(a,l,c){C.get(l).cursorUndo()}}e.CursorUndo=i;class _ extends k.EditorAction{constructor(){super({id:"cursorRedo",label:v.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(a,l,c){C.get(l).cursorRedo()}}e.CursorRedo=_,(0,k.registerEditorContribution)(C.ID,C),(0,k.registerEditorAction)(i),(0,k.registerEditorAction)(_)}),define(te[602],ie([0,1,2,17,13,14,3,21,653,31,321]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function _(a){return I.isMacintosh?a.altKey:a.ctrlKey}class u extends v.Disposable{constructor(l){super();this._editor=l,this._register(this._editor.onMouseDown(c=>this._onEditorMouseDown(c))),this._register(this._editor.onMouseUp(c=>this._onEditorMouseUp(c))),this._register(this._editor.onMouseDrag(c=>this._onEditorMouseDrag(c))),this._register(this._editor.onMouseDrop(c=>this._onEditorMouseDrop(c))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(c=>this.onEditorKeyDown(c))),this._register(this._editor.onKeyUp(c=>this.onEditorKeyUp(c))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(l){!this._editor.getOption(29)||this._editor.getOption(16)||(_(l)&&(this._modifierPressed=!0),this._mouseDown&&_(l)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(l){!this._editor.getOption(29)||this._editor.getOption(16)||(_(l)&&(this._modifierPressed=!1),this._mouseDown&&l.keyCode===u.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(l){this._mouseDown=!0}_onEditorMouseUp(l){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(l){let c=l.target;if(this._dragSelection===null){let r=(this._editor.getSelections()||[]).filter(n=>c.position&&n.containsPosition(c.position));if(r.length===1)this._dragSelection=r[0];else return}_(l.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),c.position&&(this._dragSelection.containsPosition(c.position)?this._removeDecoration():this.showAt(c.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(l){if(l.target&&(this._hitContent(l.target)||this._hitMargin(l.target))&&l.target.position){let c=new w.Position(l.target.position.lineNumber,l.target.position.column);if(this._dragSelection===null){let d=null;if(l.event.shiftKey){let r=this._editor.getSelection();if(r){const{selectionStartLineNumber:n,selectionStartColumn:s}=r;d=[new p.Selection(n,s,c.lineNumber,c.column)]}}else d=(this._editor.getSelections()||[]).map(r=>r.containsPosition(c)?new p.Selection(c.lineNumber,c.column,c.lineNumber,c.column):r);this._editor.setSelections(d||[],"mouse",3)}else(!this._dragSelection.containsPosition(c)||(_(l.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(c)||this._dragSelection.getStartPosition().equals(c)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(u.ID,new C.DragAndDropCommand(this._dragSelection,c,_(l.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(l){let c=[{range:new S.Range(l.lineNumber,l.column,l.lineNumber,l.column),options:u._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,c),this._editor.revealPosition(l,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(l){return l.type===6||l.type===7}_hitMargin(l){return l.type===2||l.type===3||l.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=u,u.ID="editor.contrib.dragAndDrop",u.TRIGGER_KEY_VALUE=I.isMacintosh?6:5,u._DECORATION_OPTIONS=i.ModelDecorationOptions.register({className:"dnd-target"}),(0,k.registerEditorContribution)(u.ID,u)}),define(te[603],ie([0,1,362,13,129]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends I.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:v.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(i,_){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class S extends I.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:v.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(i,_){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class p extends I.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:v.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(i,_){k.EditorZoom.setZoomLevel(0)}}(0,I.registerEditorAction)(w),(0,I.registerEditorAction)(S),(0,I.registerEditorAction)(p)}),define(te[251],ie([0,1,40,19,24,11,23,68,105,14,3,21,18,80,37,220,363,421,9,77,26,20,56]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function m(O){if(O=O.filter(A=>A.range),!!O.length){let{range:W}=O[0];for(let A=1;A<O.length;A++)W=_.Range.plusRange(W,O[A].range);const{startLineNumber:F,endLineNumber:E}=W;F===E?O.length===1?(0,v.alert)(r.localize(0,null,F)):(0,v.alert)(r.localize(1,null,O.length,F)):O.length===1?(0,v.alert)(r.localize(2,null,F,E)):(0,v.alert)(r.localize(3,null,O.length,F,E))}}e.alertFormattingEdits=m;function g(O){const W=[],F=new Set,E=a.DocumentFormattingEditProviderRegistry.ordered(O);for(const B of E)W.push(B),B.extensionId&&F.add(n.ExtensionIdentifier.toKey(B.extensionId));const A=a.DocumentRangeFormattingEditProviderRegistry.ordered(O);for(const B of A){if(B.extensionId){if(F.has(n.ExtensionIdentifier.toKey(B.extensionId)))continue;F.add(n.ExtensionIdentifier.toKey(B.extensionId))}W.push({displayName:B.displayName,extensionId:B.extensionId,provideDocumentFormattingEdits(z,U,K){return B.provideDocumentRangeFormattingEdits(z,z.getFullModelRange(),U,K)}})}return W}e.getRealAndSyntheticDocumentFormattersOrdered=g;class b{static setFormatterSelector(W){return{dispose:b._selectors.unshift(W)}}static select(W,F,E){return De(this,void 0,void 0,function*(){if(W.length!==0){const A=f.Iterable.first(b._selectors);if(A)return yield A(W,F,E)}})}}e.FormattingConflicts=b,b._selectors=new t.LinkedList;function y(O,W,F,E,A,B){return De(this,void 0,void 0,function*(){const z=O.get(s.IInstantiationService),U=(0,C.isCodeEditor)(W)?W.getModel():W,K=a.DocumentRangeFormattingEditProviderRegistry.ordered(U),G=yield b.select(K,U,E);G&&(A.report(G),yield z.invokeFunction(L,G,W,F,B))})}e.formatDocumentRangesWithSelectedProvider=y;function L(O,W,F,E,A){return De(this,void 0,void 0,function*(){const B=O.get(l.IEditorWorkerService);let z,U;(0,C.isCodeEditor)(F)?(z=F.getModel(),U=new p.EditorStateCancellationTokenSource(F,1|4,void 0,A)):(z=F,U=new p.TextModelCancellationTokenSource(F,A));let K=[],G=0;for(let Q of(0,I.asArray)(E).sort(_.Range.compareRangesUsingStarts))G>0&&_.Range.areIntersectingOrTouching(K[G-1],Q)?K[G-1]=_.Range.fromPositions(K[G-1].getStartPosition(),Q.getEndPosition()):G=K.push(Q);const J=[];for(let Q of K)try{const ae=yield W.provideDocumentRangeFormattingEdits(z,Q,z.getFormattingOptions(),U.token),se=yield B.computeMoreMinimalEdits(z.uri,ae);if(se&&J.push(...se),U.token.isCancellationRequested)return!0}finally{U.dispose()}if(J.length===0)return!1;if((0,C.isCodeEditor)(F))d.FormattingEdit.execute(F,J,!0),m(J),F.revealPositionInCenterIfOutsideViewport(F.getPosition(),1);else{const[{range:Q}]=J,ae=new u.Selection(Q.startLineNumber,Q.startColumn,Q.endLineNumber,Q.endColumn);z.pushEditOperations([ae],J.map(se=>({text:se.text,range:_.Range.lift(se.range),forceMoveMarkers:!0})),se=>{for(const{range:Z}of se)if(_.Range.areIntersectingOrTouching(Z,ae))return[new u.Selection(Z.startLineNumber,Z.startColumn,Z.endLineNumber,Z.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=L;function N(O,W,F,E,A){return De(this,void 0,void 0,function*(){const B=O.get(s.IInstantiationService),z=(0,C.isCodeEditor)(W)?W.getModel():W,U=g(z),K=yield b.select(U,z,F);K&&(E.report(K),yield B.invokeFunction(M,K,W,F,A))})}e.formatDocumentWithSelectedProvider=N;function M(O,W,F,E,A){return De(this,void 0,void 0,function*(){const B=O.get(l.IEditorWorkerService);let z,U;(0,C.isCodeEditor)(F)?(z=F.getModel(),U=new p.EditorStateCancellationTokenSource(F,1|4,void 0,A)):(z=F,U=new p.TextModelCancellationTokenSource(F,A));let K;try{const G=yield W.provideDocumentFormattingEdits(z,z.getFormattingOptions(),U.token);if(K=yield B.computeMoreMinimalEdits(z.uri,G),U.token.isCancellationRequested)return!0}finally{U.dispose()}if(!K||K.length===0)return!1;if((0,C.isCodeEditor)(F))d.FormattingEdit.execute(F,K,E!==2),E!==2&&(m(K),F.revealPositionInCenterIfOutsideViewport(F.getPosition(),1));else{const[{range:G}]=K,J=new u.Selection(G.startLineNumber,G.startColumn,G.endLineNumber,G.endColumn);z.pushEditOperations([J],K.map(Q=>({text:Q.text,range:_.Range.lift(Q.range),forceMoveMarkers:!0})),Q=>{for(const{range:ae}of Q)if(_.Range.areIntersectingOrTouching(ae,J))return[new u.Selection(ae.startLineNumber,ae.startColumn,ae.endLineNumber,ae.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=M;function D(O,W,F,E,A){return De(this,void 0,void 0,function*(){const B=a.DocumentRangeFormattingEditProviderRegistry.ordered(W);for(const z of B){let U=yield Promise.resolve(z.provideDocumentRangeFormattingEdits(W,F,E,A)).catch(w.onUnexpectedExternalError);if((0,I.isNonEmptyArray)(U))return yield O.computeMoreMinimalEdits(W.uri,U)}})}e.getDocumentRangeFormattingEditsUntilResult=D;function R(O,W,F,E){return De(this,void 0,void 0,function*(){const A=g(W);for(const B of A){let z=yield Promise.resolve(B.provideDocumentFormattingEdits(W,F,E)).catch(w.onUnexpectedExternalError);if((0,I.isNonEmptyArray)(z))return yield O.computeMoreMinimalEdits(W.uri,z)}})}e.getDocumentFormattingEditsUntilResult=R;function P(O,W,F,E,A){const B=a.OnTypeFormattingEditProviderRegistry.ordered(W);return B.length===0||B[0].autoFormatTriggerCharacters.indexOf(E)<0?Promise.resolve(void 0):Promise.resolve(B[0].provideOnTypeFormattingEdits(W,F,E,A,k.CancellationToken.None)).catch(w.onUnexpectedExternalError).then(z=>O.computeMoreMinimalEdits(W.uri,z))}e.getOnTypeFormattingEdits=P,o.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(O,...W){const[F,E,A]=W;(0,h.assertType)(S.URI.isUri(F)),(0,h.assertType)(_.Range.isIRange(E));const B=O.get(c.IModelService).getModel(F);if(!B)throw(0,w.illegalArgument)("resource");return D(O.get(l.IEditorWorkerService),B,_.Range.lift(E),A,k.CancellationToken.None)}),o.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(O,...W){const[F,E]=W;(0,h.assertType)(S.URI.isUri(F));const A=O.get(c.IModelService).getModel(F);if(!A)throw(0,w.illegalArgument)("resource");return R(O.get(l.IEditorWorkerService),A,E,k.CancellationToken.None)}),o.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(O,...W){const[F,E,A,B]=W;(0,h.assertType)(S.URI.isUri(F)),(0,h.assertType)(i.Position.isIPosition(E)),(0,h.assertType)(typeof A=="string");const z=O.get(c.IModelService).getModel(F);if(!z)throw(0,w.illegalArgument)("resource");return P(O.get(l.IEditorWorkerService),z,i.Position.lift(E),A,B)})}),define(te[605],ie([0,1,19,24,41,2,13,28,93,3,25,18,80,251,220,364,26,16,9,11,57]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class{constructor(y,L){this._workerService=L,this._callOnDispose=new w.DisposableStore,this._callOnModel=new w.DisposableStore,this._editor=y,this._callOnDispose.add(y.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(y.onDidChangeModel(()=>this._update())),this._callOnDispose.add(y.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(u.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!!this._editor.getOption(45)&&!!this._editor.hasModel()){const y=this._editor.getModel(),[L]=u.OnTypeFormattingEditProviderRegistry.ordered(y);if(!(!L||!L.autoFormatTriggerCharacters)){let N=new C.CharacterSet;for(let M of L.autoFormatTriggerCharacters)N.add(M.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(M=>{let D=M.charCodeAt(M.length-1);N.has(D)&&this._trigger(String.fromCharCode(D))}))}}}_trigger(y){if(!!this._editor.hasModel()&&!(this._editor.getSelections().length>1)){const L=this._editor.getModel(),N=this._editor.getPosition();let M=!1;const D=this._editor.onDidChangeModelContent(R=>{if(R.isFlush){M=!0,D.dispose();return}for(let P=0,O=R.changes.length;P<O;P++)if(R.changes[P].range.endLineNumber<=N.lineNumber){M=!0,D.dispose();return}});(0,l.getOnTypeFormattingEdits)(this._workerService,L,N,y,L.getFormattingOptions()).then(R=>{D.dispose(),!M&&(0,v.isNonEmptyArray)(R)&&(c.FormattingEdit.execute(this._editor,R,!0),(0,l.alertFormattingEdits)(R))},R=>{throw D.dispose(),R})}}};h.ID="editor.contrib.autoFormat",h=Me([_e(1,a.IEditorWorkerService)],h);let f=class{constructor(y,L){this.editor=y,this._instantiationService=L,this._callOnDispose=new w.DisposableStore,this._callOnModel=new w.DisposableStore,this._callOnDispose.add(y.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(y.onDidChangeModel(()=>this._update())),this._callOnDispose.add(y.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(u.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(44)&&(!this.editor.hasModel()||!u.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:y})=>this._trigger(y))))}_trigger(y){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(l.formatDocumentRangesWithSelectedProvider,this.editor,y,2,o.Progress.None,I.CancellationToken.None).catch(t.onUnexpectedError)}};f.ID="editor.contrib.formatOnPaste",f=Me([_e(1,s.IInstantiationService)],f);class m extends S.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:d.localize(0,null),alias:"Format Document",precondition:n.ContextKeyExpr.and(_.EditorContextKeys.notInCompositeEditor,_.EditorContextKeys.writable,_.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(y,L){return De(this,void 0,void 0,function*(){if(L.hasModel()){const N=y.get(s.IInstantiationService);yield y.get(o.IEditorProgressService).showWhile(N.invokeFunction(l.formatDocumentWithSelectedProvider,L,1,o.Progress.None,I.CancellationToken.None),250)}})}}class g extends S.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:d.localize(1,null),alias:"Format Selection",precondition:n.ContextKeyExpr.and(_.EditorContextKeys.writable,_.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:_.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(y,L){return De(this,void 0,void 0,function*(){if(!!L.hasModel()){const N=y.get(s.IInstantiationService),M=L.getModel(),D=L.getSelections().map(P=>P.isEmpty()?new i.Range(P.startLineNumber,1,P.startLineNumber,M.getLineMaxColumn(P.startLineNumber)):P);yield y.get(o.IEditorProgressService).showWhile(N.invokeFunction(l.formatDocumentRangesWithSelectedProvider,L,D,1,o.Progress.None,I.CancellationToken.None),250)}})}}(0,S.registerEditorContribution)(h.ID,h),(0,S.registerEditorContribution)(f.ID,f),(0,S.registerEditorAction)(m),(0,S.registerEditorAction)(g),r.CommandsRegistry.registerCommand("editor.action.format",b=>De(void 0,void 0,void 0,function*(){const y=b.get(p.ICodeEditorService).getFocusedCodeEditor();if(!(!y||!y.hasModel())){const L=b.get(r.ICommandService);y.getSelection().isEmpty()?yield L.executeCommand("editor.action.formatDocument"):yield L.executeCommand("editor.action.formatSelection")}}))}),define(te[252],ie([0,1,24,11,13,18,107]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function p(c,d,r,n){const t=r.ordered(c).map(o=>Promise.resolve(n(o,c,d)).then(void 0,h=>{(0,I.onUnexpectedExternalError)(h)}));return Promise.all(t).then(o=>{const h=[];for(let f of o)Array.isArray(f)?h.push(...f):f&&h.push(f);return h})}function C(c,d,r){return p(c,d,w.DefinitionProviderRegistry,(n,s,t)=>n.provideDefinition(s,t,r))}e.getDefinitionsAtPosition=C;function i(c,d,r){return p(c,d,w.DeclarationProviderRegistry,(n,s,t)=>n.provideDeclaration(s,t,r))}e.getDeclarationsAtPosition=i;function _(c,d,r){return p(c,d,w.ImplementationProviderRegistry,(n,s,t)=>n.provideImplementation(s,t,r))}e.getImplementationsAtPosition=_;function u(c,d,r){return p(c,d,w.TypeDefinitionProviderRegistry,(n,s,t)=>n.provideTypeDefinition(s,t,r))}e.getTypeDefinitionsAtPosition=u;function a(c,d,r,n){return p(c,d,w.ReferenceProviderRegistry,(s,t,o)=>De(this,void 0,void 0,function*(){const h=yield s.provideReferences(t,o,{includeDeclaration:!0},n);if(!r||!h||h.length!==2)return h;const f=yield s.provideReferences(t,o,{includeDeclaration:!1},n);return f&&f.length===1?f:h}))}e.getReferencesAtPosition=a;function l(c){return De(this,void 0,void 0,function*(){const d=yield c(),r=new S.ReferencesModel(d,""),n=r.references.map(s=>s.link);return r.dispose(),n})}(0,k.registerModelAndPositionCommand)("_executeDefinitionProvider",(c,d)=>l(()=>C(c,d,v.CancellationToken.None))),(0,k.registerModelAndPositionCommand)("_executeDeclarationProvider",(c,d)=>l(()=>i(c,d,v.CancellationToken.None))),(0,k.registerModelAndPositionCommand)("_executeImplementationProvider",(c,d)=>l(()=>_(c,d,v.CancellationToken.None))),(0,k.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(c,d)=>l(()=>u(c,d,v.CancellationToken.None))),(0,k.registerModelAndPositionCommand)("_executeReferenceProvider",(c,d)=>l(()=>a(c,d,!1,v.CancellationToken.None)))}),define(te[607],ie([0,1,16,9,73,86,13,28,3,2,6,374,35,33,46]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new v.RawContextKey("hasSymbols",!1,(0,u.localize)(0,null)),e.ISymbolNavigationService=(0,I.createDecorator)("ISymbolNavigationService");let d=class{constructor(s,t,o,h){this._editorService=t,this._notificationService=o,this._keybindingService=h,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(s)}reset(){var s,t;this._ctxHasSymbols.reset(),(s=this._currentState)===null||s===void 0||s.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(s){const t=s.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(s),this._ctxHasSymbols.set(!0),this._showMessage();const o=new r(this._editorService),h=o.onDidChange(f=>{if(!this._ignoreEditorChange){const m=this._editorService.getActiveCodeEditor();if(!!m){const g=m.getModel(),b=m.getPosition();if(!(!g||!b)){let y=!1,L=!1;for(const N of t.references)if((0,c.isEqual)(N.uri,g.uri))y=!0,L=L||C.Range.containsPosition(N.range,b);else if(y)break;(!y||!L)&&this.reset()}}}});this._currentState=(0,i.combinedDisposable)(o,h)}revealNext(s){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:C.Range.collapseToStart(t.range),selectionRevealType:3}},s).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var s;(s=this._currentMessage)===null||s===void 0||s.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),o=t?(0,u.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,u.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(o)}};d=Me([_e(0,v.IContextKeyService),_e(1,p.ICodeEditorService),_e(2,l.INotificationService),_e(3,a.IKeybindingService)],d),(0,k.registerSingleton)(e.ISymbolNavigationService,d,!0),(0,S.registerEditorCommand)(new class extends S.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,s){return n.get(e.ISymbolNavigationService).revealNext(s)}}),w.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(n){n.get(e.ISymbolNavigationService).reset()}});let r=class{constructor(s){this._listener=new Map,this._disposables=new i.DisposableStore,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(s.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(s.onCodeEditorAdd(this._onDidAddEditor,this)),s.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,i.dispose)(this._listener.values())}_onDidAddEditor(s){this._listener.set(s,(0,i.combinedDisposable)(s.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:s})),s.onDidChangeModelContent(t=>this._onDidChange.fire({editor:s}))))}_onDidRemoveEditor(s){var t;(t=this._listener.get(s))===null||t===void 0||t.dispose(),this._listener.delete(s)}};r=Me([_e(0,p.ICodeEditorService)],r)}),define(te[608],ie([0,1,19,24,11,13,18]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHover=void 0;function p(i,_,u){const l=S.HoverProviderRegistry.ordered(i).map(c=>Promise.resolve(c.provideHover(i,_,u)).then(d=>d&&C(d)?d:void 0,d=>{(0,k.onUnexpectedExternalError)(d)}));return Promise.all(l).then(v.coalesce)}e.getHover=p,(0,w.registerModelAndPositionCommand)("_executeHoverProvider",(i,_)=>p(i,_,I.CancellationToken.None));function C(i){const _=typeof i.range!="undefined",u=typeof i.contents!="undefined"&&i.contents&&i.contents.length>0;return _&&u}}),define(te[609],ie([0,1,376,7,78,2,3,122,19,59,58,18,608,14]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const c=I.$;class d{constructor(s,t){this.range=s,this.contents=t}equals(s){return s instanceof d?(0,k.markedStringsEquals)(this.contents,s.contents):!1}}e.MarkdownHover=d;let r=class{constructor(s,t,o,h){this._editor=s,this._hover=t,this._modeService=o,this._openerService=h}createLoadingMessage(s){return new d(s,[new k.MarkdownString().appendText(v.localize(0,null))])}computeSync(s,t){if(!this._editor.hasModel())return[];const o=this._editor.getModel(),h=s.startLineNumber,f=o.getLineMaxColumn(h),m=[];for(const g of t){const b=g.range.startLineNumber===h?g.range.startColumn:1,y=g.range.endLineNumber===h?g.range.endColumn:f,L=g.options.hoverMessage;if(!(!L||(0,k.isEmptyMarkdownString)(L))){const N=new S.Range(s.startLineNumber,b,s.startLineNumber,y);m.push(new d(N,(0,C.asArray)(L)))}}return m}computeAsync(s,t){return De(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!s)return Promise.resolve([]);const o=this._editor.getModel();if(!u.HoverProviderRegistry.has(o))return Promise.resolve([]);const h=yield(0,a.getHover)(o,new l.Position(s.startLineNumber,s.startColumn),t),f=[];for(const m of h)if(!(0,k.isEmptyMarkdownString)(m.contents)){const g=m.range?S.Range.lift(m.range):s;f.push(new d(g,m.contents))}return f})}renderHoverParts(s,t){const o=new w.DisposableStore;for(const h of s)for(const f of h.contents)if(!(0,k.isEmptyMarkdownString)(f)){const m=c("div.hover-row.markdown-hover"),g=I.append(m,c("div.hover-contents")),b=o.add(new p.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService));o.add(b.onDidRenderAsync(()=>{g.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const y=o.add(b.render(f));g.appendChild(y.element),t.appendChild(m)}return o}};r=Me([_e(2,_.IModeService),_e(3,i.IOpenerService)],r),e.MarkdownHoverParticipant=r}),define(te[610],ie([0,1,378,3,21,25,13,80,276,68,12,48,31,15,11]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let d=class Ct{constructor(t,o){this.decorationIds=[],this.editor=t,this.editorWorkerService=o}static get(t){return t.getContribution(Ct.ID)}dispose(){}run(t,o){this.currentRequest&&this.currentRequest.cancel();const h=this.editor.getSelection(),f=this.editor.getModel();if(!(!f||!h)){let m=h;if(m.startLineNumber===m.endLineNumber){const g=new i.EditorState(this.editor,1|4),b=f.uri;return this.editorWorkerService.canNavigateValueSet(b)?(this.currentRequest=(0,l.createCancelablePromise)(y=>this.editorWorkerService.navigateValueSet(b,m,o)),this.currentRequest.then(y=>{if(!(!y||!y.range||!y.value)&&!!g.validate(this.editor)){let L=I.Range.lift(y.range),N=y.range,M=y.value.length-(m.endColumn-m.startColumn);N={startLineNumber:N.startLineNumber,startColumn:N.startColumn,endLineNumber:N.endLineNumber,endColumn:N.startColumn+y.value.length},M>1&&(m=new k.Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn+M-1));const D=new C.InPlaceReplaceCommand(L,m,y.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,D),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:N,options:Ct.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,l.timeout)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(c.onUnexpectedError)}}).catch(c.onUnexpectedError)):Promise.resolve(void 0)}}}};d.ID="editor.contrib.inPlaceReplaceController",d.DECORATION=a.ModelDecorationOptions.register({className:"valueSetReplacement"}),d=Me([_e(1,p.IEditorWorkerService)],d);class r extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:v.localize(0,null),alias:"Replace with Previous Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(t,o){const h=d.get(o);return h?h.run(this.id,!0):Promise.resolve(void 0)}}class n extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:v.localize(1,null),alias:"Replace with Next Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(t,o){const h=d.get(o);return h?h.run(this.id,!1):Promise.resolve(void 0)}}(0,S.registerEditorContribution)(d.ID,d),(0,S.registerEditorAction)(r),(0,S.registerEditorAction)(n),(0,_.registerThemingParticipant)((s,t)=>{const o=s.getColor(u.editorBracketMatchBorder);o&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${o}; }`)})}),define(te[611],ie([0,1,379,2,8,13,178,61,3,21,25,31,42,37,218,79]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function r(D,R,P,O){if(D.getLineCount()===1&&D.getLineMaxColumn(1)===1)return[];let W=a.LanguageConfigurationRegistry.getIndentationRules(D.getLanguageIdentifier().id);if(!W)return[];for(P=Math.min(P,D.getLineCount());R<=P&&W.unIndentedLinePattern;){let ae=D.getLineContent(R);if(!W.unIndentedLinePattern.test(ae))break;R++}if(R>P-1)return[];const{tabSize:F,indentSize:E,insertSpaces:A}=D.getOptions(),B=(ae,se)=>(se=se||1,S.ShiftCommand.shiftIndent(ae,ae.length+se,F,E,A)),z=(ae,se)=>(se=se||1,S.ShiftCommand.unshiftIndent(ae,ae.length+se,F,E,A));let U=[],K,G=D.getLineContent(R),J=G;if(O!=null){K=O;let ae=k.getLeadingWhitespace(G);J=K+G.substring(ae.length),W.decreaseIndentPattern&&W.decreaseIndentPattern.test(J)&&(K=z(K),J=K+G.substring(ae.length)),G!==J&&U.push(p.EditOperation.replaceMove(new i.Selection(R,1,R,ae.length+1),u.TextModel.normalizeIndentation(K,E,A)))}else K=k.getLeadingWhitespace(G);let Q=K;W.increaseIndentPattern&&W.increaseIndentPattern.test(J)?(Q=B(Q),K=B(K)):W.indentNextLinePattern&&W.indentNextLinePattern.test(J)&&(Q=B(Q)),R++;for(let ae=R;ae<=P;ae++){let se=D.getLineContent(ae),Z=k.getLeadingWhitespace(se),T=Q+se.substring(Z.length);W.decreaseIndentPattern&&W.decreaseIndentPattern.test(T)&&(Q=z(Q),K=z(K)),Z!==Q&&U.push(p.EditOperation.replaceMove(new i.Selection(ae,1,ae,Z.length+1),u.TextModel.normalizeIndentation(Q,E,A))),!(W.unIndentedLinePattern&&W.unIndentedLinePattern.test(se))&&(W.increaseIndentPattern&&W.increaseIndentPattern.test(T)?(K=B(K),Q=K):W.indentNextLinePattern&&W.indentNextLinePattern.test(T)?Q=B(Q):Q=K)}return U}e.getReindentEditOperations=r;class n extends w.EditorAction{constructor(){super({id:n.ID,label:v.localize(0,null),alias:"Convert Indentation to Spaces",precondition:_.EditorContextKeys.writable})}run(R,P){let O=P.getModel();if(!!O){let W=O.getOptions(),F=P.getSelection();if(!!F){const E=new N(F,W.tabSize);P.pushUndoStop(),P.executeCommands(this.id,[E]),P.pushUndoStop(),O.updateOptions({insertSpaces:!0})}}}}e.IndentationToSpacesAction=n,n.ID="editor.action.indentationToSpaces";class s extends w.EditorAction{constructor(){super({id:s.ID,label:v.localize(1,null),alias:"Convert Indentation to Tabs",precondition:_.EditorContextKeys.writable})}run(R,P){let O=P.getModel();if(!!O){let W=O.getOptions(),F=P.getSelection();if(!!F){const E=new M(F,W.tabSize);P.pushUndoStop(),P.executeCommands(this.id,[E]),P.pushUndoStop(),O.updateOptions({insertSpaces:!1})}}}}e.IndentationToTabsAction=s,s.ID="editor.action.indentationToTabs";class t extends w.EditorAction{constructor(R,P){super(P);this.insertSpaces=R}run(R,P){const O=R.get(d.IQuickInputService),W=R.get(l.IModelService);let F=P.getModel();if(!!F){let E=W.getCreationOptions(F.getLanguageIdentifier().language,F.uri,F.isForSimpleWidget);const A=[1,2,3,4,5,6,7,8].map(z=>({id:z.toString(),label:z.toString(),description:z===E.tabSize?v.localize(2,null):void 0})),B=Math.min(F.getOptions().tabSize-1,7);setTimeout(()=>{O.pick(A,{placeHolder:v.localize(3,null),activeItem:A[B]}).then(z=>{z&&F&&!F.isDisposed()&&F.updateOptions({tabSize:parseInt(z.label,10),insertSpaces:this.insertSpaces})})},50)}}}e.ChangeIndentationSizeAction=t;class o extends t{constructor(){super(!1,{id:o.ID,label:v.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=o,o.ID="editor.action.indentUsingTabs";class h extends t{constructor(){super(!0,{id:h.ID,label:v.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=h,h.ID="editor.action.indentUsingSpaces";class f extends w.EditorAction{constructor(){super({id:f.ID,label:v.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(R,P){const O=R.get(l.IModelService);let W=P.getModel();if(!!W){let F=O.getCreationOptions(W.getLanguageIdentifier().language,W.uri,W.isForSimpleWidget);W.detectIndentation(F.insertSpaces,F.tabSize)}}}e.DetectIndentation=f,f.ID="editor.action.detectIndentation";class m extends w.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:v.localize(7,null),alias:"Reindent Lines",precondition:_.EditorContextKeys.writable})}run(R,P){let O=P.getModel();if(!!O){let W=r(O,1,O.getLineCount());W.length>0&&(P.pushUndoStop(),P.executeEdits(this.id,W),P.pushUndoStop())}}}e.ReindentLinesAction=m;class g extends w.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:v.localize(8,null),alias:"Reindent Selected Lines",precondition:_.EditorContextKeys.writable})}run(R,P){let O=P.getModel();if(!!O){let W=P.getSelections();if(W!==null){let F=[];for(let E of W){let A=E.startLineNumber,B=E.endLineNumber;if(A!==B&&E.endColumn===1&&B--,A===1){if(A===B)continue}else A--;let z=r(O,A,B);F.push(...z)}F.length>0&&(P.pushUndoStop(),P.executeEdits(this.id,F),P.pushUndoStop())}}}}e.ReindentSelectedLinesAction=g;class b{constructor(R,P){this._initialSelection=P,this._edits=[],this._selectionId=null;for(let O of R)O.range&&typeof O.text=="string"&&this._edits.push(O)}getEditOperations(R,P){for(let W of this._edits)P.addEditOperation(C.Range.lift(W.range),W.text);let O=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(O=!0,this._selectionId=P.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(O=!0,this._selectionId=P.trackSelection(this._initialSelection,!1))),O||(this._selectionId=P.trackSelection(this._initialSelection))}computeCursorState(R,P){return P.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=b;class y{constructor(R){this.callOnDispose=new I.DisposableStore,this.callOnModel=new I.DisposableStore,this.editor=R,this.callOnDispose.add(R.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(R.onDidChangeModel(()=>this.update())),this.callOnDispose.add(R.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(44))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:R})=>{this.trigger(R)})))}trigger(R){let P=this.editor.getSelections();if(!(P===null||P.length>1)){const O=this.editor.getModel();if(!!O&&!!O.isCheapToTokenize(R.getStartPosition().lineNumber)){const W=this.editor.getOption(9),{tabSize:F,indentSize:E,insertSpaces:A}=O.getOptions();let B=[],z={shiftIndent:J=>S.ShiftCommand.shiftIndent(J,J.length+1,F,E,A),unshiftIndent:J=>S.ShiftCommand.unshiftIndent(J,J.length+1,F,E,A)},U=R.startLineNumber;for(;U<=R.endLineNumber;){if(this.shouldIgnoreLine(O,U)){U++;continue}break}if(!(U>R.endLineNumber)){let K=O.getLineContent(U);if(!/\S/.test(K.substring(0,R.startColumn-1))){let J=a.LanguageConfigurationRegistry.getGoodIndentForLine(W,O,O.getLanguageIdentifier().id,U,z);if(J!==null){let Q=k.getLeadingWhitespace(K),ae=c.getSpaceCnt(J,F),se=c.getSpaceCnt(Q,F);if(ae!==se){let Z=c.generateIndent(ae,F,A);B.push({range:new C.Range(U,1,U,Q.length+1),text:Z}),K=Z+K.substr(Q.length)}else{let Z=a.LanguageConfigurationRegistry.getIndentMetadata(O,U);if(Z===0||Z===8)return}}}const G=U;for(;U<R.endLineNumber;){if(!/\S/.test(O.getLineContent(U+1))){U++;continue}break}if(U!==R.endLineNumber){let J={getLineTokens:ae=>O.getLineTokens(ae),getLanguageIdentifier:()=>O.getLanguageIdentifier(),getLanguageIdAtPosition:(ae,se)=>O.getLanguageIdAtPosition(ae,se),getLineContent:ae=>ae===G?K:O.getLineContent(ae)},Q=a.LanguageConfigurationRegistry.getGoodIndentForLine(W,J,O.getLanguageIdentifier().id,U+1,z);if(Q!==null){let ae=c.getSpaceCnt(Q,F),se=c.getSpaceCnt(k.getLeadingWhitespace(O.getLineContent(U+1)),F);if(ae!==se){let Z=ae-se;for(let T=U+1;T<=R.endLineNumber;T++){let x=O.getLineContent(T),H=k.getLeadingWhitespace(x),q=c.getSpaceCnt(H,F)+Z,ee=c.generateIndent(q,F,A);ee!==H&&B.push({range:new C.Range(T,1,T,H.length+1),text:ee})}}}}if(B.length>0){this.editor.pushUndoStop();let J=new b(B,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",J),this.editor.pushUndoStop()}}}}}shouldIgnoreLine(R,P){R.forceTokenization(P);let O=R.getLineFirstNonWhitespaceColumn(P);if(O===0)return!0;let W=R.getLineTokens(P);if(W.getCount()>0){let F=W.findTokenIndexAtOffset(O);if(F>=0&&W.getStandardTokenType(F)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=y,y.ID="editor.contrib.autoIndentOnPaste";function L(D,R,P,O){if(!(D.getLineCount()===1&&D.getLineMaxColumn(1)===1)){let W="";for(let E=0;E<P;E++)W+=" ";let F=new RegExp(W,"gi");for(let E=1,A=D.getLineCount();E<=A;E++){let B=D.getLineFirstNonWhitespaceColumn(E);if(B===0&&(B=D.getLineMaxColumn(E)),B!==1){const z=new C.Range(E,1,E,B),U=D.getValueInRange(z),K=O?U.replace(/\t/ig,W):U.replace(F,"	");R.addEditOperation(z,K)}}}}class N{constructor(R,P){this.selection=R,this.tabSize=P,this.selectionId=null}getEditOperations(R,P){this.selectionId=P.trackSelection(this.selection),L(R,P,this.tabSize,!0)}computeCursorState(R,P){return P.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=N;class M{constructor(R,P){this.selection=R,this.tabSize=P,this.selectionId=null}getEditOperations(R,P){this.selectionId=P.trackSelection(this.selection),L(R,P,this.tabSize,!1)}computeCursorState(R,P){return P.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=M,(0,w.registerEditorContribution)(y.ID,y),(0,w.registerEditorAction)(n),(0,w.registerEditorAction)(s),(0,w.registerEditorAction)(o),(0,w.registerEditorAction)(h),(0,w.registerEditorAction)(f),(0,w.registerEditorAction)(m),(0,w.registerEditorAction)(g)}),define(te[612],ie([0,1,15,11,95,2,13,28,18,19,22,24,12,3,132,78,26,23,20,66]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineHintsController=e.getInlineHints=void 0;const o=500;function h(m,g,b){return De(this,void 0,void 0,function*(){const y=[],L=C.InlineHintsProviderRegistry.ordered(m).reverse(),N=(0,i.flatten)(L.map(M=>g.map(D=>Promise.resolve(M.provideInlineHints(m,D,b)).then(R=>{R&&y.push({list:R,provider:M})},R=>{(0,I.onUnexpectedExternalError)(R)}))));return yield Promise.all(N),y})}e.getInlineHints=h;let f=class{constructor(g,b,y){this._editor=g,this._codeEditorService=b,this._themeService=y,this._disposables=new w.DisposableStore,this._sessionDisposables=new w.DisposableStore,this._getInlineHintsDelays=new c.LanguageFeatureRequestDelays(C.InlineHintsProviderRegistry,250,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(C.InlineHintsProviderRegistry.onDidChange(()=>this._update())),this._disposables.add(y.onDidColorThemeChange(()=>this._update())),this._disposables.add(g.onDidChangeModel(()=>this._update())),this._disposables.add(g.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(g.onDidChangeConfiguration(L=>{L.hasChanged(122)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(122).enabled){this._removeAllDecorations();return}const g=this._editor.getModel();if(!g||!C.InlineHintsProviderRegistry.has(g)){this._removeAllDecorations();return}const b=new v.RunOnceScheduler(()=>De(this,void 0,void 0,function*(){const L=Date.now(),N=new u.CancellationTokenSource;this._sessionDisposables.add((0,w.toDisposable)(()=>N.dispose(!0)));const M=this._editor.getVisibleRangesPlusViewportAboveBelow(),D=yield h(g,M,N.token),R=this._getInlineHintsDelays.update(g,Date.now()-L);b.delay=R,this._updateHintsDecorators(D)}),this._getInlineHintsDelays.get(g));this._sessionDisposables.add(b),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>b.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>b.schedule())),b.schedule();const y=new w.DisposableStore;this._sessionDisposables.add(y);for(const L of C.InlineHintsProviderRegistry.all(g))typeof L.onDidChangeInlineHints=="function"&&y.add(L.onDidChangeInlineHints(()=>b.schedule()))}_updateHintsDecorators(g){const{fontSize:b,fontFamily:y}=this._getLayoutInfo(),L=this._themeService.getColorTheme().getColor(_.editorInlineHintBackground),N=this._themeService.getColorTheme().getColor(_.editorInlineHintForeground),M=[],D=[],R="--inlineHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(R,y);for(const{list:P}of g)for(let O=0;O<P.length&&D.length<o;O++){const{text:W,range:F,description:E,whitespaceBefore:A,whitespaceAfter:B}=P[O],z=A?b/3|0:0,U=B?b/3|0:0,K={contentText:W,backgroundColor:`${L}`,color:`${N}`,margin:`0px ${U}px 0px ${z}px`,fontSize:`${b}px`,fontFamily:`var(${R})`,padding:`0px ${b/4|0}px`,borderRadius:`${b/4|0}px`},G="inlineHints-"+(0,k.hash)(K).toString(16);this._codeEditorService.registerDecorationType(G,{before:K},void 0,this._editor),M.push(G);const J=this._codeEditorService.resolveDecorationOptions(G,!0);typeof E=="string"?J.hoverMessage=new d.MarkdownString().appendText(E):E&&(J.hoverMessage=E),D.push({range:F,options:J})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=M,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,D)}_getLayoutInfo(){const g=this._editor.getOption(122),b=this._editor.getOption(42);let y=g.fontSize;(!y||y<5||y>b)&&(y=b*.9|0);const L=g.fontFamily;return{fontSize:y,fontFamily:L}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};f.ID="editor.contrib.InlineHints",f=Me([_e(1,p.ICodeEditorService),_e(2,a.IThemeService)],f),e.InlineHintsController=f,(0,S.registerEditorContribution)(f.ID,f),r.CommandsRegistry.registerCommand("_executeInlineHintProvider",(m,...g)=>De(void 0,void 0,void 0,function*(){const[b,y]=g;(0,s.assertType)(n.URI.isUri(b)),(0,s.assertType)(l.Range.isIRange(y));const L=yield m.get(t.ITextModelService).createModelReference(b);try{const N=yield h(L.object.textEditorModel,[l.Range.lift(y)],u.CancellationToken.None);return(0,i.flatten)(N.map(M=>M.list)).sort((M,D)=>l.Range.compareRangesUsingStarts(M.range,D.range))}finally{L.dispose()}}))}),define(te[613],ie([0,1,380,41,157,13,97,466,182,61,14,3,21,25,278,462,279,34]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class s extends w.EditorAction{constructor(ae,se){super(se);this.down=ae}run(ae,se){if(!!se.hasModel()){const Z=se.getSelections().map((H,V)=>({selection:H,index:V,ignore:!1}));Z.sort((H,V)=>u.Range.compareRangesUsingStarts(H.selection,V.selection));let T=Z[0];for(let H=1;H<Z.length;H++){const V=Z[H];T.selection.endLineNumber===V.selection.startLineNumber&&(T.index<V.index?V.ignore=!0:(T.ignore=!0,T=V))}const x=[];for(const H of Z)x.push(new c.CopyLinesCommand(H.selection,this.down,H.ignore));se.pushUndoStop(),se.executeCommands(this.id,x),se.pushUndoStop()}}}class t extends s{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:v.localize(0,null),alias:"Copy Line Up",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:v.localize(1,null),order:1}})}}class o extends s{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:v.localize(2,null),alias:"Copy Line Down",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:v.localize(3,null),order:2}})}}class h extends w.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:v.localize(4,null),alias:"Duplicate Selection",precondition:l.EditorContextKeys.writable,menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:v.localize(5,null),order:5}})}run(ae,se,Z){if(!!se.hasModel()){const T=[],x=se.getSelections(),H=se.getModel();for(const V of x)if(V.isEmpty())T.push(new c.CopyLinesCommand(V,!0));else{const q=new a.Selection(V.endLineNumber,V.endColumn,V.endLineNumber,V.endColumn);T.push(new S.ReplaceCommandThatSelectsText(q,H.getValueInRange(V)))}se.pushUndoStop(),se.executeCommands(this.id,T),se.pushUndoStop()}}}e.DuplicateSelectionAction=h;class f extends w.EditorAction{constructor(ae,se){super(se);this.down=ae}run(ae,se){let Z=[],T=se.getSelections()||[];const x=se.getOption(9);for(const H of T)Z.push(new d.MoveLinesCommand(H,this.down,x));se.pushUndoStop(),se.executeCommands(this.id,Z),se.pushUndoStop()}}class m extends f{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:v.localize(6,null),alias:"Move Line Up",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:v.localize(7,null),order:3}})}}class g extends f{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:v.localize(8,null),alias:"Move Line Down",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:v.localize(9,null),order:4}})}}class b extends w.EditorAction{constructor(ae,se){super(se);this.descending=ae}run(ae,se){const Z=se.getSelections()||[];for(const x of Z)if(!r.SortLinesCommand.canRun(se.getModel(),x,this.descending))return;let T=[];for(let x=0,H=Z.length;x<H;x++)T[x]=new r.SortLinesCommand(Z[x],this.descending);se.pushUndoStop(),se.executeCommands(this.id,T),se.pushUndoStop()}}e.AbstractSortLinesAction=b;class y extends b{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:v.localize(10,null),alias:"Sort Lines Ascending",precondition:l.EditorContextKeys.writable})}}e.SortLinesAscendingAction=y;class L extends b{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:v.localize(11,null),alias:"Sort Lines Descending",precondition:l.EditorContextKeys.writable})}}e.SortLinesDescendingAction=L;class N extends w.EditorAction{constructor(){super({id:N.ID,label:v.localize(12,null),alias:"Trim Trailing Whitespace",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|54),weight:100}})}run(ae,se,Z){let T=[];Z.reason==="auto-save"&&(T=(se.getSelections()||[]).map(V=>new _.Position(V.positionLineNumber,V.positionColumn)));let x=se.getSelection();if(x!==null){let H=new p.TrimTrailingWhitespaceCommand(x,T);se.pushUndoStop(),se.executeCommands(this.id,[H]),se.pushUndoStop()}}}e.TrimTrailingWhitespaceAction=N,N.ID="editor.action.trimTrailingWhitespace";class M extends w.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:v.localize(13,null),alias:"Delete Line",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(ae,se){if(!!se.hasModel()){let Z=this._getLinesToRemove(se),T=se.getModel();if(!(T.getLineCount()===1&&T.getLineMaxColumn(1)===1)){let x=0,H=[],V=[];for(let q=0,ee=Z.length;q<ee;q++){const oe=Z[q];let le=oe.startLineNumber,Y=oe.endLineNumber,j=1,ne=T.getLineMaxColumn(Y);Y<T.getLineCount()?(Y+=1,ne=1):le>1&&(le-=1,j=T.getLineMaxColumn(le)),H.push(i.EditOperation.replace(new a.Selection(le,j,Y,ne),"")),V.push(new a.Selection(le-x,oe.positionColumn,le-x,oe.positionColumn)),x+=oe.endLineNumber-oe.startLineNumber+1}se.pushUndoStop(),se.executeEdits(this.id,H,V),se.pushUndoStop()}}}_getLinesToRemove(ae){let se=ae.getSelections().map(x=>{let H=x.endLineNumber;return x.startLineNumber<x.endLineNumber&&x.endColumn===1&&(H-=1),{startLineNumber:x.startLineNumber,selectionStartColumn:x.selectionStartColumn,endLineNumber:H,positionColumn:x.positionColumn}});se.sort((x,H)=>x.startLineNumber===H.startLineNumber?x.endLineNumber-H.endLineNumber:x.startLineNumber-H.startLineNumber);let Z=[],T=se[0];for(let x=1;x<se.length;x++)T.endLineNumber+1>=se[x].startLineNumber?T.endLineNumber=se[x].endLineNumber:(Z.push(T),T=se[x]);return Z.push(T),Z}}e.DeleteLinesAction=M;class D extends w.EditorAction{constructor(){super({id:"editor.action.indentLines",label:v.localize(14,null),alias:"Indent Line",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(ae,se){const Z=se._getViewModel();!Z||(se.pushUndoStop(),se.executeCommands(this.id,C.TypeOperations.indent(Z.cursorConfig,se.getModel(),se.getSelections())),se.pushUndoStop())}}e.IndentLinesAction=D;class R extends w.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:v.localize(15,null),alias:"Outdent Line",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(ae,se){k.CoreEditingCommands.Outdent.runEditorCommand(ae,se,null)}}class P extends w.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:v.localize(16,null),alias:"Insert Line Above",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(ae,se){const Z=se._getViewModel();!Z||(se.pushUndoStop(),se.executeCommands(this.id,C.TypeOperations.lineInsertBefore(Z.cursorConfig,se.getModel(),se.getSelections())))}}e.InsertLineBeforeAction=P;class O extends w.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:v.localize(17,null),alias:"Insert Line Below",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(ae,se){const Z=se._getViewModel();!Z||(se.pushUndoStop(),se.executeCommands(this.id,C.TypeOperations.lineInsertAfter(Z.cursorConfig,se.getModel(),se.getSelections())))}}e.InsertLineAfterAction=O;class W extends w.EditorAction{run(ae,se){if(!!se.hasModel()){const Z=se.getSelection();let T=this._getRangesToDelete(se),x=[];for(let q=0,ee=T.length-1;q<ee;q++){let oe=T[q],le=T[q+1];u.Range.intersectRanges(oe,le)===null?x.push(oe):T[q+1]=u.Range.plusRange(oe,le)}x.push(T[T.length-1]);let H=this._getEndCursorState(Z,x),V=x.map(q=>i.EditOperation.replace(q,""));se.pushUndoStop(),se.executeEdits(this.id,V,H),se.pushUndoStop()}}}e.AbstractDeleteAllToBoundaryAction=W;class F extends W{constructor(){super({id:"deleteAllLeft",label:v.localize(18,null),alias:"Delete All Left",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(ae,se){let Z=null,T=[],x=0;return se.forEach(H=>{let V;if(H.endColumn===1&&x>0){let q=H.startLineNumber-x;V=new a.Selection(q,H.startColumn,q,H.startColumn)}else V=new a.Selection(H.startLineNumber,H.startColumn,H.startLineNumber,H.startColumn);x+=H.endLineNumber-H.startLineNumber,H.intersectRanges(ae)?Z=V:T.push(V)}),Z&&T.unshift(Z),T}_getRangesToDelete(ae){let se=ae.getSelections();if(se===null)return[];let Z=se,T=ae.getModel();return T===null?[]:(Z.sort(u.Range.compareRangesUsingStarts),Z=Z.map(x=>{if(x.isEmpty())if(x.startColumn===1){let H=Math.max(1,x.startLineNumber-1),V=x.startLineNumber===1?1:T.getLineContent(H).length+1;return new u.Range(H,V,x.startLineNumber,1)}else return new u.Range(x.startLineNumber,1,x.startLineNumber,x.startColumn);else return new u.Range(x.startLineNumber,1,x.endLineNumber,x.endColumn)}),Z)}}e.DeleteAllLeftAction=F;class E extends W{constructor(){super({id:"deleteAllRight",label:v.localize(19,null),alias:"Delete All Right",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(ae,se){let Z=null,T=[];for(let x=0,H=se.length,V=0;x<H;x++){let q=se[x],ee=new a.Selection(q.startLineNumber-V,q.startColumn,q.startLineNumber-V,q.startColumn);q.intersectRanges(ae)?Z=ee:T.push(ee)}return Z&&T.unshift(Z),T}_getRangesToDelete(ae){let se=ae.getModel();if(se===null)return[];let Z=ae.getSelections();if(Z===null)return[];let T=Z.map(x=>{if(x.isEmpty()){const H=se.getLineMaxColumn(x.startLineNumber);return x.startColumn===H?new u.Range(x.startLineNumber,x.startColumn,x.startLineNumber+1,1):new u.Range(x.startLineNumber,x.startColumn,x.startLineNumber,H)}return x});return T.sort(u.Range.compareRangesUsingStarts),T}}e.DeleteAllRightAction=E;class A extends w.EditorAction{constructor(){super({id:"editor.action.joinLines",label:v.localize(20,null),alias:"Join Lines",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(ae,se){let Z=se.getSelections();if(Z!==null){let T=se.getSelection();if(T!==null){Z.sort(u.Range.compareRangesUsingStarts);let x=[],H=Z.reduce((Y,j)=>Y.isEmpty()?Y.endLineNumber===j.startLineNumber?(T.equalsSelection(Y)&&(T=j),j):j.startLineNumber>Y.endLineNumber+1?(x.push(Y),j):new a.Selection(Y.startLineNumber,Y.startColumn,j.endLineNumber,j.endColumn):j.startLineNumber>Y.endLineNumber?(x.push(Y),j):new a.Selection(Y.startLineNumber,Y.startColumn,j.endLineNumber,j.endColumn));x.push(H);let V=se.getModel();if(V!==null){let q=[],ee=[],oe=T,le=0;for(let Y=0,j=x.length;Y<j;Y++){let ne=x[Y],X=ne.startLineNumber,ue=1,he=0,re,ce,me=V.getLineContent(ne.endLineNumber).length-ne.endColumn;if(ne.isEmpty()||ne.startLineNumber===ne.endLineNumber){let Ee=ne.getStartPosition();Ee.lineNumber<V.getLineCount()?(re=X+1,ce=V.getLineMaxColumn(re)):(re=Ee.lineNumber,ce=V.getLineMaxColumn(Ee.lineNumber))}else re=ne.endLineNumber,ce=V.getLineMaxColumn(re);let Ce=V.getLineContent(X);for(let Ee=X+1;Ee<=re;Ee++){let Ie=V.getLineContent(Ee),Ae=V.getLineFirstNonWhitespaceColumn(Ee);if(Ae>=1){let Le=!0;Ce===""&&(Le=!1),Le&&(Ce.charAt(Ce.length-1)===" "||Ce.charAt(Ce.length-1)==="	")&&(Le=!1,Ce=Ce.replace(/[\s\uFEFF\xA0]+$/g," "));let Te=Ie.substr(Ae-1);Ce+=(Le?" ":"")+Te,Le?he=Te.length+1:he=Te.length}else he=0}let we=new u.Range(X,ue,re,ce);if(!we.isEmpty()){let Ee;ne.isEmpty()?(q.push(i.EditOperation.replace(we,Ce)),Ee=new a.Selection(we.startLineNumber-le,Ce.length-he+1,X-le,Ce.length-he+1)):ne.startLineNumber===ne.endLineNumber?(q.push(i.EditOperation.replace(we,Ce)),Ee=new a.Selection(ne.startLineNumber-le,ne.startColumn,ne.endLineNumber-le,ne.endColumn)):(q.push(i.EditOperation.replace(we,Ce)),Ee=new a.Selection(ne.startLineNumber-le,ne.startColumn,ne.startLineNumber-le,Ce.length-me)),u.Range.intersectRanges(we,T)!==null?oe=Ee:ee.push(Ee)}le+=we.endLineNumber-we.startLineNumber}ee.unshift(oe),se.pushUndoStop(),se.executeEdits(this.id,q,ee),se.pushUndoStop()}}}}}e.JoinLinesAction=A;class B extends w.EditorAction{constructor(){super({id:"editor.action.transpose",label:v.localize(21,null),alias:"Transpose characters around the cursor",precondition:l.EditorContextKeys.writable})}run(ae,se){let Z=se.getSelections();if(Z!==null){let T=se.getModel();if(T!==null){let x=[];for(let H=0,V=Z.length;H<V;H++){let q=Z[H];if(!!q.isEmpty()){let ee=q.getStartPosition(),oe=T.getLineMaxColumn(ee.lineNumber);if(ee.column>=oe){if(ee.lineNumber===T.getLineCount())continue;let le=new u.Range(ee.lineNumber,Math.max(1,ee.column-1),ee.lineNumber+1,1),Y=T.getValueInRange(le).split("").reverse().join("");x.push(new S.ReplaceCommand(new a.Selection(ee.lineNumber,Math.max(1,ee.column-1),ee.lineNumber+1,1),Y))}else{let le=new u.Range(ee.lineNumber,Math.max(1,ee.column-1),ee.lineNumber,ee.column+1),Y=T.getValueInRange(le).split("").reverse().join("");x.push(new S.ReplaceCommandThatPreservesSelection(le,Y,new a.Selection(ee.lineNumber,ee.column+1,ee.lineNumber,ee.column+1)))}}}se.pushUndoStop(),se.executeCommands(this.id,x),se.pushUndoStop()}}}}e.TransposeAction=B;class z extends w.EditorAction{run(ae,se){const Z=se.getSelections();if(Z!==null){const T=se.getModel();if(T!==null){const x=se.getOption(112),H=[];for(const V of Z)if(V.isEmpty()){const q=V.getStartPosition(),ee=se.getConfiguredWordAtPosition(q);if(!ee)continue;const oe=new u.Range(q.lineNumber,ee.startColumn,q.lineNumber,ee.endColumn),le=T.getValueInRange(oe);H.push(i.EditOperation.replace(oe,this._modifyText(le,x)))}else{const q=T.getValueInRange(V);H.push(i.EditOperation.replace(V,this._modifyText(q,x)))}se.pushUndoStop(),se.executeEdits(this.id,H),se.pushUndoStop()}}}}e.AbstractCaseAction=z;class U extends z{constructor(){super({id:"editor.action.transformToUppercase",label:v.localize(22,null),alias:"Transform to Uppercase",precondition:l.EditorContextKeys.writable})}_modifyText(ae,se){return ae.toLocaleUpperCase()}}e.UpperCaseAction=U;class K extends z{constructor(){super({id:"editor.action.transformToLowercase",label:v.localize(23,null),alias:"Transform to Lowercase",precondition:l.EditorContextKeys.writable})}_modifyText(ae,se){return ae.toLocaleLowerCase()}}e.LowerCaseAction=K;class G extends z{constructor(){super({id:"editor.action.transformToTitlecase",label:v.localize(24,null),alias:"Transform to Title Case",precondition:l.EditorContextKeys.writable})}_modifyText(ae,se){const T=(`\r
	 `+se).split("");let x="",H=!0;for(let V=0;V<ae.length;V++){let q=ae[V];T.indexOf(q)>=0?(H=!0,x+=q):H?(H=!1,x+=q.toLocaleUpperCase()):x+=q.toLocaleLowerCase()}return x}}e.TitleCaseAction=G;class J extends z{constructor(){super({id:"editor.action.transformToSnakecase",label:v.localize(25,null),alias:"Transform to Snake Case",precondition:l.EditorContextKeys.writable})}_modifyText(ae,se){return ae.replace(/(\p{Ll})(\p{Lu})/gmu,"$1_$2").replace(/(\p{Lu}|\p{N})(\p{Lu})(\p{Ll})/gmu,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=J,(0,w.registerEditorAction)(t),(0,w.registerEditorAction)(o),(0,w.registerEditorAction)(h),(0,w.registerEditorAction)(m),(0,w.registerEditorAction)(g),(0,w.registerEditorAction)(y),(0,w.registerEditorAction)(L),(0,w.registerEditorAction)(N),(0,w.registerEditorAction)(M),(0,w.registerEditorAction)(D),(0,w.registerEditorAction)(R),(0,w.registerEditorAction)(P),(0,w.registerEditorAction)(O),(0,w.registerEditorAction)(F),(0,w.registerEditorAction)(E),(0,w.registerEditorAction)(A),(0,w.registerEditorAction)(B),(0,w.registerEditorAction)(U),(0,w.registerEditorAction)(K),(0,w.registerEditorAction)(G),(0,w.registerEditorAction)(J)}),define(te[614],ie([0,1,381,13,19,2,14,24,3,18,15,31,16,25,23,28,11,8,22,12,29,42]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new a.RawContextKey("LinkedEditingInputVisible",!1);const f="linked-editing-decoration";let m=class bt extends w.Disposable{constructor(N,M){super();this._debounceDuration=200,this._localToDispose=this._register(new w.DisposableStore),this._editor=N,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(M),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new w.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize())),this._register(this._editor.onDidChangeConfiguration(D=>{(D.hasChanged(58)||D.hasChanged(78))&&this.reinitialize()})),this._register(i.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize())),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize())),this.reinitialize()}static get(N){return N.getContribution(bt.ID)}reinitialize(){const N=this._editor.getModel(),M=N!==null&&(this._editor.getOption(58)||this._editor.getOption(78))&&i.LinkedEditingRangeProviderRegistry.has(N);if(M!==this._enabled&&(this._enabled=M,this.clearRanges(),this._localToDispose.clear(),!(!M||N===null))){this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id),this._localToDispose.add(N.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id)}));const D=new _.Delayer(this._debounceDuration),R=()=>{this._rangeUpdateTriggerPromise=D.trigger(()=>this.updateRanges(),this._debounceDuration)},P=new _.Delayer(0),O=W=>{this._rangeSyncTriggerPromise=P.trigger(()=>this._syncRanges(W))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{R()})),this._localToDispose.add(this._editor.onDidChangeModelContent(W=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const F=N.getDecorationRange(this._currentDecorations[0]);if(F&&W.changes.every(E=>F.intersectRanges(E.range))){O(this._currentDecorations);return}}R()})),this._localToDispose.add({dispose:()=>{D.cancel(),P.cancel()}}),this.updateRanges()}}_syncRanges(N){if(!(!this._editor.hasModel()||N!==this._currentDecorations||N.length===0)){const M=this._editor.getModel(),D=M.getDecorationRange(N[0]);if(!D||D.startLineNumber!==D.endLineNumber)return this.clearRanges();const R=M.getValueInRange(D);if(this._currentWordPattern){const O=R.match(this._currentWordPattern);if((O?O[0].length:0)!==R.length)return this.clearRanges()}let P=[];for(let O=1,W=N.length;O<W;O++){const F=M.getDecorationRange(N[O]);if(!!F)if(F.startLineNumber!==F.endLineNumber)P.push({range:F,text:R});else{let E=M.getValueInRange(F),A=R,B=F.startColumn,z=F.endColumn;const U=n.commonPrefixLength(E,A);B+=U,E=E.substr(U),A=A.substr(U);const K=n.commonSuffixLength(E,A);z-=K,E=E.substr(0,E.length-K),A=A.substr(0,A.length-K),(B!==z||A.length!==0)&&P.push({range:new C.Range(F.startLineNumber,B,F.endLineNumber,z),text:A})}}if(P.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const O=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",P),this._editor._getViewModel().setPrevEditOperationType(O)}finally{this._ignoreChangeEvent=!1}}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(N=!1){return De(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const M=this._editor.getPosition();if(!this._enabled&&!N||this._editor.getSelections().length>1){this.clearRanges();return}const D=this._editor.getModel(),R=D.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===R){if(M.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const O=D.getDecorationRange(this._currentDecorations[0]);if(O&&O.containsPosition(M))return}}this._currentRequestPosition=M,this._currentRequestModelVersion=R;const P=(0,_.createCancelablePromise)(O=>De(this,void 0,void 0,function*(){try{const W=yield y(D,M,O);if(P!==this._currentRequest||(this._currentRequest=null,R!==D.getVersionId()))return;let F=[];(W==null?void 0:W.ranges)&&(F=W.ranges),this._currentWordPattern=(W==null?void 0:W.wordPattern)||this._languageWordPattern;let E=!1;for(let B=0,z=F.length;B<z;B++)if(C.Range.containsPosition(F[B],M)){if(E=!0,B!==0){const U=F[B];F.splice(B,1),F.unshift(U)}break}if(!E){this.clearRanges();return}const A=F.map(B=>({range:B,options:bt.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,A)}catch(W){(0,r.isPromiseCanceledError)(W)||(0,r.onUnexpectedError)(W),(this._currentRequest===P||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=P,P})}};m.ID="editor.contrib.linkedEditing",m.DECORATION=u.ModelDecorationOptions.register({stickiness:0,className:f}),m=Me([_e(1,a.IContextKeyService)],m),e.LinkedEditingContribution=m;class g extends I.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:v.localize(0,null),alias:"Start Linked Editing",precondition:a.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(N,M){const D=N.get(d.ICodeEditorService),[R,P]=Array.isArray(M)&&M||[void 0,void 0];return c.URI.isUri(R)&&S.Position.isIPosition(P)?D.openCodeEditor({resource:R},D.getActiveCodeEditor()).then(O=>{!O||(O.setPosition(P),O.invokeWithinContext(W=>(this.reportTelemetry(W,O),this.run(W,O))))},r.onUnexpectedError):super.runCommand(N,M)}run(N,M){const D=m.get(M);return D?Promise.resolve(D.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=g;const b=I.EditorCommand.bindToContribution(m.get);(0,I.registerEditorCommand)(new b({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:L=>L.clearRanges(),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function y(L,N,M){const D=i.LinkedEditingRangeProviderRegistry.ordered(L);return(0,_.first)(D.map(R=>()=>De(this,void 0,void 0,function*(){try{return yield R.provideLinkedEditingRanges(L,N,M)}catch(P){(0,r.onUnexpectedExternalError)(P);return}})),R=>!!R&&k.isNonEmptyArray(R==null?void 0:R.ranges))}e.editorLinkedEditingBackground=(0,s.registerColor)("editor.linkedEditingBackground",{dark:o.Color.fromHex("#f00").transparent(.3),light:o.Color.fromHex("#f00").transparent(.3),hc:o.Color.fromHex("#f00").transparent(.3)},v.localize(1,null)),(0,t.registerThemingParticipant)((L,N)=>{const M=L.getColor(e.editorLinkedEditingBackground);M&&N.addRule(`.monaco-editor .${f} { background: ${M}; border-left-color: ${M}; }`)}),(0,I.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(L,N)=>y(L,N,p.CancellationToken.None)),(0,I.registerEditorContribution)(m.ID,m),(0,I.registerEditorAction)(g)}),define(te[615],ie([0,1,382,15,24,11,78,2,17,13,31,18,274,473,33,59,22,12,23,45,46,422]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function h(y,L){const N=y.url&&/^command:/i.test(y.url.toString()),M=y.tooltip?y.tooltip:N?v.localize(0,null):v.localize(1,null),D=L?C.isMacintosh?v.localize(2,null):v.localize(3,null):C.isMacintosh?v.localize(4,null):v.localize(5,null);if(y.url){let R="";if(/^command:/i.test(y.url.toString())){const O=y.url.toString().match(/^command:([^?#]+)/);if(O){const W=O[1];R=` "${v.localize(6,null,W)}"`}}return new S.MarkdownString("",!0).appendMarkdown(`[${M}](${y.url.toString(!0)}${R}) (${D})`)}else return new S.MarkdownString().appendText(`${M} (${D})`)}const f={general:_.ModelDecorationOptions.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:_.ModelDecorationOptions.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class m{constructor(L,N){this.link=L,this.decorationId=N}static decoration(L,N){return{range:L.range,options:m._getOptions(L,N,!1)}}static _getOptions(L,N,M){const D=Object.assign({},M?f.active:f.general);return D.hoverMessage=h(L,N),D}activate(L,N){L.changeDecorationOptions(this.decorationId,m._getOptions(this.link,N,!0))}deactivate(L,N){L.changeDecorationOptions(this.decorationId,m._getOptions(this.link,N,!1))}}let g=class vt{constructor(L,N,M){this.listenersToRemove=new p.DisposableStore,this.editor=L,this.openerService=N,this.notificationService=M;let D=new a.ClickLinkGesture(L);this.listenersToRemove.add(D),this.listenersToRemove.add(D.onMouseMoveOrRelevantKeyDown(([R,P])=>{this._onEditorMouseMove(R,P)})),this.listenersToRemove.add(D.onExecute(R=>{this.onEditorMouseUp(R)})),this.listenersToRemove.add(D.onCancel(R=>{this.cleanUpActiveLinkDecoration()})),this.enabled=L.getOption(59),this.listenersToRemove.add(L.onDidChangeConfiguration(R=>{const P=L.getOption(59);this.enabled!==P&&(this.enabled=P,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(L.onDidChangeModelContent(R=>this.onChange())),this.listenersToRemove.add(L.onDidChangeModel(R=>this.onModelChanged())),this.listenersToRemove.add(L.onDidChangeModelLanguage(R=>this.onModelModeChanged())),this.listenersToRemove.add(u.LinkProviderRegistry.onDidChange(R=>this.onModelModeChanged())),this.timeout=new I.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(L){return L.getContribution(vt.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),vt.RECOMPUTE_TIME)}beginCompute(){return De(this,void 0,void 0,function*(){if(!(!this.editor.hasModel()||!this.enabled)){const L=this.editor.getModel();if(!!u.LinkProviderRegistry.has(L)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=I.createCancelablePromise(N=>(0,l.getLinks)(L,N));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(N){(0,w.onUnexpectedError)(N)}finally{this.computePromise=null}}}})}updateDecorations(L){const N=this.editor.getOption(66)==="altKey";let M=[],D=Object.keys(this.currentOccurrences);for(let O=0,W=D.length;O<W;O++){let F=D[O],E=this.currentOccurrences[F];M.push(E.decorationId)}let R=[];if(L)for(const O of L)R.push(m.decoration(O,N));let P=this.editor.deltaDecorations(M,R);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let O=0,W=P.length;O<W;O++){let F=new m(L[O],P[O]);this.currentOccurrences[F.decorationId]=F}}_onEditorMouseMove(L,N){const M=this.editor.getOption(66)==="altKey";if(this.isEnabled(L,N)){this.cleanUpActiveLinkDecoration();const D=this.getLinkOccurrence(L.target.position);D&&this.editor.changeDecorations(R=>{D.activate(R,M),this.activeLinkDecorationId=D.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const L=this.editor.getOption(66)==="altKey";if(this.activeLinkDecorationId){const N=this.currentOccurrences[this.activeLinkDecorationId];N&&this.editor.changeDecorations(M=>{N.deactivate(M,L)}),this.activeLinkDecorationId=null}}onEditorMouseUp(L){if(!!this.isEnabled(L)){const N=this.getLinkOccurrence(L.target.position);!N||this.openLinkOccurrence(N,L.hasSideBySideModifier,!0)}}openLinkOccurrence(L,N,M=!1){if(!!this.openerService){const{link:D}=L;D.resolve(k.CancellationToken.None).then(R=>{if(typeof R=="string"&&this.editor.hasModel()){const P=this.editor.getModel().uri;if(P.scheme===t.Schemas.file&&R.startsWith(`${t.Schemas.file}:`)){const O=s.URI.parse(R);if(O.scheme===t.Schemas.file){const W=o.originalFSPath(O);let F=null;W.startsWith("/./")?F=`.${W.substr(1)}`:W.startsWith("//./")&&(F=`.${W.substr(2)}`),F&&(R=o.joinPath(P,F))}}}return this.openerService.open(R,{openToSide:N,fromUserGesture:M,allowContributedOpeners:!0,allowCommands:!0})},R=>{const P=R instanceof Error?R.message:R;P==="invalid"?this.notificationService.warn(v.localize(7,null,D.url.toString())):P==="missing"?this.notificationService.warn(v.localize(8,null)):(0,w.onUnexpectedError)(R)})}}getLinkOccurrence(L){if(!this.editor.hasModel()||!L)return null;const N=this.editor.getModel().getDecorationsInRange({startLineNumber:L.lineNumber,startColumn:L.column,endLineNumber:L.lineNumber,endColumn:L.column},0,!0);for(const M of N){const D=this.currentOccurrences[M.id];if(D)return D}return null}isEnabled(L,N){return Boolean(L.target.type===6&&(L.hasTriggerModifier||N&&N.keyCodeIsTriggerKey))}stop(){var L;this.timeout.cancel(),this.activeLinksList&&((L=this.activeLinksList)===null||L===void 0||L.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};g.ID="editor.linkDetector",g.RECOMPUTE_TIME=1e3,g=Me([_e(1,d.IOpenerService),_e(2,c.INotificationService)],g),e.LinkDetector=g;class b extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:v.localize(9,null),alias:"Open Link",precondition:void 0})}run(L,N){let M=g.get(N);if(!!M&&!!N.hasModel()){let D=N.getSelections();for(let R of D){let P=M.getLinkOccurrence(R.getEndPosition());P&&M.openLinkOccurrence(P,!1)}}}}(0,i.registerEditorContribution)(g.ID,g),(0,i.registerEditorAction)(b),(0,n.registerThemingParticipant)((y,L)=>{const N=y.getColor(r.editorActiveLinkForeground);N&&L.addRule(`.monaco-editor .detected-link-active { color: ${N} !important; }`)})}),define(te[141],ie([0,1,383,15,2,40,3,13,16,12,22,94,423]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let a=class St{constructor(r,n){this._messageWidget=new k.MutableDisposable,this._messageListeners=new k.DisposableStore,this._editor=r,this._visible=St.MESSAGE_VISIBLE.bindTo(n),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(r){return r.getContribution(St.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(r,n){(0,w.alert)(r),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new c(this._editor,n,r),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new I.TimeoutTimer(()=>this.closeMessage(),3e3));let s;this._messageListeners.add(this._editor.onMouseMove(t=>{!t.target.position||(s?s.containsPosition(t.target.position)||this.closeMessage():s=new S.Range(n.lineNumber-3,1,t.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(c.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(v.localize(1,null),this._editor.getPosition())}};a.ID="editor.contrib.messageController",a.MESSAGE_VISIBLE=new C.RawContextKey("messageVisible",!1,v.localize(0,null)),a=Me([_e(1,C.IContextKeyService)],a),e.MessageController=a;const l=p.EditorCommand.bindToContribution(a.get);(0,p.registerEditorCommand)(new l({id:"leaveEditorMessage",precondition:a.MESSAGE_VISIBLE,handler:d=>d.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class c{constructor(r,{lineNumber:n,column:s},t){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=r,this._editor.revealLinesInCenterIfOutsideViewport(n,n,0),this._position={lineNumber:n,column:s-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const h=document.createElement("div");h.classList.add("message"),h.textContent=t,this._domNode.appendChild(h);const f=document.createElement("div");f.classList.add("anchor","below"),this._domNode.appendChild(f),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(r){let n;const s=()=>{r.dispose(),clearTimeout(n),r.getDomNode().removeEventListener("animationend",s)};return n=setTimeout(s,110),r.getDomNode().addEventListener("animationend",s),r.getDomNode().classList.add("fadeOut"),{dispose:s}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(r){this._domNode.classList.toggle("below",r===2)}}(0,p.registerEditorContribution)(a.ID,a),(0,i.registerThemingParticipant)((d,r)=>{const n=d.getColor(_.inputValidationInfoBorder);if(n){let o=d.type===u.ColorScheme.HIGH_CONTRAST?2:1;r.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${n}; }`),r.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${n}; }`),r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${o}px solid ${n}; }`)}const s=d.getColor(_.inputValidationInfoBackground);s&&r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${s}; }`);const t=d.getColor(_.inputValidationInfoForeground);t&&r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${t}; }`)})});var _t=this&&this.__classPrivateFieldSet||function($,e,v,I,k){if(I==="m")throw new TypeError("Private method is not writable");if(I==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?$!==e||!k:!e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return I==="a"?k.call($,v):k?k.value=v:e.set($,v),v},tt=this&&this.__classPrivateFieldGet||function($,e,v,I){if(v==="a"&&!I)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?$!==e||!I:!e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?I:v==="a"?I.call($):I?I.value:e.get($)};define(te[617],ie([0,1,11,177,2,141,9,595,564]),function($,e,v,I,k,w,S,p,C){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let _=class extends k.Disposable{constructor(a,l,c,d,r){super();this._editor=a,this.delegate=d,this._activeCodeActions=this._register(new k.MutableDisposable),i.set(this,!1),this._codeActionWidget=new I.Lazy(()=>this._register(r.createInstance(p.CodeActionMenu,this._editor,{onSelectCodeAction:n=>De(this,void 0,void 0,function*(){this.delegate.applyCodeAction(n,!0)})}))),this._lightBulbWidget=new I.Lazy(()=>{const n=this._register(r.createInstance(C.LightBulbWidget,this._editor,l,c));return this._register(n.onClick(s=>this.showCodeActionList(s.trigger,s.actions,s,{includeDisabledActions:!1}))),n})}dispose(){_t(this,i,!0,"f"),super.dispose()}update(a){var l,c,d;return De(this,void 0,void 0,function*(){if(a.type!==1){(l=this._lightBulbWidget.rawValue)===null||l===void 0||l.hide();return}let r;try{r=yield a.actions}catch(n){(0,v.onUnexpectedError)(n);return}if(!tt(this,i,"f"))if(this._lightBulbWidget.getValue().update(r,a.trigger,a.position),a.trigger.type===1){if((c=a.trigger.filter)===null||c===void 0?void 0:c.include){const s=this.tryGetValidActionToApply(a.trigger,r);if(s){try{yield this.delegate.applyCodeAction(s,!1)}finally{r.dispose()}return}if(a.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(a.trigger,r);if(t&&t.action.disabled){w.MessageController.get(this._editor).showMessage(t.action.disabled,a.trigger.context.position),r.dispose();return}}}const n=!!((d=a.trigger.filter)===null||d===void 0?void 0:d.include);if(a.trigger.context&&(!r.allActions.length||!n&&!r.validActions.length)){w.MessageController.get(this._editor).showMessage(a.trigger.context.notAvailableMessage,a.trigger.context.position),this._activeCodeActions.value=r,r.dispose();return}this._activeCodeActions.value=r,this._codeActionWidget.getValue().show(a.trigger,r,a.position,{includeDisabledActions:n})}else this._codeActionWidget.getValue().isVisible?r.dispose():this._activeCodeActions.value=r})}getInvalidActionThatWouldHaveBeenApplied(a,l){if(!!l.allActions.length&&(a.autoApply==="first"&&l.validActions.length===0||a.autoApply==="ifSingle"&&l.allActions.length===1))return l.allActions.find(({action:c})=>c.disabled)}tryGetValidActionToApply(a,l){if(!!l.validActions.length&&(a.autoApply==="first"&&l.validActions.length>0||a.autoApply==="ifSingle"&&l.validActions.length===1))return l.validActions[0]}showCodeActionList(a,l,c,d){return De(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(a,l,c,d)})}};i=new WeakMap,_=Me([_e(4,S.IInstantiationService)],_),e.CodeActionUi=_}),define(te[254],ie([0,1,24,177,2,8,13,127,25,139,617,141,352,26,16,9,81,33,57,84,596,124]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function f(F){return c.ContextKeyExpr.regex(o.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,w.escapeRegExpCharacters)(F.value)+"\\b"))}const m={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:a.localize(0,null)},apply:{type:"string",description:a.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[a.localize(2,null),a.localize(3,null),a.localize(4,null)]},preferred:{type:"boolean",default:!1,description:a.localize(5,null)}}};let g=class xt extends k.Disposable{constructor(E,A,B,z,U){super();this._instantiationService=U,this._editor=E,this._model=this._register(new o.CodeActionModel(this._editor,A,B,z)),this._register(this._model.onDidChangeState(K=>this.update(K))),this._ui=new I.Lazy(()=>this._register(new _.CodeActionUi(E,N.Id,W.Id,{applyCodeAction:(K,G)=>De(this,void 0,void 0,function*(){try{yield this._applyCodeAction(K)}finally{G&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(E){return E.getContribution(xt.ID)}update(E){this._ui.getValue().update(E)}showCodeActions(E,A,B){return this._ui.getValue().showCodeActionList(E,A,B,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(E,A,B){if(!!this._editor.hasModel()){u.MessageController.get(this._editor).closeMessage();const z=this._editor.getPosition();this._trigger({type:1,filter:A,autoApply:B,context:{notAvailableMessage:E,position:z}})}}_trigger(E){return this._model.trigger(E)}_applyCodeAction(E){return this._instantiationService.invokeFunction(b,E,this._editor)}};g.ID="editor.contrib.quickFixController",g=Me([_e(1,r.IMarkerService),_e(2,c.IContextKeyService),_e(3,s.IEditorProgressService),_e(4,d.IInstantiationService)],g),e.QuickFixController=g;function b(F,E,A){return De(this,void 0,void 0,function*(){const B=F.get(p.IBulkEditService),z=F.get(l.ICommandService),U=F.get(t.ITelemetryService),K=F.get(n.INotificationService);if(U.publicLog2("codeAction.applyCodeAction",{codeActionTitle:E.action.title,codeActionKind:E.action.kind,codeActionIsPreferred:!!E.action.isPreferred}),yield E.resolve(v.CancellationToken.None),E.action.edit&&(yield B.apply(p.ResourceEdit.convert(E.action.edit),{editor:A,label:E.action.title})),E.action.command)try{yield z.executeCommand(E.action.command.id,...E.action.command.arguments||[])}catch(G){const J=y(G);K.error(typeof J=="string"?J:a.localize(6,null))}})}e.applyCodeAction=b;function y(F){return typeof F=="string"?F:F instanceof Error&&typeof F.message=="string"?F.message:void 0}function L(F,E,A,B){if(F.hasModel()){const z=g.get(F);z&&z.manualTriggerAtCurrentPosition(E,A,B)}}class N extends S.EditorAction{constructor(){super({id:N.Id,label:a.localize(7,null),alias:"Quick Fix...",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(E,A){return L(A,a.localize(8,null),void 0,void 0)}}e.QuickFixAction=N,N.Id="editor.action.quickFix";class M extends S.EditorCommand{constructor(){super({id:i.codeActionCommandId,precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:m}]}})}runEditorCommand(E,A,B){const z=h.CodeActionCommandArgs.fromUser(B,{kind:h.CodeActionKind.Empty,apply:"ifSingle"});return L(A,typeof(B==null?void 0:B.kind)=="string"?z.preferred?a.localize(9,null,B.kind):a.localize(10,null,B.kind):z.preferred?a.localize(11,null):a.localize(12,null),{include:z.kind,includeSourceActions:!0,onlyIncludePreferredActions:z.preferred},z.apply)}}e.CodeActionCommand=M;class D extends S.EditorAction{constructor(){super({id:i.refactorCommandId,label:a.localize(13,null),alias:"Refactor...",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:c.ContextKeyExpr.and(C.EditorContextKeys.writable,f(h.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:m}]}})}run(E,A,B){const z=h.CodeActionCommandArgs.fromUser(B,{kind:h.CodeActionKind.Refactor,apply:"never"});return L(A,typeof(B==null?void 0:B.kind)=="string"?z.preferred?a.localize(14,null,B.kind):a.localize(15,null,B.kind):z.preferred?a.localize(16,null):a.localize(17,null),{include:h.CodeActionKind.Refactor.contains(z.kind)?z.kind:h.CodeActionKind.None,onlyIncludePreferredActions:z.preferred},z.apply)}}e.RefactorAction=D;class R extends S.EditorAction{constructor(){super({id:i.sourceActionCommandId,label:a.localize(18,null),alias:"Source Action...",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:c.ContextKeyExpr.and(C.EditorContextKeys.writable,f(h.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:m}]}})}run(E,A,B){const z=h.CodeActionCommandArgs.fromUser(B,{kind:h.CodeActionKind.Source,apply:"never"});return L(A,typeof(B==null?void 0:B.kind)=="string"?z.preferred?a.localize(19,null,B.kind):a.localize(20,null,B.kind):z.preferred?a.localize(21,null):a.localize(22,null),{include:h.CodeActionKind.Source.contains(z.kind)?z.kind:h.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:z.preferred},z.apply)}}e.SourceAction=R;class P extends S.EditorAction{constructor(){super({id:i.organizeImportsCommandId,label:a.localize(23,null),alias:"Organize Imports",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,f(h.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(E,A){return L(A,a.localize(24,null),{include:h.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=P;class O extends S.EditorAction{constructor(){super({id:i.fixAllCommandId,label:a.localize(25,null),alias:"Fix All",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,f(h.CodeActionKind.SourceFixAll))})}run(E,A){return L(A,a.localize(26,null),{include:h.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=O;class W extends S.EditorAction{constructor(){super({id:W.Id,label:a.localize(27,null),alias:"Auto Fix...",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,f(h.CodeActionKind.QuickFix)),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(E,A){return L(A,a.localize(28,null),{include:h.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=W,W.Id="editor.action.autoFix"}),define(te[619],ie([0,1,13,254]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,v.registerEditorContribution)(I.QuickFixController.ID,I.QuickFixController),(0,v.registerEditorAction)(I.QuickFixAction),(0,v.registerEditorAction)(I.RefactorAction),(0,v.registerEditorAction)(I.SourceAction),(0,v.registerEditorAction)(I.OrganizeImportsAction),(0,v.registerEditorAction)(I.AutoFixAction),(0,v.registerEditorAction)(I.FixAllAction),(0,v.registerEditorCommand)(new I.CodeActionCommand)}),define(te[620],ie([0,1,390,11,16,57,13,25,575,18,14,40,3,141,68,33,127,23,28,24,2,15,69,9,32,88,144,20]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m,g,b,y,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class N{constructor(W,F){this.model=W,this.position=F,this._providerRenameIdx=0,this._providers=i.RenameProviderRegistry.ordered(W)}hasProvider(){return this._providers.length>0}resolveRenameLocation(W){return De(this,void 0,void 0,function*(){const F=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const A=this._providers[this._providerRenameIdx];if(!A.resolveRenameLocation)break;let B=yield A.resolveRenameLocation(this.model,this.position,W);if(!!B){if(B.rejectReason){F.push(B.rejectReason);continue}return B}}const E=this.model.getWordAtPosition(this.position);return E?{range:new a.Range(this.position.lineNumber,E.startColumn,this.position.lineNumber,E.endColumn),text:E.word,rejectReason:F.length>0?F.join(`
`):void 0}:{range:a.Range.fromPositions(this.position),text:"",rejectReason:F.length>0?F.join(`
`):void 0}})}provideRenameEdits(W,F){return De(this,void 0,void 0,function*(){return this._provideRenameEdits(W,this._providerRenameIdx,[],F)})}_provideRenameEdits(W,F,E,A){return De(this,void 0,void 0,function*(){const B=this._providers[F];if(!B)return{edits:[],rejectReason:E.join(`
`)};const z=yield B.provideRenameEdits(this.model,this.position,W,A);if(z){if(z.rejectReason)return this._provideRenameEdits(W,F+1,E.concat(z.rejectReason),A)}else return this._provideRenameEdits(W,F+1,E.concat(v.localize(0,null)),A);return z})}}function M(O,W,F){return De(this,void 0,void 0,function*(){const E=new N(O,W),A=yield E.resolveRenameLocation(t.CancellationToken.None);return(A==null?void 0:A.rejectReason)?{edits:[],rejectReason:A.rejectReason}:E.provideRenameEdits(F,t.CancellationToken.None)})}e.rename=M;let D=class Vt{constructor(W,F,E,A,B,z,U){this.editor=W,this._instaService=F,this._notificationService=E,this._bulkEditService=A,this._progressService=B,this._logService=z,this._configService=U,this._dispoableStore=new o.DisposableStore,this._cts=new t.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new h.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(C.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(W){return W.getContribution(Vt.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return De(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!!this.editor.hasModel()){const W=this.editor.getPosition(),F=new N(this.editor.getModel(),W);if(!!F.hasProvider()){this._cts=new c.EditorStateCancellationTokenSource(this.editor,4|1);let E;try{const J=F.resolveRenameLocation(this._cts.token);this._progressService.showWhile(J,250),E=yield J}catch(J){l.MessageController.get(this.editor).showMessage(J||v.localize(1,null),W);return}if(!!E){if(E.rejectReason){l.MessageController.get(this.editor).showMessage(E.rejectReason,W);return}if(!this._cts.token.isCancellationRequested){this._cts.dispose(),this._cts=new c.EditorStateCancellationTokenSource(this.editor,4|1,E.range);let A=this.editor.getSelection(),B=0,z=E.text.length;!a.Range.isEmpty(A)&&!a.Range.spansMultipleLines(A)&&a.Range.containsRange(E.range,A)&&(B=Math.max(0,A.startColumn-E.range.startColumn),z=Math.min(E.range.endColumn,A.endColumn)-E.range.startColumn);const U=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),K=yield this._renameInputField.value.getInput(E.range,E.text,B,z,U,this._cts.token);if(typeof K=="boolean"){K&&this.editor.focus();return}this.editor.focus();const G=(0,h.raceCancellation)(F.provideRenameEdits(K.newName,this._cts.token),this._cts.token).then(J=>De(this,void 0,void 0,function*(){if(!(!J||!this.editor.hasModel())){if(J.rejectReason){this._notificationService.info(J.rejectReason);return}this._bulkEditService.apply(r.ResourceEdit.convert(J),{editor:this.editor,showPreview:K.wantsPreview,label:v.localize(2,null,E==null?void 0:E.text),quotableLabel:v.localize(3,null,E==null?void 0:E.text)}).then(Q=>{Q.ariaSummary&&(0,u.alert)(v.localize(4,null,E.text,K.newName,Q.ariaSummary))}).catch(Q=>{this._notificationService.error(v.localize(5,null)),this._logService.error(Q)})}}),J=>{this._notificationService.error(v.localize(6,null)),this._logService.error(J)});return this._progressService.showWhile(G,250),G}}}}})}acceptRenameInput(W){this._renameInputField.value.acceptInput(W)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};D.ID="editor.contrib.renameController",D=Me([_e(1,m.IInstantiationService),_e(2,d.INotificationService),_e(3,r.IBulkEditService),_e(4,w.IEditorProgressService),_e(5,f.ILogService),_e(6,y.ITextResourceConfigurationService)],D);class R extends S.EditorAction{constructor(){super({id:"editor.action.rename",label:v.localize(7,null),alias:"Rename Symbol",precondition:k.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(W,F){const E=W.get(s.ICodeEditorService),[A,B]=Array.isArray(F)&&F||[void 0,void 0];return n.URI.isUri(A)&&_.Position.isIPosition(B)?E.openCodeEditor({resource:A},E.getActiveCodeEditor()).then(z=>{!z||(z.setPosition(B),z.invokeWithinContext(U=>(this.reportTelemetry(U,z),this.run(U,z))))},I.onUnexpectedError):super.runCommand(W,F)}run(W,F){const E=D.get(F);return E?E.run():Promise.resolve()}}e.RenameAction=R,(0,S.registerEditorContribution)(D.ID,D),(0,S.registerEditorAction)(R);const P=S.EditorCommand.bindToContribution(D.get);(0,S.registerEditorCommand)(new P({id:"acceptRenameInput",precondition:C.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:p.EditorContextKeys.focus,primary:3}})),(0,S.registerEditorCommand)(new P({id:"acceptRenameInputWithPreview",precondition:k.ContextKeyExpr.and(C.CONTEXT_RENAME_INPUT_VISIBLE,k.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:O=>O.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:p.EditorContextKeys.focus,primary:1024+3}})),(0,S.registerEditorCommand)(new P({id:"cancelRenameInput",precondition:C.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:p.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,S.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(O,W,...F){const[E]=F;return(0,L.assertType)(typeof E=="string"),M(O,W,E)}),g.Registry.as(b.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:v.localize(8,null),default:!0,type:"boolean"}}})}),define(te[621],ie([0,1,19,24,13,14,3,21,25,18,392,34,281,216,26,11]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class r{constructor(m,g){this.index=m,this.ranges=g}mov(m){let g=this.index+(m?1:-1);if(g<0||g>=this.ranges.length)return this;const b=new r(g,this.ranges);return b.ranges[g].equalsRange(this.ranges[this.index])?b.mov(m):b}}class n{constructor(m){this._editor=m,this._ignoreSelection=!1}static get(m){return m.getContribution(n.ID)}dispose(){var m;(m=this._selectionListener)===null||m===void 0||m.dispose()}run(m){return De(this,void 0,void 0,function*(){if(!!this._editor.hasModel()){const g=this._editor.getSelections(),b=this._editor.getModel();if(!!i.SelectionRangeRegistry.has(b)&&(this._state||(yield h(b,g.map(L=>L.getPosition()),this._editor.getOption(99),I.CancellationToken.None).then(L=>{var N;if(!(!v.isNonEmptyArray(L)||L.length!==g.length)&&!(!this._editor.hasModel()||!v.equals(this._editor.getSelections(),g,(M,D)=>M.equalsSelection(D)))){for(let M=0;M<L.length;M++)L[M]=L[M].filter(D=>D.containsPosition(g[M].getStartPosition())&&D.containsPosition(g[M].getEndPosition())),L[M].unshift(g[M]);this._state=L.map(M=>new r(0,M)),(N=this._selectionListener)===null||N===void 0||N.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var M;this._ignoreSelection||((M=this._selectionListener)===null||M===void 0||M.dispose(),this._state=void 0)})}})),!!this._state)){this._state=this._state.map(L=>L.mov(m));const y=this._state.map(L=>p.Selection.fromPositions(L.ranges[L.index].getStartPosition(),L.ranges[L.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(y)}finally{this._ignoreSelection=!1}}}})}}n.ID="editor.contrib.smartSelectController";class s extends k.EditorAction{constructor(m,g){super(g);this._forward=m}run(m,g){return De(this,void 0,void 0,function*(){let b=n.get(g);b&&(yield b.run(this._forward))})}}class t extends s{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:_.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"1_basic",title:_.localize(1,null),order:2}})}}c.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class o extends s{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:_.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"1_basic",title:_.localize(3,null),order:3}})}}(0,k.registerEditorContribution)(n.ID,n),(0,k.registerEditorAction)(t),(0,k.registerEditorAction)(o),i.SelectionRangeRegistry.register("*",new a.WordSelectionRangeProvider);function h(f,m,g,b){return De(this,void 0,void 0,function*(){const y=i.SelectionRangeRegistry.all(f);y.length===1&&y.unshift(new l.BracketSelectionRangeProvider);let L=[],N=[];for(const M of y)L.push(Promise.resolve(M.provideSelectionRanges(f,m,b)).then(D=>{if(v.isNonEmptyArray(D)&&D.length===m.length)for(let R=0;R<m.length;R++){N[R]||(N[R]=[]);for(const P of D[R])S.Range.isIRange(P.range)&&S.Range.containsPosition(P.range,m[R])&&N[R].push(S.Range.lift(P.range))}},d.onUnexpectedExternalError));return yield Promise.all(L),N.map(M=>{if(M.length===0)return[];M.sort((O,W)=>w.Position.isBefore(O.getStartPosition(),W.getStartPosition())?1:w.Position.isBefore(W.getStartPosition(),O.getStartPosition())||w.Position.isBefore(O.getEndPosition(),W.getEndPosition())?-1:w.Position.isBefore(W.getEndPosition(),O.getEndPosition())?1:0);let D=[],R;for(const O of M)(!R||S.Range.containsRange(O,R)&&!S.Range.equalsRange(O,R))&&(D.push(O),R=O);if(!g.selectLeadingAndTrailingWhitespace)return D;let P=[D[0]];for(let O=1;O<D.length;O++){const W=D[O-1],F=D[O];if(F.startLineNumber!==W.startLineNumber||F.endLineNumber!==W.endLineNumber){const E=new S.Range(W.startLineNumber,f.getLineFirstNonWhitespaceColumn(W.startLineNumber),W.endLineNumber,f.getLineLastNonWhitespaceColumn(W.endLineNumber));E.containsRange(W)&&!E.equalsRange(W)&&F.containsRange(E)&&!F.equalsRange(E)&&P.push(E);const A=new S.Range(W.startLineNumber,1,W.endLineNumber,f.getLineMaxColumn(W.endLineNumber));A.containsRange(W)&&!A.equalsRange(E)&&F.containsRange(A)&&!F.equalsRange(A)&&P.push(A)}P.push(F)}return P})})}e.provideSelectionRanges=h,(0,k.registerModelCommand)("_executeSelectionRangeProvider",function(f,...m){const[g]=m;return h(f,g,{selectLeadingAndTrailingWhitespace:!0},I.CancellationToken.None)})}),define(te[112],ie([0,1,11,18,14,16,24,3,70,2,34,135,82,26,20,23,66,395]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new w.RawContextKey("suggestWidgetVisible",!1,(0,n.localize)(0,null)),DetailsVisible:new w.RawContextKey("suggestWidgetDetailsVisible",!1,(0,n.localize)(1,null)),MultipleSuggestions:new w.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,n.localize)(2,null)),MakesTextEdit:new w.RawContextKey("suggestionMakesTextEdit",!0,(0,n.localize)(3,null)),AcceptSuggestionsOnEnter:new w.RawContextKey("acceptSuggestionOnEnter",!0,(0,n.localize)(4,null)),HasInsertAndReplaceRange:new w.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,n.localize)(5,null)),InsertMode:new w.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,n.localize)(6,null)}),CanResolve:new w.RawContextKey("suggestionCanResolve",!1,(0,n.localize)(7,null))},e.suggestWidgetStatusbarMenu=new _.MenuId("suggestWidgetStatusBar");class s{constructor(P,O,W,F){this.position=P,this.completion=O,this.container=W,this.provider=F,this.isInvalid=!1,this.score=C.FuzzyScore.Default,this.distance=0,this.textLabel=typeof O.label=="string"?O.label:O.label.name,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=O.sortText&&O.sortText.toLowerCase(),this.filterTextLow=O.filterText&&O.filterText.toLowerCase(),p.Range.isIRange(O.range)?(this.editStart=new k.Position(O.range.startLineNumber,O.range.startColumn),this.editInsertEnd=new k.Position(O.range.endLineNumber,O.range.endColumn),this.editReplaceEnd=new k.Position(O.range.endLineNumber,O.range.endColumn),this.isInvalid=this.isInvalid||p.Range.spansMultipleLines(O.range)||O.range.startLineNumber!==P.lineNumber):(this.editStart=new k.Position(O.range.insert.startLineNumber,O.range.insert.startColumn),this.editInsertEnd=new k.Position(O.range.insert.endLineNumber,O.range.insert.endColumn),this.editReplaceEnd=new k.Position(O.range.replace.endLineNumber,O.range.replace.endColumn),this.isInvalid=this.isInvalid||p.Range.spansMultipleLines(O.range.insert)||p.Range.spansMultipleLines(O.range.replace)||O.range.insert.startLineNumber!==P.lineNumber||O.range.replace.startLineNumber!==P.lineNumber||O.range.insert.startColumn!==O.range.replace.startColumn),typeof F.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(P){return De(this,void 0,void 0,function*(){if(!this._resolveCache){const O=P.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,P)).then(W=>{Object.assign(this.completion,W),this._isResolved=!0,O.dispose()},W=>{(0,v.isPromiseCanceledError)(W)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=s;class t{constructor(P=2,O=new Set,W=new Set){this.snippetSortOrder=P,this.kindFilter=O,this.providerFilter=W}}e.CompletionOptions=t,t.default=new t;let o;function h(){return o}e.getSnippetSuggestSupport=h;class f{constructor(P,O,W,F){this.items=P,this.needsClipboard=O,this.durations=W,this.disposable=F}}e.CompletionItemModel=f;function m(R,P,O=t.default,W={triggerKind:0},F=S.CancellationToken.None){return De(this,void 0,void 0,function*(){const E=new a.StopWatch(!0);P=P.clone();const A=R.getWordAtPosition(P),B=A?new p.Range(P.lineNumber,A.startColumn,P.lineNumber,A.endColumn):p.Range.fromPositions(P),z={replace:B,insert:B.setEndPosition(P.lineNumber,P.column)},U=[],K=new i.DisposableStore,G=[];let J=!1;const Q=(se,Z,T)=>{var x,H;if(!!Z){for(let V of Z.suggestions)O.kindFilter.has(V.kind)||(V.range||(V.range=z),V.sortText||(V.sortText=typeof V.label=="string"?V.label:V.label.name),!J&&V.insertTextRules&&V.insertTextRules&4&&(J=u.SnippetParser.guessNeedsClipboard(V.insertText)),U.push(new s(P,V,Z,se)));(0,i.isDisposable)(Z)&&K.add(Z),G.push({providerName:(x=se._debugDisplayName)!==null&&x!==void 0?x:"unkown_provider",elapsedProvider:(H=Z.duration)!==null&&H!==void 0?H:-1,elapsedOverall:T.elapsed()})}},ae=(()=>De(this,void 0,void 0,function*(){if(!(!o||O.kindFilter.has(27))&&!(O.providerFilter.size>0&&!O.providerFilter.has(o))){const se=new a.StopWatch(!0),Z=yield o.provideCompletionItems(R,P,W,F);Q(o,Z,se)}}))();for(let se of I.CompletionProviderRegistry.orderedGroups(R)){let Z=U.length;if(yield Promise.all(se.map(T=>De(this,void 0,void 0,function*(){if(!(O.providerFilter.size>0&&!O.providerFilter.has(T)))try{const x=new a.StopWatch(!0),H=yield T.provideCompletionItems(R,P,W,F);Q(T,H,x)}catch(x){(0,v.onUnexpectedExternalError)(x)}}))),Z!==U.length||F.isCancellationRequested)break}return yield ae,F.isCancellationRequested?(K.dispose(),Promise.reject((0,v.canceled)())):new f(U.sort(N(O.snippetSortOrder)),J,{entries:G,elapsed:E.elapsed()},K)})}e.provideSuggestionItems=m;function g(R,P){if(R.sortTextLow&&P.sortTextLow){if(R.sortTextLow<P.sortTextLow)return-1;if(R.sortTextLow>P.sortTextLow)return 1}return R.completion.label<P.completion.label?-1:R.completion.label>P.completion.label?1:R.completion.kind-P.completion.kind}function b(R,P){if(R.completion.kind!==P.completion.kind){if(R.completion.kind===27)return-1;if(P.completion.kind===27)return 1}return g(R,P)}function y(R,P){if(R.completion.kind!==P.completion.kind){if(R.completion.kind===27)return 1;if(P.completion.kind===27)return-1}return g(R,P)}const L=new Map;L.set(0,b),L.set(2,y),L.set(1,g);function N(R){return L.get(R)}e.getSuggestionComparator=N,l.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(R,...P)=>De(void 0,void 0,void 0,function*(){const[O,W,F,E]=P;(0,c.assertType)(d.URI.isUri(O)),(0,c.assertType)(k.Position.isIPosition(W)),(0,c.assertType)(typeof F=="string"||!F),(0,c.assertType)(typeof E=="number"||!E);const A=yield R.get(r.ITextModelService).createModelReference(O);try{const B={incomplete:!1,suggestions:[]},z=[],U=yield m(A.object.textEditorModel,k.Position.lift(W),void 0,{triggerCharacter:F,triggerKind:F?1:0});for(const K of U.items)z.length<(E!=null?E:0)&&z.push(K.resolve(S.CancellationToken.None)),B.incomplete=B.incomplete||K.container.incomplete,B.suggestions.push(K.completion);try{return yield Promise.all(z),B}finally{setTimeout(()=>U.disposable.dispose(),100)}}finally{A.dispose()}}));const M=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let P={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,P}};I.CompletionProviderRegistry.register("*",M);function D(R,P){setTimeout(()=>{M.onlyOnceSuggestions.push(...P),R.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(M))},0)}e.showSimpleSuggestions=D}),define(te[256],ie([0,1,402,40,13,161]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class S extends k.EditorAction{constructor(){super({id:S.ID,label:v.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(C,i){const u=!w.TabFocus.getTabFocusMode();w.TabFocus.setTabFocusMode(u),u?(0,I.alert)(v.localize(1,null)):(0,I.alert)(v.localize(2,null))}}e.ToggleTabFocusModeAction=S,S.ID="editor.action.toggleTabFocusMode",(0,k.registerEditorAction)(S)}),define(te[624],ie([0,1,403,13,82]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends I.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:v.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(p,C){if(!!C.hasModel()){const i=C.getModel();i.resetTokenization();const _=new k.StopWatch(!0);i.forceTokenization(i.getLineCount()),_.stop(),console.log(`tokenization took ${_.elapsed()}`)}}}(0,I.registerEditorAction)(w)}),define(te[625],ie([0,1,404,2,13,28,179]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const p="ignoreUnusualLineTerminators";function C(u,a,l){u.setModelProperty(a.uri,p,l)}function i(u,a){return u.getModelProperty(a.uri,p)}let _=class extends I.Disposable{constructor(a,l,c){super();this._editor=a,this._dialogService=l,this._codeEditorService=c,this._config=this._editor.getOption(110),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(110)&&(this._config=this._editor.getOption(110),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(d=>{d.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return De(this,void 0,void 0,function*(){if(this._config!=="off"&&!!this._editor.hasModel()){const a=this._editor.getModel();if(!!a.mightContainUnusualLineTerminators()&&i(this._codeEditorService,a)!==!0&&!this._editor.getOption(77)){if(this._config==="auto"){a.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:v.localize(0,null),message:v.localize(1,null),detail:v.localize(2,null),primaryButton:v.localize(3,null),secondaryButton:v.localize(4,null)})).confirmed){C(this._codeEditorService,a,!0);return}a.removeUnusualLineTerminators(this._editor.getSelections())}}})}};_.ID="editor.contrib.unusualLineTerminatorsDetector",_=Me([_e(1,S.IDialogService),_e(2,w.ICodeEditorService)],_),(0,k.registerEditorContribution)(_.ID,_)}),define(te[626],ie([0,1,405,19,15,24,11,2,13,3,25,50,31,18,16,22,12,40]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const s=(0,d.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},v.localize(0,null),!0),t=(0,d.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},v.localize(1,null),!0),o=(0,d.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hc:d.activeContrastBorder},v.localize(2,null)),h=(0,d.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:d.activeContrastBorder},v.localize(3,null)),f=(0,d.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},v.localize(4,null),!0),m=(0,d.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},v.localize(5,null),!0),g=new c.RawContextKey("hasWordHighlights",!1);function b(E,A,B){const z=l.DocumentHighlightProviderRegistry.ordered(E);return(0,k.first)(z.map(U=>()=>Promise.resolve(U.provideDocumentHighlights(E,A,B)).then(void 0,S.onUnexpectedExternalError)),I.isNonEmptyArray)}e.getOccurrencesAtPosition=b;class y{constructor(A,B,z){this._wordRange=this._getCurrentWordRange(A,B),this.result=(0,k.createCancelablePromise)(U=>this._compute(A,B,z,U))}_getCurrentWordRange(A,B){const z=A.getWordAtPosition(B.getPosition());return z?new i.Range(B.startLineNumber,z.startColumn,B.startLineNumber,z.endColumn):null}isValid(A,B,z){const U=B.startLineNumber,K=B.startColumn,G=B.endColumn,J=this._getCurrentWordRange(A,B);let Q=Boolean(this._wordRange&&this._wordRange.equalsRange(J));for(let ae=0,se=z.length;!Q&&ae<se;ae++){let Z=A.getDecorationRange(z[ae]);Z&&Z.startLineNumber===U&&Z.startColumn<=K&&Z.endColumn>=G&&(Q=!0)}return Q}cancel(){this.result.cancel()}}class L extends y{_compute(A,B,z,U){return b(A,B.getPosition(),U).then(K=>K||[])}}class N extends y{constructor(A,B,z){super(A,B,z);this._selectionIsEmpty=B.isEmpty()}_compute(A,B,z,U){return(0,k.timeout)(250,U).then(()=>{if(!B.isEmpty())return[];const K=A.getWordAtPosition(B.getPosition());return!K||K.word.length>1e3?[]:A.findMatches(K.word,!0,!1,!0,z,!1).map(J=>({range:J.range,kind:l.DocumentHighlightKind.Text}))})}isValid(A,B,z){const U=B.isEmpty();return this._selectionIsEmpty!==U?!1:super.isValid(A,B,z)}}function M(E,A,B){return l.DocumentHighlightProviderRegistry.has(E)?new L(E,A,B):new N(E,A,B)}(0,C.registerModelAndPositionCommand)("_executeDocumentHighlights",(E,A)=>b(E,A,w.CancellationToken.None));class D{constructor(A,B){this.toUnhook=new p.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=A,this._hasWordHighlights=g.bindTo(B),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(68),this.model=this.editor.getModel(),this.toUnhook.add(A.onDidChangeCursorPosition(z=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(z)})),this.toUnhook.add(A.onDidChangeModelContent(z=>{this._stopAll()})),this.toUnhook.add(A.onDidChangeConfiguration(z=>{let U=this.editor.getOption(68);this.occurrencesHighlight!==U&&(this.occurrencesHighlight=U,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return I.coalesce(this._decorationIds.map(A=>this.model.getDecorationRange(A)).sort(i.Range.compareRangesUsingStarts))}moveNext(){let A=this._getSortedHighlights(),z=(A.findIndex(K=>K.containsPosition(this.editor.getPosition()))+1)%A.length,U=A[z];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const K=this._getWord();if(K){const G=this.editor.getModel().getLineContent(U.startLineNumber);(0,n.alert)(`${G}, ${z+1} of ${A.length} for '${K.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let A=this._getSortedHighlights(),z=(A.findIndex(K=>K.containsPosition(this.editor.getPosition()))-1+A.length)%A.length,U=A[z];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const K=this._getWord();if(K){const G=this.editor.getModel().getLineContent(U.startLineNumber);(0,n.alert)(`${G}, ${z+1} of ${A.length} for '${K.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(A){if(!this.occurrencesHighlight){this._stopAll();return}if(A.reason!==3){this._stopAll();return}this._run()}_getWord(){let A=this.editor.getSelection(),B=A.startLineNumber,z=A.startColumn;return this.model.getWordAtPosition({lineNumber:B,column:z})}_run(){let A=this.editor.getSelection();if(A.startLineNumber!==A.endLineNumber){this._stopAll();return}let B=A.startColumn,z=A.endColumn;const U=this._getWord();if(!U||U.startColumn>B||U.endColumn<z){this._stopAll();return}const K=this.workerRequest&&this.workerRequest.isValid(this.model,A,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),K)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let G=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=M(this.model,this.editor.getSelection(),this.editor.getOption(112)),this.workerRequest.result.then(J=>{G===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=J||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){let A=new Date().getTime(),B=this.lastCursorPositionChangeTime+250;A>=B?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},B-A)}renderDecorations(){this.renderDecorationsTimer=-1;let A=[];for(const B of this.workerRequestValue)B.range&&A.push({range:B.range,options:D._getDecorationOptions(B.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,A),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(A){return A===l.DocumentHighlightKind.Write?this._WRITE_OPTIONS:A===l.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}D._WRITE_OPTIONS=a.ModelDecorationOptions.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,r.themeColorFromId)(m),position:u.OverviewRulerLane.Center}}),D._TEXT_OPTIONS=a.ModelDecorationOptions.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,r.themeColorFromId)(d.overviewRulerSelectionHighlightForeground),position:u.OverviewRulerLane.Center}}),D._REGULAR_OPTIONS=a.ModelDecorationOptions.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,r.themeColorFromId)(f),position:u.OverviewRulerLane.Center}});let R=class zt extends p.Disposable{constructor(A,B){super();this.wordHighlighter=null;const z=()=>{A.hasModel()&&(this.wordHighlighter=new D(A,B))};this._register(A.onDidChangeModel(U=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),z()})),z()}static get(A){return A.getContribution(zt.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(A){this.wordHighlighter&&A&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};R.ID="editor.contrib.wordHighlighter",R=Me([_e(1,c.IContextKeyService)],R);class P extends C.EditorAction{constructor(A,B){super(B);this._isNext=A}run(A,B){const z=R.get(B);!z||(this._isNext?z.moveNext():z.moveBack())}}class O extends P{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:v.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:g,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class W extends P{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:v.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:g,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class F extends C.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:v.localize(8,null),alias:"Trigger Symbol Highlight",precondition:g.toNegated(),kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(A,B,z){const U=R.get(B);!U||U.restoreViewState(!0)}}(0,C.registerEditorContribution)(R.ID,R),(0,C.registerEditorAction)(O),(0,C.registerEditorAction)(W),(0,C.registerEditorAction)(F),(0,r.registerThemingParticipant)((E,A)=>{const B=E.getColor(d.editorSelectionHighlight);B&&(A.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${B}; }`),A.addRule(`.monaco-editor .selectionHighlight { background-color: ${B.transparent(.5)}; }`));const z=E.getColor(s);z&&A.addRule(`.monaco-editor .wordHighlight { background-color: ${z}; }`);const U=E.getColor(t);U&&A.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${U}; }`);const K=E.getColor(d.editorSelectionHighlightBorder);K&&A.addRule(`.monaco-editor .selectionHighlight { border: 1px ${E.type==="hc"?"dotted":"solid"} ${K}; box-sizing: border-box; }`);const G=E.getColor(o);G&&A.addRule(`.monaco-editor .wordHighlight { border: 1px ${E.type==="hc"?"dashed":"solid"} ${G}; box-sizing: border-box; }`);const J=E.getColor(h);J&&A.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${E.type==="hc"?"dashed":"solid"} ${J}; box-sizing: border-box; }`)})}),define(te[257],ie([0,1,406,13,97,39,140,109,14,3,21,25,65,16,38,42,202]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class n extends I.EditorCommand{constructor(Z){super(Z);this._inSelectionMode=Z.inSelectionMode,this._wordNavigationType=Z.wordNavigationType}runEditorCommand(Z,T,x){if(!!T.hasModel()){const H=(0,p.getMapForWordSeparators)(T.getOption(112)),V=T.getModel(),ee=T.getSelections().map(oe=>{const le=new C.Position(oe.positionLineNumber,oe.positionColumn),Y=this._move(H,V,le,this._wordNavigationType);return this._moveTo(oe,Y,this._inSelectionMode)});if(V.pushStackElement(),T._getViewModel().setCursorStates("moveWordCommand",3,ee.map(oe=>w.CursorState.fromModelSelection(oe))),ee.length===1){const oe=new C.Position(ee[0].positionLineNumber,ee[0].positionColumn);T.revealPosition(oe,0)}}}_moveTo(Z,T,x){return x?new _.Selection(Z.selectionStartLineNumber,Z.selectionStartColumn,T.lineNumber,T.column):new _.Selection(T.lineNumber,T.column,T.lineNumber,T.column)}}e.MoveWordCommand=n;class s extends n{_move(Z,T,x,H){return S.WordOperations.moveWordLeft(Z,T,x,H)}}e.WordLeftCommand=s;class t extends n{_move(Z,T,x,H){return S.WordOperations.moveWordRight(Z,T,x,H)}}e.WordRightCommand=t;class o extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=o;class h extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=h;class f extends s{constructor(){var Z;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=f;class m extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=m;class g extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=g;class b extends s{constructor(){var Z;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=b;class y extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Z,T,x,H){return super._move((0,p.getMapForWordSeparators)(c.EditorOptions.wordSeparators.defaultValue),T,x,H)}}e.CursorWordAccessibilityLeft=y;class L extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Z,T,x,H){return super._move((0,p.getMapForWordSeparators)(c.EditorOptions.wordSeparators.defaultValue),T,x,H)}}e.CursorWordAccessibilityLeftSelect=L;class N extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=N;class M extends t{constructor(){var Z;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=M;class D extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=D;class R extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=R;class P extends t{constructor(){var Z;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=P;class O extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=O;class W extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Z,T,x,H){return super._move((0,p.getMapForWordSeparators)(c.EditorOptions.wordSeparators.defaultValue),T,x,H)}}e.CursorWordAccessibilityRight=W;class F extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Z,T,x,H){return super._move((0,p.getMapForWordSeparators)(c.EditorOptions.wordSeparators.defaultValue),T,x,H)}}e.CursorWordAccessibilityRightSelect=F;class E extends I.EditorCommand{constructor(Z){super(Z);this._whitespaceHeuristics=Z.whitespaceHeuristics,this._wordNavigationType=Z.wordNavigationType}runEditorCommand(Z,T,x){if(!!T.hasModel()){const H=(0,p.getMapForWordSeparators)(T.getOption(112)),V=T.getModel(),q=T.getSelections(),ee=T.getOption(5),oe=T.getOption(8),le=d.LanguageConfigurationRegistry.getAutoClosingPairs(V.getLanguageIdentifier().id),Y=T._getViewModel(),j=q.map(ne=>{const X=this._delete({wordSeparators:H,model:V,selection:ne,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:T.getOption(6),autoClosingBrackets:ee,autoClosingQuotes:oe,autoClosingPairs:le,autoClosedCharacters:Y.getCursorAutoClosedCharacters()},this._wordNavigationType);return new k.ReplaceCommand(X,"")});T.pushUndoStop(),T.executeCommands(this.id,j),T.pushUndoStop()}}}e.DeleteWordCommand=E;class A extends E{_delete(Z,T){let x=S.WordOperations.deleteWordLeft(Z,T);return x||new i.Range(1,1,1,1)}}e.DeleteWordLeftCommand=A;class B extends E{_delete(Z,T){let x=S.WordOperations.deleteWordRight(Z,T);if(x)return x;const H=Z.model.getLineCount(),V=Z.model.getLineMaxColumn(H);return new i.Range(H,V,H,V)}}e.DeleteWordRightCommand=B;class z extends A{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:u.EditorContextKeys.writable})}}e.DeleteWordStartLeft=z;class U extends A{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:u.EditorContextKeys.writable})}}e.DeleteWordEndLeft=U;class K extends A{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=K;class G extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:u.EditorContextKeys.writable})}}e.DeleteWordStartRight=G;class J extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:u.EditorContextKeys.writable})}}e.DeleteWordEndRight=J;class Q extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=Q;class ae extends I.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:u.EditorContextKeys.writable,label:v.localize(0,null),alias:"Delete Word"})}run(Z,T,x){if(!!T.hasModel()){const H=(0,p.getMapForWordSeparators)(T.getOption(112)),V=T.getModel(),ee=T.getSelections().map(oe=>{const le=S.WordOperations.deleteInsideWord(H,V,oe);return new k.ReplaceCommand(le,"")});T.pushUndoStop(),T.executeCommands(this.id,ee),T.pushUndoStop()}}}e.DeleteInsideWord=ae,(0,I.registerEditorCommand)(new o),(0,I.registerEditorCommand)(new h),(0,I.registerEditorCommand)(new f),(0,I.registerEditorCommand)(new m),(0,I.registerEditorCommand)(new g),(0,I.registerEditorCommand)(new b),(0,I.registerEditorCommand)(new N),(0,I.registerEditorCommand)(new M),(0,I.registerEditorCommand)(new D),(0,I.registerEditorCommand)(new R),(0,I.registerEditorCommand)(new P),(0,I.registerEditorCommand)(new O),(0,I.registerEditorCommand)(new y),(0,I.registerEditorCommand)(new L),(0,I.registerEditorCommand)(new W),(0,I.registerEditorCommand)(new F),(0,I.registerEditorCommand)(new z),(0,I.registerEditorCommand)(new U),(0,I.registerEditorCommand)(new K),(0,I.registerEditorCommand)(new G),(0,I.registerEditorCommand)(new J),(0,I.registerEditorCommand)(new Q),(0,I.registerEditorAction)(ae)}),define(te[628],ie([0,1,13,140,3,25,257,26]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class C extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(n,s){let t=I.WordPartOperations.deleteWordPartLeft(n);return t||new k.Range(1,1,1,1)}}e.DeleteWordPartLeft=C;class i extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(n,s){let t=I.WordPartOperations.deleteWordPartRight(n);if(t)return t;const o=n.model.getLineCount(),h=n.model.getLineMaxColumn(o);return new k.Range(o,h,o,h)}}e.DeleteWordPartRight=i;class _ extends S.MoveWordCommand{_move(n,s,t,o){return I.WordPartOperations.moveWordPartLeft(n,s,t)}}e.WordPartLeftCommand=_;class u extends _{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=u,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class a extends _{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=a,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class l extends S.MoveWordCommand{_move(n,s,t,o){return I.WordPartOperations.moveWordPartRight(n,s,t)}}e.WordPartRightCommand=l;class c extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=c;class d extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=d,(0,v.registerEditorCommand)(new C),(0,v.registerEditorCommand)(new i),(0,v.registerEditorCommand)(new u),(0,v.registerEditorCommand)(new a),(0,v.registerEditorCommand)(new c),(0,v.registerEditorCommand)(new d)}),define(te[629],ie([0,1,7,30,188,40,52,2,17,8,23,13,25,256,16,9,35,59,22,12,60,431]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=new c.RawContextKey("accessibilityHelpWidgetVisible",!1);let f=class Ht extends p.Disposable{constructor(N,M){super();this._editor=N,this._widget=this._register(M.createInstance(g,this._editor))}static get(N){return N.getContribution(Ht.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};f.ID="editor.contrib.accessibilityHelpController",f=Me([_e(1,d.IInstantiationService)],f);function m(L,N){return!L||L.length===0?o.AccessibilityHelpNLS.noSelection:L.length===1?N?i.format(o.AccessibilityHelpNLS.singleSelectionRange,L[0].positionLineNumber,L[0].positionColumn,N):i.format(o.AccessibilityHelpNLS.singleSelection,L[0].positionLineNumber,L[0].positionColumn):N?i.format(o.AccessibilityHelpNLS.multiSelectionRange,L.length,N):L.length>0?i.format(o.AccessibilityHelpNLS.multiSelection,L.length):""}let g=class ht extends S.Widget{constructor(N,M,D,R){super();this._contextKeyService=M,this._keybindingService=D,this._openerService=R,this._editor=N,this._isVisibleKey=h.bindTo(this._contextKeyService),this._domNode=(0,I.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,I.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(v.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",P=>{if(!!this._isVisible&&(P.equals(2048|35)&&((0,w.alert)(o.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),v.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),P.preventDefault(),P.stopPropagation()),P.equals(2048|38))){(0,w.alert)(o.AccessibilityHelpNLS.openingDocs);let O=this._editor.getRawOptions().accessibilityHelpUrl;typeof O=="undefined"&&(O="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(_.URI.parse(O)),P.preventDefault(),P.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ht.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(N,M,D){let R=this._keybindingService.lookupKeybinding(N);return R?i.format(M,R.getAriaLabel()):i.format(D,N)}_buildContent(){const N=this._editor.getOptions(),M=this._editor.getSelections();let D=0;if(M){const W=this._editor.getModel();W&&M.forEach(F=>{D+=W.getValueLengthInRange(F)})}let R=m(M,D);N.get(51)?N.get(77)?R+=o.AccessibilityHelpNLS.readonlyDiffEditor:R+=o.AccessibilityHelpNLS.editableDiffEditor:N.get(77)?R+=o.AccessibilityHelpNLS.readonlyEditor:R+=o.AccessibilityHelpNLS.editableEditor;const P=C.isMacintosh?o.AccessibilityHelpNLS.changeConfigToOnMac:o.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(N.get(2)){case 0:R+=`

 - `+P;break;case 2:R+=`

 - `+o.AccessibilityHelpNLS.auto_on;break;case 1:R+=`

 - `+o.AccessibilityHelpNLS.auto_off,R+=" "+P;break}N.get(125)?R+=`

 - `+this._descriptionForCommand(l.ToggleTabFocusModeAction.ID,o.AccessibilityHelpNLS.tabFocusModeOnMsg,o.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):R+=`

 - `+this._descriptionForCommand(l.ToggleTabFocusModeAction.ID,o.AccessibilityHelpNLS.tabFocusModeOffMsg,o.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const O=C.isMacintosh?o.AccessibilityHelpNLS.openDocMac:o.AccessibilityHelpNLS.openDocWinLinux;R+=`

 - `+O,R+=`

`+o.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,k.renderFormattedText)(R)),this._contentDomNode.domNode.setAttribute("aria-label",R)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,v.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){let N=this._editor.getLayoutInfo(),M=Math.max(5,Math.min(ht.WIDTH,N.width-40)),D=Math.max(5,Math.min(ht.HEIGHT,N.height-40));this._domNode.setWidth(M),this._domNode.setHeight(D);let R=Math.round((N.height-D)/2);this._domNode.setTop(R);let P=Math.round((N.width-M)/2);this._domNode.setLeft(P)}};g.ID="editor.contrib.accessibilityHelpWidget",g.WIDTH=500,g.HEIGHT=300,g=Me([_e(1,c.IContextKeyService),_e(2,r.IKeybindingService),_e(3,n.IOpenerService)],g);class b extends u.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:o.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(N,M){let D=f.get(M);D&&D.show()}}(0,u.registerEditorContribution)(f.ID,f),(0,u.registerEditorAction)(b);const y=u.EditorCommand.bindToContribution(f.get);(0,u.registerEditorCommand)(new y({id:"closeAccessibilityHelp",precondition:h,handler:L=>L.hide(),kbOpts:{weight:100+100,kbExpr:a.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,t.registerThemingParticipant)((L,N)=>{const M=L.getColor(s.editorWidgetBackground);M&&N.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${M}; }`);const D=L.getColor(s.editorWidgetForeground);D&&N.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${D}; }`);const R=L.getColor(s.widgetShadow);R&&N.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${R}; }`);const P=L.getColor(s.contrastBorder);P&&N.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${P}; }`)})}),define(te[630],ie([0,1,36,7,2,13,432]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends k.Disposable{constructor(i){super();this.editor=i,this.widget=null,v.isIPad&&(this._register(i.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const i=!this.editor.getOption(77);!this.widget&&i?this.widget=new p(this.editor):this.widget&&!i&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class p extends k.Disposable{constructor(i){super();this.editor=i,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(I.addDisposableListener(this._domNode,"touchstart",_=>{this.editor.focus()})),this._register(I.addDisposableListener(this._domNode,"focus",_=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return p.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}p.ID="editor.contrib.ShowKeyboardWidget",(0,w.registerEditorContribution)(S.ID,S)}),define(te[631],ie([0,1,7,29,2,13,18,72,58,110,22,12,60,94,433]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let c=class Ut extends k.Disposable{constructor(o,h,f){super();this._editor=o,this._modeService=f,this._widget=null,this._register(this._editor.onDidChangeModel(m=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(m=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(m=>this.stop())),this._register(this._editor.onKeyUp(m=>m.keyCode===9&&this.stop()))}static get(o){return o.getContribution(Ut.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new s(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};c.ID="editor.contrib.inspectTokens",c=Me([_e(1,i.IStandaloneThemeService),_e(2,C.IModeService)],c);class d extends w.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:a.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(o,h){let f=c.get(h);f&&f.launch()}}function r(t){let o="";for(let h=0,f=t.length;h<f;h++){let m=t.charCodeAt(h);switch(m){case 9:o+="\u2192";break;case 32:o+="\xB7";break;default:o+=String.fromCharCode(m)}}return o}function n(t){let o=S.TokenizationRegistry.get(t.language);return o||{getInitialState:()=>p.NULL_STATE,tokenize:(h,f,m,g)=>(0,p.nullTokenize)(t.language,h,m,g),tokenize2:(h,f,m,g)=>(0,p.nullTokenize2)(t.id,h,m,g)}}class s extends k.Disposable{constructor(o,h){super();this.allowEditorOverflow=!0,this._editor=o,this._modeService=h,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=n(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(f=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return s._ID}_compute(o){let h=this._getTokensAtLine(o.lineNumber),f=0;for(let L=h.tokens1.length-1;L>=0;L--){let N=h.tokens1[L];if(o.column-1>=N.offset){f=L;break}}let m=0;for(let L=h.tokens2.length>>>1;L>=0;L--)if(o.column-1>=h.tokens2[L<<1]){m=L;break}let g=this._model.getLineContent(o.lineNumber),b="";if(f<h.tokens1.length){let L=h.tokens1[f].offset,N=f+1<h.tokens1.length?h.tokens1[f+1].offset:g.length;b=g.substring(L,N)}(0,v.reset)(this._domNode,(0,v.$)("h2.tm-token",void 0,r(b),(0,v.$)("span.tm-token-length",void 0,`${b.length} ${b.length===1?"char":"chars"}`))),(0,v.append)(this._domNode,(0,v.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const y=(m<<1)+1<h.tokens2.length?this._decodeMetadata(h.tokens2[(m<<1)+1]):null;(0,v.append)(this._domNode,(0,v.$)("table.tm-metadata-table",void 0,(0,v.$)("tbody",void 0,(0,v.$)("tr",void 0,(0,v.$)("td.tm-metadata-key",void 0,"language"),(0,v.$)("td.tm-metadata-value",void 0,`${y?y.languageIdentifier.language:"-?-"}`)),(0,v.$)("tr",void 0,(0,v.$)("td.tm-metadata-key",void 0,"token type"),(0,v.$)("td.tm-metadata-value",void 0,`${y?this._tokenTypeToString(y.tokenType):"-?-"}`)),(0,v.$)("tr",void 0,(0,v.$)("td.tm-metadata-key",void 0,"font style"),(0,v.$)("td.tm-metadata-value",void 0,`${y?this._fontStyleToString(y.fontStyle):"-?-"}`)),(0,v.$)("tr",void 0,(0,v.$)("td.tm-metadata-key",void 0,"foreground"),(0,v.$)("td.tm-metadata-value",void 0,`${y?I.Color.Format.CSS.formatHex(y.foreground):"-?-"}`)),(0,v.$)("tr",void 0,(0,v.$)("td.tm-metadata-key",void 0,"background"),(0,v.$)("td.tm-metadata-value",void 0,`${y?I.Color.Format.CSS.formatHex(y.background):"-?-"}`))))),(0,v.append)(this._domNode,(0,v.$)("hr.tokens-inspect-separator")),f<h.tokens1.length&&(0,v.append)(this._domNode,(0,v.$)("span.tm-token-type",void 0,h.tokens1[f].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(o){let h=S.TokenizationRegistry.getColorMap(),f=S.TokenMetadata.getLanguageId(o),m=S.TokenMetadata.getTokenType(o),g=S.TokenMetadata.getFontStyle(o),b=S.TokenMetadata.getForeground(o),y=S.TokenMetadata.getBackground(o);return{languageIdentifier:this._modeService.getLanguageIdentifier(f),tokenType:m,fontStyle:g,foreground:h[b],background:h[y]}}_tokenTypeToString(o){switch(o){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(o){let h="";return o&1&&(h+="italic "),o&2&&(h+="bold "),o&4&&(h+="underline "),h.length===0&&(h="---"),h}_getTokensAtLine(o){let h=this._getStateBeforeLine(o),f=this._tokenizationSupport.tokenize(this._model.getLineContent(o),!0,h,0),m=this._tokenizationSupport.tokenize2(this._model.getLineContent(o),!0,h,0);return{startState:h,tokens1:f.tokens,tokens2:m.tokens,endState:f.endState}}_getStateBeforeLine(o){let h=this._tokenizationSupport.getInitialState();for(let f=1;f<o;f++)h=this._tokenizationSupport.tokenize(this._model.getLineContent(f),!0,h,0).endState;return h}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}s._ID="editor.contrib.inspectTokensWidget",(0,w.registerEditorContribution)(c.ID,c),(0,w.registerEditorAction)(d),(0,u.registerThemingParticipant)((t,o)=>{const h=t.getColor(_.editorHoverBorder);if(h){let g=t.type===l.ColorScheme.HIGH_CONTRAST?2:1;o.addRule(`.monaco-editor .tokens-inspect-widget { border: ${g}px solid ${h}; }`),o.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${h}; }`)}const f=t.getColor(_.editorHoverBackground);f&&o.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${f}; }`);const m=t.getColor(_.editorHoverForeground);m&&o.addRule(`.monaco-editor .tokens-inspect-widget { color: ${m}; }`)})}),define(te[632],ie([0,1,32,91,60,28,538,20,9,35,26,84,33,13,25,79]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let r=class extends S.AbstractEditorCommandsQuickAccessProvider{constructor(t,o,h,f,m,g){super({showAlias:!1},t,h,f,m,g);this.codeEditorService=o}get activeTextEditorControl(){return(0,p.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return De(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};r=Me([_e(0,C.IInstantiationService),_e(1,w.ICodeEditorService),_e(2,i.IKeybindingService),_e(3,_.ICommandService),_e(4,u.ITelemetryService),_e(5,a.INotificationService)],r),e.StandaloneCommandsQuickAccessProvider=r,v.Registry.as(I.Extensions.Quickaccess).registerQuickAccessProvider({ctor:r,prefix:r.PREFIX,helpEntries:[{description:k.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class n extends l.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:k.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(t){t.get(d.IQuickInputService).quickAccess.show(r.PREFIX)}}e.GotoLineAction=n,(0,l.registerEditorAction)(n)}),define(te[633],ie([0,1,573,32,91,28,20,60,6,13,25,79]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let a=class extends v.AbstractGotoLineQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=C.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};a=Me([_e(0,w.ICodeEditorService)],a),e.StandaloneGotoLineQuickAccessProvider=a,I.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:a.PREFIX,helpEntries:[{description:p.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class l extends i.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:p.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(d){d.get(u.IQuickInputService).quickAccess.show(a.PREFIX)}}e.GotoLineAction=l,(0,i.registerEditorAction)(l)}),define(te[634],ie([0,1,574,32,91,28,20,60,6,13,25,79,137,242]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let a=class extends v.AbstractGotoSymbolQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=C.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};a=Me([_e(0,w.ICodeEditorService)],a),e.StandaloneGotoSymbolQuickAccessProvider=a,I.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:v.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:p.QuickOutlineNLS.quickOutlineActionLabel,prefix:v.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:p.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:v.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class l extends i.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:p.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:_.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(d){d.get(u.IQuickInputService).quickAccess.show(v.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=l,(0,i.registerEditorAction)(l)}),define(te[635],ie([0,1,13,110,60]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends v.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:k.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(p,C){const i=p.get(I.IStandaloneThemeService);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getColorTheme().themeName,i.setTheme("hc-black"))}}(0,v.registerEditorAction)(w)}),define(te[176],ie([0,1,7,54,49,2,407,34,67,35,154,33,12,116,312,17,436]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function r(f,m,g,b,y,L){const N=f.getActions(m);return s(N,g,!1,b,y,L),n(N)}e.createAndFillInActionBarActions=r;function n(f){const m=new w.DisposableStore;for(const[,g]of f)for(const b of g)m.add(b);return m}function s(f,m,g,b="navigation",y=Number.MAX_SAFE_INTEGER,L=()=>!1){let N,M;Array.isArray(m)?(N=m,M=m):(N=m.primary,M=m.secondary);const D=new Set;for(const[R,P]of f){let O;R===b?O=N:(O=M,O.length>0&&O.push(new k.Separator));for(let W of P){g&&(W=W instanceof p.MenuItemAction&&W.alt?W.alt:W);const F=O.push(W);W instanceof k.SubmenuAction&&D.add({group:R,action:W,index:F-1})}}for(const{group:R,action:P,index:O}of D){const W=R===b?N:M,F=P.actions;(F.length<=1||W.length+F.length-2<=y)&&L(P,R,W.length)&&W.splice(O,1,...F)}if(N!==M&&N.length>y){const R=N.splice(y,N.length-y);M.unshift(...R,new k.Separator)}}let t=class extends l.ActionViewItem{constructor(m,g,b){super(void 0,m,{icon:!!(m.class||m.item.icon),label:!m.class&&!m.item.icon});this._keybindingService=g,this._notificationService=b,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new w.MutableDisposable),this._altKey=v.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(m){m.preventDefault(),m.stopPropagation(),this.actionRunner.run(this._commandAction,this._context).catch(g=>this._notificationService.error(g))}render(m){super.render(m),m.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let g=!1,b=this._altKey.keyStatus.altKey||(d.isWindows||d.isLinux)&&this._altKey.keyStatus.shiftKey;const y=()=>{const L=g&&b;L!==this._wantsAltCommand&&(this._wantsAltCommand=L,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(L=>{b=L.altKey||(d.isWindows||d.isLinux)&&L.shiftKey,y()})),this._register((0,I.domEvent)(m,"mouseleave")(L=>{g=!1,y()})),this._register((0,I.domEvent)(m,"mouseenter")(L=>{g=!0,y()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const m=this._keybindingService.lookupKeybinding(this._commandAction.id),g=m&&m.getLabel(),b=this._commandAction.tooltip||this._commandAction.label;let y=g?(0,S.localize)(0,null,b,g):b;if(!this._wantsAltCommand&&this._menuItemAction.alt){const L=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,N=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id),M=N&&N.getLabel(),D=M?(0,S.localize)(1,null,L,M):L;y+=`
[${_.UILabelProvider.modifierLabels[d.OS].altKey}] ${D}`}this.label.title=y}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(m){var g;this._itemClassDispose.value=void 0;const{element:b,label:y}=this;if(!(!b||!y)){const L=this._commandAction.checked&&((g=m.toggled)===null||g===void 0?void 0:g.icon)?m.toggled.icon:m.icon;if(!!L)if(a.ThemeIcon.isThemeIcon(L)){const N=a.ThemeIcon.asClassNameArray(L);y.classList.add(...N),this._itemClassDispose.value=(0,w.toDisposable)(()=>{y.classList.remove(...N)})}else L.light&&y.style.setProperty("--menu-entry-icon-light",(0,v.asCSSUrl)(L.light)),L.dark&&y.style.setProperty("--menu-entry-icon-dark",(0,v.asCSSUrl)(L.dark)),y.classList.add("icon"),this._itemClassDispose.value=(0,w.toDisposable)(()=>{y.classList.remove("icon"),y.style.removeProperty("--menu-entry-icon-light"),y.style.removeProperty("--menu-entry-icon-dark")})}}};t=Me([_e(1,i.IKeybindingService),_e(2,u.INotificationService)],t),e.MenuEntryActionViewItem=t;let o=class extends c.DropdownMenuActionViewItem{constructor(m,g){super(m,{getActions:()=>m.actions},g,{menuAsChild:!0,classNames:a.ThemeIcon.isThemeIcon(m.item.icon)?a.ThemeIcon.asClassName(m.item.icon):void 0})}render(m){if(super.render(m),this.element){m.classList.add("menu-entry");const{icon:g}=this._action.item;g&&!a.ThemeIcon.isThemeIcon(g)&&(this.element.classList.add("icon"),g.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,v.asCSSUrl)(g.light)),g.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,v.asCSSUrl)(g.dark)))}}};o=Me([_e(1,C.IContextMenuService)],o),e.SubmenuEntryActionViewItem=o;function h(f,m){return m instanceof p.MenuItemAction?f.createInstance(t,m):m instanceof p.SubmenuItemAction?f.createInstance(o,m):void 0}e.createActionViewItem=h}),define(te[113],ie([0,1,7,85,49,29,6,43,28,138,463,387,16,9,73,13,22,27,176,426]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,l.createDecorator)("IPeekViewService"),(0,c.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(g,b){const y=this._widgets.get(g);y&&(y.listener.dispose(),y.widget.dispose());const L=()=>{const N=this._widgets.get(g);N&&N.widget===b&&(N.listener.dispose(),this._widgets.delete(g))};this._widgets.set(g,{widget:b,listener:b.onDidClose(L)})}});var t;(function(g){g.inPeekEditor=new a.RawContextKey("inReferenceSearchEditor",!0,u.localize(0,null)),g.notInPeekEditor=g.inPeekEditor.toNegated()})(t=e.PeekContext||(e.PeekContext={}));let o=class{constructor(b,y){b instanceof i.EmbeddedCodeEditorWidget&&t.inPeekEditor.bindTo(y)}dispose(){}};o.ID="editor.contrib.referenceController",o=Me([_e(1,a.IContextKeyService)],o),(0,d.registerEditorContribution)(o.ID,o);function h(g){let b=g.get(C.ICodeEditorService).getFocusedCodeEditor();return b instanceof i.EmbeddedCodeEditorWidget?b.getParentEditor():b}e.getOuterEditor=h;const f={headerBackgroundColor:w.Color.white,primaryHeadingColor:w.Color.fromHex("#333333"),secondaryHeadingColor:w.Color.fromHex("#6c6c6cb3")};let m=class extends _.ZoneWidget{constructor(b,y,L){super(b,y);this.instantiationService=L,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,p.mixin(this.options,f,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(b){let y=this.options;b.headerBackgroundColor&&(y.headerBackgroundColor=b.headerBackgroundColor),b.primaryHeadingColor&&(y.primaryHeadingColor=b.primaryHeadingColor),b.secondaryHeadingColor&&(y.secondaryHeadingColor=b.secondaryHeadingColor),super.style(b)}_applyStyles(){super._applyStyles();let b=this.options;this._headElement&&b.headerBackgroundColor&&(this._headElement.style.backgroundColor=b.headerBackgroundColor.toString()),this._primaryHeading&&b.primaryHeadingColor&&(this._primaryHeading.style.color=b.primaryHeadingColor.toString()),this._secondaryHeading&&b.secondaryHeadingColor&&(this._secondaryHeading.style.color=b.secondaryHeadingColor.toString()),this._bodyElement&&b.frameColor&&(this._bodyElement.style.borderColor=b.frameColor.toString())}_fillContainer(b){this.setCssClass("peekview-widget"),this._headElement=v.$(".head"),this._bodyElement=v.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),b.appendChild(this._headElement),b.appendChild(this._bodyElement)}_fillHead(b,y){const L=v.$(".peekview-title");v.append(this._headElement,L),v.addStandardDisposableListener(L,"click",D=>this._onTitleClick(D)),this._fillTitleIcon(L),this._primaryHeading=v.$("span.filename"),this._secondaryHeading=v.$("span.dirname"),this._metaHeading=v.$("span.meta"),v.append(L,this._primaryHeading,this._secondaryHeading,this._metaHeading);const N=v.$(".peekview-actions");v.append(this._headElement,N);const M=this._getActionBarOptions();this._actionbarWidget=new I.ActionBar(N,M),this._disposables.add(this._actionbarWidget),y||this._actionbarWidget.push(new k.Action("peekview.close",u.localize(1,null),n.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(b){}_getActionBarOptions(){return{actionViewItemProvider:s.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(b){}setTitle(b,y){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=b,this._primaryHeading.setAttribute("aria-label",b),y?this._secondaryHeading.innerText=y:v.clearNode(this._secondaryHeading))}setMetaTitle(b){this._metaHeading&&(b?(this._metaHeading.innerText=b,v.show(this._metaHeading)):v.hide(this._metaHeading))}_doLayout(b,y){if(!this._isShowing&&b<0){this.dispose();return}const L=Math.ceil(this.editor.getOption(55)*1.2),N=Math.round(b-(L+2));this._doLayoutHead(L,y),this._doLayoutBody(N,y)}_doLayoutHead(b,y){this._headElement&&(this._headElement.style.height=`${b}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(b,y){this._bodyElement&&(this._bodyElement.style.height=`${b}px`)}};m=Me([_e(2,l.IInstantiationService)],m),e.PeekViewWidget=m,e.peekViewTitleBackground=(0,r.registerColor)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},u.localize(2,null)),e.peekViewTitleForeground=(0,r.registerColor)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},u.localize(3,null)),e.peekViewTitleInfoForeground=(0,r.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},u.localize(4,null)),e.peekViewBorder=(0,r.registerColor)("peekView.border",{dark:"#007acc",light:"#007acc",hc:r.contrastBorder},u.localize(5,null)),e.peekViewResultsBackground=(0,r.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:w.Color.black},u.localize(6,null)),e.peekViewResultsMatchForeground=(0,r.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:w.Color.white},u.localize(7,null)),e.peekViewResultsFileForeground=(0,r.registerColor)("peekViewResult.fileForeground",{dark:w.Color.white,light:"#1E1E1E",hc:w.Color.white},u.localize(8,null)),e.peekViewResultsSelectionBackground=(0,r.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},u.localize(9,null)),e.peekViewResultsSelectionForeground=(0,r.registerColor)("peekViewResult.selectionForeground",{dark:w.Color.white,light:"#6C6C6C",hc:w.Color.white},u.localize(10,null)),e.peekViewEditorBackground=(0,r.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:w.Color.black},u.localize(11,null)),e.peekViewEditorGutterBackground=(0,r.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},u.localize(12,null)),e.peekViewResultsMatchHighlight=(0,r.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},u.localize(13,null)),e.peekViewEditorMatchHighlight=(0,r.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},u.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,r.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:r.activeContrastBorder},u.localize(15,null))}),define(te[638],ie([0,1,7,85,2,112,400,176,34,16,9]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class u extends p.MenuEntryActionViewItem{updateLabel(){const c=this._keybindingService.lookupKeybinding(this._action.id);if(!c)return super.updateLabel();this.label&&(this.label.textContent=(0,S.localize)(0,null,this._action.label,u.symbolPrintEnter(c)))}static symbolPrintEnter(c){var d;return(d=c.getLabel())===null||d===void 0?void 0:d.replace(/\benter\b/gi,"\u23CE")}}let a=class{constructor(c,d,r,n){this._menuService=r,this._contextKeyService=n,this._menuDisposables=new k.DisposableStore,this.element=v.append(c,v.$(".suggest-status-bar"));const s=t=>t instanceof C.MenuItemAction?d.createInstance(u,t):void 0;this._leftActions=new I.ActionBar(this.element,{actionViewItemProvider:s}),this._rightActions=new I.ActionBar(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const c=this._menuService.createMenu(w.suggestWidgetStatusbarMenu,this._contextKeyService),d=()=>{const r=[],n=[];for(let[s,t]of c.getActions())s==="left"?r.push(...t):n.push(...t);this._leftActions.clear(),this._leftActions.push(r),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(c.onDidChange(()=>d())),this._menuDisposables.add(c)}hide(){this._menuDisposables.clear()}};a=Me([_e(1,_.IInstantiationService),_e(2,C.IMenuService),_e(3,i.IContextKeyService)],a),e.SuggestWidgetStatus=a}),define(te[639],ie([0,1,15,6,2,34,26,16]),function($,e,v,I,k,w,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let C=class{constructor(u){this._commandService=u}createMenu(u,a,l=!1){return new i(u,l,this._commandService,a,this)}};C=Me([_e(0,S.ICommandService)],C),e.MenuService=C;let i=class et{constructor(u,a,l,c,d){this._id=u,this._fireEventsForSubmenuChanges=a,this._commandService=l,this._contextKeyService=c,this._menuService=d,this._dispoables=new k.DisposableStore,this._onDidChange=new I.Emitter,this.onDidChange=this._onDidChange.event,this._menuGroups=[],this._contextKeys=new Set,this._build();const r=new v.RunOnceScheduler(()=>this._build(),50);this._dispoables.add(r),this._dispoables.add(w.MenuRegistry.onDidChangeMenu(s=>{s.has(u)&&r.schedule()}));const n=new v.RunOnceScheduler(()=>this._onDidChange.fire(this),50);this._dispoables.add(n),this._dispoables.add(c.onDidChangeContext(s=>{s.affectsSome(this._contextKeys)&&n.schedule()}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const u=w.MenuRegistry.getMenuItems(this._id);let a;u.sort(et._compareMenuItems);for(let l of u){const c=l.group||"";(!a||a[0]!==c)&&(a=[c,[]],this._menuGroups.push(a)),a[1].push(l),this._collectContextKeys(l)}this._onDidChange.fire(this)}_collectContextKeys(u){if(et._fillInKbExprKeys(u.when,this._contextKeys),(0,w.isIMenuItem)(u)){if(u.command.precondition&&et._fillInKbExprKeys(u.command.precondition,this._contextKeys),u.command.toggled){const a=u.command.toggled.condition||u.command.toggled;et._fillInKbExprKeys(a,this._contextKeys)}}else this._fireEventsForSubmenuChanges&&w.MenuRegistry.getMenuItems(u.submenu).forEach(this._collectContextKeys,this)}getActions(u){const a=[];for(let l of this._menuGroups){const[c,d]=l,r=[];for(const n of d)if(this._contextKeyService.contextMatchesRules(n.when)){const s=(0,w.isIMenuItem)(n)?new w.MenuItemAction(n.command,n.alt,u,this._contextKeyService,this._commandService):new w.SubmenuItemAction(n,this._menuService,this._contextKeyService,u);r.push(s)}r.length>0&&a.push([c,r])}return a}static _fillInKbExprKeys(u,a){if(u)for(let l of u.keys())a.add(l)}static _compareMenuItems(u,a){let l=u.group,c=a.group;if(l!==c){if(l){if(!c)return-1}else return 1;if(l==="navigation")return-1;if(c==="navigation")return 1;let n=l.localeCompare(c);if(n!==0)return n}let d=u.order||0,r=a.order||0;return d<r?-1:d>r?1:et._compareTitles((0,w.isIMenuItem)(u)?u.command.title:u.title,(0,w.isIMenuItem)(a)?a.command.title:a.title)}static _compareTitles(u,a){const l=typeof u=="string"?u:u.original,c=typeof a=="string"?a:a.original;return l.localeCompare(c)}};i=Me([_e(2,S.ICommandService),_e(3,p.IContextKeyService),_e(4,w.IMenuService)],i)}),define(te[640],ie([0,1,541,67,84,33,12,35,2,7]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let _=class extends C.Disposable{constructor(a,l,c,d,r){super();this.contextMenuHandler=new v.ContextMenuHandler(c,a,l,d,r)}configure(a){this.contextMenuHandler.configure(a)}showContextMenu(a){this.contextMenuHandler.showContextMenu(a),i.ModifierKeyEmitter.getInstance().resetKeyStatus()}};_=Me([_e(0,k.ITelemetryService),_e(1,w.INotificationService),_e(2,I.IContextViewService),_e(3,p.IKeybindingService),_e(4,S.IThemeService)],_),e.ContextMenuService=_}),define(te[145],ie([0,1,7,555,98,6,2,412,44,88,16,9,35,32,99,12,202,210,306,304,65,581]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.didBindWorkbenchListAutomaticKeyboardNavigation=e.WorkbenchListAutomaticKeyboardNavigation=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchListSupportsKeyboardNavigation=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,u.createDecorator)("listService");let f=class{constructor(oe){this._themeService=oe,this.disposables=new S.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(oe,le){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const j=new k.DefaultStyleController((0,v.createStyleSheet)(),"");this.disposables.add((0,c.attachListStyler)(j,this._themeService))}if(this.lists.some(j=>j.widget===oe))throw new Error("Cannot register the same widget multiple times");const Y={widget:oe,extraContextKeys:le};return this.lists.push(Y),oe.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=oe),(0,S.combinedDisposable)(oe.onDidFocus(()=>this._lastFocusedWidget=oe),(0,S.toDisposable)(()=>this.lists.splice(this.lists.indexOf(Y),1)),oe.onDidDispose(()=>{this.lists=this.lists.filter(j=>j!==Y),this._lastFocusedWidget===oe&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};f=Me([_e(0,d.IThemeService)],f),e.ListService=f;const m=new _.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new _.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=_.ContextKeyExpr.and(m,_.ContextKeyExpr.not(r.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new _.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new _.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new _.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new _.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsKeyboardNavigation=new _.RawContextKey("listSupportsKeyboardNavigation",!0),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation",e.WorkbenchListAutomaticKeyboardNavigation=new _.RawContextKey(e.WorkbenchListAutomaticKeyboardNavigationKey,!0),e.didBindWorkbenchListAutomaticKeyboardNavigation=!1;function g(ee,oe){const le=ee.createScoped(oe.getHTMLElement());return m.bindTo(le),le}const b="workbench.list.multiSelectModifier",y="workbench.list.openMode",L="workbench.list.horizontalScrolling",N="workbench.list.keyboardNavigation",M="workbench.list.automaticKeyboardNavigation",D="workbench.tree.indent",R="workbench.tree.renderIndentGuides",P="workbench.list.smoothScrolling",O="workbench.tree.expandMode";function W(ee){return ee.getValue(b)==="alt"}class F extends S.Disposable{constructor(oe){super();this.configurationService=oe,this.useAltAsMultipleSelectionModifier=W(oe),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(oe=>{oe.affectsConfiguration(b)&&(this.useAltAsMultipleSelectionModifier=W(this.configurationService))}))}isSelectionSingleChangeEvent(oe){return this.useAltAsMultipleSelectionModifier?oe.browserEvent.altKey:(0,k.isSelectionSingleChangeEvent)(oe)}isSelectionRangeChangeEvent(oe){return(0,k.isSelectionRangeChangeEvent)(oe)}}function E(ee,oe,le){const Y=new S.DisposableStore,j=Object.assign({},ee);if(ee.multipleSelectionSupport!==!1&&!ee.multipleSelectionController){const ne=new F(oe);j.multipleSelectionController=ne,Y.add(ne)}return j.keyboardNavigationDelegate={mightProducePrintableCharacter(ne){return le.mightProducePrintableCharacter(ne)}},j.smoothScrolling=oe.getValue(P),[j,Y]}let A=class extends k.List{constructor(oe,le,Y,j,ne,X,ue,he,re,ce){const me=typeof ne.horizontalScrolling!="undefined"?ne.horizontalScrolling:re.getValue(L),[Ce,we]=E(ne,re,ce);super(oe,le,Y,j,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(he.getColorTheme(),c.defaultListStyles)),Ce),{horizontalScrolling:me}));this.disposables.add(we),this.contextKeyService=g(X,this),this.themeService=he,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(ne.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ne.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ne.horizontalScrolling,this._useAltAsMultipleSelectionModifier=W(re),this.disposables.add(this.contextKeyService),this.disposables.add(ue.register(this)),ne.overrideStyles&&this.updateStyles(ne.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ae=this.getSelection(),Le=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ae.length>0||Le.length>0),this.listMultiSelection.set(Ae.length>1),this.listDoubleSelection.set(Ae.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ae=this.getSelection(),Le=this.getFocus();this.listHasSelectionOrFocus.set(Ae.length>0||Le.length>0)})),this.disposables.add(re.onDidChangeConfiguration(Ae=>{Ae.affectsConfiguration(b)&&(this._useAltAsMultipleSelectionModifier=W(re));let Le={};if(Ae.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const Te=re.getValue(L);Le=Object.assign(Object.assign({},Le),{horizontalScrolling:Te})}if(Ae.affectsConfiguration(P)){const Te=re.getValue(P);Le=Object.assign(Object.assign({},Le),{smoothScrolling:Te})}Object.keys(Le).length>0&&this.updateOptions(Le)})),this.navigator=new K(this,Object.assign({configurationService:re},ne)),this.disposables.add(this.navigator)}updateOptions(oe){super.updateOptions(oe),oe.overrideStyles&&this.updateStyles(oe.overrideStyles)}updateStyles(oe){var le;(le=this._styler)===null||le===void 0||le.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,oe)}dispose(){var oe;(oe=this._styler)===null||oe===void 0||oe.dispose(),super.dispose()}};A=Me([_e(5,_.IContextKeyService),_e(6,e.IListService),_e(7,d.IThemeService),_e(8,C.IConfigurationService),_e(9,a.IKeybindingService)],A),e.WorkbenchList=A;let B=class extends I.PagedList{constructor(oe,le,Y,j,ne,X,ue,he,re,ce){const me=typeof ne.horizontalScrolling!="undefined"?ne.horizontalScrolling:re.getValue(L),[Ce,we]=E(ne,re,ce);super(oe,le,Y,j,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(he.getColorTheme(),c.defaultListStyles)),Ce),{horizontalScrolling:me}));this.disposables=new S.DisposableStore,this.disposables.add(we),this.contextKeyService=g(X,this),this.themeService=he,this.horizontalScrolling=ne.horizontalScrolling,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(ne.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ne.selectionNavigation)),this._useAltAsMultipleSelectionModifier=W(re),this.disposables.add(this.contextKeyService),this.disposables.add(ue.register(this)),ne.overrideStyles&&this.updateStyles(ne.overrideStyles),ne.overrideStyles&&this.disposables.add((0,c.attachListStyler)(this,he,ne.overrideStyles)),this.disposables.add(re.onDidChangeConfiguration(Ae=>{Ae.affectsConfiguration(b)&&(this._useAltAsMultipleSelectionModifier=W(re));let Le={};if(Ae.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const Te=re.getValue(L);Le=Object.assign(Object.assign({},Le),{horizontalScrolling:Te})}if(Ae.affectsConfiguration(P)){const Te=re.getValue(P);Le=Object.assign(Object.assign({},Le),{smoothScrolling:Te})}Object.keys(Le).length>0&&this.updateOptions(Le)})),this.navigator=new K(this,Object.assign({configurationService:re},ne)),this.disposables.add(this.navigator)}updateOptions(oe){super.updateOptions(oe),oe.overrideStyles&&this.updateStyles(oe.overrideStyles)}updateStyles(oe){var le;(le=this._styler)===null||le===void 0||le.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,oe)}dispose(){var oe;(oe=this._styler)===null||oe===void 0||oe.dispose(),this.disposables.dispose(),super.dispose()}};B=Me([_e(5,_.IContextKeyService),_e(6,e.IListService),_e(7,d.IThemeService),_e(8,C.IConfigurationService),_e(9,a.IKeybindingService)],B),e.WorkbenchPagedList=B;let z=class extends h.Table{constructor(oe,le,Y,j,ne,X,ue,he,re,ce,me){const Ce=typeof X.horizontalScrolling!="undefined"?X.horizontalScrolling:ce.getValue(L),[we,Ee]=E(X,ce,me);super(oe,le,Y,j,ne,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(re.getColorTheme(),c.defaultListStyles)),we),{horizontalScrolling:Ce}));this.disposables=new S.DisposableStore,this.disposables.add(Ee),this.contextKeyService=g(ue,this),this.themeService=re,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(X.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(X.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=X.horizontalScrolling,this._useAltAsMultipleSelectionModifier=W(ce),this.disposables.add(this.contextKeyService),this.disposables.add(he.register(this)),X.overrideStyles&&this.updateStyles(X.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Le=this.getSelection(),Te=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Le.length>0||Te.length>0),this.listMultiSelection.set(Le.length>1),this.listDoubleSelection.set(Le.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Le=this.getSelection(),Te=this.getFocus();this.listHasSelectionOrFocus.set(Le.length>0||Te.length>0)})),this.disposables.add(ce.onDidChangeConfiguration(Le=>{Le.affectsConfiguration(b)&&(this._useAltAsMultipleSelectionModifier=W(ce));let Te={};if(Le.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const ve=ce.getValue(L);Te=Object.assign(Object.assign({},Te),{horizontalScrolling:ve})}if(Le.affectsConfiguration(P)){const ve=ce.getValue(P);Te=Object.assign(Object.assign({},Te),{smoothScrolling:ve})}Object.keys(Te).length>0&&this.updateOptions(Te)})),this.navigator=new G(this,Object.assign({configurationService:ce},X)),this.disposables.add(this.navigator)}updateOptions(oe){super.updateOptions(oe),oe.overrideStyles&&this.updateStyles(oe.overrideStyles)}updateStyles(oe){var le;(le=this._styler)===null||le===void 0||le.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,oe)}dispose(){var oe;(oe=this._styler)===null||oe===void 0||oe.dispose(),this.disposables.dispose(),super.dispose()}};z=Me([_e(6,_.IContextKeyService),_e(7,e.IListService),_e(8,d.IThemeService),_e(9,C.IConfigurationService),_e(10,a.IKeybindingService)],z),e.WorkbenchTable=z;class U extends S.Disposable{constructor(oe,le){var Y;super();this.widget=oe,this._onDidOpen=this._register(new w.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(w.Event.filter(this.widget.onDidChangeSelection,j=>j.browserEvent instanceof KeyboardEvent)(j=>this.onSelectionFromKeyboard(j))),this._register(this.widget.onPointer(j=>this.onPointer(j.element,j.browserEvent))),this._register(this.widget.onMouseDblClick(j=>this.onMouseDblClick(j.element,j.browserEvent))),typeof(le==null?void 0:le.openOnSingleClick)!="boolean"&&(le==null?void 0:le.configurationService)?(this.openOnSingleClick=(le==null?void 0:le.configurationService.getValue(y))!=="doubleClick",this._register(le==null?void 0:le.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(le==null?void 0:le.configurationService.getValue(y))!=="doubleClick"}))):this.openOnSingleClick=(Y=le==null?void 0:le.openOnSingleClick)!==null&&Y!==void 0?Y:!0}onSelectionFromKeyboard(oe){if(oe.elements.length===1){const le=oe.browserEvent,Y=typeof le.preserveFocus=="boolean"?le.preserveFocus:!0,j=typeof le.pinned=="boolean"?le.pinned:!Y,ne=!1;this._open(this.getSelectedElement(),Y,j,ne,oe.browserEvent)}}onPointer(oe,le){if(!!this.openOnSingleClick&&le.detail!==2){const j=le.button===1,ne=!0,X=j,ue=le.ctrlKey||le.metaKey||le.altKey;this._open(oe,ne,X,ue,le)}}onMouseDblClick(oe,le){if(!!le){const Y=!1,j=!0,ne=le.ctrlKey||le.metaKey||le.altKey;this._open(oe,Y,j,ne,le)}}_open(oe,le,Y,j,ne){!oe||this._onDidOpen.fire({editorOptions:{preserveFocus:le,pinned:Y,revealIfVisible:!0},sideBySide:j,element:oe,browserEvent:ne})}}class K extends U{constructor(oe,le){super(oe,le);this.widget=oe}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class G extends U{constructor(oe,le){super(oe,le)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class J extends U{constructor(oe,le){super(oe,le)}getSelectedElement(){var oe;return(oe=this.widget.getSelection()[0])!==null&&oe!==void 0?oe:void 0}}function Q(ee,oe){let le=!1;return Y=>{if(le)return le=!1,!1;const j=oe.softDispatch(Y,ee);return j&&j.enterChord?(le=!0,!1):(le=!1,!0)}}let ae=class extends n.ObjectTree{constructor(oe,le,Y,j,ne,X,ue,he,re,ce,me){const{options:Ce,getAutomaticKeyboardNavigation:we,disposable:Ee}=H(le,ne,X,re,ce,me);super(oe,le,Y,j,Ce);this.disposables.add(Ee),this.internals=new V(this,ne,we,ne.overrideStyles,X,ue,he,re,me),this.disposables.add(this.internals)}};ae=Me([_e(5,_.IContextKeyService),_e(6,e.IListService),_e(7,d.IThemeService),_e(8,C.IConfigurationService),_e(9,a.IKeybindingService),_e(10,o.IAccessibilityService)],ae),e.WorkbenchObjectTree=ae;let se=class extends n.CompressibleObjectTree{constructor(oe,le,Y,j,ne,X,ue,he,re,ce,me){const{options:Ce,getAutomaticKeyboardNavigation:we,disposable:Ee}=H(le,ne,X,re,ce,me);super(oe,le,Y,j,Ce);this.disposables.add(Ee),this.internals=new V(this,ne,we,ne.overrideStyles,X,ue,he,re,me),this.disposables.add(this.internals)}updateOptions(oe={}){super.updateOptions(oe),oe.overrideStyles&&this.internals.updateStyleOverrides(oe.overrideStyles)}};se=Me([_e(5,_.IContextKeyService),_e(6,e.IListService),_e(7,d.IThemeService),_e(8,C.IConfigurationService),_e(9,a.IKeybindingService),_e(10,o.IAccessibilityService)],se),e.WorkbenchCompressibleObjectTree=se;let Z=class extends t.DataTree{constructor(oe,le,Y,j,ne,X,ue,he,re,ce,me,Ce){const{options:we,getAutomaticKeyboardNavigation:Ee,disposable:Ie}=H(le,X,ue,ce,me,Ce);super(oe,le,Y,j,ne,we);this.disposables.add(Ie),this.internals=new V(this,X,Ee,X.overrideStyles,ue,he,re,ce,Ce),this.disposables.add(this.internals)}updateOptions(oe={}){super.updateOptions(oe),oe.overrideStyles&&this.internals.updateStyleOverrides(oe.overrideStyles)}};Z=Me([_e(6,_.IContextKeyService),_e(7,e.IListService),_e(8,d.IThemeService),_e(9,C.IConfigurationService),_e(10,a.IKeybindingService),_e(11,o.IAccessibilityService)],Z),e.WorkbenchDataTree=Z;let T=class extends s.AsyncDataTree{constructor(oe,le,Y,j,ne,X,ue,he,re,ce,me,Ce){const{options:we,getAutomaticKeyboardNavigation:Ee,disposable:Ie}=H(le,X,ue,ce,me,Ce);super(oe,le,Y,j,ne,we);this.disposables.add(Ie),this.internals=new V(this,X,Ee,X.overrideStyles,ue,he,re,ce,Ce),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(oe={}){super.updateOptions(oe),oe.overrideStyles&&this.internals.updateStyleOverrides(oe.overrideStyles)}};T=Me([_e(6,_.IContextKeyService),_e(7,e.IListService),_e(8,d.IThemeService),_e(9,C.IConfigurationService),_e(10,a.IKeybindingService),_e(11,o.IAccessibilityService)],T),e.WorkbenchAsyncDataTree=T;let x=class extends s.CompressibleAsyncDataTree{constructor(oe,le,Y,j,ne,X,ue,he,re,ce,me,Ce,we){const{options:Ee,getAutomaticKeyboardNavigation:Ie,disposable:Ae}=H(le,ue,he,me,Ce,we);super(oe,le,Y,j,ne,X,Ee);this.disposables.add(Ae),this.internals=new V(this,ue,Ie,ue.overrideStyles,he,re,ce,me,we),this.disposables.add(this.internals)}};x=Me([_e(7,_.IContextKeyService),_e(8,e.IListService),_e(9,d.IThemeService),_e(10,C.IConfigurationService),_e(11,a.IKeybindingService),_e(12,o.IAccessibilityService)],x),e.WorkbenchCompressibleAsyncDataTree=x;function H(ee,oe,le,Y,j,ne){var X;e.WorkbenchListSupportsKeyboardNavigation.bindTo(le),e.didBindWorkbenchListAutomaticKeyboardNavigation||(e.WorkbenchListAutomaticKeyboardNavigation.bindTo(le),e.didBindWorkbenchListAutomaticKeyboardNavigation=!0);const ue=()=>{let Ee=le.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey);return Ee&&(Ee=Y.getValue(M)),Ee},he=ne.isScreenReaderOptimized(),re=oe.simpleKeyboardNavigation||he?"simple":Y.getValue(N),ce=oe.horizontalScrolling!==void 0?oe.horizontalScrolling:Y.getValue(L),[me,Ce]=E(oe,Y,j),we=oe.additionalScrollHeight;return{getAutomaticKeyboardNavigation:ue,disposable:Ce,options:Object.assign(Object.assign({keyboardSupport:!1},me),{indent:Y.getValue(D),renderIndentGuides:Y.getValue(R),smoothScrolling:Y.getValue(P),automaticKeyboardNavigation:ue(),simpleKeyboardNavigation:re==="simple",filterOnType:re==="filter",horizontalScrolling:ce,keyboardNavigationEventFilter:Q(ee,j),additionalScrollHeight:we,hideTwistiesOfChildlessElements:oe.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(X=oe.expandOnlyOnTwistieClick)!==null&&X!==void 0?X:Y.getValue(O)==="doubleClick"})}}let V=class{constructor(oe,le,Y,j,ne,X,ue,he,re){this.tree=oe,this.themeService=ue,this.disposables=[],this.contextKeyService=g(ne,oe),e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(le.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(le.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=W(he);const Ce=new Set;Ce.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const we=()=>{const Ie=re.isScreenReaderOptimized()?"simple":he.getValue(N);oe.updateOptions({simpleKeyboardNavigation:Ie==="simple",filterOnType:Ie==="filter"})};this.updateStyleOverrides(j),this.disposables.push(this.contextKeyService,X.register(oe),oe.onDidChangeSelection(()=>{const Ee=oe.getSelection(),Ie=oe.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Ee.length>0||Ie.length>0),this.hasMultiSelection.set(Ee.length>1),this.hasDoubleSelection.set(Ee.length===2)})}),oe.onDidChangeFocus(()=>{const Ee=oe.getSelection(),Ie=oe.getFocus();this.hasSelectionOrFocus.set(Ee.length>0||Ie.length>0)}),he.onDidChangeConfiguration(Ee=>{let Ie={};if(Ee.affectsConfiguration(b)&&(this._useAltAsMultipleSelectionModifier=W(he)),Ee.affectsConfiguration(D)){const Ae=he.getValue(D);Ie=Object.assign(Object.assign({},Ie),{indent:Ae})}if(Ee.affectsConfiguration(R)){const Ae=he.getValue(R);Ie=Object.assign(Object.assign({},Ie),{renderIndentGuides:Ae})}if(Ee.affectsConfiguration(P)){const Ae=he.getValue(P);Ie=Object.assign(Object.assign({},Ie),{smoothScrolling:Ae})}if(Ee.affectsConfiguration(N)&&we(),Ee.affectsConfiguration(M)&&(Ie=Object.assign(Object.assign({},Ie),{automaticKeyboardNavigation:Y()})),Ee.affectsConfiguration(L)&&le.horizontalScrolling===void 0){const Ae=he.getValue(L);Ie=Object.assign(Object.assign({},Ie),{horizontalScrolling:Ae})}Ee.affectsConfiguration(O)&&le.expandOnlyOnTwistieClick===void 0&&(Ie=Object.assign(Object.assign({},Ie),{expandOnlyOnTwistieClick:he.getValue(O)==="doubleClick"})),Object.keys(Ie).length>0&&oe.updateOptions(Ie)}),this.contextKeyService.onDidChangeContext(Ee=>{Ee.affectsSome(Ce)&&oe.updateOptions({automaticKeyboardNavigation:Y()})}),re.onDidChangeScreenReaderOptimized(()=>we())),this.navigator=new J(oe,Object.assign({configurationService:he},le)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateStyleOverrides(oe){(0,S.dispose)(this.styler),this.styler=oe?(0,c.attachListStyler)(this.tree,this.themeService,oe):S.Disposable.None}dispose(){this.disposables=(0,S.dispose)(this.disposables),(0,S.dispose)(this.styler),this.styler=void 0}};V=Me([_e(4,_.IContextKeyService),_e(5,e.IListService),_e(6,d.IThemeService),_e(7,C.IConfigurationService),_e(8,o.IAccessibilityService)],V),l.Registry.as(i.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,p.localize)(0,null),type:"object",properties:{[b]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,p.localize)(1,null),(0,p.localize)(2,null)],default:"ctrlCmd",description:(0,p.localize)(3,null)},[y]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,p.localize)(4,null)},[L]:{type:"boolean",default:!1,description:(0,p.localize)(5,null)},[D]:{type:"number",default:8,minimum:0,maximum:40,description:(0,p.localize)(6,null)},[R]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,p.localize)(7,null)},[P]:{type:"boolean",default:!1,description:(0,p.localize)(8,null)},[N]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,p.localize)(9,null),(0,p.localize)(10,null),(0,p.localize)(11,null)],default:"highlight",description:(0,p.localize)(12,null)},[M]:{type:"boolean",default:!0,markdownDescription:(0,p.localize)(13,null)},[O]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,p.localize)(14,null)}}})}),define(te[642],ie([0,1,121,9,12,22,24,99,16,65,326,145,532]),function($,e,v,I,k,w,S,p,C,i,_,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let l=class extends k.Themable{constructor(d,r,n,s,t){super(n);this.instantiationService=d,this.contextKeyService=r,this.accessibilityService=s,this.layoutService=t,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(a.QuickAccessController))),this._quickAccess}createController(d=this.layoutService,r){var n,s;const t={idPrefix:"quickInput_",container:d.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:h=>this.setContextKey(h),returnFocus:()=>d.focus(),createList:(h,f,m,g,b)=>this.instantiationService.createInstance(u.WorkbenchList,h,f,m,g,b),styles:this.computeStyles()},o=this._register(new _.QuickInputController(Object.assign(Object.assign({},t),r)));return o.layout(d.dimension,(s=(n=d.offset)===null||n===void 0?void 0:n.top)!==null&&s!==void 0?s:0),this._register(d.onDidLayout(h=>{var f,m;return o.layout(h,(m=(f=d.offset)===null||f===void 0?void 0:f.top)!==null&&m!==void 0?m:0)})),this._register(o.onShow(()=>this.resetContextKeys())),this._register(o.onHide(()=>this.resetContextKeys())),o}setContextKey(d){let r;d&&(r=this.contexts.get(d),r||(r=new C.RawContextKey(d,!1).bindTo(this.contextKeyService),this.contexts.set(d,r))),!(r&&r.get())&&(this.resetContextKeys(),r&&r.set(!0))}resetContextKeys(){this.contexts.forEach(d=>{d.get()&&d.reset()})}pick(d,r={},n=S.CancellationToken.None){return this.controller.pick(d,r,n)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,p.computeStyles)(this.theme,{quickInputBackground:w.quickInputBackground,quickInputForeground:w.quickInputForeground,quickInputTitleBackground:w.quickInputTitleBackground,contrastBorder:w.contrastBorder,widgetShadow:w.widgetShadow})),inputBox:(0,p.computeStyles)(this.theme,{inputForeground:w.inputForeground,inputBackground:w.inputBackground,inputBorder:w.inputBorder,inputValidationInfoBackground:w.inputValidationInfoBackground,inputValidationInfoForeground:w.inputValidationInfoForeground,inputValidationInfoBorder:w.inputValidationInfoBorder,inputValidationWarningBackground:w.inputValidationWarningBackground,inputValidationWarningForeground:w.inputValidationWarningForeground,inputValidationWarningBorder:w.inputValidationWarningBorder,inputValidationErrorBackground:w.inputValidationErrorBackground,inputValidationErrorForeground:w.inputValidationErrorForeground,inputValidationErrorBorder:w.inputValidationErrorBorder}),countBadge:(0,p.computeStyles)(this.theme,{badgeBackground:w.badgeBackground,badgeForeground:w.badgeForeground,badgeBorder:w.contrastBorder}),button:(0,p.computeStyles)(this.theme,{buttonForeground:w.buttonForeground,buttonBackground:w.buttonBackground,buttonHoverBackground:w.buttonHoverBackground,buttonBorder:w.contrastBorder}),progressBar:(0,p.computeStyles)(this.theme,{progressBarBackground:w.progressBarBackground}),keybindingLabel:(0,p.computeStyles)(this.theme,{keybindingLabelBackground:w.keybindingLabelBackground,keybindingLabelForeground:w.keybindingLabelForeground,keybindingLabelBorder:w.keybindingLabelBorder,keybindingLabelBottomBorder:w.keybindingLabelBottomBorder,keybindingLabelShadow:w.widgetShadow}),list:(0,p.computeStyles)(this.theme,{listBackground:w.quickInputBackground,listInactiveFocusForeground:w.listFocusForeground,listInactiveFocusBackground:w.quickInputListFocusBackground,listFocusOutline:w.activeContrastBorder,listInactiveFocusOutline:w.activeContrastBorder,pickerGroupBorder:w.pickerGroupBorder,pickerGroupForeground:w.pickerGroupForeground})}}};l=Me([_e(0,I.IInstantiationService),_e(1,C.IContextKeyService),_e(2,k.IThemeService),_e(3,i.IAccessibilityService),_e(4,v.ILayoutService)],l),e.QuickInputService=l}),define(te[643],ie([0,1,13,12,24,9,16,65,121,28,642,90,434]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputServiceImpl=e.EditorScopedQuickInputServiceImpl=void 0;let a=class extends _.QuickInputService{constructor(n,s,t,o,h,f){super(s,t,o,h,f);this.host=void 0;const m=c.get(n);this.host={_serviceBrand:void 0,get container(){return m.widget.getDomNode()},get dimension(){return n.getLayoutInfo()},get onDidLayout(){return n.onDidLayoutChange},focus:()=>n.focus()}}createController(){return super.createController(this.host)}};a=Me([_e(1,w.IInstantiationService),_e(2,S.IContextKeyService),_e(3,I.IThemeService),_e(4,p.IAccessibilityService),_e(5,C.ILayoutService)],a),e.EditorScopedQuickInputServiceImpl=a;let l=class{constructor(n,s){this.instantiationService=n,this.codeEditorService=s,this.mapEditorToService=new Map}get activeService(){const n=this.codeEditorService.getFocusedCodeEditor();if(!n)throw new Error("Quick input service needs a focused editor to work.");let s=this.mapEditorToService.get(n);if(!s){const t=s=this.instantiationService.createInstance(a,n);this.mapEditorToService.set(n,s),(0,u.once)(n.onDidDispose)(()=>{t.dispose(),this.mapEditorToService.delete(n)})}return s}get quickAccess(){return this.activeService.quickAccess}pick(n,s={},t=k.CancellationToken.None){return this.activeService.pick(n,s,t)}createQuickPick(){return this.activeService.createQuickPick()}};l=Me([_e(0,w.IInstantiationService),_e(1,i.ICodeEditorService)],l),e.StandaloneQuickInputServiceImpl=l;class c{constructor(n){this.editor=n,this.widget=new d(this.editor)}static get(n){return n.getContribution(c.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=c,c.ID="editor.controller.quickInput";class d{constructor(n){this.codeEditor=n,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return d.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=d,d.ID="editor.contrib.quickInputWidget",(0,v.registerEditorContribution)(c.ID,c)}),define(te[644],ie([0,1,83,12,22,27]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var S;(function(p){function C(i){switch(i){case v.default.Ignore:return"severity-ignore "+w.Codicon.info.classNames;case v.default.Info:return w.Codicon.info.classNames;case v.default.Warning:return w.Codicon.warning.classNames;case v.default.Error:return w.Codicon.error.classNames;default:return""}}p.className=C})(S=e.SeverityIcon||(e.SeverityIcon={})),(0,I.registerThemingParticipant)((p,C)=>{const i=p.getColor(k.problemsErrorIconForeground);if(i){const a=w.Codicon.error.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a} {
				color: ${i};
			}
		`)}const _=p.getColor(k.problemsWarningIconForeground);if(_){const a=w.Codicon.warning.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a},
			.extension-editor ${a} {
				color: ${_};
			}
		`)}const u=p.getColor(k.problemsInfoIconForeground);if(u){const a=w.Codicon.info.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a},
			.extension-editor ${a} {
				color: ${u};
			}
		`)}})}),define(te[645],ie([0,1,366,7,2,81,3,22,12,29,63,170,19,6,113,46,644,59,34,16,176,9,8,102,344]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarning=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class g{constructor(D,R,P,O,W){this._openerService=O,this._labelService=W,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new k.DisposableStore,this._editor=R;const F=document.createElement("div");F.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),F.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),F.appendChild(this._relatedBlock),this._disposables.add(I.addStandardDisposableListener(this._relatedBlock,"click",E=>{E.preventDefault();const A=this._relatedDiagnostics.get(E.target);A&&P(A)})),this._scrollable=new _.ScrollableElement(F,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),D.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(E=>{F.style.left=`-${E.scrollLeft}px`,F.style.top=`-${E.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,k.dispose)(this._disposables)}update(D){const{source:R,message:P,relatedInformation:O,code:W}=D;let F=((R==null?void 0:R.length)||0)+"()".length;W&&(typeof W=="string"?F+=W.length:F+=W.value.length);const E=(0,f.splitLines)(P);this._lines=E.length,this._longestLineLength=0;for(const K of E)this._longestLineLength=Math.max(K.length+F,this._longestLineLength);I.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(D)),this._editor.applyFontInfo(this._messageBlock);let A=this._messageBlock;for(const K of E)A=document.createElement("div"),A.innerText=K,K===""&&(A.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(A);if(R||W){const K=document.createElement("span");if(K.classList.add("details"),A.appendChild(K),R){const G=document.createElement("span");G.innerText=R,G.classList.add("source"),K.appendChild(G)}if(W)if(typeof W=="string"){const G=document.createElement("span");G.innerText=`(${W})`,G.classList.add("code"),K.appendChild(G)}else{this._codeLink=I.$("a.code-link"),this._codeLink.setAttribute("href",`${W.target.toString()}`),this._codeLink.onclick=J=>{this._openerService.open(W.target,{allowCommands:!0}),J.preventDefault(),J.stopPropagation()};const G=I.append(this._codeLink,I.$("span"));G.innerText=W.value,K.appendChild(this._codeLink)}}if(I.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,a.isNonEmptyArray)(O)){const K=this._relatedBlock.appendChild(document.createElement("div"));K.style.paddingTop=`${Math.floor(this._editor.getOption(55)*.66)}px`,this._lines+=1;for(const G of O){let J=document.createElement("div"),Q=document.createElement("a");Q.classList.add("filename"),Q.innerText=`${(0,u.getBaseLabel)(G.resource)}(${G.startLineNumber}, ${G.startColumn}): `,Q.title=this._labelService.getUriLabel(G.resource),this._relatedDiagnostics.set(Q,G);let ae=document.createElement("span");ae.innerText=G.message,J.appendChild(Q),J.appendChild(ae),this._lines+=1,K.appendChild(J)}}const B=this._editor.getOption(40),z=Math.ceil(B.typicalFullwidthCharacterWidth*this._longestLineLength*.75),U=B.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:z,scrollHeight:U})}layout(D,R){this._scrollable.getDomNode().style.height=`${D}px`,this._scrollable.getDomNode().style.width=`${R}px`,this._scrollable.setScrollDimensions({width:R,height:D})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(D){let R="";switch(D.severity){case w.MarkerSeverity.Error:R=v.localize(0,null);break;case w.MarkerSeverity.Warning:R=v.localize(1,null);break;case w.MarkerSeverity.Info:R=v.localize(2,null);break;case w.MarkerSeverity.Hint:R=v.localize(3,null);break}let P=v.localize(4,null,R,D.startLineNumber+":"+D.startColumn);const O=this._editor.getModel();return O&&D.startLineNumber<=O.getLineCount()&&D.startLineNumber>=1&&(P=`${O.getLineContent(D.startLineNumber)}, ${P}`),P}}let b=class Kt extends c.PeekViewWidget{constructor(D,R,P,O,W,F,E){super(D,{showArrow:!0,showFrame:!0,isAccessible:!0},W);this._themeService=R,this._openerService=P,this._menuService=O,this._contextKeyService=F,this._labelService=E,this._callOnDispose=new k.DisposableStore,this._onDidSelectRelatedInformation=new l.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=w.MarkerSeverity.Warning,this._backgroundColor=i.Color.white,this._applyTheme(R.getColorTheme()),this._callOnDispose.add(R.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(D){this._backgroundColor=D.getColor(e.editorMarkerNavigationBackground);let R=e.editorMarkerNavigationError;this._severity===w.MarkerSeverity.Warning?R=e.editorMarkerNavigationWarning:this._severity===w.MarkerSeverity.Info&&(R=e.editorMarkerNavigationInfo);const P=D.getColor(R);this.style({arrowColor:P,frameColor:P,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:D.getColor(c.peekViewTitleForeground),secondaryHeadingColor:D.getColor(c.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(D){super._fillHead(D),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(O=>this.editor.focus()));const R=[],P=this._menuService.createMenu(Kt.TitleMenu,this._contextKeyService);(0,o.createAndFillInActionBarActions)(P,void 0,R),this._actionbarWidget.push(R,{label:!1,icon:!0,index:0}),P.dispose()}_fillTitleIcon(D){this._icon=I.append(D,I.$(""))}_fillBody(D){this._parentContainer=D,D.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),D.appendChild(this._container),this._message=new g(this._container,this.editor,R=>this._onDidSelectRelatedInformation.fire(R),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(D,R,P){this._container.classList.remove("stale"),this._message.update(D),this._severity=D.severity,this._applyTheme(this._themeService.getColorTheme());let O=S.Range.lift(D);const W=this.editor.getPosition();let F=W&&O.containsPosition(W)?W:O.getStartPosition();super.show(F,this.computeRequiredHeight());const E=this.editor.getModel();if(E){const A=P>1?v.localize(5,null,R,P):v.localize(6,null,R,P);this.setTitle((0,d.basename)(E.uri),A)}this._icon.className=`codicon ${r.SeverityIcon.className(w.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(F,0),this.editor.focus()}updateMarker(D){this._container.classList.remove("stale"),this._message.update(D)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(D,R){super._doLayoutBody(D,R),this._heightInPixel=D,this._message.layout(D,R),this._container.style.height=`${D}px`}_onWidth(D){this._message.layout(this._heightInPixel,D)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};b.TitleMenu=new s.MenuId("gotoErrorTitleMenu"),b=Me([_e(1,C.IThemeService),_e(2,n.IOpenerService),_e(3,s.IMenuService),_e(4,h.IInstantiationService),_e(5,t.IContextKeyService),_e(6,m.ILabelService)],b),e.MarkerNavigationWidget=b;let y=(0,p.oneOf)(p.editorErrorForeground,p.editorErrorBorder),L=(0,p.oneOf)(p.editorWarningForeground,p.editorWarningBorder),N=(0,p.oneOf)(p.editorInfoForeground,p.editorInfoBorder);e.editorMarkerNavigationError=(0,p.registerColor)("editorMarkerNavigationError.background",{dark:y,light:y,hc:y},v.localize(7,null)),e.editorMarkerNavigationWarning=(0,p.registerColor)("editorMarkerNavigationWarning.background",{dark:L,light:L,hc:L},v.localize(8,null)),e.editorMarkerNavigationInfo=(0,p.registerColor)("editorMarkerNavigationInfo.background",{dark:N,light:N,hc:N},v.localize(9,null)),e.editorMarkerNavigationBackground=(0,p.registerColor)("editorMarkerNavigation.background",{dark:"#2D2D30",light:i.Color.white,hc:"#0C141F"},v.localize(10,null)),(0,C.registerThemingParticipant)((M,D)=>{const R=M.getColor(p.textLinkForeground);R&&(D.addRule(`.monaco-editor .marker-widget a { color: ${R}; }`),D.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${R}; }`))})}),define(te[75],ie([0,1,32,12,6,417,171,15,27]),function($,e,v,I,k,w,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};class i{constructor(){this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,w.localize)(0,null)},fontCharacter:{type:"string",description:(0,w.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${C.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(n,s,t,o){const h=this.iconsById[n];if(h){if(t&&!h.description){h.description=t,this.iconSchema.properties[n].markdownDescription=`${t} $(${n})`;const g=this.iconReferenceSchema.enum.indexOf(n);g!==-1&&(this.iconReferenceSchema.enumDescriptions[g]=t),this._onDidChange.fire()}return h}let f={id:n,description:t,defaults:s,deprecationMessage:o};this.iconsById[n]=f;let m={$ref:"#/definitions/icons"};return o&&(m.deprecationMessage=o),t&&(m.markdownDescription=`${t}: $(${n})`),this.iconSchema.properties[n]=m,this.iconReferenceSchema.enum.push(n),this.iconReferenceSchema.enumDescriptions.push(t||""),this._onDidChange.fire(),{id:n}}getIcons(){return Object.keys(this.iconsById).map(n=>this.iconsById[n])}getIcon(n){return this.iconsById[n]}getIconSchema(){return this.iconSchema}getIconFont(n){return this.iconFontsById[n]}toString(){const n=(h,f)=>h.id.localeCompare(f.id),s=h=>{for(;I.ThemeIcon.isThemeIcon(h.defaults);)h=this.iconsById[h.defaults.id];return`codicon codicon-${h?h.id:""}`};let t=[];t.push("| preview     | identifier                        | default codicon ID                | description"),t.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const o=Object.keys(this.iconsById).map(h=>this.iconsById[h]);for(const h of o.filter(f=>!!f.description).sort(n))t.push(`|<i class="${s(h)}"></i>|${h.id}|${I.ThemeIcon.isThemeIcon(h.defaults)?h.defaults.id:h.id}|${h.description||""}|`);t.push("| preview     | identifier                        "),t.push("| ----------- | --------------------------------- |");for(const h of o.filter(f=>!I.ThemeIcon.isThemeIcon(f.defaults)).sort(n))t.push(`|<i class="${s(h)}"></i>|${h.id}|`);return t.join(`
`)}}const _=new i;v.Registry.add(e.Extensions.IconContribution,_);function u(r,n,s,t){return _.registerIcon(r,n,s,t)}e.registerIcon=u;function a(){return _}e.getIconRegistry=a;function l(){for(const r of C.iconRegistry.all)_.registerIcon(r.id,r.definition,r.description);C.iconRegistry.onDidRegister(r=>_.registerIcon(r.id,r.definition,r.description))}l(),e.iconsSchemaId="vscode://schemas/icons";let c=v.Registry.as(S.Extensions.JSONContribution);c.registerSchema(e.iconsSchemaId,_.getIconSchema());const d=new p.RunOnceScheduler(()=>c.notifySchemaChanged(e.iconsSchemaId),200);_.onDidChange(()=>{d.isScheduled()||d.schedule()}),e.widgetClose=u("widget-close",C.Codicon.close,(0,w.localize)(2,null))}),define(te[647],ie([0,1,333,7,30,85,63,49,2,71,13,28,38,106,14,48,125,64,16,22,12,27,75,298]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const g=3;class b{constructor(F,E,A,B){this.originalLineStart=F,this.originalLineEnd=E,this.modifiedLineStart=A,this.modifiedLineEnd=B}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class y{constructor(F){this.entries=F}}const L=(0,f.registerIcon)("diff-review-insert",h.Codicon.add,v.localize(0,null)),N=(0,f.registerIcon)("diff-review-remove",h.Codicon.remove,v.localize(1,null)),M=(0,f.registerIcon)("diff-review-close",h.Codicon.close,v.localize(2,null));class D extends C.Disposable{constructor(F){super();this._width=0,this._diffEditor=F,this._isVisible=!1,this.shadow=(0,k.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,k.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new w.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new p.Action("diffreview.close",v.localize(3,null),"close-diff-review "+o.ThemeIcon.asClassName(M),!0,()=>De(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,k.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(F.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(F.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(I.addStandardDisposableListener(this.domNode.domNode,"click",E=>{E.preventDefault();let A=I.findParentWithClass(E.target,"diff-review-row");A&&this._goToRow(A)})),this._register(I.addStandardDisposableListener(this.domNode.domNode,"keydown",E=>{(E.equals(18)||E.equals(2048|18)||E.equals(512|18))&&(E.preventDefault(),this._goToRow(this._getNextRow())),(E.equals(16)||E.equals(2048|16)||E.equals(512|16))&&(E.preventDefault(),this._goToRow(this._getPrevRow())),(E.equals(9)||E.equals(2048|9)||E.equals(512|9)||E.equals(1024|9))&&(E.preventDefault(),this.hide()),(E.equals(10)||E.equals(3))&&(E.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let F=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let A=-1;for(let B=0,z=this._diffs.length;B<z;B++)if(this._diffs[B]===this._currentDiff){A=B;break}F=this._diffs.length+A-1}else F=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length!==0){F=F%this._diffs.length;const E=this._diffs[F].entries;this._diffEditor.setPosition(new c.Position(E[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:E[0].modifiedLineStart,endColumn:1073741824,endLineNumber:E[E.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}}next(){let F=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let A=-1;for(let B=0,z=this._diffs.length;B<z;B++)if(this._diffs[B]===this._currentDiff){A=B;break}F=A+1}else F=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length!==0){F=F%this._diffs.length;const E=this._diffs[F].entries;this._diffEditor.setPosition(new c.Position(E[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:E[0].modifiedLineStart,endColumn:1073741824,endLineNumber:E[E.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}}accept(){let F=-1,E=this._getCurrentFocusedRow();if(E){let A=parseInt(E.getAttribute("data-line"),10);isNaN(A)||(F=A)}this.hide(),F!==-1&&(this._diffEditor.setPosition(new c.Position(F,1)),this._diffEditor.revealPosition(new c.Position(F,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let F=this._getCurrentFocusedRow();return F?F.previousElementSibling?F.previousElementSibling:F:this._getFirstRow()}_getNextRow(){let F=this._getCurrentFocusedRow();return F?F.nextElementSibling?F.nextElementSibling:F:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let F=document.activeElement;return F&&/diff-review-row/.test(F.className)?F:null}_goToRow(F){let E=this._getCurrentFocusedRow();F.tabIndex=0,F.focus(),E&&E!==F&&(E.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(F,E,A){this._width=E,this.shadow.setTop(F-6),this.shadow.setWidth(E),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(F),this.domNode.setWidth(E),this.domNode.setHeight(A),this._content.setHeight(A),this._content.setWidth(E),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const F=this._diffEditor.getLineChanges();if(!F||F.length===0)return[];const E=this._diffEditor.getOriginalEditor().getModel(),A=this._diffEditor.getModifiedEditor().getModel();return!E||!A?[]:D._mergeAdjacent(F,E.getLineCount(),A.getLineCount())}static _mergeAdjacent(F,E,A){if(!F||F.length===0)return[];let B=[],z=0;for(let J=0,Q=F.length;J<Q;J++){const ae=F[J],se=ae.originalStartLineNumber,Z=ae.originalEndLineNumber,T=ae.modifiedStartLineNumber,x=ae.modifiedEndLineNumber;let H=[],V=0;{const q=Z===0?se:se-1,ee=x===0?T:T-1;let oe=1,le=1;if(J>0){const ne=F[J-1];ne.originalEndLineNumber===0?oe=ne.originalStartLineNumber+1:oe=ne.originalEndLineNumber+1,ne.modifiedEndLineNumber===0?le=ne.modifiedStartLineNumber+1:le=ne.modifiedEndLineNumber+1}let Y=q-g+1,j=ee-g+1;if(Y<oe){const ne=oe-Y;Y=Y+ne,j=j+ne}if(j<le){const ne=le-j;Y=Y+ne,j=j+ne}H[V++]=new b(Y,q,j,ee)}Z!==0&&(H[V++]=new b(se,Z,0,0)),x!==0&&(H[V++]=new b(0,0,T,x));{const q=Z===0?se+1:Z+1,ee=x===0?T+1:x+1;let oe=E,le=A;if(J+1<Q){const ne=F[J+1];ne.originalEndLineNumber===0?oe=ne.originalStartLineNumber:oe=ne.originalStartLineNumber-1,ne.modifiedEndLineNumber===0?le=ne.modifiedStartLineNumber:le=ne.modifiedStartLineNumber-1}let Y=q+g-1,j=ee+g-1;if(Y>oe){const ne=oe-Y;Y=Y+ne,j=j+ne}if(j>le){const ne=le-j;Y=Y+ne,j=j+ne}H[V++]=new b(q,Y,ee,j)}B[z++]=new y(H)}let U=B[0].entries,K=[],G=0;for(let J=1,Q=B.length;J<Q;J++){const ae=B[J].entries,se=U[U.length-1],Z=ae[0];if(se.getType()===0&&Z.getType()===0&&Z.originalLineStart<=se.originalLineEnd){U[U.length-1]=new b(se.originalLineStart,Z.originalLineEnd,se.modifiedLineStart,Z.modifiedLineEnd),U=U.concat(ae.slice(1));continue}K[G++]=new y(U),U=ae}return K[G++]=new y(U),K}_findDiffIndex(F){const E=F.lineNumber;for(let A=0,B=this._diffs.length;A<B;A++){const z=this._diffs[A].entries,U=z[z.length-1].modifiedLineEnd;if(E<=U)return A}return 0}_render(){const F=this._diffEditor.getOriginalEditor().getOptions(),E=this._diffEditor.getModifiedEditor().getOptions(),A=this._diffEditor.getOriginalEditor().getModel(),B=this._diffEditor.getModifiedEditor().getModel(),z=A.getOptions(),U=B.getOptions();if(!this._isVisible||!A||!B){I.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const K=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[K]!==this._currentDiff){this._currentDiff=this._diffs[K];const G=this._diffs[K].entries;let J=document.createElement("div");J.className="diff-review-table",J.setAttribute("role","list"),J.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),i.Configuration.applyFontInfoSlow(J,E.get(40));let Q=0,ae=0,se=0,Z=0;for(let j=0,ne=G.length;j<ne;j++){const X=G[j],ue=X.originalLineStart,he=X.originalLineEnd,re=X.modifiedLineStart,ce=X.modifiedLineEnd;ue!==0&&(Q===0||ue<Q)&&(Q=ue),he!==0&&(ae===0||he>ae)&&(ae=he),re!==0&&(se===0||re<se)&&(se=re),ce!==0&&(Z===0||ce>Z)&&(Z=ce)}let T=document.createElement("div");T.className="diff-review-row";let x=document.createElement("div");x.className="diff-review-cell diff-review-summary";const H=ae-Q+1,V=Z-se+1;x.appendChild(document.createTextNode(`${K+1}/${this._diffs.length}: @@ -${Q},${H} +${se},${V} @@`)),T.setAttribute("data-line",String(se));const q=j=>j===0?v.localize(4,null):j===1?v.localize(5,null):v.localize(6,null,j),ee=q(H),oe=q(V);T.setAttribute("aria-label",v.localize(7,null,K+1,this._diffs.length,Q,ee,se,oe)),T.appendChild(x),T.setAttribute("role","listitem"),J.appendChild(T);const le=E.get(55);let Y=se;for(let j=0,ne=G.length;j<ne;j++){const X=G[j];D._renderSection(J,X,Y,le,this._width,F,A,z,E,B,U),X.modifiedLineStart!==0&&(Y=X.modifiedLineEnd)}I.clearNode(this._content.domNode),this._content.domNode.appendChild(J),this.scrollbar.scanDomNode()}}static _renderSection(F,E,A,B,z,U,K,G,J,Q,ae){const se=E.getType();let Z="diff-review-row",T="";const x="diff-review-spacer";let H=null;switch(se){case 1:Z="diff-review-row line-insert",T=" char-insert",H=L;break;case 2:Z="diff-review-row line-delete",T=" char-delete",H=N;break}const V=E.originalLineStart,q=E.originalLineEnd,ee=E.modifiedLineStart,oe=E.modifiedLineEnd,le=Math.max(oe-ee,q-V),Y=U.get(126),j=Y.glyphMarginWidth+Y.lineNumbersWidth,ne=J.get(126),X=10+ne.glyphMarginWidth+ne.lineNumbersWidth;for(let ue=0;ue<=le;ue++){const he=V===0?0:V+ue,re=ee===0?0:ee+ue,ce=document.createElement("div");ce.style.minWidth=z+"px",ce.className=Z,ce.setAttribute("role","listitem"),re!==0&&(A=re),ce.setAttribute("data-line",String(A));let me=document.createElement("div");me.className="diff-review-cell",me.style.height=`${B}px`,ce.appendChild(me);const Ce=document.createElement("span");Ce.style.width=j+"px",Ce.style.minWidth=j+"px",Ce.className="diff-review-line-number"+T,he!==0?Ce.appendChild(document.createTextNode(String(he))):Ce.innerText="\xA0",me.appendChild(Ce);const we=document.createElement("span");we.style.width=X+"px",we.style.minWidth=X+"px",we.style.paddingRight="10px",we.className="diff-review-line-number"+T,re!==0?we.appendChild(document.createTextNode(String(re))):we.innerText="\xA0",me.appendChild(we);const Ee=document.createElement("span");if(Ee.className=x,H){const Le=document.createElement("span");Le.className=o.ThemeIcon.asClassName(H),Le.innerText="\xA0\xA0",Ee.appendChild(Le)}else Ee.innerText="\xA0\xA0";me.appendChild(Ee);let Ie;if(re!==0){let Le=this._renderLine(Q,J,ae.tabSize,re);D._ttPolicy&&(Le=D._ttPolicy.createHTML(Le)),me.insertAdjacentHTML("beforeend",Le),Ie=Q.getLineContent(re)}else{let Le=this._renderLine(K,U,G.tabSize,he);D._ttPolicy&&(Le=D._ttPolicy.createHTML(Le)),me.insertAdjacentHTML("beforeend",Le),Ie=K.getLineContent(he)}Ie.length===0&&(Ie=v.localize(8,null));let Ae="";switch(se){case 0:he===re?Ae=v.localize(9,null,Ie,he):Ae=v.localize(10,null,Ie,he,re);break;case 1:Ae=v.localize(11,null,Ie,re);break;case 2:Ae=v.localize(12,null,Ie,he);break}ce.setAttribute("aria-label",Ae),F.appendChild(ce)}}static _renderLine(F,E,A,B){const z=F.getLineContent(B),U=E.get(40),K=(0<<11|1<<14|2<<23)>>>0,G=new Uint32Array(2);G[0]=z.length,G[1]=K;const J=new l.LineTokens(G,z),Q=n.ViewLineRenderingData.isBasicASCII(z,F.mightContainNonBasicASCII()),ae=n.ViewLineRenderingData.containsRTL(z,Q,F.mightContainRTL());return(0,r.renderViewLine2)(new r.RenderLineInput(U.isMonospace&&!E.get(27),U.canUseHalfwidthRightwardsArrow,z,!1,Q,ae,0,J,[],A,0,U.spaceWidth,U.middotWidth,U.wsmiddotWidth,E.get(102),E.get(85),E.get(79),E.get(41)!==a.EditorFontLigatures.OFF,null)).html}}e.DiffReview=D,D._ttPolicy=(m=window.trustedTypes)===null||m===void 0?void 0:m.createPolicy("diffReview",{createHTML:W=>W}),(0,o.registerThemingParticipant)((W,F)=>{const E=W.getColor(d.editorLineNumbers);E&&F.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${E}; }`);const A=W.getColor(t.scrollbarShadow);A&&F.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${A} 0 -6px 6px -6px inset; }`)});class R extends _.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:v.localize(13,null),alias:"Go to Next Difference",precondition:s.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(F,E){const A=O(F);A&&A.diffReviewNext()}}class P extends _.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:v.localize(14,null),alias:"Go to Previous Difference",precondition:s.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(F,E){const A=O(F);A&&A.diffReviewPrev()}}function O(W){const F=W.get(u.ICodeEditorService),E=F.listDiffEditors(),A=F.getActiveCodeEditor();if(!A)return null;for(let B=0,z=E.length;B<z;B++){const U=E[B];if(U.getModifiedEditor().getId()===A.getId()||U.getOriginalEditor().getId()===A.getId())return U}return null}(0,_.registerEditorAction)(R),(0,_.registerEditorAction)(P)}),define(te[262],ie([0,1,332,7,30,114,15,6,2,71,68,28,134,647,38,3,92,104,31,80,225,159,125,64,16,9,136,33,22,12,67,335,87,13,11,57,235,27,133,75,295]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m,g,b,y,L,N,M,D,R,P,O,W,F,E,A,B,z){"use strict";var U;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class K{constructor(re,ce){this._contextMenuService=re,this._clipboardService=ce,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(re){return re.filter(ce=>!this._zonesMap[String(ce.id)])}clean(re){this._zones.length>0&&re.changeViewZones(ce=>{for(const me of this._zones)ce.removeZone(me)}),this._zones=[],this._zonesMap={},this._decorations=re.deltaDecorations(this._decorations,[])}apply(re,ce,me,Ce){const we=Ce?_.StableEditorScrollState.capture(re):null;re.changeViewZones(Ee=>{for(const Ie of this._zones)Ee.removeZone(Ie);for(const Ie of this._inlineDiffMargins)Ie.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Ie=0,Ae=me.zones.length;Ie<Ae;Ie++){const Le=me.zones[Ie];Le.suppressMouseDown=!0;const Te=Ee.addZone(Le);this._zones.push(Te),this._zonesMap[String(Te)]=!0,me.zones[Ie].diff&&Le.marginDomNode&&(Le.suppressMouseDown=!1,this._inlineDiffMargins.push(new R.InlineDiffMargin(Te,Le.marginDomNode,re,me.zones[Ie].diff,this._contextMenuService,this._clipboardService)))}}),we&&we.restore(re),this._decorations=re.deltaDecorations(this._decorations,me.decorations),ce&&ce.setZones(me.overviewZones)}}let G=0;const J=(0,z.registerIcon)("diff-insert",A.Codicon.add,v.localize(0,null)),Q=(0,z.registerIcon)("diff-remove",A.Codicon.remove,v.localize(1,null)),ae=(U=window.trustedTypes)===null||U===void 0?void 0:U.createPolicy("diffEditorWidget",{createHTML:he=>he});let se=class Ge extends C.Disposable{constructor(re,ce,me,Ce,we,Ee,Ie,Ae,Le,Te,ve,Se){super();this._editorProgressService=Se,this._onDidDispose=this._register(new p.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new p.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new p.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=we,this._codeEditorService=Ae,this._contextKeyService=this._register(Ee.createScoped(re)),this._instantiationService=Ie.createChild(new y.ServiceCollection([g.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Le,this._notificationService=Te,this._id=++G,this._state=0,this._updatingDiffProgress=null,this._domElement=re,ce=ce||{},this._renderSideBySide=!0,typeof ce.renderSideBySide!="undefined"&&(this._renderSideBySide=ce.renderSideBySide),this._maxComputationTime=5e3,typeof ce.maxComputationTime!="undefined"&&(this._maxComputationTime=ce.maxComputationTime),this._ignoreTrimWhitespace=!0,typeof ce.ignoreTrimWhitespace!="undefined"&&(this._ignoreTrimWhitespace=ce.ignoreTrimWhitespace),this._renderIndicators=!0,typeof ce.renderIndicators!="undefined"&&(this._renderIndicators=ce.renderIndicators),this._originalIsEditable=(0,c.boolean)(ce.originalEditable,!1),this._diffCodeLens=(0,c.boolean)(ce.diffCodeLens,!1),this._diffWordWrap=Y(ce.diffWordWrap,"inherit"),typeof ce.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",ce.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._renderOverviewRuler=!0,typeof ce.renderOverviewRuler!="undefined"&&(this._renderOverviewRuler=Boolean(ce.renderOverviewRuler)),this._updateDecorationsRunner=this._register(new S.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Ge._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,k.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(I.addStandardDisposableListener(this._overviewDomElement,"mousedown",fe=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(fe)})),this._renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new K(ve,Ce),this._modifiedEditorState=new K(ve,Ce),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new E.ElementSizeObserver(this._containerDomElement,ce.dimension,()=>this._onDidContainerSizeChanged())),ce.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(ce,me.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(ce,me.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new l.DiffReview(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,typeof ce.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=ce.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new q(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new oe(this._createDataSource(),this._enableSplitViewResizing)),this._register(Le.onDidColorThemeChange(fe=>{this._strategy&&this._strategy.applyColors(fe)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Ge._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const ye=O.EditorExtensionsRegistry.getDiffEditorContributions();for(const fe of ye)try{this._register(Ie.createInstance(fe.ctor,this))}catch(de){(0,W.onUnexpectedError)(de)}this._codeEditorService.addDiffEditor(this)}_setState(re){this._state!==re&&(this._state=re,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(re,ce){let me="monaco-diff-editor monaco-editor-background ";return ce&&(me+="side-by-side "),me+=(0,M.getThemeTypeSelector)(re.type),me}_recreateOverviewRulers(){!this._renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(re,ce){const me=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(re),ce);this._register(me.onDidScrollChange(we=>{this._isHandlingScrollEvent||!we.scrollTopChanged&&!we.scrollLeftChanged&&!we.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:we.scrollLeft,scrollTop:we.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(me.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(me.onDidChangeConfiguration(we=>{!me.getModel()||(we.hasChanged(40)&&this._updateDecorationsRunner.schedule(),we.hasChanged(127)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(me.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Ce=this._contextKeyService.createKey("isInDiffLeftEditor",me.hasWidgetFocus());return this._register(me.onDidFocusEditorWidget(()=>Ce.set(!0))),this._register(me.onDidBlurEditorWidget(()=>Ce.set(!1))),this._register(me.onDidContentSizeChange(we=>{const Ee=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ge.ONE_OVERVIEW_WIDTH,Ie=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ie,contentWidth:Ee,contentHeightChanged:we.contentHeightChanged,contentWidthChanged:we.contentWidthChanged})})),me}_createRightHandSideEditor(re,ce){const me=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(re),ce);this._register(me.onDidScrollChange(we=>{this._isHandlingScrollEvent||!we.scrollTopChanged&&!we.scrollLeftChanged&&!we.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:we.scrollLeft,scrollTop:we.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(me.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(me.onDidChangeConfiguration(we=>{!me.getModel()||(we.hasChanged(40)&&this._updateDecorationsRunner.schedule(),we.hasChanged(127)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(me.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(me.onDidChangeModelOptions(we=>{we.tabSize&&this._updateDecorationsRunner.schedule()}));const Ce=this._contextKeyService.createKey("isInDiffRightEditor",me.hasWidgetFocus());return this._register(me.onDidFocusEditorWidget(()=>Ce.set(!0))),this._register(me.onDidBlurEditorWidget(()=>Ce.set(!1))),this._register(me.onDidContentSizeChange(we=>{const Ee=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ge.ONE_OVERVIEW_WIDTH,Ie=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ie,contentWidth:Ee,contentHeightChanged:we.contentHeightChanged,contentWidthChanged:we.contentWidthChanged})})),me}_createInnerEditor(re,ce,me,Ce){return re.createInstance(a.CodeEditorWidget,ce,me,Ce)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return n.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(re){let ce=!1;typeof re.renderSideBySide!="undefined"&&this._renderSideBySide!==re.renderSideBySide&&(this._renderSideBySide=re.renderSideBySide,ce=!0),typeof re.maxComputationTime!="undefined"&&(this._maxComputationTime=re.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let me=!1;typeof re.ignoreTrimWhitespace!="undefined"&&this._ignoreTrimWhitespace!==re.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=re.ignoreTrimWhitespace,me=!0),typeof re.renderIndicators!="undefined"&&this._renderIndicators!==re.renderIndicators&&(this._renderIndicators=re.renderIndicators,me=!0),me&&this._beginUpdateDecorations(),this._originalIsEditable=(0,c.boolean)(re.originalEditable,this._originalIsEditable),this._diffCodeLens=(0,c.boolean)(re.diffCodeLens,this._diffCodeLens),this._diffWordWrap=Y(re.diffWordWrap,this._diffWordWrap),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(re)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(re)),typeof re.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=re.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),ce&&(this._renderSideBySide?this._setStrategy(new q(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new oe(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=Ge._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)),typeof re.renderOverviewRuler!="undefined"&&this._renderOverviewRuler!==re.renderOverviewRuler&&(this._renderOverviewRuler=re.renderOverviewRuler,this._renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(re){if(re&&(!re.original||!re.modified))throw new Error(re.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(re?re.original:null),this._modifiedEditor.setModel(re?re.modified:null),this._updateDecorationsRunner.cancel(),re&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),re&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(re){return this._modifiedEditor.getVisibleColumnFromPosition(re)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(re){this._modifiedEditor.setPosition(re)}revealLine(re,ce=0){this._modifiedEditor.revealLine(re,ce)}revealLineInCenter(re,ce=0){this._modifiedEditor.revealLineInCenter(re,ce)}revealLineInCenterIfOutsideViewport(re,ce=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(re,ce)}revealLineNearTop(re,ce=0){this._modifiedEditor.revealLineNearTop(re,ce)}revealPosition(re,ce=0){this._modifiedEditor.revealPosition(re,ce)}revealPositionInCenter(re,ce=0){this._modifiedEditor.revealPositionInCenter(re,ce)}revealPositionInCenterIfOutsideViewport(re,ce=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(re,ce)}revealPositionNearTop(re,ce=0){this._modifiedEditor.revealPositionNearTop(re,ce)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(re){this._modifiedEditor.setSelection(re)}setSelections(re){this._modifiedEditor.setSelections(re)}revealLines(re,ce,me=0){this._modifiedEditor.revealLines(re,ce,me)}revealLinesInCenter(re,ce,me=0){this._modifiedEditor.revealLinesInCenter(re,ce,me)}revealLinesInCenterIfOutsideViewport(re,ce,me=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(re,ce,me)}revealLinesNearTop(re,ce,me=0){this._modifiedEditor.revealLinesNearTop(re,ce,me)}revealRange(re,ce=0,me=!1,Ce=!0){this._modifiedEditor.revealRange(re,ce,me,Ce)}revealRangeInCenter(re,ce=0){this._modifiedEditor.revealRangeInCenter(re,ce)}revealRangeInCenterIfOutsideViewport(re,ce=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(re,ce)}revealRangeNearTop(re,ce=0){this._modifiedEditor.revealRangeNearTop(re,ce)}revealRangeNearTopIfOutsideViewport(re,ce=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(re,ce)}revealRangeAtTop(re,ce=0){this._modifiedEditor.revealRangeAtTop(re,ce)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const re=this._originalEditor.saveViewState(),ce=this._modifiedEditor.saveViewState();return{original:re,modified:ce}}restoreViewState(re){if(re&&re.original&&re.modified){const ce=re;this._originalEditor.restoreViewState(ce.original),this._modifiedEditor.restoreViewState(ce.modified)}}layout(re){this._elementSizeObserver.observe(re)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(re,ce,me){this._modifiedEditor.trigger(re,ce,me)}changeDecorations(re){return this._modifiedEditor.changeDecorations(re)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!!this._renderOverviewRuler&&!(!this._originalOverviewRuler||!this._modifiedOverviewRuler)){const re=this._elementSizeObserver.getHeight(),ce=this._getReviewHeight(),me=Ge.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Ge.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Ge.ONE_OVERVIEW_WIDTH,right:me+Ge.ONE_OVERVIEW_WIDTH,height:re-ce}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Ge.ONE_OVERVIEW_WIDTH,height:re-ce}))}}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Ge.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(re,ce){return!re&&!ce?!0:!re||!ce?!1:re.toString()===ce.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const re=this._originalEditor.getModel(),ce=this._modifiedEditor.getModel();if(!(!re||!ce)){this._diffComputationToken++;const me=this._diffComputationToken;if(this._setState(1),!this._editorWorkerService.canComputeDiff(re.uri,ce.uri)){(!Ge._equals(re.uri,this._lastOriginalWarning)||!Ge._equals(ce.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=re.uri,this._lastModifiedWarning=ce.uri,this._notificationService.warn(v.localize(2,null)));return}this._editorWorkerService.computeDiff(re.uri,ce.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(Ce=>{me===this._diffComputationToken&&re===this._originalEditor.getModel()&&ce===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=Ce,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},Ce=>{me===this._diffComputationToken&&re===this._originalEditor.getModel()&&ce===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())){const re=this._diffComputationResult?this._diffComputationResult.changes:[],ce=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),me=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Ce=this._strategy.getEditorsDiffDecorations(re,this._ignoreTrimWhitespace,this._renderIndicators,ce,me);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,Ce.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,Ce.modified,!0)}finally{this._currentlyChangingViewZones=!1}}}_adjustOptionsForSubEditor(re){const ce=Object.assign({},re);return ce.inDiffEditor=!0,ce.automaticLayout=!1,ce.scrollbar=Object.assign({},ce.scrollbar||{}),ce.scrollbar.vertical="visible",ce.folding=!1,ce.codeLens=this._diffCodeLens,ce.fixedOverflowWidgets=!0,ce.minimap=Object.assign({},ce.minimap||{}),ce.minimap.enabled=!1,ce}_adjustOptionsForLeftHandSide(re){const ce=this._adjustOptionsForSubEditor(re);return this._renderSideBySide?ce.wordWrapOverride1=this._diffWordWrap:ce.wordWrapOverride1="off",re.originalAriaLabel&&(ce.ariaLabel=re.originalAriaLabel),ce.readOnly=!this._originalIsEditable,ce.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},ce),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(re){const ce=this._adjustOptionsForSubEditor(re);return re.modifiedAriaLabel&&(ce.ariaLabel=re.modifiedAriaLabel),ce.wordWrapOverride1=this._diffWordWrap,ce.revealHorizontalRightPadding=c.EditorOptions.revealHorizontalRightPadding.defaultValue+Ge.ENTIRE_DIFF_OVERVIEW_WIDTH,ce.scrollbar.verticalHasArrows=!1,ce.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},ce),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const re=this._elementSizeObserver.getWidth(),ce=this._elementSizeObserver.getHeight(),me=this._getReviewHeight(),Ce=this._strategy.layout();this._originalDomNode.style.width=Ce+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=re-Ce+"px",this._modifiedDomNode.style.left=Ce+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=ce-me+"px",this._overviewDomElement.style.width=Ge.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=re-Ge.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Ge.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Ce,height:ce-me}),this._modifiedEditor.layout({width:re-Ce-(this._renderOverviewRuler?Ge.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:ce-me}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(ce-me,re,me),this._layoutOverviewViewport()}_layoutOverviewViewport(){const re=this._computeOverviewViewport();re?(this._overviewViewportDomElement.setTop(re.top),this._overviewViewportDomElement.setHeight(re.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const re=this._modifiedEditor.getLayoutInfo();if(!re)return null;const ce=this._modifiedEditor.getScrollTop(),me=this._modifiedEditor.getScrollHeight(),Ce=Math.max(0,re.height),we=Math.max(0,Ce-2*0),Ee=me>0?we/me:0,Ie=Math.max(0,Math.floor(re.height*Ee)),Ae=Math.floor(ce*Ee);return{height:Ie,top:Ae}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(re){this._strategy&&this._strategy.dispose(),this._strategy=re,re.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(re,ce){const me=this._diffComputationResult?this._diffComputationResult.changes:[];if(me.length===0||re<ce(me[0]))return null;let Ce=0,we=me.length-1;for(;Ce<we;){const Ee=Math.floor((Ce+we)/2),Ie=ce(me[Ee]),Ae=Ee+1<=we?ce(me[Ee+1]):1073741824;re<Ie?we=Ee-1:re>=Ae?Ce=Ee+1:(Ce=Ee,we=Ee)}return me[Ce]}_getEquivalentLineForOriginalLineNumber(re){const ce=this._getLineChangeAtOrBeforeLineNumber(re,Ae=>Ae.originalStartLineNumber);if(!ce)return re;const me=ce.originalStartLineNumber+(ce.originalEndLineNumber>0?-1:0),Ce=ce.modifiedStartLineNumber+(ce.modifiedEndLineNumber>0?-1:0),we=ce.originalEndLineNumber>0?ce.originalEndLineNumber-ce.originalStartLineNumber+1:0,Ee=ce.modifiedEndLineNumber>0?ce.modifiedEndLineNumber-ce.modifiedStartLineNumber+1:0,Ie=re-me;return Ie<=we?Ce+Math.min(Ie,Ee):Ce+Ee-we+Ie}_getEquivalentLineForModifiedLineNumber(re){const ce=this._getLineChangeAtOrBeforeLineNumber(re,Ae=>Ae.modifiedStartLineNumber);if(!ce)return re;const me=ce.originalStartLineNumber+(ce.originalEndLineNumber>0?-1:0),Ce=ce.modifiedStartLineNumber+(ce.modifiedEndLineNumber>0?-1:0),we=ce.originalEndLineNumber>0?ce.originalEndLineNumber-ce.originalStartLineNumber+1:0,Ee=ce.modifiedEndLineNumber>0?ce.modifiedEndLineNumber-ce.modifiedStartLineNumber+1:0,Ie=re-Ce;return Ie<=Ee?me+Math.min(Ie,we):me+we-Ee+Ie}getDiffLineInformationForOriginal(re){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(re)}:null}getDiffLineInformationForModified(re){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(re)}:null}};se.ONE_OVERVIEW_WIDTH=15,se.ENTIRE_DIFF_OVERVIEW_WIDTH=30,se.UPDATE_DIFF_DECORATIONS_DELAY=200,se=Me([_e(3,P.IClipboardService),_e(4,t.IEditorWorkerService),_e(5,g.IContextKeyService),_e(6,b.IInstantiationService),_e(7,u.ICodeEditorService),_e(8,M.IThemeService),_e(9,L.INotificationService),_e(10,D.IContextMenuService),_e(11,F.IEditorProgressService)],se),e.DiffEditorWidget=se;class Z extends C.Disposable{constructor(re){super();this._dataSource=re,this._insertColor=null,this._removeColor=null}applyColors(re){const ce=(re.getColor(N.diffInserted)||N.defaultInsertColor).transparent(2),me=(re.getColor(N.diffRemoved)||N.defaultRemoveColor).transparent(2),Ce=!ce.equals(this._insertColor)||!me.equals(this._removeColor);return this._insertColor=ce,this._removeColor=me,Ce}getEditorsDiffDecorations(re,ce,me,Ce,we){we=we.sort((Le,Te)=>Le.afterLineNumber-Te.afterLineNumber),Ce=Ce.sort((Le,Te)=>Le.afterLineNumber-Te.afterLineNumber);const Ee=this._getViewZones(re,Ce,we,me),Ie=this._getOriginalEditorDecorations(re,ce,me),Ae=this._getModifiedEditorDecorations(re,ce,me);return{original:{decorations:Ie.decorations,overviewZones:Ie.overviewZones,zones:Ee.original},modified:{decorations:Ae.decorations,overviewZones:Ae.overviewZones,zones:Ee.modified}}}}class T{constructor(re){this._source=re,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class x{constructor(re,ce,me,Ce,we){this._lineChanges=re,this._originalForeignVZ=ce,this._modifiedForeignVZ=me,this._originalEditor=Ce,this._modifiedEditor=we}static _getViewLineCount(re,ce,me){const Ce=re.getModel(),we=re._getViewModel();if(Ce&&we){const Ee=ue(Ce,we,ce,me);return Ee.endLineNumber-Ee.startLineNumber+1}return me-ce+1}getViewZones(){const re=this._originalEditor.getOption(55),ce=this._modifiedEditor.getOption(55),me=this._originalEditor.getOption(127).wrappingColumn!==-1,Ce=this._modifiedEditor.getOption(127).wrappingColumn!==-1,we=me||Ce,Ee=this._originalEditor.getModel(),Ie=this._originalEditor._getViewModel().coordinatesConverter,Ae=this._modifiedEditor._getViewModel().coordinatesConverter,Le={original:[],modified:[]};let Te=0,ve=0,Se=0,ye=0,fe=0,de=0;const ge=(Oe,Fe)=>Oe.afterLineNumber-Fe.afterLineNumber,pe=(Oe,Fe)=>{if(Fe.domNode===null&&Oe.length>0){const Pe=Oe[Oe.length-1];if(Pe.afterLineNumber===Fe.afterLineNumber&&Pe.domNode===null){Pe.heightInLines+=Fe.heightInLines;return}}Oe.push(Fe)},be=new T(this._modifiedForeignVZ),ke=new T(this._originalForeignVZ);let Ne=1,Re=1;for(let Oe=0,Fe=this._lineChanges.length;Oe<=Fe;Oe++){const Pe=Oe<Fe?this._lineChanges[Oe]:null;Pe!==null?(Se=Pe.originalStartLineNumber+(Pe.originalEndLineNumber>0?-1:0),ye=Pe.modifiedStartLineNumber+(Pe.modifiedEndLineNumber>0?-1:0),ve=Pe.originalEndLineNumber>0?x._getViewLineCount(this._originalEditor,Pe.originalStartLineNumber,Pe.originalEndLineNumber):0,Te=Pe.modifiedEndLineNumber>0?x._getViewLineCount(this._modifiedEditor,Pe.modifiedStartLineNumber,Pe.modifiedEndLineNumber):0,fe=Math.max(Pe.originalStartLineNumber,Pe.originalEndLineNumber),de=Math.max(Pe.modifiedStartLineNumber,Pe.modifiedEndLineNumber)):(Se+=1e7+ve,ye+=1e7+Te,fe=Se,de=ye);let xe=[],We=[];if(we){let Be;Pe?Pe.originalEndLineNumber>0?Be=Pe.originalStartLineNumber-Ne:Be=Pe.modifiedStartLineNumber-Re:Be=Ee.getLineCount()-Ne;for(let He=0;He<Be;He++){const Ve=Ne+He,Ue=Re+He,Ye=Ie.getModelLineViewLineCount(Ve),je=Ae.getModelLineViewLineCount(Ue);Ye<je?xe.push({afterLineNumber:Ve,heightInLines:je-Ye,domNode:null,marginDomNode:null}):Ye>je&&We.push({afterLineNumber:Ue,heightInLines:Ye-je,domNode:null,marginDomNode:null})}Pe&&(Ne=(Pe.originalEndLineNumber>0?Pe.originalEndLineNumber:Pe.originalStartLineNumber)+1,Re=(Pe.modifiedEndLineNumber>0?Pe.modifiedEndLineNumber:Pe.modifiedStartLineNumber)+1)}for(;be.current&&be.current.afterLineNumber<=de;){let Be;be.current.afterLineNumber<=ye?Be=Se-ye+be.current.afterLineNumber:Be=fe;let He=null;Pe&&Pe.modifiedStartLineNumber<=be.current.afterLineNumber&&be.current.afterLineNumber<=Pe.modifiedEndLineNumber&&(He=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),xe.push({afterLineNumber:Be,heightInLines:be.current.height/ce,domNode:null,marginDomNode:He}),be.advance()}for(;ke.current&&ke.current.afterLineNumber<=fe;){let Be;ke.current.afterLineNumber<=Se?Be=ye-Se+ke.current.afterLineNumber:Be=de,We.push({afterLineNumber:Be,heightInLines:ke.current.height/re,domNode:null}),ke.advance()}if(Pe!==null&&j(Pe)){const Be=this._produceOriginalFromDiff(Pe,ve,Te);Be&&xe.push(Be)}if(Pe!==null&&ne(Pe)){const Be=this._produceModifiedFromDiff(Pe,ve,Te);Be&&We.push(Be)}let ze=0,Ke=0;for(xe=xe.sort(ge),We=We.sort(ge);ze<xe.length&&Ke<We.length;){const Be=xe[ze],He=We[Ke],Ve=Be.afterLineNumber-Se,Ue=He.afterLineNumber-ye;Ve<Ue?(pe(Le.original,Be),ze++):Ue<Ve?(pe(Le.modified,He),Ke++):Be.shouldNotShrink?(pe(Le.original,Be),ze++):He.shouldNotShrink?(pe(Le.modified,He),Ke++):Be.heightInLines>=He.heightInLines?(Be.heightInLines-=He.heightInLines,Ke++):(He.heightInLines-=Be.heightInLines,ze++)}for(;ze<xe.length;)pe(Le.original,xe[ze]),ze++;for(;Ke<We.length;)pe(Le.modified,We[Ke]),Ke++}return{original:x._ensureDomNodes(Le.original),modified:x._ensureDomNodes(Le.modified)}}static _ensureDomNodes(re){return re.map(ce=>(ce.domNode||(ce.domNode=X()),ce))}}function H(he,re,ce,me,Ce){return{range:new d.Range(he,re,ce,me),options:Ce}}const V={charDelete:s.ModelDecorationOptions.register({className:"char-delete"}),charDeleteWholeLine:s.ModelDecorationOptions.register({className:"char-delete",isWholeLine:!0}),charInsert:s.ModelDecorationOptions.register({className:"char-insert"}),charInsertWholeLine:s.ModelDecorationOptions.register({className:"char-insert",isWholeLine:!0}),lineInsert:s.ModelDecorationOptions.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:s.ModelDecorationOptions.register({className:"line-insert",linesDecorationsClassName:"insert-sign "+M.ThemeIcon.asClassName(J),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:s.ModelDecorationOptions.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:s.ModelDecorationOptions.register({className:"line-delete",linesDecorationsClassName:"delete-sign "+M.ThemeIcon.asClassName(Q),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:s.ModelDecorationOptions.register({marginClassName:"line-delete"})};class q extends Z{constructor(re,ce){super(re);this._disableSash=ce===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new w.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(me=>this._onSashDrag(me)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(re){const ce=re===!1;this._disableSash!==ce&&(this._disableSash=ce,this._sash.state=this._disableSash?0:3)}layout(re=this._sashRatio){const me=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?se.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let Ce=Math.floor((re||.5)*me);const we=Math.floor(.5*me);return Ce=this._disableSash?we:Ce||we,me>q.MINIMUM_EDITOR_WIDTH*2?(Ce<q.MINIMUM_EDITOR_WIDTH&&(Ce=q.MINIMUM_EDITOR_WIDTH),Ce>me-q.MINIMUM_EDITOR_WIDTH&&(Ce=me-q.MINIMUM_EDITOR_WIDTH)):Ce=we,this._sashPosition!==Ce&&(this._sashPosition=Ce,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(re){const me=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?se.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Ce=this.layout((this._startSashPosition+(re.currentX-re.startX))/me);this._sashRatio=Ce/me,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(re){return 0}getVerticalSashLeft(re){return this._sashPosition}getVerticalSashHeight(re){return this._dataSource.getHeight()}_getViewZones(re,ce,me){const Ce=this._dataSource.getOriginalEditor(),we=this._dataSource.getModifiedEditor();return new ee(re,ce,me,Ce,we).getViewZones()}_getOriginalEditorDecorations(re,ce,me){const Ce=this._dataSource.getOriginalEditor(),we=String(this._removeColor),Ee={decorations:[],overviewZones:[]},Ie=Ce.getModel(),Ae=Ce._getViewModel();for(const Le of re)if(ne(Le)){Ee.decorations.push({range:new d.Range(Le.originalStartLineNumber,1,Le.originalEndLineNumber,1073741824),options:me?V.lineDeleteWithSign:V.lineDelete}),(!j(Le)||!Le.charChanges)&&Ee.decorations.push(H(Le.originalStartLineNumber,1,Le.originalEndLineNumber,1073741824,V.charDeleteWholeLine));const Te=ue(Ie,Ae,Le.originalStartLineNumber,Le.originalEndLineNumber);if(Ee.overviewZones.push(new o.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,we)),Le.charChanges){for(const ve of Le.charChanges)if(ne(ve))if(ce)for(let Se=ve.originalStartLineNumber;Se<=ve.originalEndLineNumber;Se++){let ye,fe;Se===ve.originalStartLineNumber?ye=ve.originalStartColumn:ye=Ie.getLineFirstNonWhitespaceColumn(Se),Se===ve.originalEndLineNumber?fe=ve.originalEndColumn:fe=Ie.getLineLastNonWhitespaceColumn(Se),Ee.decorations.push(H(Se,ye,Se,fe,V.charDelete))}else Ee.decorations.push(H(ve.originalStartLineNumber,ve.originalStartColumn,ve.originalEndLineNumber,ve.originalEndColumn,V.charDelete))}}return Ee}_getModifiedEditorDecorations(re,ce,me){const Ce=this._dataSource.getModifiedEditor(),we=String(this._insertColor),Ee={decorations:[],overviewZones:[]},Ie=Ce.getModel(),Ae=Ce._getViewModel();for(const Le of re)if(j(Le)){Ee.decorations.push({range:new d.Range(Le.modifiedStartLineNumber,1,Le.modifiedEndLineNumber,1073741824),options:me?V.lineInsertWithSign:V.lineInsert}),(!ne(Le)||!Le.charChanges)&&Ee.decorations.push(H(Le.modifiedStartLineNumber,1,Le.modifiedEndLineNumber,1073741824,V.charInsertWholeLine));const Te=ue(Ie,Ae,Le.modifiedStartLineNumber,Le.modifiedEndLineNumber);if(Ee.overviewZones.push(new o.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,we)),Le.charChanges){for(const ve of Le.charChanges)if(j(ve))if(ce)for(let Se=ve.modifiedStartLineNumber;Se<=ve.modifiedEndLineNumber;Se++){let ye,fe;Se===ve.modifiedStartLineNumber?ye=ve.modifiedStartColumn:ye=Ie.getLineFirstNonWhitespaceColumn(Se),Se===ve.modifiedEndLineNumber?fe=ve.modifiedEndColumn:fe=Ie.getLineLastNonWhitespaceColumn(Se),Ee.decorations.push(H(Se,ye,Se,fe,V.charInsert))}else Ee.decorations.push(H(ve.modifiedStartLineNumber,ve.modifiedStartColumn,ve.modifiedEndLineNumber,ve.modifiedEndColumn,V.charInsert))}}return Ee}}q.MINIMUM_EDITOR_WIDTH=100;class ee extends x{constructor(re,ce,me,Ce,we){super(re,ce,me,Ce,we)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(re,ce,me){return me>ce?{afterLineNumber:Math.max(re.originalStartLineNumber,re.originalEndLineNumber),heightInLines:me-ce,domNode:null}:null}_produceModifiedFromDiff(re,ce,me){return ce>me?{afterLineNumber:Math.max(re.modifiedStartLineNumber,re.modifiedEndLineNumber),heightInLines:ce-me,domNode:null}:null}}class oe extends Z{constructor(re,ce){super(re);this._decorationsLeft=re.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(re.getOriginalEditor().onDidLayoutChange(me=>{this._decorationsLeft!==me.decorationsLeft&&(this._decorationsLeft=me.decorationsLeft,re.relayoutEditors())}))}setEnableSplitViewResizing(re){}_getViewZones(re,ce,me,Ce){const we=this._dataSource.getOriginalEditor(),Ee=this._dataSource.getModifiedEditor();return new le(re,ce,me,we,Ee,Ce).getViewZones()}_getOriginalEditorDecorations(re,ce,me){const Ce=String(this._removeColor),we={decorations:[],overviewZones:[]},Ee=this._dataSource.getOriginalEditor(),Ie=Ee.getModel(),Ae=Ee._getViewModel();for(const Le of re)if(ne(Le)){we.decorations.push({range:new d.Range(Le.originalStartLineNumber,1,Le.originalEndLineNumber,1073741824),options:V.lineDeleteMargin});const Te=ue(Ie,Ae,Le.originalStartLineNumber,Le.originalEndLineNumber);we.overviewZones.push(new o.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,Ce))}return we}_getModifiedEditorDecorations(re,ce,me){const Ce=this._dataSource.getModifiedEditor(),we=String(this._insertColor),Ee={decorations:[],overviewZones:[]},Ie=Ce.getModel(),Ae=Ce._getViewModel();for(const Le of re)if(j(Le)){Ee.decorations.push({range:new d.Range(Le.modifiedStartLineNumber,1,Le.modifiedEndLineNumber,1073741824),options:me?V.lineInsertWithSign:V.lineInsert});const Te=ue(Ie,Ae,Le.modifiedStartLineNumber,Le.modifiedEndLineNumber);if(Ee.overviewZones.push(new o.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,we)),Le.charChanges){for(const ve of Le.charChanges)if(j(ve))if(ce)for(let Se=ve.modifiedStartLineNumber;Se<=ve.modifiedEndLineNumber;Se++){let ye,fe;Se===ve.modifiedStartLineNumber?ye=ve.modifiedStartColumn:ye=Ie.getLineFirstNonWhitespaceColumn(Se),Se===ve.modifiedEndLineNumber?fe=ve.modifiedEndColumn:fe=Ie.getLineLastNonWhitespaceColumn(Se),Ee.decorations.push(H(Se,ye,Se,fe,V.charInsert))}else Ee.decorations.push(H(ve.modifiedStartLineNumber,ve.modifiedStartColumn,ve.modifiedEndLineNumber,ve.modifiedEndColumn,V.charInsert))}else Ee.decorations.push(H(Le.modifiedStartLineNumber,1,Le.modifiedEndLineNumber,1073741824,V.charInsertWholeLine))}return Ee}layout(){return Math.max(5,this._decorationsLeft)}}class le extends x{constructor(re,ce,me,Ce,we,Ee){super(re,ce,me,Ce,we);this._originalModel=Ce.getModel(),this._renderIndicators=Ee,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const re=super.getViewZones();return this._finalize(re),re}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const re=document.createElement("div");return re.className="inline-added-margin-view-zone",re}_produceOriginalFromDiff(re,ce,me){const Ce=document.createElement("div");return Ce.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(re.originalStartLineNumber,re.originalEndLineNumber),heightInLines:me,domNode:document.createElement("div"),marginDomNode:Ce}}_produceModifiedFromDiff(re,ce,me){const Ce=document.createElement("div");Ce.className=`view-lines line-delete ${B.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const we=document.createElement("div");we.className="inline-deleted-margin-view-zone";const Ee={shouldNotShrink:!0,afterLineNumber:re.modifiedEndLineNumber===0?re.modifiedStartLineNumber:re.modifiedStartLineNumber-1,heightInLines:ce,minWidthInPx:0,domNode:Ce,marginDomNode:we,diff:{originalStartLineNumber:re.originalStartLineNumber,originalEndLineNumber:re.originalEndLineNumber,modifiedStartLineNumber:re.modifiedStartLineNumber,modifiedEndLineNumber:re.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Ie=re.originalStartLineNumber;Ie<=re.originalEndLineNumber;Ie++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Ie),null);return this._pendingLineChange.push(re),this._pendingViewZones.push(Ee),Ee}_finalize(re){const ce=this._modifiedEditor.getOptions(),me=this._modifiedEditor.getModel().getOptions().tabSize,Ce=ce.get(40),we=ce.get(27),Ee=Ce.typicalHalfwidthCharacterWidth,Ie=ce.get(90),Ae=this._originalModel.mightContainNonBasicASCII(),Le=this._originalModel.mightContainRTL(),Te=ce.get(55),Se=ce.get(126).decorationsWidth,ye=ce.get(102),fe=ce.get(85),de=ce.get(79),ge=ce.get(41),pe=this._lineBreaksComputer.finalize();let be=0;for(let ke=0;ke<this._pendingLineChange.length;ke++){const Ne=this._pendingLineChange[ke],Re=this._pendingViewZones[ke],Oe=Re.domNode;i.Configuration.applyFontInfoSlow(Oe,Ce);const Fe=Re.marginDomNode;i.Configuration.applyFontInfoSlow(Fe,Ce);const Pe=[];if(Ne.charChanges)for(const Ue of Ne.charChanges)ne(Ue)&&Pe.push(new m.InlineDecoration(new d.Range(Ue.originalStartLineNumber,Ue.originalStartColumn,Ue.originalEndLineNumber,Ue.originalEndColumn),"char-delete",0));const xe=Pe.length>0,We=(0,r.createStringBuilder)(1e4);let ze=0,Ke=0,Be=null;for(let Ue=Ne.originalStartLineNumber;Ue<=Ne.originalEndLineNumber;Ue++){const Ye=Ue-Ne.originalStartLineNumber,je=this._originalModel.getLineTokens(Ue),Xe=je.getLineContent(),$e=pe[be++],Ze=h.LineDecoration.filter(Pe,Ue,1,Xe.length+1);if($e){let Qe=0;for(const Je of $e.breakOffsets){const nt=je.sliceAndInflate(Qe,Je,0),si=Xe.substring(Qe,Je);ze=Math.max(ze,this._renderOriginalLine(Ke++,si,nt,h.LineDecoration.extractWrapped(Ze,Qe,Je),xe,Ae,Le,Ce,we,Te,Se,ye,fe,de,ge,me,We,Fe)),Qe=Je}for(Be||(Be=[]);Be.length<Ye;)Be[Be.length]=1;Be[Ye]=$e.breakOffsets.length,Re.heightInLines+=$e.breakOffsets.length-1;const it=document.createElement("div");it.className="line-delete",re.original.push({afterLineNumber:Ue,afterColumn:0,heightInLines:$e.breakOffsets.length-1,domNode:X(),marginDomNode:it})}else ze=Math.max(ze,this._renderOriginalLine(Ke++,Xe,je,Ze,xe,Ae,Le,Ce,we,Te,Se,ye,fe,de,ge,me,We,Fe))}ze+=Ie;const He=We.build(),Ve=ae?ae.createHTML(He):He;if(Oe.innerHTML=Ve,Re.minWidthInPx=ze*Ee,Be){const Ue=Ne.originalEndLineNumber-Ne.originalStartLineNumber;for(;Be.length<=Ue;)Be[Be.length]=1}Re.diff.viewLineCounts=Be}re.original.sort((ke,Ne)=>ke.afterLineNumber-Ne.afterLineNumber)}_renderOriginalLine(re,ce,me,Ce,we,Ee,Ie,Ae,Le,Te,ve,Se,ye,fe,de,ge,pe,be){pe.appendASCIIString('<div class="view-line'),we||pe.appendASCIIString(" char-delete"),pe.appendASCIIString('" style="top:'),pe.appendASCIIString(String(re*Te)),pe.appendASCIIString('px;width:1000000px;">');const ke=m.ViewLineRenderingData.isBasicASCII(ce,Ee),Ne=m.ViewLineRenderingData.containsRTL(ce,ke,Ie),Re=(0,f.renderViewLine)(new f.RenderLineInput(Ae.isMonospace&&!Le,Ae.canUseHalfwidthRightwardsArrow,ce,!1,ke,Ne,0,me,Ce,ge,0,Ae.spaceWidth,Ae.middotWidth,Ae.wsmiddotWidth,Se,ye,fe,de!==c.EditorFontLigatures.OFF,null),pe);if(pe.appendASCIIString("</div>"),this._renderIndicators){const Fe=document.createElement("div");Fe.className=`delete-sign ${M.ThemeIcon.asClassName(Q)}`,Fe.setAttribute("style",`position:absolute;top:${re*Te}px;width:${ve}px;height:${Te}px;right:0;`),be.appendChild(Fe)}const Oe=Re.characterMapping.getAbsoluteOffsets();return Oe.length>0?Oe[Oe.length-1]:0}}function Y(he,re){return(0,c.stringSet)(he,re,["off","on","inherit"])}function j(he){return he.modifiedEndLineNumber>0}function ne(he){return he.originalEndLineNumber>0}function X(){const he=document.createElement("div");return he.className="diagonal-fill",he}function ue(he,re,ce,me){const Ce=he.getLineCount();return ce=Math.min(Ce,Math.max(1,ce)),me=Math.min(Ce,Math.max(1,me)),re.coordinatesConverter.convertModelRangeToViewRange(new d.Range(ce,he.getLineMinColumn(ce),me,he.getLineMaxColumn(me)))}(0,M.registerThemingParticipant)((he,re)=>{const ce=he.getColor(N.diffInserted);ce&&(re.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${ce}; }`),re.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${ce}; }`),re.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${ce}; }`));const me=he.getColor(N.diffRemoved);me&&(re.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${me}; }`),re.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${me}; }`),re.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${me}; }`));const Ce=he.getColor(N.diffInsertedOutline);Ce&&re.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${he.type==="hc"?"dashed":"solid"} ${Ce}; }`);const we=he.getColor(N.diffRemovedOutline);we&&re.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${he.type==="hc"?"dashed":"solid"} ${we}; }`);const Ee=he.getColor(N.scrollbarShadow);Ee&&re.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Ee}; }`);const Ie=he.getColor(N.diffBorder);Ie&&re.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Ie}; }`);const Ae=he.getColor(N.scrollbarSliderBackground);Ae&&re.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Ae};
			}
		`);const Le=he.getColor(N.scrollbarSliderHoverBackground);Le&&re.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Le};
			}
		`);const Te=he.getColor(N.scrollbarSliderActiveBackground);Te&&re.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Te};
			}
		`);const ve=he.getColor(N.diffDiagonalFill);re.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${ve} 12.5%,
			#0000 12.5%, #0000 50%,
			${ve} 50%, ${ve} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(te[649],ie([0,1,359,7,40,189,114,52,15,11,2,17,8,3,131,22,12,528,27,75,338]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const o=(0,t.registerIcon)("find-selection",s.Codicon.selection,v.localize(0,null)),h=(0,t.registerIcon)("find-collapsed",s.Codicon.chevronRight,v.localize(1,null)),f=(0,t.registerIcon)("find-expanded",s.Codicon.chevronDown,v.localize(2,null));e.findReplaceIcon=(0,t.registerIcon)("find-replace",s.Codicon.replace,v.localize(3,null)),e.findReplaceAllIcon=(0,t.registerIcon)("find-replace-all",s.Codicon.replaceAll,v.localize(4,null)),e.findPreviousMatchIcon=(0,t.registerIcon)("find-previous-match",s.Codicon.arrowUp,v.localize(5,null)),e.findNextMatchIcon=(0,t.registerIcon)("find-next-match",s.Codicon.arrowDown,v.localize(6,null));const m=v.localize(7,null),g=v.localize(8,null),b=v.localize(9,null),y=v.localize(10,null),L=v.localize(11,null),N=v.localize(12,null),M=v.localize(13,null),D=v.localize(14,null),R=v.localize(15,null),P=v.localize(16,null),O=v.localize(17,null),W=v.localize(18,null,c.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=v.localize(19,null),e.NLS_NO_RESULTS=v.localize(20,null);const F=419,A=275-54;let B=69;const z=33,U="ctrlEnterReplaceAll.windows.donotask",K=u.isMacintosh?256:2048;class G{constructor(T){this.afterLineNumber=T,this.heightInPx=z,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=G;function J(Z,T,x){const H=!!T.match(/\n/);if(x&&H&&x.selectionStart>0){Z.stopPropagation();return}}function Q(Z,T,x){const H=!!T.match(/\n/);if(x&&H&&x.selectionEnd<x.value.length){Z.stopPropagation();return}}class ae extends p.Widget{constructor(T,x,H,V,q,ee,oe,le,Y){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=T,this._controller=x,this._state=H,this._contextViewProvider=V,this._keybindingService=q,this._contextKeyService=ee,this._storageService=le,this._notificationService=Y,this._ctrlEnterReplaceAllWarningPrompted=!!le.getBoolean(U,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new C.Delayer(500),this._register((0,_.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(j=>this._onStateChanged(j))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(j=>{if(j.hasChanged(77)&&(this._codeEditor.getOption(77)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),j.hasChanged(126)&&this._tryUpdateWidgetWidth(),j.hasChanged(2)&&this.updateAccessibilitySupport(),j.hasChanged(33)){const ne=this._codeEditor.getOption(33).addExtraSpaceOnTop;ne&&!this._viewZone&&(this._viewZone=new G(0),this._showViewZone()),!ne&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>De(this,void 0,void 0,function*(){if(this._isVisible){let j=yield this._controller.getGlobalBufferTerm();j&&j!==this._state.searchString&&(this._state.change({searchString:j},!1),this._findInput.select())}}))),this._findInputFocused=c.CONTEXT_FIND_INPUT_FOCUSED.bindTo(ee),this._findFocusTracker=this._register(I.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=c.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(ee),this._replaceFocusTracker=this._register(I.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new G(0)),this._applyTheme(oe.getColorTheme()),this._register(oe.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(j=>{if(j.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ae.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(T){if(T.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(T.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),T.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),T.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(77)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=I.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(T.isRevealed||T.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),T.isRegex&&this._findInput.setRegex(this._state.isRegex),T.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),T.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),T.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),T.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),T.searchString||T.matchesCount||T.matchesPosition){let x=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",x),this._updateMatchesCount(),this._updateButtons()}(T.searchString||T.currentMatch)&&this._layoutViewZone(),T.updateHistory&&this._delayedUpdateHistory(),T.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,i.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=B+"px",this._state.matchesCount>=c.MATCHES_LIMIT?this._matchesCount.title=W:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let T;if(this._state.matchesCount>0){let x=String(this._state.matchesCount);this._state.matchesCount>=c.MATCHES_LIMIT&&(x+="+");let H=String(this._state.matchesPosition);H==="0"&&(H="?"),T=a.format(e.NLS_MATCHES_LOCATION,H,x)}else T=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(T)),(0,k.alert)(this._getAriaLabel(T,this._state.currentMatch,this._state.searchString)),B=Math.max(B,this._matchesCount.clientWidth)}_getAriaLabel(T,x,H){if(T===e.NLS_NO_RESULTS)return H===""?v.localize(21,null,T):v.localize(22,null,T,H);if(x){const V=v.localize(23,null,T,H,x.startLineNumber+":"+x.startColumn),q=this._codeEditor.getModel();return q&&x.startLineNumber<=q.getLineCount()&&x.startLineNumber>=1?`${q.getLineContent(x.startLineNumber)}, ${V}`:V}return v.localize(24,null,T,H)}_updateToggleSelectionFindButton(){let T=this._codeEditor.getSelection(),x=T?T.startLineNumber!==T.endLineNumber||T.startColumn!==T.endColumn:!1,H=this._toggleSelectionFind.checked;this._isVisible&&(H||x)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let T=this._state.searchString.length>0,x=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&T&&x&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&T&&x&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&T),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&T),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let H=!this._codeEditor.getOption(77);this._toggleReplaceBtn.setEnabled(this._isVisible&&H)}_reveal(){if(this._revealTimeouts.forEach(T=>{clearTimeout(T)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const T=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const H=!!T&&T.startLineNumber!==T.endLineNumber;this._toggleSelectionFind.checked=H;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let x=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&T){const H=this._codeEditor.getDomNode();if(H){const V=I.getDomNodePagePosition(H),q=this._codeEditor.getScrolledVisiblePosition(T.getStartPosition()),ee=V.left+(q?q.left:0),oe=q?q.top:0;if(this._viewZone&&oe<this._viewZone.heightInPx){T.endLineNumber>T.startLineNumber&&(x=!1);const le=I.getTopLeftOffset(this._domNode).left;ee>le&&(x=!1);const Y=this._codeEditor.getScrolledVisiblePosition(T.getEndPosition());V.left+(Y?Y.left:0)>le&&(x=!1)}}}this._showViewZone(x)}}_hide(T){this._revealTimeouts.forEach(x=>{clearTimeout(x)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),T&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(T){if(!this._codeEditor.getOption(33).addExtraSpaceOnTop){this._removeViewZone();return}if(!!this._isVisible){const H=this._viewZone;this._viewZoneId!==void 0||!H||this._codeEditor.changeViewZones(V=>{H.heightInPx=this._getHeight(),this._viewZoneId=V.addZone(H),this._codeEditor.setScrollTop(T||this._codeEditor.getScrollTop()+H.heightInPx)})}}_showViewZone(T=!0){if(!!this._isVisible&&!!this._codeEditor.getOption(33).addExtraSpaceOnTop){this._viewZone===void 0&&(this._viewZone=new G(0));const H=this._viewZone;this._codeEditor.changeViewZones(V=>{if(this._viewZoneId!==void 0){const q=this._getHeight();if(q===H.heightInPx)return;let ee=q-H.heightInPx;H.heightInPx=q,V.layoutZone(this._viewZoneId),T&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ee);return}else{let q=this._getHeight();if(q-=this._codeEditor.getOption(71).top,q<=0)return;H.heightInPx=q,this._viewZoneId=V.addZone(H),T&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+q)}})}}_removeViewZone(){this._codeEditor.changeViewZones(T=>{this._viewZoneId!==void 0&&(T.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(T){let x={inputActiveOptionBorder:T.getColor(d.inputActiveOptionBorder),inputActiveOptionBackground:T.getColor(d.inputActiveOptionBackground),inputActiveOptionForeground:T.getColor(d.inputActiveOptionForeground),inputBackground:T.getColor(d.inputBackground),inputForeground:T.getColor(d.inputForeground),inputBorder:T.getColor(d.inputBorder),inputValidationInfoBackground:T.getColor(d.inputValidationInfoBackground),inputValidationInfoForeground:T.getColor(d.inputValidationInfoForeground),inputValidationInfoBorder:T.getColor(d.inputValidationInfoBorder),inputValidationWarningBackground:T.getColor(d.inputValidationWarningBackground),inputValidationWarningForeground:T.getColor(d.inputValidationWarningForeground),inputValidationWarningBorder:T.getColor(d.inputValidationWarningBorder),inputValidationErrorBackground:T.getColor(d.inputValidationErrorBackground),inputValidationErrorForeground:T.getColor(d.inputValidationErrorForeground),inputValidationErrorBorder:T.getColor(d.inputValidationErrorBorder)};this._findInput.style(x),this._replaceInput.style(x),this._toggleSelectionFind.style(x)}_tryUpdateWidgetWidth(){if(!!this._isVisible&&!!I.isInDOM(this._domNode)){const T=this._codeEditor.getLayoutInfo();if(T.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const H=T.width,V=T.minimap.minimapWidth;let q=!1,ee=!1,oe=!1;if(this._resized&&I.getTotalWidth(this._domNode)>F){this._domNode.style.maxWidth=`${H-28-V-15}px`,this._replaceInput.width=I.getTotalWidth(this._findInput.domNode);return}if(F+28+V>=H&&(ee=!0),F+28+V-B>=H&&(oe=!0),F+28+V-B>=H+50&&(q=!0),this._domNode.classList.toggle("collapsed-find-widget",q),this._domNode.classList.toggle("narrow-find-widget",oe),this._domNode.classList.toggle("reduced-find-widget",ee),!oe&&!q&&(this._domNode.style.maxWidth=`${H-28-V-15}px`),this._resized){this._findInput.inputBox.layout();let le=this._findInput.inputBox.element.clientWidth;le>0&&(this._replaceInput.width=le)}else this._isReplaceVisible&&(this._replaceInput.width=I.getTotalWidth(this._findInput.domNode))}}_getHeight(){let T=0;return T+=4,T+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(T+=4,T+=this._replaceInput.inputBox.height+2),T+=4,T}_tryUpdateHeight(){const T=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===T?!1:(this._cachedHeight=T,this._domNode.style.height=`${T}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let T=this._codeEditor.getSelections();T.map(x=>{x.endColumn===1&&x.endLineNumber>x.startLineNumber&&(x=x.setEndPosition(x.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(x.endLineNumber-1)));const H=this._state.currentMatch;return x.startLineNumber!==x.endLineNumber&&!l.Range.equalsRange(x,H)?x:null}).filter(x=>!!x),T.length&&this._state.change({searchScope:T},!0)}}_onFindInputMouseDown(T){T.middleButton&&T.stopPropagation()}_onFindInputKeyDown(T){if(T.equals(K|3)){this._findInput.inputBox.insertAtCursor(`
`),T.preventDefault();return}if(T.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),T.preventDefault();return}if(T.equals(2048|18)){this._codeEditor.focus(),T.preventDefault();return}if(T.equals(16))return J(T,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(T.equals(18))return Q(T,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(T){if(T.equals(K|3)){u.isWindows&&u.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(v.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(U,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),T.preventDefault();return}if(T.equals(2)){this._findInput.focusOnCaseSensitive(),T.preventDefault();return}if(T.equals(1024|2)){this._findInput.focus(),T.preventDefault();return}if(T.equals(2048|18)){this._codeEditor.focus(),T.preventDefault();return}if(T.equals(16))return J(T,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(T.equals(18))return Q(T,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(T){return 0}_keybindingLabelFor(T){let x=this._keybindingService.lookupKeybinding(T);return x?` (${x.getLabel()})`:""}_buildDomNode(){const T=!0,x=!0;this._findInput=this._register(new n.ContextScopedFindInput(null,this._contextViewProvider,{width:A,label:m,placeholder:g,appendCaseSensitiveLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleRegexCommand),validation:le=>{if(le.length===0||!this._findInput.getRegex())return null;try{return new RegExp(le,"gu"),null}catch(Y){return{content:Y.message}}},flexibleHeight:T,flexibleWidth:x,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(le=>this._onFindInputKeyDown(le))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(le=>{le.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),le.preventDefault())})),this._register(this._findInput.onRegexKeyDown(le=>{le.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),le.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(le=>{this._tryUpdateHeight()&&this._showViewZone()})),u.isLinux&&this._register(this._findInput.onMouseDown(le=>this._onFindInputMouseDown(le))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new se({label:b+this._keybindingLabelFor(c.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.PreviousMatchFindAction).run().then(void 0,i.onUnexpectedError)}})),this._nextBtn=this._register(new se({label:y+this._keybindingLabelFor(c.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.NextMatchFindAction).run().then(void 0,i.onUnexpectedError)}}));let H=document.createElement("div");H.className="find-part",H.appendChild(this._findInput.domNode);const V=document.createElement("div");V.className="find-actions",H.appendChild(V),V.appendChild(this._matchesCount),V.appendChild(this._prevBtn.domNode),V.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new w.Checkbox({icon:o,title:L+this._keybindingLabelFor(c.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let le=this._codeEditor.getSelections();le.map(Y=>(Y.endColumn===1&&Y.endLineNumber>Y.startLineNumber&&(Y=Y.setEndPosition(Y.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Y.endLineNumber-1))),Y.isEmpty()?null:Y)).filter(Y=>!!Y),le.length&&this._state.change({searchScope:le},!0)}}else this._state.change({searchScope:null},!0)})),V.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new se({label:N+this._keybindingLabelFor(c.FIND_IDS.CloseFindWidgetCommand),icon:t.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:le=>{le.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),le.preventDefault())}})),V.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new n.ContextScopedReplaceInput(null,void 0,{label:M,placeholder:D,appendPreserveCaseLabel:this._keybindingLabelFor(c.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:T,flexibleWidth:x,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(le=>this._onReplaceInputKeyDown(le))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(le=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(le=>{le.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),le.preventDefault())})),this._replaceBtn=this._register(new se({label:R+this._keybindingLabelFor(c.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:le=>{le.equals(1024|2)&&(this._closeBtn.focus(),le.preventDefault())}})),this._replaceAllBtn=this._register(new se({label:P+this._keybindingLabelFor(c.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let q=document.createElement("div");q.className="replace-part",q.appendChild(this._replaceInput.domNode);const ee=document.createElement("div");ee.className="replace-actions",q.appendChild(ee),ee.appendChild(this._replaceBtn.domNode),ee.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new se({label:O,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=I.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${F}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(H),this._domNode.appendChild(q),this._resizeSash=new S.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let oe=F;this._register(this._resizeSash.onDidStart(()=>{oe=I.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(le=>{this._resized=!0;let Y=oe+le.startX-le.currentX;if(!(Y<F)){const j=parseFloat(I.getComputedStyle(this._domNode).maxWidth)||0;Y>j||(this._domNode.style.width=`${Y}px`,this._isReplaceVisible&&(this._replaceInput.width=I.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())}})),this._register(this._resizeSash.onDidReset(()=>{const le=I.getTotalWidth(this._domNode);if(!(le<F)){let Y=F;if(!this._resized||le===F){const j=this._codeEditor.getLayoutInfo();Y=j.width-28-j.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${Y}px`,this._isReplaceVisible&&(this._replaceInput.width=I.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}}))}updateAccessibilitySupport(){const T=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(T!==2)}}e.FindWidget=ae,ae.ID="editor.contrib.findWidget";class se extends p.Widget{constructor(T){super();this._opts=T;let x="button";this._opts.className&&(x=x+" "+this._opts.className),this._opts.icon&&(x=x+" "+r.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=x,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,H=>{this._opts.onTrigger(),H.preventDefault()}),this.onkeydown(this._domNode,H=>{if(H.equals(10)||H.equals(3)){this._opts.onTrigger(),H.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(H)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(T){this._domNode.classList.toggle("disabled",!T),this._domNode.setAttribute("aria-disabled",String(!T)),this._domNode.tabIndex=T?0:-1}setExpanded(T){this._domNode.setAttribute("aria-expanded",String(!!T)),T?(this._domNode.classList.remove(...r.ThemeIcon.asClassNameArray(h)),this._domNode.classList.add(...r.ThemeIcon.asClassNameArray(f))):(this._domNode.classList.remove(...r.ThemeIcon.asClassNameArray(f)),this._domNode.classList.add(...r.ThemeIcon.asClassNameArray(h)))}}e.SimpleButton=se,(0,r.registerThemingParticipant)((Z,T)=>{const x=(ue,he)=>{he&&T.addRule(`.monaco-editor ${ue} { background-color: ${he}; }`)};x(".findMatch",Z.getColor(d.editorFindMatchHighlight)),x(".currentFindMatch",Z.getColor(d.editorFindMatch)),x(".findScope",Z.getColor(d.editorFindRangeHighlight));const H=Z.getColor(d.editorWidgetBackground);x(".find-widget",H);const V=Z.getColor(d.widgetShadow);V&&T.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${V}; }`);const q=Z.getColor(d.editorFindMatchHighlightBorder);q&&T.addRule(`.monaco-editor .findMatch { border: 1px ${Z.type==="hc"?"dotted":"solid"} ${q}; box-sizing: border-box; }`);const ee=Z.getColor(d.editorFindMatchBorder);ee&&T.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${ee}; padding: 1px; box-sizing: border-box; }`);const oe=Z.getColor(d.editorFindRangeHighlightBorder);oe&&T.addRule(`.monaco-editor .findScope { border: 1px ${Z.type==="hc"?"dashed":"solid"} ${oe}; }`);const le=Z.getColor(d.contrastBorder);le&&T.addRule(`.monaco-editor .find-widget { border: 1px solid ${le}; }`);const Y=Z.getColor(d.editorWidgetForeground);Y&&T.addRule(`.monaco-editor .find-widget { color: ${Y}; }`);const j=Z.getColor(d.errorForeground);j&&T.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${j}; }`);const ne=Z.getColor(d.editorWidgetResizeBorder);if(ne)T.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ne}; }`);else{const ue=Z.getColor(d.editorWidgetBorder);ue&&T.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ue}; }`)}const X=Z.getColor(d.focusBorder);X&&T.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${X}; }`)})}),define(te[263],ie([0,1,358,15,2,8,13,25,131,569,570,649,34,87,16,67,35,76,12,33,28]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction2=e.PreviousMatchFindAction=e.NextMatchFindAction2=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const h=524288;function f(F,E="single"){if(!F.hasModel())return null;const A=F.getSelection();if(E==="single"&&A.startLineNumber===A.endLineNumber||E==="multiple"){if(A.isEmpty()){const B=F.getConfiguredWordAtPosition(A.getStartPosition());if(B)return B.word}else if(F.getModel().getValueLengthInRange(A)<h)return F.getModel().getValueInRange(A)}return null}e.getSelectionSearchString=f;let m=class qt extends k.Disposable{constructor(E,A,B,z){super();this._editor=E,this._findWidgetVisible=C.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(A),this._contextKeyService=A,this._storageService=B,this._clipboardService=z,this._updateHistoryDelayer=new I.Delayer(500),this._state=this._register(new _.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(U=>this._onStateChanged(U))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let U=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),U&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})}))}get editor(){return this._editor}static get(E){return E.getContribution(qt.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(E){this.saveQueryState(E),E.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),E.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(E){E.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),E.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),E.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),E.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!C.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let E=this._editor.getSelections();E.map(A=>(A.endColumn===1&&A.endLineNumber>A.startLineNumber&&(A=A.setEndPosition(A.endLineNumber-1,this._editor.getModel().getLineMaxColumn(A.endLineNumber-1))),A.isEmpty()?null:A)).filter(A=>!!A),E.length&&this._state.change({searchScope:E},!0)}}setSearchString(E){this._state.isRegex&&(E=w.escapeRegExpCharacters(E)),this._state.change({searchString:E},!1)}highlightFindOptions(E=!1){}_start(E){return De(this,void 0,void 0,function*(){if(this.disposeModel(),!!this._editor.hasModel()){let A={isRevealed:!0};if(E.seedSearchStringFromSelection==="single"){let B=f(this._editor,E.seedSearchStringFromSelection);B&&(this._state.isRegex?A.searchString=w.escapeRegExpCharacters(B):A.searchString=B)}else if(E.seedSearchStringFromSelection==="multiple"&&!E.updateSearchScope){let B=f(this._editor,E.seedSearchStringFromSelection);B&&(A.searchString=B)}if(!A.searchString&&E.seedSearchStringFromGlobalClipboard){let B=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;B&&(A.searchString=B)}if(E.forceRevealReplace?A.isReplaceRevealed=!0:this._findWidgetVisible.get()||(A.isReplaceRevealed=!1),E.updateSearchScope){let B=this._editor.getSelections();B.some(z=>!z.isEmpty())&&(A.searchScope=B)}A.loop=E.loop,this._state.change(A,!1),this._model||(this._model=new C.FindModelBoundToEditorModel(this._editor,this._state))}})}start(E){return this._start(E)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return De(this,void 0,void 0,function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(E){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(E)}};m.ID="editor.contrib.findController",m=Me([_e(1,c.IContextKeyService),_e(2,n.IStorageService),_e(3,l.IClipboardService)],m),e.CommonFindController=m;let g=class extends m{constructor(E,A,B,z,U,K,G,J){super(E,B,G,J);this._contextViewService=A,this._keybindingService=z,this._themeService=U,this._notificationService=K,this._widget=null,this._findOptionsWidget=null}_start(E){const A=Object.create(null,{_start:{get:()=>super._start}});return De(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const B=this._editor.getSelection();let z=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":z=!0;break;case"never":z=!1;break;case"multiline":z=!!B&&B.startLineNumber!==B.endLineNumber;break;default:break}E.updateSearchScope=z,yield A._start.call(this,E),this._widget&&(E.shouldFocus===2?this._widget.focusReplaceInput():E.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(E=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!E?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new u.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new i.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};g=Me([_e(1,d.IContextViewService),_e(2,c.IContextKeyService),_e(3,r.IKeybindingService),_e(4,s.IThemeService),_e(5,t.INotificationService),_e(6,n.IStorageService),_e(7,l.IClipboardService)],g),e.FindController=g,e.StartFindAction=(0,S.registerMultiEditorAction)(new S.MultiEditorAction({id:C.FIND_IDS.StartFindAction,label:v.localize(0,null),alias:"Find",precondition:c.ContextKeyExpr.or(p.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:a.MenuId.MenubarEditMenu,group:"3_find",title:v.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(F,E)=>{const A=F.get(o.ICodeEditorService),B=A.getFocusedCodeEditor()||A.getActiveCodeEditor();if(!B)return!1;const z=m.get(B);return z?z.start({forceRevealReplace:!1,seedSearchStringFromSelection:B.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:B.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:B.getOption(33).loop}):!1});class b extends S.EditorAction{constructor(){super({id:C.FIND_IDS.StartFindWithSelection,label:v.localize(2,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(E,A){return De(this,void 0,void 0,function*(){let B=m.get(A);B&&(yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(33).loop}),B.setGlobalBufferTerm(B.getState().searchString))})}}e.StartFindWithSelectionAction=b;class y extends S.EditorAction{run(E,A){return De(this,void 0,void 0,function*(){let B=m.get(A);B&&!this._run(B)&&(yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:B.getState().searchString.length===0&&A.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(33).loop}),this._run(B))})}}e.MatchFindAction=y;class L extends y{constructor(){super({id:C.FIND_IDS.NextMatchFindAction,label:v.localize(3,null),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100}})}_run(E){return E.moveToNextMatch()?(E.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=L;class N extends y{constructor(){super({id:C.FIND_IDS.NextMatchFindAction,label:v.localize(4,null),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,C.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}})}_run(E){return E.moveToNextMatch()?(E.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction2=N;class M extends y{constructor(){super({id:C.FIND_IDS.PreviousMatchFindAction,label:v.localize(5,null),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100}})}_run(E){return E.moveToPrevMatch()}}e.PreviousMatchFindAction=M;class D extends y{constructor(){super({id:C.FIND_IDS.PreviousMatchFindAction,label:v.localize(6,null),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,C.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}})}_run(E){return E.moveToPrevMatch()}}e.PreviousMatchFindAction2=D;class R extends S.EditorAction{run(E,A){return De(this,void 0,void 0,function*(){let B=m.get(A);if(!!B){let z=f(A);z&&B.setSearchString(z),this._run(B)||(yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:A.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(33).loop}),this._run(B))}})}}e.SelectionMatchFindAction=R;class P extends R{constructor(){super({id:C.FIND_IDS.NextSelectionMatchFindAction,label:v.localize(7,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(E){return E.moveToNextMatch()}}e.NextSelectionMatchFindAction=P;class O extends R{constructor(){super({id:C.FIND_IDS.PreviousSelectionMatchFindAction,label:v.localize(8,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(E){return E.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=O,e.StartFindReplaceAction=(0,S.registerMultiEditorAction)(new S.MultiEditorAction({id:C.FIND_IDS.StartFindReplaceAction,label:v.localize(9,null),alias:"Replace",precondition:c.ContextKeyExpr.or(p.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:a.MenuId.MenubarEditMenu,group:"3_find",title:v.localize(10,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(F,E)=>{const A=F.get(o.ICodeEditorService),B=A.getFocusedCodeEditor()||A.getActiveCodeEditor();if(!B||!B.hasModel()||B.getOption(77))return!1;const z=m.get(B);if(!z)return!1;const U=B.getSelection(),K=z.isFindInputFocused(),G=!U.isEmpty()&&U.startLineNumber===U.endLineNumber&&B.getOption(33).seedSearchStringFromSelection&&!K,J=K||G?2:1;return z.start({forceRevealReplace:!0,seedSearchStringFromSelection:G?"single":"none",seedSearchStringFromGlobalClipboard:B.getOption(33).seedSearchStringFromSelection,shouldFocus:J,shouldAnimate:!0,updateSearchScope:!1,loop:B.getOption(33).loop})}),(0,S.registerEditorContribution)(m.ID,g),(0,S.registerEditorAction)(b),(0,S.registerEditorAction)(L),(0,S.registerEditorAction)(N),(0,S.registerEditorAction)(M),(0,S.registerEditorAction)(D),(0,S.registerEditorAction)(P),(0,S.registerEditorAction)(O);const W=S.EditorCommand.bindToContribution(m.get);(0,S.registerEditorCommand)(new W({id:C.FIND_IDS.CloseFindWidgetCommand,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:F=>F.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,c.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,S.registerEditorCommand)(new W({id:C.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:F=>F.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:C.ToggleCaseSensitiveKeybinding.primary,mac:C.ToggleCaseSensitiveKeybinding.mac,win:C.ToggleCaseSensitiveKeybinding.win,linux:C.ToggleCaseSensitiveKeybinding.linux}})),(0,S.registerEditorCommand)(new W({id:C.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:F=>F.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:C.ToggleWholeWordKeybinding.primary,mac:C.ToggleWholeWordKeybinding.mac,win:C.ToggleWholeWordKeybinding.win,linux:C.ToggleWholeWordKeybinding.linux}})),(0,S.registerEditorCommand)(new W({id:C.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:F=>F.toggleRegex(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:C.ToggleRegexKeybinding.primary,mac:C.ToggleRegexKeybinding.mac,win:C.ToggleRegexKeybinding.win,linux:C.ToggleRegexKeybinding.linux}})),(0,S.registerEditorCommand)(new W({id:C.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:F=>F.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:C.ToggleSearchScopeKeybinding.primary,mac:C.ToggleSearchScopeKeybinding.mac,win:C.ToggleSearchScopeKeybinding.win,linux:C.ToggleSearchScopeKeybinding.linux}})),(0,S.registerEditorCommand)(new W({id:C.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:F=>F.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:C.TogglePreserveCaseKeybinding.primary,mac:C.TogglePreserveCaseKeybinding.mac,win:C.TogglePreserveCaseKeybinding.win,linux:C.TogglePreserveCaseKeybinding.linux}})),(0,S.registerEditorCommand)(new W({id:C.FIND_IDS.ReplaceOneAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:F=>F.replace(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:2048|1024|22}})),(0,S.registerEditorCommand)(new W({id:C.FIND_IDS.ReplaceOneAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:F=>F.replace(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,C.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,S.registerEditorCommand)(new W({id:C.FIND_IDS.ReplaceAllAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:F=>F.replaceAll(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:2048|512|3}})),(0,S.registerEditorCommand)(new W({id:C.FIND_IDS.ReplaceAllAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:F=>F.replaceAll(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,C.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,S.registerEditorCommand)(new W({id:C.FIND_IDS.SelectAllMatchesAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:F=>F.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:512|3}}))}),define(te[651],ie([0,1,31,27,361,75,12]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,w.registerIcon)("folding-expanded",I.Codicon.chevronDown,(0,k.localize)(0,null)),e.foldingCollapsedIcon=(0,w.registerIcon)("folding-collapsed",I.Codicon.chevronRight,(0,k.localize)(1,null));class p{constructor(i){this.editor=i,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(i,_){return _?p.HIDDEN_RANGE_DECORATION:i?this.showFoldingHighlights?p.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:p.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?p.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:p.EXPANDED_VISUAL_DECORATION}deltaDecorations(i,_){return this.editor.deltaDecorations(i,_)}changeDecorations(i){return this.editor.changeDecorations(i)}}e.FoldingDecorationProvider=p,p.COLLAPSED_VISUAL_DECORATION=v.ModelDecorationOptions.register({stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),p.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=v.ModelDecorationOptions.register({stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),p.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=v.ModelDecorationOptions.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),p.EXPANDED_VISUAL_DECORATION=v.ModelDecorationOptions.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),p.HIDDEN_RANGE_DECORATION=v.ModelDecorationOptions.register({stickiness:1})}),define(te[652],ie([0,1,360,20,8,15,41,2,13,667,651,25,668,42,461,18,221,674,11,16,12,22,342]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const f=new t.RawContextKey("foldingEnabled",!1);let m=class $t extends p.Disposable{constructor(U,K){super();this.contextKeyService=K,this.localToDispose=this._register(new p.DisposableStore),this.editor=U;const G=this.editor.getOptions();this._isEnabled=G.get(35),this._useFoldingProviders=G.get(36)!=="indentation",this._unfoldOnClickAfterEndOfLine=G.get(38),this._restoringViewState=!1,this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new _.FoldingDecorationProvider(U),this.foldingDecorationProvider.autoHideFoldingControls=G.get(96)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=G.get(37),this.foldingEnabled=f.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(J=>{if(J.hasChanged(35)&&(this._isEnabled=this.editor.getOptions().get(35),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),J.hasChanged(96)||J.hasChanged(37)){const Q=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=Q.get(96)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=Q.get(37),this.onModelContentChanged()}J.hasChanged(36)&&(this._useFoldingProviders=this.editor.getOptions().get(36)!=="indentation",this.onFoldingStrategyChanged()),J.hasChanged(38)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(38))})),this.onModelChanged()}static get(U){return U.getContribution($t.ID)}saveViewState(){let U=this.editor.getModel();if(!U||!this._isEnabled||U.isTooLargeForTokenization())return{};if(this.foldingModel){let K=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),G=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:K,lineCount:U.getLineCount(),provider:G}}}restoreViewState(U){let K=this.editor.getModel();if(!(!K||!this._isEnabled||K.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!U||!U.collapsedRegions||U.lineCount!==K.getLineCount())){(U.provider===r.ID_SYNTAX_PROVIDER||U.provider===n.ID_INIT_PROVIDER)&&(this.foldingStateMemento=U);const G=U.collapsedRegions;if(this.hiddenRangeModel.applyMemento(G)){const J=this.getFoldingModel();J&&J.then(Q=>{if(Q){this._restoringViewState=!0;try{Q.applyMemento(G)}finally{this._restoringViewState=!1}}}).then(void 0,s.onUnexpectedError)}}}onModelChanged(){this.localToDispose.clear();let U=this.editor.getModel();!this._isEnabled||!U||U.isTooLargeForTokenization()||(this.foldingModel=new i.FoldingModel(U,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new a.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(K=>this.onHiddenRangesChanges(K))),this.updateScheduler=new w.Delayer(200),this.cursorChangedScheduler=new w.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(d.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(K=>this.onEditorMouseDown(K))),this.localToDispose.add(this.editor.onMouseUp(K=>this.onEditorMouseUp(K))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(U){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new c.IndentRangeProvider(U),this._useFoldingProviders&&this.foldingModel){let K=d.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(K.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new n.InitializingRangeProvider(U,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);K.length>0&&(this.rangeProvider=new r.SyntaxRangeProvider(U,K,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const U=this.foldingModel;if(!U)return null;let K=this.foldingRegionPromise=(0,w.createCancelablePromise)(G=>this.getRangeProvider(U.textModel).compute(G));return K.then(G=>{if(G&&K===this.foldingRegionPromise){let J=this.editor.getSelections(),Q=J?J.map(ae=>ae.startLineNumber):[];U.update(G,Q)}return U})}).then(void 0,U=>((0,s.onUnexpectedError)(U),null)))}onHiddenRangesChanges(U){if(this.hiddenRangeModel&&U.length&&!this._restoringViewState){let K=this.editor.getSelections();K&&this.hiddenRangeModel.adjustSelections(K)&&this.editor.setSelections(K)}this.editor.setHiddenAreas(U)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const U=this.getFoldingModel();!U||U.then(K=>{if(K){let G=this.editor.getSelections();if(G&&G.length>0){let J=[];for(let Q of G){let ae=Q.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(ae)&&J.push(...K.getAllRegionsAtLine(ae,se=>se.isCollapsed&&ae>se.startLineNumber))}J.length&&(K.toggleCollapseState(J),this.reveal(G[0].getPosition()))}}}).then(void 0,s.onUnexpectedError)}onEditorMouseDown(U){if(this.mouseDownInfo=null,!(!this.hiddenRangeModel||!U.target||!U.target.range)&&!(!U.event.leftButton&&!U.event.middleButton)){const K=U.target.range;let G=!1;switch(U.target.type){case 4:const J=U.target.detail,Q=U.target.element.offsetLeft;if(J.offsetX-Q<5)return;G=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!U.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let se=this.editor.getModel();if(se&&K.startColumn===se.getLineMaxColumn(K.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:K.startLineNumber,iconClicked:G}}}onEditorMouseUp(U){const K=this.getFoldingModel();if(!(!K||!this.mouseDownInfo||!U.target)){let G=this.mouseDownInfo.lineNumber,J=this.mouseDownInfo.iconClicked,Q=U.target.range;if(!(!Q||Q.startLineNumber!==G)){if(J){if(U.target.type!==4)return}else{let ae=this.editor.getModel();if(!ae||Q.startColumn!==ae.getLineMaxColumn(G))return}K.then(ae=>{if(ae){let se=ae.getRegionAtLine(G);if(se&&se.startLineNumber===G){let Z=se.isCollapsed;if(J||Z){let T=U.event.altKey,x=[];if(T){let H=q=>!q.containedBy(se)&&!se.containedBy(q),V=ae.getRegionsInside(null,H);for(const q of V)q.isCollapsed&&x.push(q);x.length===0&&(x=V)}else{let H=U.event.middleButton||U.event.shiftKey;if(H)for(const V of ae.getRegionsInside(se))V.isCollapsed===Z&&x.push(V);(Z||!H||x.length===0)&&x.push(se)}ae.toggleCollapseState(x),this.reveal({lineNumber:G,column:1})}}}}).then(void 0,s.onUnexpectedError)}}}reveal(U){this.editor.revealPositionInCenterIfOutsideViewport(U,0)}};m.ID="editor.contrib.folding",m=Me([_e(1,t.IContextKeyService)],m),e.FoldingController=m;class g extends C.EditorAction{runEditorCommand(U,K,G){let J=m.get(K);if(!!J){let Q=J.getFoldingModel();if(Q)return this.reportTelemetry(U,K),Q.then(ae=>{if(ae){this.invoke(J,ae,K,G);const se=K.getSelection();se&&J.reveal(se.getStartPosition())}})}}getSelectedLines(U){let K=U.getSelections();return K?K.map(G=>G.startLineNumber):[]}getLineNumbers(U,K){return U&&U.selectionLines?U.selectionLines.map(G=>G+1):this.getSelectedLines(K)}run(U,K){}}function b(z){if(!I.isUndefined(z)){if(!I.isObject(z))return!1;const U=z;if(!I.isUndefined(U.levels)&&!I.isNumber(U.levels)||!I.isUndefined(U.direction)&&!I.isString(U.direction)||!I.isUndefined(U.selectionLines)&&(!I.isArray(U.selectionLines)||!U.selectionLines.every(I.isNumber)))return!1}return!0}class y extends g{constructor(){super({id:"editor.unfold",label:v.localize(0,null),alias:"Unfold",precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:b,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(U,K,G,J){let Q=J&&J.levels||1,ae=this.getLineNumbers(J,G);J&&J.direction==="up"?(0,i.setCollapseStateLevelsUp)(K,!1,Q,ae):(0,i.setCollapseStateLevelsDown)(K,!1,Q,ae)}}class L extends g{constructor(){super({id:"editor.unfoldRecursively",label:v.localize(1,null),alias:"Unfold Recursively",precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|89),weight:100}})}invoke(U,K,G,J){(0,i.setCollapseStateLevelsDown)(K,!1,Number.MAX_VALUE,this.getSelectedLines(G))}}class N extends g{constructor(){super({id:"editor.fold",label:v.localize(2,null),alias:"Fold",precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:b,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(U,K,G,J){let Q=this.getLineNumbers(J,G);const ae=J&&J.levels,se=J&&J.direction;typeof ae!="number"&&typeof se!="string"?(0,i.setCollapseStateUp)(K,!0,Q):se==="up"?(0,i.setCollapseStateLevelsUp)(K,!0,ae||1,Q):(0,i.setCollapseStateLevelsDown)(K,!0,ae||1,Q)}}class M extends g{constructor(){super({id:"editor.toggleFold",label:v.localize(3,null),alias:"Toggle Fold",precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|42),weight:100}})}invoke(U,K,G){let J=this.getSelectedLines(G);(0,i.toggleCollapseState)(K,1,J)}}class D extends g{constructor(){super({id:"editor.foldRecursively",label:v.localize(4,null),alias:"Fold Recursively",precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|87),weight:100}})}invoke(U,K,G){let J=this.getSelectedLines(G);(0,i.setCollapseStateLevelsDown)(K,!0,Number.MAX_VALUE,J)}}class R extends g{constructor(){super({id:"editor.foldAllBlockComments",label:v.localize(5,null),alias:"Fold All Block Comments",precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|85),weight:100}})}invoke(U,K,G){if(K.regions.hasTypes())(0,i.setCollapseStateForType)(K,d.FoldingRangeKind.Comment.value,!0);else{const J=G.getModel();if(!J)return;let Q=l.LanguageConfigurationRegistry.getComments(J.getLanguageIdentifier().id);if(Q&&Q.blockCommentStartToken){let ae=new RegExp("^\\s*"+(0,k.escapeRegExpCharacters)(Q.blockCommentStartToken));(0,i.setCollapseStateForMatchingLines)(K,ae,!0)}}}}class P extends g{constructor(){super({id:"editor.foldAllMarkerRegions",label:v.localize(6,null),alias:"Fold All Regions",precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|29),weight:100}})}invoke(U,K,G){if(K.regions.hasTypes())(0,i.setCollapseStateForType)(K,d.FoldingRangeKind.Region.value,!0);else{const J=G.getModel();if(!J)return;let Q=l.LanguageConfigurationRegistry.getFoldingRules(J.getLanguageIdentifier().id);if(Q&&Q.markers&&Q.markers.start){let ae=new RegExp(Q.markers.start);(0,i.setCollapseStateForMatchingLines)(K,ae,!0)}}}}class O extends g{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:v.localize(7,null),alias:"Unfold All Regions",precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|30),weight:100}})}invoke(U,K,G){if(K.regions.hasTypes())(0,i.setCollapseStateForType)(K,d.FoldingRangeKind.Region.value,!1);else{const J=G.getModel();if(!J)return;let Q=l.LanguageConfigurationRegistry.getFoldingRules(J.getLanguageIdentifier().id);if(Q&&Q.markers&&Q.markers.start){let ae=new RegExp(Q.markers.start);(0,i.setCollapseStateForMatchingLines)(K,ae,!1)}}}}class W extends g{constructor(){super({id:"editor.foldAllExcept",label:v.localize(8,null),alias:"Fold All Regions Except Selected",precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|83),weight:100}})}invoke(U,K,G){let J=this.getSelectedLines(G);(0,i.setCollapseStateForRest)(K,!0,J)}}class F extends g{constructor(){super({id:"editor.unfoldAllExcept",label:v.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|81),weight:100}})}invoke(U,K,G){let J=this.getSelectedLines(G);(0,i.setCollapseStateForRest)(K,!1,J)}}class E extends g{constructor(){super({id:"editor.foldAll",label:v.localize(10,null),alias:"Fold All",precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|21),weight:100}})}invoke(U,K,G){(0,i.setCollapseStateLevelsDown)(K,!0)}}class A extends g{constructor(){super({id:"editor.unfoldAll",label:v.localize(11,null),alias:"Unfold All",precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|40),weight:100}})}invoke(U,K,G){(0,i.setCollapseStateLevelsDown)(K,!1)}}class B extends g{getFoldingLevel(){return parseInt(this.id.substr(B.ID_PREFIX.length))}invoke(U,K,G){(0,i.setCollapseStateAtLevel)(K,this.getFoldingLevel(),!0,this.getSelectedLines(G))}}B.ID_PREFIX="editor.foldLevel",B.ID=z=>B.ID_PREFIX+z,(0,C.registerEditorContribution)(m.ID,m),(0,C.registerEditorAction)(y),(0,C.registerEditorAction)(L),(0,C.registerEditorAction)(N),(0,C.registerEditorAction)(D),(0,C.registerEditorAction)(E),(0,C.registerEditorAction)(A),(0,C.registerEditorAction)(R),(0,C.registerEditorAction)(P),(0,C.registerEditorAction)(O),(0,C.registerEditorAction)(W),(0,C.registerEditorAction)(F),(0,C.registerEditorAction)(M);for(let z=1;z<=7;z++)(0,C.registerInstantiatedEditorAction)(new B({id:B.ID(z),label:v.localize(12,null,z),alias:`Fold Level ${z}`,precondition:f,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|21+z),weight:100}}));e.foldBackgroundBackground=(0,h.registerColor)("editor.foldBackground",{light:(0,h.transparent)(h.editorSelectionBackground,.3),dark:(0,h.transparent)(h.editorSelectionBackground,.3),hc:null},v.localize(13,null),!0),e.editorFoldForeground=(0,h.registerColor)("editorGutter.foldingControlForeground",{dark:h.iconForeground,light:h.iconForeground,hc:h.iconForeground},v.localize(14,null)),(0,o.registerThemingParticipant)((z,U)=>{const K=z.getColor(e.foldBackgroundBackground);K&&U.addRule(`.monaco-editor .folded-background { background-color: ${K}; }`);const G=z.getColor(e.editorFoldForeground);G&&U.addRule(`
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(_.foldingExpandedIcon)},
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(_.foldingCollapsedIcon)} {
			color: ${G} !important;
		}
		`)})}),define(te[264],ie([0,1,365,2,16,14,3,13,25,645,28,34,27,9,500,75]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let r=class gt{constructor(b,y,L,N,M){this._markerNavigationService=y,this._contextKeyService=L,this._editorService=N,this._instantiationService=M,this._sessionDispoables=new I.DisposableStore,this._editor=b,this._widgetVisible=f.bindTo(this._contextKeyService)}static get(b){return b.getContribution(gt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(b){if(this._model&&this._model.matches(b))return this._model;let y=!1;return this._model&&(y=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(b),y&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(i.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(L=>{var N,M,D;(!((N=this._model)===null||N===void 0?void 0:N.selected)||!S.Range.containsPosition((M=this._model)===null||M===void 0?void 0:M.selected.marker,L.position))&&((D=this._model)===null||D===void 0||D.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!(!this._widget||!this._widget.position||!this._model)){const L=this._model.find(this._editor.getModel().uri,this._widget.position);L?this._widget.updateMarker(L.marker):this._widget.showStale()}})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(L=>{this._editorService.openCodeEditor({resource:L.resource,options:{pinned:!0,revealIfOpened:!0,selection:S.Range.lift(L).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(b=!0){this._cleanUp(),b&&this._editor.focus()}showAtMarker(b){if(this._editor.hasModel()){const y=this._getOrCreateModel(this._editor.getModel().uri);y.resetIndex(),y.move(!0,this._editor.getModel(),new w.Position(b.startLineNumber,b.startColumn)),y.selected&&this._widget.showAtMarker(y.selected.marker,y.selected.index,y.selected.total)}}nagivate(b,y){return De(this,void 0,void 0,function*(){if(this._editor.hasModel()){const L=this._getOrCreateModel(y?void 0:this._editor.getModel().uri);if(L.move(b,this._editor.getModel(),this._editor.getPosition()),!L.selected)return;if(L.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const N=yield this._editorService.openCodeEditor({resource:L.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:L.selected.marker}},this._editor);N&&(gt.get(N).close(),gt.get(N).nagivate(b,y))}else this._widget.showAtMarker(L.selected.marker,L.selected.index,L.selected.total)}})}};r.ID="editor.contrib.markerController",r=Me([_e(1,c.IMarkerNavigationService),_e(2,k.IContextKeyService),_e(3,_.ICodeEditorService),_e(4,l.IInstantiationService)],r),e.MarkerController=r;class n extends p.EditorAction{constructor(b,y,L){super(L);this._next=b,this._multiFile=y}run(b,y){return De(this,void 0,void 0,function*(){y.hasModel()&&r.get(y).nagivate(this._next,this._multiFile)})}}class s extends n{constructor(){super(!0,!1,{id:s.ID,label:s.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:i.MarkerNavigationWidget.TitleMenu,title:s.LABEL,icon:(0,d.registerIcon)("marker-navigation-next",a.Codicon.chevronDown,v.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=s,s.ID="editor.action.marker.next",s.LABEL=v.localize(0,null);class t extends n{constructor(){super(!1,!1,{id:t.ID,label:t.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:i.MarkerNavigationWidget.TitleMenu,title:s.LABEL,icon:(0,d.registerIcon)("marker-navigation-previous",a.Codicon.chevronUp,v.localize(3,null)),group:"navigation",order:2}})}}t.ID="editor.action.marker.prev",t.LABEL=v.localize(2,null);class o extends n{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:v.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:u.MenuId.MenubarGoMenu,title:v.localize(5,null),group:"6_problem_nav",order:1}})}}class h extends n{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:v.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:u.MenuId.MenubarGoMenu,title:v.localize(7,null),group:"6_problem_nav",order:2}})}}(0,p.registerEditorContribution)(r.ID,r),(0,p.registerEditorAction)(s),(0,p.registerEditorAction)(t),(0,p.registerEditorAction)(o),(0,p.registerEditorAction)(h);const f=new k.RawContextKey("markersNavigationVisible",!1),m=p.EditorCommand.bindToContribution(r.get);(0,p.registerEditorCommand)(new m({id:"closeMarkersNavigation",precondition:f,handler:g=>g.close(),kbOpts:{weight:100+50,kbExpr:C.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(te[654],ie([0,1,377,7,2,3,19,81,46,167,11,59,264,35,15,139,254,124,57,240]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const o=I.$;class h{constructor(b,y){this.range=b,this.marker=y}equals(b){return b instanceof h?p.IMarkerData.makeKey(this.marker)===p.IMarkerData.makeKey(b.marker):!1}}e.MarkerHover=h;const f={type:1,filter:{include:n.CodeActionKind.QuickFix}};let m=class{constructor(b,y,L,N,M){this._editor=b,this._hover=y,this._markerDecorationsService=L,this._keybindingService=N,this._openerService=M,this.recentMarkerCodeActionsInfo=void 0}computeSync(b,y){if(!this._editor.hasModel())return[];const L=this._editor.getModel(),N=b.startLineNumber,M=L.getLineMaxColumn(N),D=[];for(const R of y){const P=R.range.startLineNumber===N?R.range.startColumn:1,O=R.range.endLineNumber===N?R.range.endColumn:M,W=this._markerDecorationsService.getMarker(L.uri,R);if(!!W){const F=new w.Range(b.startLineNumber,P,b.startLineNumber,O);D.push(new h(F,W))}}return D}renderHoverParts(b,y){if(!b.length)return k.Disposable.None;const L=new k.DisposableStore;b.forEach(M=>y.appendChild(this.renderMarkerHover(M,L)));const N=b.length===1?b[0]:b.sort((M,D)=>p.MarkerSeverity.compare(M.marker.severity,D.marker.severity))[0];return y.appendChild(this.renderMarkerStatusbar(N,L)),L}renderMarkerHover(b,y){const L=o("div.hover-row"),N=I.append(L,o("div.marker.hover-contents")),{source:M,message:D,code:R,relatedInformation:P}=b.marker;this._editor.applyFontInfo(N);const O=I.append(N,o("span"));if(O.style.whiteSpace="pre-wrap",O.innerText=D,M||R)if(R&&typeof R!="string"){const W=o("span");if(M){const B=I.append(W,o("span"));B.innerText=M}const F=I.append(W,o("a.code-link"));F.setAttribute("href",R.target.toString()),y.add(I.addDisposableListener(F,"click",B=>{this._openerService.open(R.target,{allowCommands:!0}),B.preventDefault(),B.stopPropagation()}));const E=I.append(F,o("span"));E.innerText=R.value;const A=I.append(N,W);A.style.opacity="0.6",A.style.paddingLeft="6px"}else{const W=I.append(N,o("span"));W.style.opacity="0.6",W.style.paddingLeft="6px",W.innerText=M&&R?`${M}(${R})`:M||`(${R})`}if((0,S.isNonEmptyArray)(P))for(const{message:W,resource:F,startLineNumber:E,startColumn:A}of P){const B=I.append(N,o("div"));B.style.marginTop="8px";const z=I.append(B,o("a"));z.innerText=`${(0,C.basename)(F)}(${E}, ${A}): `,z.style.cursor="pointer",y.add(I.addDisposableListener(z,"click",K=>{K.stopPropagation(),K.preventDefault(),this._openerService&&this._openerService.open(F,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:E,startColumn:A}}}).catch(_.onUnexpectedError)}));const U=I.append(B,o("span"));U.innerText=W,this._editor.applyFontInfo(U)}return L}renderMarkerStatusbar(b,y){const L=o("div.hover-row.status-bar"),N=I.append(L,o("div.actions"));if((b.marker.severity===p.MarkerSeverity.Error||b.marker.severity===p.MarkerSeverity.Warning||b.marker.severity===p.MarkerSeverity.Info)&&y.add(this.renderAction(N,{label:v.localize(0,null),commandId:a.NextMarkerAction.ID,run:()=>{this._hover.hide(),a.MarkerController.get(this._editor).showAtMarker(b.marker),this._editor.focus()}})),!this._editor.getOption(77)){const M=I.append(N,o("div"));this.recentMarkerCodeActionsInfo&&(p.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===p.IMarkerData.makeKey(b.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(M.textContent=v.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const D=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?k.Disposable.None:y.add((0,c.disposableTimeout)(()=>M.textContent=v.localize(2,null),200));M.textContent||(M.textContent=String.fromCharCode(160));const R=this.getCodeActions(b.marker);y.add((0,k.toDisposable)(()=>R.cancel())),R.then(P=>{if(D.dispose(),this.recentMarkerCodeActionsInfo={marker:b.marker,hasCodeActions:P.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){P.dispose(),M.textContent=v.localize(3,null);return}M.style.display="none";let O=!1;y.add((0,k.toDisposable)(()=>{O||P.dispose()})),y.add(this.renderAction(N,{label:v.localize(4,null),commandId:r.QuickFixAction.Id,run:W=>{O=!0;const F=r.QuickFixController.get(this._editor),E=I.getDomNodePagePosition(W);this._hover.hide(),F.showCodeActions(f,P,{x:E.left+6,y:E.top+E.height+6})}}))})}return L}renderAction(b,y){const L=this._keybindingService.lookupKeybinding(y.commandId),N=L?L.getLabel():null;return(0,t.renderHoverAction)(b,y,N)}getCodeActions(b){return(0,c.createCancelablePromise)(y=>(0,d.getCodeActions)(this._editor.getModel(),new w.Range(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn),f,s.Progress.None,y))}};m=Me([_e(2,i.IMarkerDecorationsService),_e(3,l.IKeybindingService),_e(4,u.IOpenerService)],m),e.MarkerHoverParticipant=m}),define(te[655],ie([0,1,7,24,29,2,14,3,31,18,197,250,646,566,219,12,19,22,52,240,654,609]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesContentHoverWidget=void 0;class f{constructor(N,M,D){this.range=N,this.color=M,this.provider=D}equals(N){return!1}}class m{constructor(N,M){this.owner=N,this.data=M}}class g{constructor(N,M,D){this._markerHoverParticipant=M,this._markdownHoverParticipant=D,this._editor=N,this._result=[],this._range=null}setRange(N){this._range=N,this._result=[]}clearResult(){this._result=[]}computeAsync(N){return De(this,void 0,void 0,function*(){return!this._editor.hasModel()||!this._range?Promise.resolve([]):(yield this._markdownHoverParticipant.computeAsync(this._range,N)).map(D=>new m(this._markdownHoverParticipant,D))})}computeSync(){if(!this._editor.hasModel()||!this._range)return[];const N=this._editor.getModel(),M=this._range,D=M.startLineNumber;if(D>this._editor.getModel().getLineCount())return[];const R=N.getLineMaxColumn(D),P=this._editor.getLineDecorations(D).filter(A=>{if(A.options.isWholeLine)return!0;const B=A.range.startLineNumber===D?A.range.startColumn:1,z=A.range.endLineNumber===D?A.range.endColumn:R;return!(B>M.startColumn||M.endColumn>z)});let O=[];const W=u.ColorDetector.get(this._editor);for(const A of P){const B=W.getColorData(A.range.getStartPosition());if(B){const{color:z,range:U}=B.colorInfo;O.push(new m(null,new f(p.Range.lift(U),z,B.provider)));break}}const F=this._markdownHoverParticipant.computeSync(this._range,P);O=O.concat(F.map(A=>new m(this._markdownHoverParticipant,A)));const E=this._markerHoverParticipant.computeSync(this._range,P);return O=O.concat(E.map(A=>new m(this._markerHoverParticipant,A))),(0,r.coalesce)(O)}onResult(N,M){M?this._result=N.concat(this._result):this._result=this._result.concat(N)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._range){const N=new m(this._markdownHoverParticipant,this._markdownHoverParticipant.createLoadingMessage(this._range));return this._result.slice(0).concat([N])}return this._result.slice(0)}}class b extends s.Widget{constructor(N,M,D,R){super();this._hoverVisibleKey=M,this._themeService=R,this.allowEditorOverflow=!0,this._markerHoverParticipant=D.createInstance(o.MarkerHoverParticipant,N,this),this._markdownHoverParticipant=D.createInstance(h.MarkdownHoverParticipant,N,this),this._hover=this._register(new t.HoverWidget),this._id=b.ID,this._editor=N,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,P=>{P.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(P=>{P.hasChanged(40)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastRange=null,this._computer=new g(this._editor,this._markerHoverParticipant,this._markdownHoverParticipant),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new c.HoverOperation(this._computer,P=>this._withResult(P,!0),null,P=>this._withResult(P,!1),this._editor.getOption(50).delay),this._register(v.addStandardDisposableListener(this.getDomNode(),v.EventType.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(v.addStandardDisposableListener(this.getDomNode(),v.EventType.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(N.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(50).delay)})),this._register(i.TokenizationRegistry.onDidChange(()=>{this._isVisible&&this._lastRange&&this._messages.length>0&&(this._messages=this._messages.map(P=>{var O,W;if(P.data instanceof f&&!!((O=this._lastRange)===null||O===void 0?void 0:O.intersectRanges(P.data.range))&&((W=this._colorPicker)===null||W===void 0?void 0:W.model.color)){const F=this._colorPicker.model.color,E={red:F.rgba.r/255,green:F.rgba.g/255,blue:F.rgba.b/255,alpha:F.rgba.a};return new m(P.owner,new f(P.data.range,E,P.data.provider))}else return P}),this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastRange,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}showAt(N,M,D){this._showAtPosition=N,this._showAtRange=M,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=D,D&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(M=>this._editor.applyFontInfo(M))}_updateContents(N){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(N),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const N=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:M,lineHeight:D}=this._editor.getOption(40);this._hover.contentsDomNode.style.fontSize=`${M}px`,this._hover.contentsDomNode.style.lineHeight=`${D}px`,this._hover.contentsDomNode.style.maxHeight=`${N}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAt(N,M,D){if(!(this._lastRange&&this._lastRange.equalsRange(N))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||this._showAtPosition.lineNumber!==N.startLineNumber)this.hide();else{let R=[];for(let P=0,O=this._messages.length;P<O;P++){const W=this._messages[P],F=W.data.range;F&&F.startColumn<=N.startColumn&&F.endColumn>=N.endColumn&&R.push(W)}if(R.length>0){if(y(R,this._messages))return;this._renderMessages(N,R)}else this.hide()}this._lastRange=N,this._computer.setRange(N),this._shouldFocus=D,this._hoverOperation.start(M)}}hide(){this._lastRange=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}onContentsChanged(){this._hover.onContentsChanged()}_withResult(N,M){this._messages=N,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):M&&this.hide()}_renderMessages(N,M){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let D=1073741824,R=M[0].data.range?p.Range.lift(M[0].data.range):null,P=document.createDocumentFragment(),O=!1;const W=new w.DisposableStore,F=[],E=[];M.forEach(A=>{const B=A.data;if(!!B.range)if(D=Math.min(D,B.range.startColumn),R=R?p.Range.plusRange(R,B.range):p.Range.lift(B.range),B instanceof f){O=!0;const{red:z,green:U,blue:K,alpha:G}=B.color,J=new k.RGBA(Math.round(z*255),Math.round(U*255),Math.round(K*255),G),Q=new k.Color(J);if(!this._editor.hasModel())return;const ae=this._editor.getModel();let se=new p.Range(B.range.startLineNumber,B.range.startColumn,B.range.endLineNumber,B.range.endColumn),Z={range:B.range,color:B.color};const T=new a.ColorPickerModel(Q,[],0),x=new l.ColorPickerWidget(P,T,this._editor.getOption(124),this._themeService);(0,_.getColorPresentations)(ae,Z,B.provider,I.CancellationToken.None).then(H=>{if(T.colorPresentations=H||[],!!this._editor.hasModel()){const V=this._editor.getModel().getValueInRange(B.range);T.guessColorPresentation(Q,V);const q=()=>{let Y,j;if(T.presentation.textEdit){Y=[T.presentation.textEdit],j=new p.Range(T.presentation.textEdit.range.startLineNumber,T.presentation.textEdit.range.startColumn,T.presentation.textEdit.range.endLineNumber,T.presentation.textEdit.range.endColumn);const ne=this._editor.getModel()._setTrackedRange(null,j,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Y),j=this._editor.getModel()._getTrackedRange(ne)||j}else Y=[{identifier:null,range:se,text:T.presentation.label,forceMoveMarkers:!1}],j=se.setEndPosition(se.endLineNumber,se.startColumn+T.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Y);T.presentation.additionalTextEdits&&(Y=[...T.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",Y),this.hide()),this._editor.pushUndoStop(),se=j},ee=Y=>(0,_.getColorPresentations)(ae,{range:se,color:{red:Y.rgba.r/255,green:Y.rgba.g/255,blue:Y.rgba.b/255,alpha:Y.rgba.a}},B.provider,I.CancellationToken.None).then(j=>{T.colorPresentations=j||[]}),oe=T.onColorFlushed(Y=>{ee(Y).then(q)}),le=T.onDidChangeColor(ee);this._colorPicker=x,this.showAt(se.getStartPosition(),se,this._shouldFocus),this._updateContents(P),this._colorPicker.layout(),this._renderDisposable=(0,w.combinedDisposable)(oe,le,x,W)}})}else B instanceof o.MarkerHover?F.push(B):B instanceof h.MarkdownHover&&E.push(B)}),E.length>0&&W.add(this._markdownHoverParticipant.renderHoverParts(E,P)),F.length&&W.add(this._markerHoverParticipant.renderHoverParts(F,P)),this._renderDisposable=W,!O&&P.hasChildNodes()&&(this.showAt(new S.Position(N.startLineNumber,D),R,this._shouldFocus),this._updateContents(P)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,R?[{range:R,options:b._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}}e.ModesContentHoverWidget=b,b.ID="editor.contrib.modesContentHoverWidget",b._DECORATION_OPTIONS=C.ModelDecorationOptions.register({className:"hoverHighlight"});function y(L,N){if(L.length!==N.length)return!1;for(let M=0;M<L.length;M++)if(!L[M].data.equals(N[M].data))return!1;return!0}(0,d.registerThemingParticipant)((L,N)=>{const M=L.getColor(n.textLinkForeground);M&&N.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${M}; }`)})}),define(te[656],ie([0,1,384,15,41,2,40,13,203,3,21,25,50,31,18,263,34,22,12,16]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function o(U,K){const G=K.filter(J=>!U.find(Q=>Q.equals(J)));if(G.length>=1){const J=G.map(ae=>`line ${ae.viewState.position.lineNumber} column ${ae.viewState.position.column}`).join(", "),Q=G.length===1?v.localize(0,null,J):v.localize(1,null,J);(0,S.status)(Q)}}class h extends p.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:v.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:v.localize(3,null),order:2}})}run(K,G,J){if(!!G.hasModel()){const Q=J&&J.logicalLine===!0,ae=G._getViewModel();if(!ae.cursorConfig.readOnly){ae.pushStackElement();const se=ae.getCursorStates();ae.setCursorStates(J.source,3,C.CursorMoveCommands.addCursorUp(ae,se,Q)),ae.revealTopMostCursor(J.source),o(se,ae.getCursorStates())}}}}e.InsertCursorAbove=h;class f extends p.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:v.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:v.localize(5,null),order:3}})}run(K,G,J){if(!!G.hasModel()){const Q=J&&J.logicalLine===!0,ae=G._getViewModel();if(!ae.cursorConfig.readOnly){ae.pushStackElement();const se=ae.getCursorStates();ae.setCursorStates(J.source,3,C.CursorMoveCommands.addCursorDown(ae,se,Q)),ae.revealBottomMostCursor(J.source),o(se,ae.getCursorStates())}}}}e.InsertCursorBelow=f;class m extends p.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:v.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:v.localize(7,null),order:4}})}getCursorsForSelection(K,G,J){if(!K.isEmpty()){for(let Q=K.startLineNumber;Q<K.endLineNumber;Q++){let ae=G.getLineMaxColumn(Q);J.push(new _.Selection(Q,ae,Q,ae))}K.endColumn>1&&J.push(new _.Selection(K.endLineNumber,K.endColumn,K.endLineNumber,K.endColumn))}}run(K,G){if(!!G.hasModel()){const J=G.getModel(),Q=G.getSelections(),ae=G._getViewModel(),se=ae.getCursorStates();let Z=[];Q.forEach(T=>this.getCursorsForSelection(T,J,Z)),Z.length>0&&G.setSelections(Z),o(se,ae.getCursorStates())}}}class g extends p.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:v.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(K,G){if(!!G.hasModel()){const J=G.getSelections(),Q=G.getModel().getLineCount();let ae=[];for(let T=J[0].startLineNumber;T<=Q;T++)ae.push(new _.Selection(T,J[0].startColumn,T,J[0].endColumn));const se=G._getViewModel(),Z=se.getCursorStates();ae.length>0&&G.setSelections(ae),o(Z,se.getCursorStates())}}}class b extends p.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:v.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(K,G){if(!!G.hasModel()){const J=G.getSelections();let Q=[];for(let Z=J[0].startLineNumber;Z>=1;Z--)Q.push(new _.Selection(Z,J[0].startColumn,Z,J[0].endColumn));const ae=G._getViewModel(),se=ae.getCursorStates();Q.length>0&&G.setSelections(Q),o(se,ae.getCursorStates())}}}class y{constructor(K,G,J){this.selections=K,this.revealRange=G,this.revealScrollType=J}}e.MultiCursorSessionResult=y;class L{constructor(K,G,J,Q,ae,se,Z){this._editor=K,this.findController=G,this.isDisconnectedFromFindController=J,this.searchText=Q,this.wholeWord=ae,this.matchCase=se,this.currentMatch=Z}static create(K,G){if(!K.hasModel())return null;const J=G.getState();if(!K.hasTextFocus()&&J.isRevealed&&J.searchString.length>0)return new L(K,G,!1,J.searchString,J.wholeWord,J.matchCase,null);let Q=!1,ae,se;const Z=K.getSelections();Z.length===1&&Z[0].isEmpty()?(Q=!0,ae=!0,se=!0):(ae=J.wholeWord,se=J.matchCase);const T=K.getSelection();let x,H=null;if(T.isEmpty()){const V=K.getConfiguredWordAtPosition(T.getStartPosition());if(!V)return null;x=V.word,H=new _.Selection(T.startLineNumber,V.startColumn,T.startLineNumber,V.endColumn)}else x=K.getModel().getValueInRange(T).replace(/\r\n/g,`
`);return new L(K,G,Q,x,ae,se,H)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const G=this._editor.getSelections();return new y(G.concat(K),K,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const G=this._editor.getSelections();return new y(G.slice(0,G.length-1).concat(K),K,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const Q=this.currentMatch;return this.currentMatch=null,Q}this.findController.highlightFindOptions();const K=this._editor.getSelections(),G=K[K.length-1],J=this._editor.getModel().findNextMatch(this.searchText,G.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(112):null,!1);return J?new _.Selection(J.range.startLineNumber,J.range.startColumn,J.range.endLineNumber,J.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const G=this._editor.getSelections();return new y(G.concat(K),K,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const G=this._editor.getSelections();return new y(G.slice(0,G.length-1).concat(K),K,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const Q=this.currentMatch;return this.currentMatch=null,Q}this.findController.highlightFindOptions();const K=this._editor.getSelections(),G=K[K.length-1],J=this._editor.getModel().findPreviousMatch(this.searchText,G.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(112):null,!1);return J?new _.Selection(J.range.startLineNumber,J.range.startColumn,J.range.endLineNumber,J.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(112):null,!1,1073741824)):[]}}e.MultiCursorSession=L;class N extends w.Disposable{constructor(K){super();this._sessionDispose=this._register(new w.DisposableStore),this._editor=K,this._ignoreSelectionChange=!1,this._session=null}static get(K){return K.getContribution(N.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(K){if(!this._session){const G=L.create(this._editor,K);if(!G)return;this._session=G;const J={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(J.wholeWordOverride=1,J.matchCaseOverride=1,J.isRegexOverride=2),K.getState().change(J,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(Q=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(K.getState().onFindReplaceStateChange(Q=>{(Q.matchCase||Q.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const K={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(K,!1)}this._session=null}_setSelections(K){this._ignoreSelectionChange=!0,this._editor.setSelections(K),this._ignoreSelectionChange=!1}_expandEmptyToWord(K,G){if(!G.isEmpty())return G;const J=this._editor.getConfiguredWordAtPosition(G.getStartPosition());return J?new _.Selection(G.startLineNumber,J.startColumn,G.startLineNumber,J.endColumn):G}_applySessionResult(K){!K||(this._setSelections(K.selections),K.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(K.revealRange,K.revealScrollType))}getSession(K){return this._session}addSelectionToNextFindMatch(K){if(!!this._editor.hasModel()){if(!this._session){const G=this._editor.getSelections();if(G.length>1){const Q=K.getState().matchCase;if(!B(this._editor.getModel(),G,Q)){const se=this._editor.getModel();let Z=[];for(let T=0,x=G.length;T<x;T++)Z[T]=this._expandEmptyToWord(se,G[T]);this._editor.setSelections(Z);return}}}this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(K){if(!!this._editor.hasModel()){let G=null;const J=K.getState();if(J.isRevealed&&J.searchString.length>0&&J.isRegex)G=this._editor.getModel().findMatches(J.searchString,!0,J.isRegex,J.matchCase,J.wholeWord?this._editor.getOption(112):null,!1,1073741824);else{if(this._beginSessionIfNeeded(K),!this._session)return;G=this._session.selectAll()}if(J.searchScope){const Q=J.searchScope;let ae=[];G.forEach(se=>{Q.forEach(Z=>{se.range.endLineNumber<=Z.endLineNumber&&se.range.startLineNumber>=Z.startLineNumber&&ae.push(se)})}),G=ae}if(G.length>0){const Q=this._editor.getSelection();for(let ae=0,se=G.length;ae<se;ae++){const Z=G[ae];if(Z.range.intersectRanges(Q)){G[ae]=G[0],G[0]=Z;break}}this._setSelections(G.map(ae=>new _.Selection(ae.range.startLineNumber,ae.range.startColumn,ae.range.endLineNumber,ae.range.endColumn)))}}}}e.MultiCursorSelectionController=N,N.ID="editor.contrib.multiCursorController";class M extends p.EditorAction{run(K,G){const J=N.get(G);if(!!J){const Q=d.CommonFindController.get(G);if(!!Q){const ae=G._getViewModel();if(ae){const se=ae.getCursorStates();this._run(J,Q),o(se,ae.getCursorStates())}}}}}e.MultiCursorSelectionControllerAction=M;class D extends M{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:v.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:v.localize(11,null),order:5}})}_run(K,G){K.addSelectionToNextFindMatch(G)}}e.AddSelectionToNextFindMatchAction=D;class R extends M{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:v.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:v.localize(13,null),order:6}})}_run(K,G){K.addSelectionToPreviousFindMatch(G)}}e.AddSelectionToPreviousFindMatchAction=R;class P extends M{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:v.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.focus,primary:(0,k.KeyChord)(2048|41,2048|34),weight:100}})}_run(K,G){K.moveSelectionToNextFindMatch(G)}}e.MoveSelectionToNextFindMatchAction=P;class O extends M{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:v.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(K,G){K.moveSelectionToPreviousFindMatch(G)}}e.MoveSelectionToPreviousFindMatchAction=O;class W extends M{constructor(){super({id:"editor.action.selectHighlights",label:v.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:v.localize(17,null),order:7}})}_run(K,G){K.selectAll(G)}}e.SelectHighlightsAction=W;class F extends M{constructor(){super({id:"editor.action.changeAll",label:v.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(K,G){K.selectAll(G)}}e.CompatChangeAll=F;class E{constructor(K,G,J,Q){this.searchText=K,this.matchCase=G,this.wordSeparators=J,this.modelVersionId=Q}static softEquals(K,G){return!K&&!G?!0:!K||!G?!1:K.searchText===G.searchText&&K.matchCase===G.matchCase&&K.wordSeparators===G.wordSeparators&&K.modelVersionId===G.modelVersionId}}class A extends w.Disposable{constructor(K){super();this.editor=K,this._isEnabled=K.getOption(94),this.decorations=[],this.updateSoon=this._register(new I.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(K.onDidChangeConfiguration(G=>{this._isEnabled=K.getOption(94)})),this._register(K.onDidChangeCursorSelection(G=>{!this._isEnabled||(G.selection.isEmpty()?G.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(K.onDidChangeModel(G=>{this._setState(null)})),this._register(K.onDidChangeModelContent(G=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(d.CommonFindController.get(K).getState().onFindReplaceStateChange(G=>{this._update()}))}_update(){this._setState(A._createState(this._isEnabled,this.editor))}static _createState(K,G){if(!K||!G.hasModel())return null;const J=G.getSelection();if(J.startLineNumber!==J.endLineNumber)return null;const Q=N.get(G);if(!Q)return null;const ae=d.CommonFindController.get(G);if(!ae)return null;let se=Q.getSession(ae);if(!se){const x=G.getSelections();if(x.length>1){const V=ae.getState().matchCase;if(!B(G.getModel(),x,V))return null}se=L.create(G,ae)}if(!se||se.currentMatch||/^[ \t]+$/.test(se.searchText)||se.searchText.length>200)return null;const Z=ae.getState(),T=Z.matchCase;if(Z.isRevealed){let x=Z.searchString;T||(x=x.toLowerCase());let H=se.searchText;if(T||(H=H.toLowerCase()),x===H&&se.matchCase===Z.matchCase&&se.wholeWord===Z.wholeWord&&!Z.isRegex)return null}return new E(se.searchText,se.matchCase,se.wholeWord?G.getOption(112):null,G.getModel().getVersionId())}_setState(K){if(E.softEquals(this.state,K)){this.state=K;return}if(this.state=K,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!!this.editor.hasModel()){const G=this.editor.getModel();if(!G.isTooLargeForTokenization()){const J=c.DocumentHighlightProviderRegistry.has(G)&&this.editor.getOption(68);let Q=G.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(T=>T.range);Q.sort(i.Range.compareRangesUsingStarts);let ae=this.editor.getSelections();ae.sort(i.Range.compareRangesUsingStarts);let se=[];for(let T=0,x=0,H=Q.length,V=ae.length;T<H;){const q=Q[T];if(x>=V)se.push(q),T++;else{const ee=i.Range.compareRangesUsingStarts(q,ae[x]);ee<0?((ae[x].isEmpty()||!i.Range.areIntersecting(q,ae[x]))&&se.push(q),T++):(ee>0||T++,x++)}}const Z=se.map(T=>({range:T,options:J?A._SELECTION_HIGHLIGHT:A._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,Z)}}}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=A,A.ID="editor.contrib.selectionHighlighter",A._SELECTION_HIGHLIGHT_OVERVIEW=l.ModelDecorationOptions.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,s.themeColorFromId)(n.overviewRulerSelectionHighlightForeground),position:a.OverviewRulerLane.Center}}),A._SELECTION_HIGHLIGHT=l.ModelDecorationOptions.register({stickiness:1,className:"selectionHighlight"});function B(U,K,G){const J=z(U,K[0],!G);for(let Q=1,ae=K.length;Q<ae;Q++){const se=K[Q];if(se.isEmpty())return!1;const Z=z(U,se,!G);if(J!==Z)return!1}return!0}function z(U,K,G){const J=U.getValueInRange(K);return G?J.toLowerCase():J}(0,p.registerEditorContribution)(N.ID,N),(0,p.registerEditorContribution)(A.ID,A),(0,p.registerEditorAction)(h),(0,p.registerEditorAction)(f),(0,p.registerEditorAction)(m),(0,p.registerEditorAction)(D),(0,p.registerEditorAction)(R),(0,p.registerEditorAction)(P),(0,p.registerEditorAction)(O),(0,p.registerEditorAction)(W),(0,p.registerEditorAction)(F),(0,p.registerEditorAction)(g),(0,p.registerEditorAction)(b)}),define(te[657],ie([0,1,7,54,40,63,6,2,58,122,186,386,16,59,22,12,477,8,27,20,94,75,424]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const f=v.$,m=(0,h.registerIcon)("parameter-hints-next",s.Codicon.chevronDown,u.localize(0,null)),g=(0,h.registerIcon)("parameter-hints-previous",s.Codicon.chevronUp,u.localize(1,null));let b=class jt extends p.Disposable{constructor(L,N,M,D){super();this.editor=L,this.renderDisposeables=this._register(new p.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new i.MarkdownRenderer({editor:L},D,M)),this.model=this._register(new r.ParameterHintsModel(L)),this.keyVisible=_.Context.Visible.bindTo(N),this.keyMultipleSignatures=_.Context.MultipleSignatures.bindTo(N),this._register(this.model.onChangedHints(R=>{R?(this.show(),this.render(R)):this.hide()}))}createParamaterHintDOMNodes(){const L=f(".editor-widget.parameter-hints-widget"),N=v.append(L,f(".phwrapper"));N.tabIndex=-1;const M=v.append(N,f(".controls")),D=v.append(M,f(".button"+d.ThemeIcon.asCSSSelector(g))),R=v.append(M,f(".overloads")),P=v.append(M,f(".button"+d.ThemeIcon.asCSSSelector(m))),O=(0,I.stop)((0,I.domEvent)(D,"click"));this._register(O(this.previous,this));const W=(0,I.stop)((0,I.domEvent)(P,"click"));this._register(W(this.next,this));const F=f(".body"),E=new w.DomScrollableElement(F,{});this._register(E),N.appendChild(E.getDomNode());const A=v.append(F,f(".signature")),B=v.append(F,f(".docs"));L.style.userSelect="text",this.domNodes={element:L,signature:A,overloads:R,docs:B,scrollbar:E},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(U=>{this.visible&&this.editor.layoutContentWidget(this)}));const z=()=>{if(!!this.domNodes){const U=this.editor.getOption(40);this.domNodes.element.style.fontSize=`${U.fontSize}px`}};z(),this._register(S.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(U=>U.hasChanged(40)).on(z,null)),this._register(this.editor.onDidLayoutChange(U=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(L){var N;if(this.renderDisposeables.clear(),!!this.domNodes){const M=L.signatures.length>1;this.domNodes.element.classList.toggle("multiple",M),this.keyMultipleSignatures.set(M),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const D=L.signatures[L.activeSignature];if(!!D){const R=v.append(this.domNodes.signature,f(".code")),P=this.editor.getOption(40);R.style.fontSize=`${P.fontSize}px`,R.style.fontFamily=P.fontFamily;const O=D.parameters.length>0,W=(N=D.activeParameter)!==null&&N!==void 0?N:L.activeParameter;if(O)this.renderParameters(R,D,W);else{const A=v.append(R,f("span"));A.textContent=D.label}const F=D.parameters[W];if(F==null?void 0:F.documentation){const A=f("span.documentation");if(typeof F.documentation=="string")A.textContent=F.documentation;else{const B=this.renderMarkdownDocs(F.documentation);A.appendChild(B.element)}v.append(this.domNodes.docs,f("p",{},A))}if(D.documentation!==void 0)if(typeof D.documentation=="string")v.append(this.domNodes.docs,f("p",{},D.documentation));else{const A=this.renderMarkdownDocs(D.documentation);v.append(this.domNodes.docs,A.element)}const E=this.hasDocs(D,F);if(this.domNodes.signature.classList.toggle("has-docs",E),this.domNodes.docs.classList.toggle("empty",!E),this.domNodes.overloads.textContent=String(L.activeSignature+1).padStart(L.signatures.length.toString().length,"0")+"/"+L.signatures.length,F){const A=this.getParameterLabel(D,W);this.announcedLabel!==A&&(k.alert(u.localize(2,null,A)),this.announcedLabel=A)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}}renderMarkdownDocs(L){const N=this.renderDisposeables.add(this.markdownRenderer.render(L,{asyncRenderCallback:()=>{var M;(M=this.domNodes)===null||M===void 0||M.scrollbar.scanDomNode()}}));return N.element.classList.add("markdown-docs"),N}hasDocs(L,N){return!!(N&&typeof N.documentation=="string"&&(0,t.assertIsDefined)(N.documentation).length>0||N&&typeof N.documentation=="object"&&(0,t.assertIsDefined)(N.documentation).value.length>0||L.documentation&&typeof L.documentation=="string"&&(0,t.assertIsDefined)(L.documentation).length>0||L.documentation&&typeof L.documentation=="object"&&(0,t.assertIsDefined)(L.documentation.value).length>0)}renderParameters(L,N,M){const[D,R]=this.getParameterLabelOffsets(N,M),P=document.createElement("span");P.textContent=N.label.substring(0,D);const O=document.createElement("span");O.textContent=N.label.substring(D,R),O.className="parameter active";const W=document.createElement("span");W.textContent=N.label.substring(R),v.append(L,P,O,W)}getParameterLabel(L,N){const M=L.parameters[N];return Array.isArray(M.label)?L.label.substring(M.label[0],M.label[1]):M.label}getParameterLabelOffsets(L,N){const M=L.parameters[N];if(M){if(Array.isArray(M.label))return M.label;if(M.label.length){const D=new RegExp(`(\\W|^)${(0,n.escapeRegExpCharacters)(M.label)}(?=\\W|$)`,"g");D.test(L.label);const R=D.lastIndex-M.label.length;return R>=0?[R,D.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element}getId(){return jt.ID}trigger(L){this.model.trigger(L,0)}updateMaxHeight(){if(!!this.domNodes){const N=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=N;const M=this.domNodes.element.getElementsByClassName("phwrapper");M.length&&(M[0].style.maxHeight=N)}}};b.ID="editor.widget.parameterHintsWidget",b=Me([_e(1,a.IContextKeyService),_e(2,l.IOpenerService),_e(3,C.IModeService)],b),e.ParameterHintsWidget=b,(0,d.registerThemingParticipant)((y,L)=>{const N=y.getColor(c.editorHoverBorder);if(N){const O=y.type===o.ColorScheme.HIGH_CONTRAST?2:1;L.addRule(`.monaco-editor .parameter-hints-widget { border: ${O}px solid ${N}; }`),L.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${N.transparent(.5)}; }`),L.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${N.transparent(.5)}; }`)}const M=y.getColor(c.editorHoverBackground);M&&L.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${M}; }`);const D=y.getColor(c.textLinkForeground);D&&L.addRule(`.monaco-editor .parameter-hints-widget a { color: ${D}; }`);const R=y.getColor(c.editorHoverForeground);R&&L.addRule(`.monaco-editor .parameter-hints-widget { color: ${R}; }`);const P=y.getColor(c.textCodeBlockBackground);P&&L.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${P}; }`)})}),define(te[658],ie([0,1,385,2,9,25,16,13,657,186,18]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let u=class Gt extends I.Disposable{constructor(r,n){super();this.editor=r,this.widget=this._register(n.createInstance(C.ParameterHintsWidget,this.editor))}static get(r){return r.getContribution(Gt.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(r){this.widget.trigger(r)}};u.ID="editor.controller.parameterHints",u=Me([_e(1,k.IInstantiationService)],u);class a extends p.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:v.localize(0,null),alias:"Trigger Parameter Hints",precondition:w.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(r,n){const s=u.get(n);s&&s.trigger({triggerKind:_.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=a,(0,p.registerEditorContribution)(u.ID,u),(0,p.registerEditorAction)(a);const l=100+75,c=p.EditorCommand.bindToContribution(u.get);(0,p.registerEditorCommand)(new c({id:"closeParameterHints",precondition:i.Context.Visible,handler:d=>d.cancel(),kbOpts:{weight:l,kbExpr:w.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,p.registerEditorCommand)(new c({id:"showPrevParameterHint",precondition:S.ContextKeyExpr.and(i.Context.Visible,i.Context.MultipleSignatures),handler:d=>d.previous(),kbOpts:{weight:l,kbExpr:w.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,p.registerEditorCommand)(new c({id:"showNextParameterHint",precondition:S.ContextKeyExpr.and(i.Context.Visible,i.Context.MultipleSignatures),handler:d=>d.next(),kbOpts:{weight:l,kbExpr:w.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(te[659],ie([0,1,399,70,2,7,12,58,18,191,513,37,23,208,19,217,27,6,75]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function o(m){return`suggest-aria-id:${m}`}e.getAriaId=o,e.suggestMoreInfoIcon=(0,s.registerIcon)("suggest-more-info",r.Codicon.chevronRight,v.localize(0,null));const h=new(t=class ft{extract(g,b){if(g.textLabel.match(ft._regexStrict))return b[0]=g.textLabel,!0;if(g.completion.detail&&g.completion.detail.match(ft._regexStrict))return b[0]=g.completion.detail,!0;if(typeof g.completion.documentation=="string"){const y=ft._regexRelaxed.exec(g.completion.documentation);if(y&&(y.index===0||y.index+y[0].length===g.completion.documentation.length))return b[0]=y[0],!0}return!1}},t._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,t._regexStrict=new RegExp(`^${t._regexRelaxed.source}$`,"i"),t);let f=class{constructor(g,b,y,L){this._editor=g,this._modelService=b,this._modeService=y,this._themeService=L,this._onDidToggleDetails=new n.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(g){const b=Object.create(null);b.disposables=new k.DisposableStore,b.root=g,b.root.classList.add("show-file-icons"),b.icon=(0,w.append)(g,(0,w.$)(".icon")),b.colorspan=(0,w.append)(b.icon,(0,w.$)("span.colorspan"));const y=(0,w.append)(g,(0,w.$)(".contents")),L=(0,w.append)(y,(0,w.$)(".main"));b.iconContainer=(0,w.append)(L,(0,w.$)(".icon-label.codicon")),b.left=(0,w.append)(L,(0,w.$)("span.left")),b.right=(0,w.append)(L,(0,w.$)("span.right")),b.iconLabel=new i.IconLabel(b.left,{supportHighlights:!0,supportIcons:!0}),b.disposables.add(b.iconLabel),b.parametersLabel=(0,w.append)(b.left,(0,w.$)("span.signature-label")),b.qualifierLabel=(0,w.append)(b.left,(0,w.$)("span.qualifier-label")),b.detailsLabel=(0,w.append)(b.right,(0,w.$)("span.details-label")),b.readMore=(0,w.append)(b.right,(0,w.$)("span.readMore"+S.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),b.readMore.title=v.localize(1,null);const N=()=>{const M=this._editor.getOptions(),D=M.get(40),R=D.fontFamily,P=D.fontFeatureSettings,O=M.get(104)||D.fontSize,W=M.get(105)||D.lineHeight,F=D.fontWeight,E=`${O}px`,A=`${W}px`;b.root.style.fontSize=E,b.root.style.fontWeight=F,L.style.fontFamily=R,L.style.fontFeatureSettings=P,L.style.lineHeight=A,b.icon.style.height=A,b.icon.style.width=A,b.readMore.style.height=A,b.readMore.style.width=A};return N(),b.disposables.add(this._editor.onDidChangeConfiguration(M=>{(M.hasChanged(40)||M.hasChanged(104)||M.hasChanged(105))&&N()})),b}renderElement(g,b,y){var L,N,M;const{completion:D}=g;y.root.id=o(b),y.colorspan.style.backgroundColor="";const R={labelEscapeNewLines:!0,matches:(0,I.createMatches)(g.score)};let P=[];if(D.kind===19&&h.extract(g,P))y.icon.className="icon customcolor",y.iconContainer.className="icon hide",y.colorspan.style.backgroundColor=P[0];else if(D.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){y.icon.className="icon hide",y.iconContainer.className="icon hide";const O=(0,_.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:g.textLabel}),l.FileKind.FILE),W=(0,_.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:D.detail}),l.FileKind.FILE);R.extraClasses=O.length>W.length?O:W}else D.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(y.icon.className="icon hide",y.iconContainer.className="icon hide",R.extraClasses=(0,c.flatten)([(0,_.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:g.textLabel}),l.FileKind.FOLDER),(0,_.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:D.detail}),l.FileKind.FOLDER)])):(y.icon.className="icon hide",y.iconContainer.className="",y.iconContainer.classList.add("suggest-icon",...(0,C.completionKindToCssClass)(D.kind).split(" ")));D.tags&&D.tags.indexOf(1)>=0&&(R.extraClasses=(R.extraClasses||[]).concat(["deprecated"]),R.matches=[]),y.iconLabel.setLabel(g.textLabel,void 0,R),typeof D.label=="string"?(y.parametersLabel.textContent="",y.qualifierLabel.textContent="",y.detailsLabel.textContent=(D.detail||"").replace(/\n.*$/m,""),y.root.classList.add("string-label"),y.root.title=""):(y.parametersLabel.textContent=(D.label.parameters||"").replace(/\n.*$/m,""),y.qualifierLabel.textContent=(D.label.qualifier||"").replace(/\n.*$/m,""),y.detailsLabel.textContent=(D.label.type||"").replace(/\n.*$/m,""),y.root.classList.remove("string-label"),y.root.title=`${g.textLabel}${(L=D.label.parameters)!==null&&L!==void 0?L:""}  ${(N=D.label.qualifier)!==null&&N!==void 0?N:""}  ${(M=D.label.type)!==null&&M!==void 0?M:""}`),this._editor.getOption(103).showInlineDetails?(0,w.show)(y.detailsLabel):(0,w.hide)(y.detailsLabel),(0,d.canExpandCompletionItem)(g)?(y.right.classList.add("can-expand-details"),(0,w.show)(y.readMore),y.readMore.onmousedown=O=>{O.stopPropagation(),O.preventDefault()},y.readMore.onclick=O=>{O.stopPropagation(),O.preventDefault(),this._onDidToggleDetails.fire()}):(y.right.classList.remove("can-expand-details"),(0,w.hide)(y.readMore),y.readMore.onmousedown=null,y.readMore.onclick=null)}disposeTemplate(g){g.disposables.dispose()}};f=Me([_e(1,u.IModelService),_e(2,p.IModeService),_e(3,S.IThemeService)],f),e.ItemRenderer=f}),define(te[660],ie([0,1,397,8,7,6,11,2,98,16,112,99,12,22,76,15,9,217,638,659,215,138,100,429,137,242]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,l.registerColor)("editorSuggestWidget.background",{dark:l.editorWidgetBackground,light:l.editorWidgetBackground,hc:l.editorWidgetBackground},v.localize(0,null)),e.editorSuggestWidgetBorder=(0,l.registerColor)("editorSuggestWidget.border",{dark:l.editorWidgetBorder,light:l.editorWidgetBorder,hc:l.editorWidgetBorder},v.localize(1,null)),e.editorSuggestWidgetForeground=(0,l.registerColor)("editorSuggestWidget.foreground",{dark:l.editorForeground,light:l.editorForeground,hc:l.editorForeground},v.localize(2,null)),e.editorSuggestWidgetSelectedBackground=(0,l.registerColor)("editorSuggestWidget.selectedBackground",{dark:l.quickInputListFocusBackground,light:l.quickInputListFocusBackground,hc:l.quickInputListFocusBackground},v.localize(3,null)),e.editorSuggestWidgetHighlightForeground=(0,l.registerColor)("editorSuggestWidget.highlightForeground",{dark:l.listHighlightForeground,light:l.listHighlightForeground,hc:l.listHighlightForeground},v.localize(4,null));class m{constructor(L,N){this._service=L,this._key=`suggestWidget.size/${N.getEditorType()}/${N instanceof h.EmbeddedCodeEditorWidget}`}restore(){var L;const N=(L=this._service.get(this._key,0))!==null&&L!==void 0?L:"";try{const M=JSON.parse(N);if(k.Dimension.is(M))return k.Dimension.lift(M)}catch(M){}}store(L){this._service.store(this._key,JSON.stringify(L),0,1)}reset(){this._service.remove(this._key,0)}}let g=class wt{constructor(L,N,M,D,R){this.editor=L,this._storageService=N,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._explainMode=!1,this._showTimeout=new d.TimeoutTimer,this._disposables=new p.DisposableStore,this._onDidSelect=new w.Emitter,this._onDidFocus=new w.Emitter,this._onDidHide=new w.Emitter,this._onDidShow=new w.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new w.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new o.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new b(this,L),this._persistedSize=new m(N,L);class P{constructor(z,U,K=!1,G=!1){this.persistedSize=z,this.currentSize=U,this.persistHeight=K,this.persistWidth=G}}let O;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),O=new P(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(B=>{var z,U,K,G;if(this._resize(B.dimension.width,B.dimension.height),O&&(O.persistHeight=O.persistHeight||!!B.north||!!B.south,O.persistWidth=O.persistWidth||!!B.east||!!B.west),!!B.done){if(O){const{itemHeight:J,defaultSize:Q}=this.getLayoutInfo(),ae=Math.round(J/2);let{width:se,height:Z}=this.element.size;(!O.persistHeight||Math.abs(O.currentSize.height-Z)<=ae)&&(Z=(U=(z=O.persistedSize)===null||z===void 0?void 0:z.height)!==null&&U!==void 0?U:Q.height),(!O.persistWidth||Math.abs(O.currentSize.width-se)<=ae)&&(se=(G=(K=O.persistedSize)===null||K===void 0?void 0:K.width)!==null&&G!==void 0?G:Q.width),this._persistedSize.store(new k.Dimension(se,Z))}this._contentWidget.unlockPreference(),O=void 0}})),this._messageElement=k.append(this.element.domNode,k.$(".message")),this._listElement=k.append(this.element.domNode,k.$(".tree"));const W=R.createInstance(n.SuggestDetailsWidget,this.editor);W.onDidClose(this.toggleDetails,this,this._disposables),this._details=new n.SuggestDetailsOverlay(W,this.editor);const F=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(103).showIcons);F();const E=R.createInstance(t.ItemRenderer,this.editor);this._disposables.add(E),this._disposables.add(E.onDidToggleDetails(()=>this.toggleDetails())),this._list=new C.List("SuggestWidget",this._listElement,{getHeight:B=>this.getLayoutInfo().itemHeight,getTemplateId:B=>"suggestion"},[E],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:B=>{if(B.isResolved&&this._isDetailsVisible()){const{documentation:z,detail:U}=B.completion,K=I.format("{0}{1}",U||"",z?typeof z=="string"?z:z.value:"");return v.localize(7,null,B.textLabel,K)}else return B.textLabel},getWidgetAriaLabel:()=>v.localize(8,null),getWidgetRole:()=>"listbox"}}),this._status=R.createInstance(s.SuggestWidgetStatus,this.element.domNode);const A=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(103).showStatusBar);A(),this._disposables.add((0,u.attachListStyler)(this._list,D,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:l.activeContrastBorder})),this._disposables.add(D.onDidColorThemeChange(B=>this._onThemeChange(B))),this._onThemeChange(D.getColorTheme()),this._disposables.add(this._list.onMouseDown(B=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onTap(B=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onDidChangeSelection(B=>this._onListSelection(B))),this._disposables.add(this._list.onDidChangeFocus(B=>this._onListFocus(B))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(B=>{B.hasChanged(103)&&(A(),F())})),this._ctxSuggestWidgetVisible=_.Context.Visible.bindTo(M),this._ctxSuggestWidgetDetailsVisible=_.Context.DetailsVisible.bindTo(M),this._ctxSuggestWidgetMultipleSuggestions=_.Context.MultipleSuggestions.bindTo(M),this._disposables.add(k.addStandardDisposableListener(this._details.widget.domNode,"keydown",B=>{this._onDetailsKeydown.fire(B)})),this._disposables.add(this.editor.onMouseDown(B=>this._onEditorMouseDown(B)))}dispose(){var L;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(L){this._details.widget.domNode.contains(L.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(L.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(L){typeof L.element=="undefined"||typeof L.index=="undefined"||(L.browserEvent.preventDefault(),L.browserEvent.stopPropagation(),this._select(L.element,L.index))}_onListSelection(L){L.elements.length&&this._select(L.elements[0],L.indexes[0])}_select(L,N){const M=this._completionModel;M&&(this._onDidSelect.fire({item:L,index:N,model:M}),this.editor.focus())}_onThemeChange(L){const N=L.getColor(e.editorSuggestWidgetBackground);N&&(this.element.domNode.style.backgroundColor=N.toString(),this._messageElement.style.backgroundColor=N.toString(),this._details.widget.domNode.style.backgroundColor=N.toString());const M=L.getColor(e.editorSuggestWidgetBorder);M&&(this.element.domNode.style.borderColor=M.toString(),this._messageElement.style.borderColor=M.toString(),this._status.element.style.borderTopColor=M.toString(),this._details.widget.domNode.style.borderColor=M.toString(),this._detailsBorderColor=M.toString());const D=L.getColor(l.focusBorder);D&&(this._detailsFocusBorderColor=D.toString()),this._details.widget.borderWidth=L.type==="hc"?2:1}_onListFocus(L){var N;if(!this._ignoreFocusEvents){if(!L.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!!this._completionModel){const M=L.elements[0],D=L.indexes[0];M!==this._focusedItem&&((N=this._currentSuggestionDetails)===null||N===void 0||N.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=M,this._list.reveal(D),this._currentSuggestionDetails=(0,d.createCancelablePromise)(R=>De(this,void 0,void 0,function*(){const P=(0,d.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);R.onCancellationRequested(()=>P.dispose());const O=yield M.resolve(R);return P.dispose(),O})),this._currentSuggestionDetails.then(()=>{D>=this._list.length||M!==this._list.element(D)||(this._ignoreFocusEvents=!0,this._list.splice(D,1,[M]),this._list.setFocus([D]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,t.getAriaId)(D)}))}).catch(S.onUnexpectedError)),this._onDidFocus.fire({item:M,index:D,model:this._completionModel})}}}_setState(L){if(this._state!==L)switch(this._state=L,this.element.domNode.classList.toggle("frozen",L===4),this.element.domNode.classList.remove("message"),L){case 0:k.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=wt.LOADING_MESSAGE,k.hide(this._listElement,this._status.element),k.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=wt.NO_SUGGESTIONS_MESSAGE,k.hide(this._listElement,this._status.element),k.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:k.hide(this._messageElement),k.show(this._listElement,this._status.element),this._show();break;case 4:k.hide(this._messageElement),k.show(this._listElement,this._status.element),this._show();break;case 5:k.hide(this._messageElement),k.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(L,N){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!L,this._isAuto||(this._loadingTimeout=(0,d.disposableTimeout)(()=>this._setState(1),N)))}showSuggestions(L,N,M,D){var R,P;if(this._contentWidget.setPosition(this.editor.getPosition()),(R=this._loadingTimeout)===null||R===void 0||R.dispose(),(P=this._currentSuggestionDetails)===null||P===void 0||P.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==L&&(this._completionModel=L),M&&this._state!==2&&this._state!==0){this._setState(4);return}const O=this._completionModel.items.length,W=O===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(O>1),W){this._setState(D?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(M?4:3),this._list.reveal(N,0),this._list.setFocus([N]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,n.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(L){this._details.show(),L?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var L;(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._setState(0),this._onDidHide.fire(this);const N=this._persistedSize.restore(),M=Math.ceil(this.getLayoutInfo().itemHeight*4.3);N&&N.height<M&&this._persistedSize.store(N.with(void 0,M))}isFrozen(){return this._state===4}_afterRender(L){if(L===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(L){var N,M,D;if(!!this.editor.hasModel()&&!!this.editor.getDomNode()){const R=k.getClientArea(document.body),P=this.getLayoutInfo();L||(L=P.defaultSize);let O=L.height,W=L.width;if(this._status.element.style.lineHeight=`${P.itemHeight}px`,this._state===2||this._state===1)O=P.itemHeight+P.borderHeight,W=P.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new k.Dimension(W,O),this._contentWidget.setPreference(2);else{const F=R.width-P.borderHeight-2*P.horizontalPadding;W>F&&(W=F);const E=this._completionModel?this._completionModel.stats.pLabelLen*P.typicalHalfwidthCharacterWidth:W,A=P.statusBarHeight+this._list.contentHeight+P.borderHeight,B=P.itemHeight+P.statusBarHeight,z=k.getDomNodePagePosition(this.editor.getDomNode()),U=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),K=z.top+U.top+U.height,G=Math.min(R.height-K-P.verticalPadding,A),J=Math.min(z.top+U.top-P.verticalPadding,A);let Q=Math.min(Math.max(J,G)+P.borderHeight,A);O===((N=this._cappedHeight)===null||N===void 0?void 0:N.capped)&&(O=this._cappedHeight.wanted),O<B&&(O=B),O>Q&&(O=Q),O>G?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Q=J):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Q=G),this.element.preferredSize=new k.Dimension(E,P.defaultSize.height),this.element.maxSize=new k.Dimension(F,Q),this.element.minSize=new k.Dimension(220,B),this._cappedHeight=O===A?{wanted:(D=(M=this._cappedHeight)===null||M===void 0?void 0:M.wanted)!==null&&D!==void 0?D:L.height,capped:O}:void 0}this._resize(W,O)}}_resize(L,N){const{width:M,height:D}=this.element.maxSize;L=Math.min(M,L),N=Math.min(D,N);const{statusBarHeight:R}=this.getLayoutInfo();this._list.layout(N-R,L),this._listElement.style.height=`${N-R}px`,this.element.layout(N,L),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const L=this.editor.getOption(40),N=(0,f.clamp)(this.editor.getOption(105)||L.lineHeight,8,1e3),M=!this.editor.getOption(103).showStatusBar||this._state===2||this._state===1?0:N,D=this._details.widget.borderWidth,R=2*D;return{itemHeight:N,statusBarHeight:M,borderWidth:D,borderHeight:R,typicalHalfwidthCharacterWidth:L.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new k.Dimension(430,M+12*N+R)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(L){this._storageService.store("expandSuggestionDocs",L,0,0)}};g.LOADING_MESSAGE=v.localize(5,null),g.NO_SUGGESTIONS_MESSAGE=v.localize(6,null),g=Me([_e(1,c.IStorageService),_e(2,i.IContextKeyService),_e(3,a.IThemeService),_e(4,r.IInstantiationService)],g),e.SuggestWidget=g;class b{constructor(L,N){this._widget=L,this._editor=N,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:L,width:N}=this._widget.element.size,{borderWidth:M,horizontalPadding:D}=this._widget.getLayoutInfo();return new k.Dimension(N+2*M+D,L+2*M)}afterRender(L){this._widget._afterRender(L)}setPreference(L){this._preferenceLocked||(this._preference=L)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(L){this._position=L}}e.SuggestContentWidget=b,(0,a.registerThemingParticipant)((y,L)=>{const N=y.getColor(e.editorSuggestWidgetHighlightForeground);N&&L.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${N}; }`);const M=y.getColor(e.editorSuggestWidgetForeground);M&&L.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${M}; }`);const D=y.getColor(l.textLinkForeground);D&&L.addRule(`.monaco-editor .suggest-details a { color: ${D}; }`);const R=y.getColor(l.textCodeBlockBackground);R&&L.addRule(`.monaco-editor .suggest-details code { background-color: ${R}; }`)})}),define(te[661],ie([0,1,12,75,7,6]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconsStyleSheet=void 0;function S(){const p=new w.Emitter,C=(0,I.getIconRegistry)();return C.onDidChange(()=>p.fire()),{onDidChange:p.event,getCSS(){const i={},_=a=>{let l=a.defaults;for(;v.ThemeIcon.isThemeIcon(l);){const d=C.getIcon(l.id);if(!d)return;l=d.defaults}const c=l.fontId;if(c){const d=C.getIconFont(c);if(d)return i[c]=d,`.codicon-${a.id}:before { content: '${l.fontCharacter}'; font-family: ${(0,k.asCSSPropertyValue)(c)}; }`}return`.codicon-${a.id}:before { content: '${l.fontCharacter}'; }`},u=[];for(let a of C.getIcons()){const l=_(a);l&&u.push(l)}for(let a in i){const c=i[a].definition.src.map(d=>`${(0,k.asCSSUrl)(d.location)} format('${d.format}')`).join(", ");u.push(`@font-face { src: ${c}; font-family: ${(0,k.asCSSPropertyValue)(a)}; }`)}return u.join(`
`)}}}e.getIconsStyleSheet=S}),define(te[662],ie([0,1,7,29,6,18,523,578,32,22,12,2,94,661]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeServiceImpl=void 0;const c="vs",d="vs-dark",r="hc-black",n=C.Registry.as(i.Extensions.ColorContribution),s=C.Registry.as(_.Extensions.ThemingContribution);class t{constructor(b,y){this.semanticHighlighting=!1,this.themeData=y;let L=y.base;b.length>0?(o(b)?this.id=b:this.id=L+" "+b,this.themeName=b):(this.id=L,this.themeName=L),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const b=new Map;for(let y in this.themeData.colors)b.set(y,I.Color.fromHex(this.themeData.colors[y]));if(this.themeData.inherit){let y=h(this.themeData.base);for(let L in y.colors)b.has(L)||b.set(L,I.Color.fromHex(y.colors[L]))}this.colors=b}return this.colors}getColor(b,y){const L=this.getColors().get(b);if(L)return L;if(y!==!1)return this.getDefault(b)}getDefault(b){let y=this.defaultColors[b];return y||(y=n.resolveDefaultColor(b,this),this.defaultColors[b]=y,y)}defines(b){return Object.prototype.hasOwnProperty.call(this.getColors(),b)}get type(){switch(this.base){case c:return a.ColorScheme.LIGHT;case r:return a.ColorScheme.HIGH_CONTRAST;default:return a.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let b=[],y=[];if(this.themeData.inherit){let L=h(this.themeData.base);b=L.rules,L.encodedTokensColors&&(y=L.encodedTokensColors)}b=b.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(y=this.themeData.encodedTokensColors),this._tokenTheme=S.TokenTheme.createFromRawTokenTheme(b,y)}return this._tokenTheme}getTokenStyleMetadata(b,y,L){const M=this.tokenTheme._match([b].concat(y).join(".")).metadata,D=w.TokenMetadata.getForeground(M),R=w.TokenMetadata.getFontStyle(M);return{foreground:D,italic:Boolean(R&1),bold:Boolean(R&2),underline:Boolean(R&4)}}}function o(g){return g===c||g===d||g===r}function h(g){switch(g){case c:return p.vs;case d:return p.vs_dark;case r:return p.hc_black}}function f(g){let b=h(g);return new t(g,b)}class m extends u.Disposable{constructor(){super();this._onColorThemeChange=this._register(new k.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(c,f(c)),this._knownThemes.set(d,f(d)),this._knownThemes.set(r,f(r));const b=(0,l.getIconsStyleSheet)();this._codiconCSS=b.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(c),b.onDidChange(()=>{this._codiconCSS=b.getCSS(),this._updateCSS()}),window.matchMedia("(forced-colors: active)").addEventListener("change",()=>{this._updateActualTheme()})}registerEditorContainer(b){return v.isInShadowDOM(b)?this._registerShadowDomContainer(b):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=v.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),u.Disposable.None}_registerShadowDomContainer(b){const y=v.createStyleSheet(b);return y.className="monaco-colors",y.textContent=this._allCSS,this._styleElements.push(y),{dispose:()=>{for(let L=0;L<this._styleElements.length;L++)if(this._styleElements[L]===y){this._styleElements.splice(L,1);return}}}}defineTheme(b,y){if(!/^[a-z0-9\-]+$/i.test(b))throw new Error("Illegal theme name!");if(!o(y.base)&&!o(b))throw new Error("Illegal theme base!");this._knownThemes.set(b,new t(b,y)),o(b)&&this._knownThemes.forEach(L=>{L.base===b&&L.notifyBaseUpdated()}),this._theme.themeName===b&&this.setTheme(b)}getColorTheme(){return this._theme}setColorMapOverride(b){this._colorMapOverride=b,this._updateThemeOrColorMap()}setTheme(b){let y;this._knownThemes.has(b)?y=this._knownThemes.get(b):y=this._knownThemes.get(c),this._desiredTheme=y,this._updateActualTheme()}_updateActualTheme(){const b=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(r):this._desiredTheme;this._theme!==b&&(this._theme=b,this._updateThemeOrColorMap())}setAutoDetectHighContrast(b){this._autoDetectHighContrast=b,this._updateActualTheme()}_updateThemeOrColorMap(){let b=[],y={},L={addRule:M=>{y[M]||(b.push(M),y[M]=!0)}};s.getThemingParticipants().forEach(M=>M(this._theme,L,this._environment));const N=this._colorMapOverride||this._theme.tokenTheme.getColorMap();L.addRule((0,S.generateTokensCSSForColorMap)(N)),this._themeCSS=b.join(`
`),this._updateCSS(),w.TokenizationRegistry.setColorMap(N),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(b=>b.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}e.StandaloneThemeServiceImpl=m}),define(te[148],ie([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,v.createDecorator)("undoRedoService");class I{constructor(p,C){this.resource=p,this.elements=C}}e.ResourceEditStackSnapshot=I;class k{constructor(){this.id=k._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=k,k._ID=0,k.None=new k;class w{constructor(){this.id=w._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=w,w._ID=0,w.None=new w}),define(te[266],ie([0,1,6,2,17,11,38,31,18,123,144,44,15,24,12,69,148,95,209,45,212,234]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelServiceImpl=void 0;function f(W){return W.toString()}function m(W){const F=new n.StringSHA1,E=W.createSnapshot();let A;for(;A=E.read();)F.update(A);return F.digest()}class g{constructor(F,E,A){this._modelEventListeners=new I.DisposableStore,this.model=F,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(F.onWillDispose(()=>E(F))),this._modelEventListeners.add(F.onDidChangeLanguage(B=>A(F,B)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(F){this._disposeLanguageSelection(),this._languageSelection=F,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(F.languageIdentifier)),this.model.setMode(F.languageIdentifier)}}const b=k.isLinux||k.isMacintosh?1:2;class y{constructor(F,E,A,B,z,U,K,G){this.uri=F,this.initialUndoRedoSnapshot=E,this.time=A,this.sharesUndoRedoStack=B,this.heapSize=z,this.sha1=U,this.versionId=K,this.alternativeVersionId=G}}function L(W){return W.scheme===t.Schemas.file||W.scheme===t.Schemas.vscodeRemote||W.scheme===t.Schemas.userData||W.scheme==="fake-fs"}let N=class st extends I.Disposable{constructor(F,E,A,B,z){super();this._configurationService=F,this._resourcePropertiesService=E,this._themeService=A,this._logService=B,this._undoRedoService=z,this._onModelAdded=this._register(new v.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new v.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new v.Emitter),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new R(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new D(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(F,E){let A=S.EDITOR_MODEL_DEFAULTS.tabSize;if(F.editor&&typeof F.editor.tabSize!="undefined"){const ae=parseInt(F.editor.tabSize,10);isNaN(ae)||(A=ae),A<1&&(A=1)}let B=A;if(F.editor&&typeof F.editor.indentSize!="undefined"&&F.editor.indentSize!=="tabSize"){const ae=parseInt(F.editor.indentSize,10);isNaN(ae)||(B=ae),B<1&&(B=1)}let z=S.EDITOR_MODEL_DEFAULTS.insertSpaces;F.editor&&typeof F.editor.insertSpaces!="undefined"&&(z=F.editor.insertSpaces==="false"?!1:Boolean(F.editor.insertSpaces));let U=b;const K=F.eol;K===`\r
`?U=2:K===`
`&&(U=1);let G=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;F.editor&&typeof F.editor.trimAutoWhitespace!="undefined"&&(G=F.editor.trimAutoWhitespace==="false"?!1:Boolean(F.editor.trimAutoWhitespace));let J=S.EDITOR_MODEL_DEFAULTS.detectIndentation;F.editor&&typeof F.editor.detectIndentation!="undefined"&&(J=F.editor.detectIndentation==="false"?!1:Boolean(F.editor.detectIndentation));let Q=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;return F.editor&&typeof F.editor.largeFileOptimizations!="undefined"&&(Q=F.editor.largeFileOptimizations==="false"?!1:Boolean(F.editor.largeFileOptimizations)),{isForSimpleWidget:E,tabSize:A,indentSize:B,insertSpaces:z,detectIndentation:J,defaultEOL:U,trimAutoWhitespace:G,largeFileOptimizations:Q}}_getEOL(F,E){if(F)return this._resourcePropertiesService.getEOL(F,E);const A=this._configurationService.getValue("files.eol",{overrideIdentifier:E});return A&&A!=="auto"?A:k.OS===3||k.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const F=this._configurationService.getValue("files.restoreUndoStack");return typeof F=="boolean"?F:!0}getCreationOptions(F,E,A){let B=this._modelCreationOptionsByLanguageAndResource[F+E];if(!B){const z=this._configurationService.getValue("editor",{overrideIdentifier:F,resource:E}),U=this._getEOL(E,F);B=st._readModelOptions({editor:z,eol:U},A),this._modelCreationOptionsByLanguageAndResource[F+E]=B}return B}_updateModelOptions(){const F=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const E=Object.keys(this._models);for(let A=0,B=E.length;A<B;A++){const z=E[A],U=this._models[z],K=U.model.getLanguageIdentifier().language,G=U.model.uri,J=F[K+G],Q=this.getCreationOptions(K,G,U.model.isForSimpleWidget);st._setModelOptionsForModel(U.model,Q,J)}}static _setModelOptionsForModel(F,E,A){A&&A.defaultEOL!==E.defaultEOL&&F.getLineCount()===1&&F.setEOL(E.defaultEOL===1?0:1),!(A&&A.detectIndentation===E.detectIndentation&&A.insertSpaces===E.insertSpaces&&A.tabSize===E.tabSize&&A.indentSize===E.indentSize&&A.trimAutoWhitespace===E.trimAutoWhitespace)&&(E.detectIndentation?(F.detectIndentation(E.insertSpaces,E.tabSize),F.updateOptions({trimAutoWhitespace:E.trimAutoWhitespace})):F.updateOptions({insertSpaces:E.insertSpaces,tabSize:E.tabSize,indentSize:E.indentSize,trimAutoWhitespace:E.trimAutoWhitespace}))}_insertDisposedModel(F){this._disposedModels.set(f(F.uri),F),this._disposedModelsHeapSize+=F.heapSize}_removeDisposedModel(F){const E=this._disposedModels.get(f(F));return E&&(this._disposedModelsHeapSize-=E.heapSize),this._disposedModels.delete(f(F)),E}_ensureDisposedModelsHeapSize(F){if(this._disposedModelsHeapSize>F){const E=[];for(this._disposedModels.forEach(A=>{A.sharesUndoRedoStack||E.push(A)}),E.sort((A,B)=>A.time-B.time);E.length>0&&this._disposedModelsHeapSize>F;){const A=E.shift();this._removeDisposedModel(A.uri),A.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(A.initialUndoRedoSnapshot)}}}_createModelData(F,E,A,B){const z=this.getCreationOptions(E.language,A,B),U=new p.TextModel(F,z,E,A,this._undoRedoService);if(A&&this._disposedModels.has(f(A))){const J=this._removeDisposedModel(A),Q=this._undoRedoService.getElements(A),ae=m(U)===J.sha1;if(ae||J.sharesUndoRedoStack){for(const se of Q.past)(0,s.isEditStackElement)(se)&&se.matchesResource(A)&&se.setModel(U);for(const se of Q.future)(0,s.isEditStackElement)(se)&&se.matchesResource(A)&&se.setModel(U);this._undoRedoService.setElementsValidFlag(A,!0,se=>(0,s.isEditStackElement)(se)&&se.matchesResource(A)),ae&&(U._overwriteVersionId(J.versionId),U._overwriteAlternativeVersionId(J.alternativeVersionId),U._overwriteInitialUndoRedoSnapshot(J.initialUndoRedoSnapshot))}else J.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(J.initialUndoRedoSnapshot)}const K=f(U.uri);if(this._models[K])throw new Error("ModelService: Cannot add model because it already exists!");const G=new g(U,J=>this._onWillDispose(J),(J,Q)=>this._onDidChangeLanguage(J,Q));return this._models[K]=G,G}createModel(F,E,A,B=!1){let z;return E?(z=this._createModelData(F,E.languageIdentifier,A,B),this.setMode(z.model,E)):z=this._createModelData(F,i.PLAINTEXT_LANGUAGE_IDENTIFIER,A,B),this._onModelAdded.fire(z.model),z.model}setMode(F,E){if(!!E){const A=this._models[f(F.uri)];!A||A.setLanguage(E)}}getModels(){const F=[],E=Object.keys(this._models);for(let A=0,B=E.length;A<B;A++){const z=E[A];F.push(this._models[z].model)}return F}getModel(F){const E=f(F),A=this._models[E];return A?A.model:null}getSemanticTokensProviderStyling(F){return this._semanticStyling.get(F)}_onWillDispose(F){const E=f(F.uri),A=this._models[E],B=this._undoRedoService.getUriComparisonKey(F.uri)!==F.uri.toString();let z=!1,U=0;if(B||this._shouldRestoreUndoStack()&&L(F.uri)){const G=this._undoRedoService.getElements(F.uri);if(G.past.length>0||G.future.length>0){for(const J of G.past)(0,s.isEditStackElement)(J)&&J.matchesResource(F.uri)&&(z=!0,U+=J.heapSize(F.uri),J.setModel(F.uri));for(const J of G.future)(0,s.isEditStackElement)(J)&&J.matchesResource(F.uri)&&(z=!0,U+=J.heapSize(F.uri),J.setModel(F.uri))}}const K=st.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(z)if(!B&&U>K){const G=A.model.getInitialUndoRedoSnapshot();G!==null&&this._undoRedoService.restoreSnapshot(G)}else this._ensureDisposedModelsHeapSize(K-U),this._undoRedoService.setElementsValidFlag(F.uri,!1,G=>(0,s.isEditStackElement)(G)&&G.matchesResource(F.uri)),this._insertDisposedModel(new y(F.uri,A.model.getInitialUndoRedoSnapshot(),Date.now(),B,U,m(F),F.getVersionId(),F.getAlternativeVersionId()));else if(!B){const G=A.model.getInitialUndoRedoSnapshot();G!==null&&this._undoRedoService.restoreSnapshot(G)}delete this._models[E],A.dispose(),delete this._modelCreationOptionsByLanguageAndResource[F.getLanguageIdentifier().language+F.uri],this._onModelRemoved.fire(F)}_onDidChangeLanguage(F,E){const A=E.oldLanguage,B=F.getLanguageIdentifier().language,z=this.getCreationOptions(A,F.uri,F.isForSimpleWidget),U=this.getCreationOptions(B,F.uri,F.isForSimpleWidget);st._setModelOptionsForModel(F,U,z),this._onModelModeChanged.fire({model:F,oldModeId:A})}};N.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,N=Me([_e(0,u.IConfigurationService),_e(1,_.ITextResourcePropertiesService),_e(2,c.IThemeService),_e(3,d.ILogService),_e(4,r.IUndoRedoService)],N),e.ModelServiceImpl=N,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function M(W,F,E){var A;const B=(A=E.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:W.getLanguageIdentifier().language,resource:W.uri}))===null||A===void 0?void 0:A.enabled;return typeof B=="boolean"?B:F.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=M;class D extends I.Disposable{constructor(F,E,A,B){super();this._watchers=Object.create(null),this._semanticStyling=B;const z=G=>{this._watchers[G.uri.toString()]=new O(G,E,this._semanticStyling)},U=(G,J)=>{J.dispose(),delete this._watchers[G.uri.toString()]},K=()=>{for(let G of F.getModels()){const J=this._watchers[G.uri.toString()];M(G,E,A)?J||z(G):J&&U(G,J)}};this._register(F.onModelAdded(G=>{M(G,E,A)&&z(G)})),this._register(F.onModelRemoved(G=>{const J=this._watchers[G.uri.toString()];J&&U(G,J)})),this._register(A.onDidChangeConfiguration(G=>{G.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&K()})),this._register(E.onDidColorThemeChange(K))}}class R extends I.Disposable{constructor(F,E){super();this._themeService=F,this._logService=E,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(F){return this._caches.has(F)||this._caches.set(F,new o.SemanticTokensProviderStyling(F.getLegend(),this._themeService,this._logService)),this._caches.get(F)}}class P{constructor(F,E,A){this._provider=F,this.resultId=E,this.data=A}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class O extends I.Disposable{constructor(F,E,A){super();this._isDisposed=!1,this._model=F,this._semanticStyling=A,this._fetchDocumentSemanticTokens=this._register(new a.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),O.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const B=()=>{(0,I.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const z of C.DocumentSemanticTokensProviderRegistry.all(F))typeof z.onDidChange=="function"&&this._documentProvidersChangeListeners.push(z.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};B(),this._register(C.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{B(),this._fetchDocumentSemanticTokens.schedule()})),this._register(E.onDidColorThemeChange(z=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(!this._currentDocumentRequestCancellationTokenSource){const F=new l.CancellationTokenSource,E=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,A=(0,h.getDocumentSemanticTokens)(this._model,E,F.token);if(!A){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const{provider:B,request:z}=A;this._currentDocumentRequestCancellationTokenSource=F;const U=[],K=this._model.onDidChangeContent(J=>{U.push(J)}),G=this._semanticStyling.get(B);z.then(J=>{this._currentDocumentRequestCancellationTokenSource=null,K.dispose(),this._setDocumentSemanticTokens(B,J||null,G,U)},J=>{J&&(w.isPromiseCanceledError(J)||typeof J.message=="string"&&J.message.indexOf("busy")!==-1)||w.onUnexpectedError(J),this._currentDocumentRequestCancellationTokenSource=null,K.dispose(),U.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}}static _copy(F,E,A,B,z){for(let U=0;U<z;U++)A[B+U]=F[E+U]}_setDocumentSemanticTokens(F,E,A,B){const z=this._currentDocumentResponse,U=()=>{B.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){F&&E&&F.releaseDocumentSemanticTokens(E.resultId);return}if(!F||!A){this._model.setSemanticTokens(null,!1);return}if(!E){this._model.setSemanticTokens(null,!0),U();return}if((0,h.isSemanticTokensEdits)(E)){if(!z){this._model.setSemanticTokens(null,!0);return}if(E.edits.length===0)E={resultId:E.resultId,data:z.data};else{let K=0;for(const se of E.edits)K+=(se.data?se.data.length:0)-se.deleteCount;const G=z.data,J=new Uint32Array(G.length+K);let Q=G.length,ae=J.length;for(let se=E.edits.length-1;se>=0;se--){const Z=E.edits[se],T=Q-(Z.start+Z.deleteCount);T>0&&(O._copy(G,Q-T,J,ae-T,T),ae-=T),Z.data&&(O._copy(Z.data,0,J,ae-Z.data.length,Z.data.length),ae-=Z.data.length),Q=Z.start}Q>0&&O._copy(G,0,J,0,Q),E={resultId:E.resultId,data:J}}}if((0,h.isSemanticTokens)(E)){this._currentDocumentResponse=new P(F,E.resultId,E.data);const K=(0,o.toMultilineTokens2)(E,A,this._model.getLanguageIdentifier());if(B.length>0)for(const G of B)for(const J of K)for(const Q of G.changes)J.applyEdit(Q.range,Q.text);this._model.setSemanticTokens(K,!0)}else this._model.setSemanticTokens(null,!0);U()}}e.ModelSemanticColoring=O,O.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300}),define(te[665],ie([0,1,7,29,6,2,45,46,138,3,31,66,571,371,9,102,145,22,12,113,107,238,148,35,373]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class g{constructor(M,D){this._editor=M,this._model=D,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new w.DisposableStore,this._callOnModelChange=new w.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const M=this._editor.getModel();if(!!M){for(let D of this._model.references)if(D.uri.toString()===M.uri.toString()){this._addDecorations(D.parent);return}}}_addDecorations(M){if(!!this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const D=[],R=[];for(let O=0,W=M.children.length;O<W;O++){let F=M.children[O];this._decorationIgnoreSet.has(F.id)||F.uri.toString()===this._editor.getModel().uri.toString()&&(D.push({range:F.range,options:g.DecorationOptions}),R.push(O))}const P=this._editor.deltaDecorations([],D);for(let O=0;O<P.length;O++)this._decorations.set(P[O],M.children[R[O]])}}_onDecorationChanged(){const M=[],D=this._editor.getModel();if(!!D){for(let[R,P]of this._decorations){const O=D.getDecorationRange(R);if(!!O){let W=!1;if(!i.Range.equalsRange(O,P.range)){if(i.Range.spansMultipleLines(O))W=!0;else{const F=P.range.endColumn-P.range.startColumn,E=O.endColumn-O.startColumn;F!==E&&(W=!0)}W?(this._decorationIgnoreSet.add(P.id),M.push(R)):P.range=O}}}for(let R=0,P=M.length;R<P;R++)this._decorations.delete(M[R]);this._editor.deltaDecorations(M,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}g.DecorationOptions=_.ModelDecorationOptions.register({stickiness:1,className:"reference-decoration"});class b{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(M){let D,R;try{const P=JSON.parse(M);D=P.ratio,R=P.heightInLines}catch(P){}return{ratio:D||.7,heightInLines:R||18}}}e.LayoutData=b;class y extends r.WorkbenchAsyncDataTree{}let L=class extends t.PeekViewWidget{constructor(M,D,R,P,O,W,F,E,A,B){super(M,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},W);this._defaultTreeKeyboardSupport=D,this.layoutData=R,this._textModelResolverService=O,this._instantiationService=W,this._peekViewService=F,this._uriLabel=E,this._undoRedoService=A,this._keybindingService=B,this._disposeOnNewModel=new w.DisposableStore,this._callOnDispose=new w.DisposableStore,this._onDidSelectReference=new k.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new v.Dimension(0,0),this._applyTheme(P.getColorTheme()),this._callOnDispose.add(P.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(M,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,w.dispose)(this._preview),(0,w.dispose)(this._previewNotAvailableMessage),(0,w.dispose)(this._tree),(0,w.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(M){const D=M.getColor(t.peekViewBorder)||I.Color.transparent;this.style({arrowColor:D,frameColor:D,headerBackgroundColor:M.getColor(t.peekViewTitleBackground)||I.Color.transparent,primaryHeadingColor:M.getColor(t.peekViewTitleForeground),secondaryHeadingColor:M.getColor(t.peekViewTitleInfoForeground)})}show(M){this.editor.revealRangeInCenterIfOutsideViewport(M,0),super.show(M,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(M){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:M.ctrlKey||M.metaKey||M.altKey?"side":"open",source:"title"})}_fillBody(M){this.setCssClass("reference-zone-widget"),this._messageContainer=v.append(M,v.$("div.messages")),v.hide(this._messageContainer),this._splitView=new h.SplitView(M,{orientation:1}),this._previewContainer=v.append(M,v.$("div.preview.inline"));let D={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(C.EmbeddedCodeEditorWidget,this._previewContainer,D,this.editor),v.hide(this._previewContainer),this._previewNotAvailableMessage=new _.TextModel(l.localize(0,null),_.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=v.append(M,v.$("div.ref-tree.inline"));const R={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new a.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(a.StringRepresentationProvider),identityProvider:new a.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:t.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(v.addStandardDisposableListener(this._treeContainer,"keydown",O=>{O.equals(9)&&(this._keybindingService.dispatchEvent(O,O.target),O.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(y,"ReferencesWidget",this._treeContainer,new a.Delegate,[this._instantiationService.createInstance(a.FileReferencesRenderer),this._instantiationService.createInstance(a.OneReferenceRenderer)],this._instantiationService.createInstance(a.DataSource),R),this._splitView.addView({onDidChange:k.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:O=>{this._preview.layout({height:this._dim.height,width:O})}},h.Sizing.Distribute),this._splitView.addView({onDidChange:k.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:O=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${O}px`,this._tree.layout(this._dim.height,O)}},h.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let P=(O,W)=>{O instanceof o.OneReference&&(W==="show"&&this._revealReference(O,!1),this._onDidSelectReference.fire({element:O,kind:W,source:"tree"}))};this._tree.onDidOpen(O=>{O.sideBySide?P(O.element,"side"):O.editorOptions.pinned?P(O.element,"goto"):P(O.element,"show")}),v.hide(this._treeContainer)}_onWidth(M){this._dim&&this._doLayoutBody(this._dim.height,M)}_doLayoutBody(M,D){super._doLayoutBody(M,D),this._dim=new v.Dimension(D,M),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(D),this._splitView.resizeView(0,D*this.layoutData.ratio)}setSelection(M){return this._revealReference(M,!0).then(()=>{!this._model||(this._tree.setSelection([M]),this._tree.setFocus([M]))})}setModel(M){return this._disposeOnNewModel.clear(),this._model=M,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=l.localize(1,null),v.show(this._messageContainer),Promise.resolve(void 0)):(v.hide(this._messageContainer),this._decorationsManager=new g(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(M=>this._tree.rerender(M))),this._disposeOnNewModel.add(this._preview.onMouseDown(M=>{const{event:D,target:R}=M;if(D.detail===2){const P=this._getFocusedReference();!P||this._onDidSelectReference.fire({element:{uri:P.uri,range:R.range},kind:D.ctrlKey||D.metaKey||D.altKey?"side":"open",source:"editor"})}})),this.container.classList.add("results-loaded"),v.show(this._treeContainer),v.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[M]=this._tree.getFocus();if(M instanceof o.OneReference)return M;if(M instanceof o.FileReferences&&M.children.length>0)return M.children[0]}revealReference(M){return De(this,void 0,void 0,function*(){yield this._revealReference(M,!1),this._onDidSelectReference.fire({element:M,kind:"goto",source:"tree"})})}_revealReference(M,D){return De(this,void 0,void 0,function*(){if(this._revealedReference!==M){this._revealedReference=M,M.uri.scheme!==S.Schemas.inMemory?this.setTitle((0,p.basenameOrAuthority)(M.uri),this._uriLabel.getUriLabel((0,p.dirname)(M.uri))):this.setTitle(l.localize(2,null));const R=this._textModelResolverService.createModelReference(M.uri);this._tree.getInput()===M.parent?this._tree.reveal(M):(D&&this._tree.reveal(M.parent),yield this._tree.expand(M.parent),this._tree.reveal(M));const P=yield R;if(!this._model){P.dispose();return}(0,w.dispose)(this._previewModelReference);const O=P.object;if(O){const W=this._preview.getModel()===O.textEditorModel?0:1,F=i.Range.lift(M.range).collapseToStart();this._previewModelReference=P,this._preview.setModel(O.textEditorModel),this._preview.setSelection(F),this._preview.revealRangeInCenter(F,W)}else this._preview.setModel(this._previewNotAvailableMessage),P.dispose()}})}};L=Me([_e(3,s.IThemeService),_e(4,u.ITextModelService),_e(5,c.IInstantiationService),_e(6,t.IPeekViewService),_e(7,d.ILabelService),_e(8,f.IUndoRedoService),_e(9,m.IKeybindingService)],L),e.ReferenceWidget=L,(0,s.registerThemingParticipant)((N,M)=>{const D=N.getColor(t.peekViewResultsMatchHighlight);D&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${D}; }`);const R=N.getColor(t.peekViewEditorMatchHighlight);R&&M.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${R}; }`);const P=N.getColor(t.peekViewEditorMatchHighlightBorder);P&&M.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${P}; box-sizing: border-box; }`);const O=N.getColor(n.activeContrastBorder);O&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${O}; box-sizing: border-box; }`);const W=N.getColor(t.peekViewResultsBackground);W&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${W}; }`);const F=N.getColor(t.peekViewResultsMatchForeground);F&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${F}; }`);const E=N.getColor(t.peekViewResultsFileForeground);E&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${E}; }`);const A=N.getColor(t.peekViewResultsSelectionBackground);A&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${A}; }`);const B=N.getColor(t.peekViewResultsSelectionForeground);B&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${B} !important; }`);const z=N.getColor(t.peekViewEditorBackground);z&&M.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${z};}`);const U=N.getColor(t.peekViewEditorGutterBackground);U&&M.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${U};}`)})}),define(te[267],ie([0,1,369,11,2,28,9,16,44,76,107,665,3,14,33,15,113,145,86,41,26]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new p.RawContextKey("referenceSearchVisible",!1,v.localize(0,null));let h=class yt{constructor(g,b,y,L,N,M,D,R){this._defaultTreeKeyboardSupport=g,this._editor=b,this._editorService=L,this._notificationService=N,this._instantiationService=M,this._storageService=D,this._configurationService=R,this._disposables=new k.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(y)}static get(g){return g.getContribution(yt.ID)}dispose(){var g,b;this._referenceSearchVisible.reset(),this._disposables.dispose(),(g=this._widget)===null||g===void 0||g.dispose(),(b=this._model)===null||b===void 0||b.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(g,b,y){let L;if(this._widget&&(L=this._widget.position),this.closeWidget(),!(!!L&&g.containsPosition(L))){this._peekMode=y,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const N="peekViewLayout",M=u.LayoutData.fromJSON(this._storageService.get(N,0,"{}"));this._widget=this._instantiationService.createInstance(u.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,M),this._widget.setTitle(v.localize(1,null)),this._widget.show(g),this._disposables.add(this._widget.onDidClose(()=>{b.cancel(),this._widget&&(this._storageService.store(N,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(R=>{let{element:P,kind:O}=R;if(!!P)switch(O){case"open":(R.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(P,!1,!1);break;case"side":this.openReference(P,!0,!1);break;case"goto":y?this._gotoReference(P):this.openReference(P,!1,!0);break}}));const D=++this._requestIdPool;b.then(R=>{var P;if(D!==this._requestIdPool||!this._widget){R.dispose();return}return(P=this._model)===null||P===void 0||P.dispose(),this._model=R,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(v.localize(2,null,this._model.title,this._model.references.length));let O=this._editor.getModel().uri,W=new l.Position(g.startLineNumber,g.startColumn),F=this._model.nearestReference(O,W);if(F)return this._widget.setSelection(F).then(()=>{this._widget&&this._editor.getOption(73)==="editor"&&this._widget.focusOnPreviewEditor()})}})},R=>{this._notificationService.error(R)})}}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(g){return De(this,void 0,void 0,function*(){if(!(!this._editor.hasModel()||!this._model||!this._widget)){const b=this._widget.position;if(!!b){const y=this._model.nearestReference(this._editor.getModel().uri,b);if(!!y){const L=this._model.nextOrPreviousReference(y,g),N=this._editor.hasTextFocus(),M=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(L),yield this._gotoReference(L),N?this._editor.focus():this._widget&&M&&this._widget.focusOnPreviewEditor()}}}})}revealReference(g){return De(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(g))})}closeWidget(g=!0){var b,y;(b=this._widget)===null||b===void 0||b.dispose(),(y=this._model)===null||y===void 0||y.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,g&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(g){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const b=a.Range.lift(g.range).collapseToStart();return this._editorService.openCodeEditor({resource:g.uri,options:{selection:b}},this._editor).then(y=>{var L;if(this._ignoreModelChangeEvent=!1,!y||!this._widget){this.closeWidget();return}if(this._editor===y)this._widget.show(b),this._widget.focusOnReferenceTree();else{const N=yt.get(y),M=this._model.clone();this.closeWidget(),y.focus(),N.toggleWidget(b,(0,d.createCancelablePromise)(D=>Promise.resolve(M)),(L=this._peekMode)!==null&&L!==void 0?L:!1)}},y=>{this._ignoreModelChangeEvent=!1,(0,I.onUnexpectedError)(y)})}openReference(g,b,y){b||this.closeWidget();const{uri:L,range:N}=g;this._editorService.openCodeEditor({resource:L,options:{selection:N,pinned:y}},this._editor,b)}};h.ID="editor.contrib.referencesController",h=Me([_e(2,p.IContextKeyService),_e(3,w.ICodeEditorService),_e(4,c.INotificationService),_e(5,S.IInstantiationService),_e(6,i.IStorageService),_e(7,C.IConfigurationService)],h),e.ReferencesController=h;function f(m,g){const b=(0,r.getOuterEditor)(m);if(!!b){let y=h.get(b);y&&g(y)}}s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,t.KeyChord)(2048|41,60),when:p.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(m){f(m,g=>{g.changeFocusBetweenPreviewAndReferences()})}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:p.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(m){f(m,g=>{g.goToNextOrPreviousReference(!0)})}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:p.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(m){f(m,g=>{g.goToNextOrPreviousReference(!1)})}}),o.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),o.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),o.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),o.CommandsRegistry.registerCommand("closeReferenceSearch",m=>f(m,g=>g.closeWidget())),s.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:p.ContextKeyExpr.and(r.PeekContext.inPeekEditor,p.ContextKeyExpr.not("config.editor.stablePeek"))}),s.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:p.ContextKeyExpr.and(e.ctxReferenceSearchVisible,p.ContextKeyExpr.not("config.editor.stablePeek"))}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:p.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.WorkbenchListFocusContextKey),handler(m){var g;const y=(g=m.get(n.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(y)&&y[0]instanceof _.OneReference&&f(m,L=>L.revealReference(y[0]))}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:p.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.WorkbenchListFocusContextKey),handler(m){var g;const y=(g=m.get(n.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(y)&&y[0]instanceof _.OneReference&&f(m,L=>L.openReference(y[0],!0,!0))}}),o.CommandsRegistry.registerCommand("openReference",m=>{var g;const y=(g=m.get(n.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(y)&&y[0]instanceof _.OneReference&&f(m,L=>L.openReference(y[0],!1,!0))})}),define(te[268],ie([0,1,40,15,41,17,105,13,28,14,3,25,18,141,113,267,107,367,34,16,33,57,252,26,68,607,36,23,9,20,138]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m,g,b,y,L,N,M,D){"use strict";var R,P,O,W,F,E,A,B;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=void 0,s.MenuRegistry.appendMenuItem(s.MenuId.EditorContext,{submenu:s.MenuId.EditorContextPeek,title:n.localize(0,null),group:"navigation",order:100});class z extends p.EditorAction{constructor(T,x){super(x);this._configuration=T}run(T,x){if(!x.hasModel())return Promise.resolve(void 0);const H=T.get(o.INotificationService),V=T.get(C.ICodeEditorService),q=T.get(h.IEditorProgressService),ee=T.get(b.ISymbolNavigationService),oe=x.getModel(),le=x.getPosition(),Y=new g.EditorStateCancellationTokenSource(x,1|4),j=(0,I.raceCancellation)(this._getLocationModel(oe,le,Y.token),Y.token).then(ne=>De(this,void 0,void 0,function*(){if(!(!ne||Y.token.isCancellationRequested)){(0,v.alert)(ne.ariaMessage);let X;if(ne.referenceAt(oe.uri,le)){const he=this._getAlternativeCommand(x);he!==this.id&&(X=x.getAction(he))}const ue=ne.references.length;if(ue===0){if(!this._configuration.muteMessage){const he=oe.getWordAtPosition(le);l.MessageController.get(x).showMessage(this._getNoResultFoundMessage(he),le)}}else if(ue===1&&X)X.run();else return this._onResult(V,ee,x,ne)}}),ne=>{H.error(ne)}).finally(()=>{Y.dispose()});return q.showWhile(j,250),j}_onResult(T,x,H,V){return De(this,void 0,void 0,function*(){const q=this._getGoToPreference(H);if(!(H instanceof D.EmbeddedCodeEditorWidget)&&(this._configuration.openInPeek||q==="peek"&&V.references.length>1))this._openInPeek(H,V);else{const ee=V.firstReference(),oe=V.references.length>1&&q==="gotoAndPeek",le=yield this._openReference(H,T,ee,this._configuration.openToSide,!oe);oe&&le?this._openInPeek(le,V):V.dispose(),q==="goto"&&x.put(ee)}})}_openReference(T,x,H,V,q){return De(this,void 0,void 0,function*(){let ee;if((0,a.isLocationLink)(H)&&(ee=H.targetSelectionRange),ee||(ee=H.range),!!ee){const oe=yield x.openCodeEditor({resource:H.uri,options:{selection:_.Range.collapseToStart(ee),selectionRevealType:3}},T,V);if(!!oe){if(q){const le=oe.getModel(),Y=oe.deltaDecorations([],[{range:ee,options:{className:"symbolHighlight"}}]);setTimeout(()=>{oe.getModel()===le&&oe.deltaDecorations(Y,[])},350)}return oe}}})}_openInPeek(T,x){let H=d.ReferencesController.get(T);H&&T.hasModel()?H.toggleWidget(T.getSelection(),(0,I.createCancelablePromise)(V=>Promise.resolve(x)),this._configuration.openInPeek):x.dispose()}}class U extends z{_getLocationModel(T,x,H){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,f.getDefinitionsAtPosition)(T,x,H),n.localize(1,null))})}_getNoResultFoundMessage(T){return T&&T.word?n.localize(2,null,T.word):n.localize(3,null)}_getAlternativeCommand(T){return T.getOption(47).alternativeDefinitionCommand}_getGoToPreference(T){return T.getOption(47).multipleDefinitions}}e.DefinitionAction=U;const K=w.isWeb&&!y.isStandalone?2048|70:70;(0,p.registerEditorAction)((R=class Lt extends U{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Lt.id,label:n.localize(4,null),alias:"Go to Definition",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasDefinitionProvider,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:K,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:s.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:2,title:n.localize(5,null)}});m.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",Lt.id)}},R.id="editor.action.revealDefinition",R)),(0,p.registerEditorAction)((P=class Et extends U{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Et.id,label:n.localize(6,null),alias:"Open Definition to the Side",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasDefinitionProvider,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,K),weight:100}});m.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",Et.id)}},P.id="editor.action.revealDefinitionAside",P)),(0,p.registerEditorAction)((O=class Dt extends U{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Dt.id,label:n.localize(7,null),alias:"Peek Definition",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasDefinitionProvider,c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:s.MenuId.EditorContextPeek,group:"peek",order:2}});m.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",Dt.id)}},O.id="editor.action.peekDefinition",O));class G extends z{_getLocationModel(T,x,H){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,f.getDeclarationsAtPosition)(T,x,H),n.localize(8,null))})}_getNoResultFoundMessage(T){return T&&T.word?n.localize(9,null,T.word):n.localize(10,null)}_getAlternativeCommand(T){return T.getOption(47).alternativeDeclarationCommand}_getGoToPreference(T){return T.getOption(47).multipleDeclarations}}(0,p.registerEditorAction)((W=class Yt extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Yt.id,label:n.localize(11,null),alias:"Go to Declaration",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasDeclarationProvider,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:s.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:n.localize(12,null)}})}_getNoResultFoundMessage(T){return T&&T.word?n.localize(13,null,T.word):n.localize(14,null)}},W.id="editor.action.revealDeclaration",W)),(0,p.registerEditorAction)(class extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:n.localize(15,null),alias:"Peek Declaration",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasDeclarationProvider,c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:s.MenuId.EditorContextPeek,group:"peek",order:3}})}});class J extends z{_getLocationModel(T,x,H){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,f.getTypeDefinitionsAtPosition)(T,x,H),n.localize(16,null))})}_getNoResultFoundMessage(T){return T&&T.word?n.localize(17,null,T.word):n.localize(18,null)}_getAlternativeCommand(T){return T.getOption(47).alternativeTypeDefinitionCommand}_getGoToPreference(T){return T.getOption(47).multipleTypeDefinitions}}(0,p.registerEditorAction)((F=class Zt extends J{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Zt.ID,label:n.localize(19,null),alias:"Go to Type Definition",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasTypeDefinitionProvider,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:s.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:n.localize(20,null)}})}},F.ID="editor.action.goToTypeDefinition",F)),(0,p.registerEditorAction)((E=class Xt extends J{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Xt.ID,label:n.localize(21,null),alias:"Peek Type Definition",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasTypeDefinitionProvider,c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:s.MenuId.EditorContextPeek,group:"peek",order:4}})}},E.ID="editor.action.peekTypeDefinition",E));class Q extends z{_getLocationModel(T,x,H){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,f.getImplementationsAtPosition)(T,x,H),n.localize(22,null))})}_getNoResultFoundMessage(T){return T&&T.word?n.localize(23,null,T.word):n.localize(24,null)}_getAlternativeCommand(T){return T.getOption(47).alternativeImplementationCommand}_getGoToPreference(T){return T.getOption(47).multipleImplementations}}(0,p.registerEditorAction)((A=class Qt extends Q{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Qt.ID,label:n.localize(25,null),alias:"Go to Implementations",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasImplementationProvider,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:4,title:n.localize(26,null)},contextMenuOpts:{group:"navigation",order:1.45}})}},A.ID="editor.action.goToImplementation",A)),(0,p.registerEditorAction)((B=class Jt extends Q{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Jt.ID,label:n.localize(27,null),alias:"Peek Implementations",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasImplementationProvider,c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:s.MenuId.EditorContextPeek,group:"peek",order:5}})}},B.ID="editor.action.peekImplementation",B));class ae extends z{_getNoResultFoundMessage(T){return T?n.localize(28,null,T.word):n.localize(29,null)}_getAlternativeCommand(T){return T.getOption(47).alternativeReferenceCommand}_getGoToPreference(T){return T.getOption(47).multipleReferences}}(0,p.registerEditorAction)(class extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:n.localize(30,null),alias:"Go to References",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasReferenceProvider,c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:s.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:5,title:n.localize(31,null)}})}_getLocationModel(T,x,H){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,f.getReferencesAtPosition)(T,x,!0,H),n.localize(32,null))})}}),(0,p.registerEditorAction)(class extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:n.localize(33,null),alias:"Peek References",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasReferenceProvider,c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:s.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(T,x,H){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,f.getReferencesAtPosition)(T,x,!1,H),n.localize(34,null))})}});class se extends z{constructor(T,x,H){super(T,{id:"editor.action.goToLocation",label:n.localize(35,null),alias:"Go To Any Symbol",precondition:t.ContextKeyExpr.and(c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=x,this._gotoMultipleBehaviour=H}_getLocationModel(T,x,H){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(this._references,n.localize(36,null))})}_getNoResultFoundMessage(T){return T&&n.localize(37,null,T.word)||""}_getGoToPreference(T){var x;return(x=this._gotoMultipleBehaviour)!==null&&x!==void 0?x:T.getOption(47).multipleReferences}_getAlternativeCommand(){return""}}m.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:L.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(Z,T,x,H,V,q,ee)=>De(void 0,void 0,void 0,function*(){(0,M.assertType)(L.URI.isUri(T)),(0,M.assertType)(i.Position.isIPosition(x)),(0,M.assertType)(Array.isArray(H)),(0,M.assertType)(typeof V=="undefined"||typeof V=="string"),(0,M.assertType)(typeof ee=="undefined"||typeof ee=="boolean");const oe=Z.get(C.ICodeEditorService),le=yield oe.openCodeEditor({resource:T},oe.getFocusedCodeEditor());if((0,S.isCodeEditor)(le))return le.setPosition(x),le.revealPositionInCenterIfOutsideViewport(x,0),le.invokeWithinContext(Y=>{const j=new class extends se{_getNoResultFoundMessage(ne){return q||super._getNoResultFoundMessage(ne)}}({muteMessage:!Boolean(q),openInPeek:Boolean(ee),openToSide:!1},H,V);Y.get(N.IInstantiationService).invokeFunction(j.run.bind(j),le)})})}),m.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:L.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(Z,T,x,H,V)=>De(void 0,void 0,void 0,function*(){Z.get(m.ICommandService).executeCommand("editor.action.goToLocations",T,x,H,V,void 0,!0)})}),m.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(Z,T,x)=>{(0,M.assertType)(L.URI.isUri(T)),(0,M.assertType)(i.Position.isIPosition(x));const H=Z.get(C.ICodeEditorService);return H.openCodeEditor({resource:T},H.getFocusedCodeEditor()).then(V=>{if(!(!(0,S.isCodeEditor)(V)||!V.hasModel())){const q=d.ReferencesController.get(V);if(!!q){const ee=(0,I.createCancelablePromise)(le=>(0,f.getReferencesAtPosition)(V.getModel(),i.Position.lift(x),!1,le).then(Y=>new r.ReferencesModel(Y,n.localize(38,null)))),oe=new _.Range(x.lineNumber,x.column,x.lineNumber,x.column);return Promise.resolve(q.toggleWidget(oe,ee,!1))}}})}}),m.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(te[269],ie([0,1,368,15,11,78,58,3,18,13,252,2,66,12,22,68,268,274,14,20,113,16,345]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let f=class rt{constructor(g,b,y){this.textModelResolverService=b,this.modeService=y,this.toUnhook=new u.DisposableStore,this.toUnhookForKeyboard=new u.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=g;let L=new n.ClickLinkGesture(g);this.toUnhook.add(L),this.toUnhook.add(L.onMouseMoveOrRelevantKeyDown(([N,M])=>{this.startFindDefinitionFromMouse(N,(0,t.withNullAsUndefined)(M))})),this.toUnhook.add(L.onExecute(N=>{this.isEnabled(N)&&this.gotoDefinition(N.target.position,N.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},M=>{this.removeLinkDecorations(),(0,k.onUnexpectedError)(M)})})),this.toUnhook.add(L.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(g){return g.getContribution(rt.ID)}startFindDefinitionFromCursor(g){return this.startFindDefinition(g).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(b=>{b&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(g,b){if(!(g.target.type===9&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(g,b)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const y=g.target.position;this.startFindDefinition(y)}}startFindDefinition(g){var b;this.toUnhookForKeyboard.clear();const y=g?(b=this.editor.getModel())===null||b===void 0?void 0:b.getWordAtPosition(g):null;if(!y)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===y.startColumn&&this.currentWordAtPosition.endColumn===y.endColumn&&this.currentWordAtPosition.word===y.word)return Promise.resolve(0);this.currentWordAtPosition=y;let L=new d.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,I.createCancelablePromise)(N=>this.findDefinition(g,N)),this.previousPromise.then(N=>{if(!N||!N.length||!L.validate(this.editor)){this.removeLinkDecorations();return}if(N.length>1)this.addDecoration(new p.Range(g.lineNumber,y.startColumn,g.lineNumber,y.endColumn),new w.MarkdownString().appendText(v.localize(0,null,N.length)));else{let M=N[0];if(!M.uri)return;this.textModelResolverService.createModelReference(M.uri).then(D=>{if(!D.object||!D.object.textEditorModel){D.dispose();return}const{object:{textEditorModel:R}}=D,{startLineNumber:P}=M.range;if(P<1||P>R.getLineCount()){D.dispose();return}const O=this.getPreviewValue(R,P,M);let W;M.originSelectionRange?W=p.Range.lift(M.originSelectionRange):W=new p.Range(g.lineNumber,y.startColumn,g.lineNumber,y.endColumn);const F=this.modeService.getModeIdByFilepathOrFirstLine(R.uri);this.addDecoration(W,new w.MarkdownString().appendCodeblock(F||"",O)),D.dispose()})}}).then(void 0,k.onUnexpectedError)}getPreviewValue(g,b,y){let L=y.targetSelectionRange?y.range:this.getPreviewRangeBasedOnBrackets(g,b);return L.endLineNumber-L.startLineNumber>=rt.MAX_SOURCE_PREVIEW_LINES&&(L=this.getPreviewRangeBasedOnIndentation(g,b)),this.stripIndentationFromPreviewRange(g,b,L)}stripIndentationFromPreviewRange(g,b,y){let N=g.getLineFirstNonWhitespaceColumn(b);for(let D=b+1;D<y.endLineNumber;D++){const R=g.getLineFirstNonWhitespaceColumn(D);N=Math.min(N,R)}return g.getValueInRange(y).replace(new RegExp(`^\\s{${N-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(g,b){const y=g.getLineFirstNonWhitespaceColumn(b),L=Math.min(g.getLineCount(),b+rt.MAX_SOURCE_PREVIEW_LINES);let N=b+1;for(;N<L;N++){let M=g.getLineFirstNonWhitespaceColumn(N);if(y===M)break}return new p.Range(b,1,N+1,1)}getPreviewRangeBasedOnBrackets(g,b){const y=Math.min(g.getLineCount(),b+rt.MAX_SOURCE_PREVIEW_LINES),L=[];let N=!0,M=g.findNextBracket(new s.Position(b,1));for(;M!==null;){if(L.length===0)L.push(M);else{const O=L[L.length-1];if(O.open[0]===M.open[0]&&O.isOpen&&!M.isOpen?L.pop():L.push(M),L.length===0)if(N)N=!1;else return new p.Range(b,1,M.range.endLineNumber+1,1)}const D=g.getLineMaxColumn(b);let R=M.range.endLineNumber,P=M.range.endColumn;if(D===M.range.endColumn&&(R++,P=1),R>y)return new p.Range(b,1,y+1,1);M=g.findNextBracket(new s.Position(R,P))}return new p.Range(b,1,y+1,1)}addDecoration(g,b){const y={range:g,options:{inlineClassName:"goto-definition-link",hoverMessage:b}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[y])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(g,b){return this.editor.hasModel()&&g.isNoneOrSingleMouseDown&&g.target.type===6&&(g.hasTriggerModifier||(b?b.keyCodeIsTriggerKey:!1))&&C.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(g,b){const y=this.editor.getModel();return y?(0,_.getDefinitionsAtPosition)(y,g,b):Promise.resolve(null)}gotoDefinition(g,b){return this.editor.setPosition(g),this.editor.invokeWithinContext(y=>{const L=!b&&this.editor.getOption(74)&&!this.isInPeekEditor(y);return new r.DefinitionAction({openToSide:b,openInPeek:L,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(y,this.editor)})}isInPeekEditor(g){const b=g.get(h.IContextKeyService);return o.PeekContext.inPeekEditor.getValue(b)}dispose(){this.toUnhook.dispose()}};f.ID="editor.contrib.gotodefinitionatposition",f.MAX_SOURCE_PREVIEW_LINES=8,f=Me([_e(1,a.ITextModelService),_e(2,S.IModeService)],f),e.GotoDefinitionAtPositionEditorContribution=f,(0,i.registerEditorContribution)(f.ID,f),(0,l.registerThemingParticipant)((m,g)=>{const b=m.getColor(c.editorActiveLinkForeground);b&&g.addRule(`.monaco-editor .goto-definition-link { color: ${b} !important; }`)})}),define(te[270],ie([0,1,375,41,2,13,3,25,58,655,506,59,22,12,269,16,9]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let n=class ei{constructor(h,f,m,g,b,y){this._editor=h,this._instantiationService=f,this._openerService=m,this._modeService=g,this._themeService=b,this._toUnhook=new k.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(L=>{L.hasChanged(50)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=p.EditorContextKeys.hoverVisible.bindTo(y)}static get(h){return h.getContribution(ei.ID)}_hookEvents(){const h=()=>this._hideWidgets(),f=this._editor.getOption(50);this._isHoverEnabled=f.enabled,this._isHoverSticky=f.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(m=>this._onEditorMouseDown(m))),this._toUnhook.add(this._editor.onMouseUp(m=>this._onEditorMouseUp(m))),this._toUnhook.add(this._editor.onMouseMove(m=>this._onEditorMouseMove(m))),this._toUnhook.add(this._editor.onKeyDown(m=>this._onKeyDown(m))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(m=>this._onEditorMouseMove(m))),this._toUnhook.add(this._editor.onKeyDown(m=>this._onKeyDown(m)))),this._toUnhook.add(this._editor.onMouseLeave(h)),this._toUnhook.add(this._editor.onDidChangeModel(h)),this._toUnhook.add(this._editor.onDidScrollChange(m=>this._onEditorScrollChanged(m)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var h,f;(h=this._contentWidget)===null||h===void 0||h.onModelDecorationsChanged(),(f=this._glyphWidget)===null||f===void 0||f.onModelDecorationsChanged()}_onEditorScrollChanged(h){(h.scrollTopChanged||h.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(h){this._isMouseDown=!0;const f=h.target.type;if(f===9&&h.target.detail===i.ModesContentHoverWidget.ID){this._hoverClicked=!0;return}f===12&&h.target.detail===_.ModesGlyphHoverWidget.ID||(f!==12&&h.target.detail!==_.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(h){this._isMouseDown=!1}_onEditorMouseMove(h){var f,m,g,b,y,L;let N=h.target.type;if(!(this._isMouseDown&&this._hoverClicked)&&!(this._isHoverSticky&&N===9&&h.target.detail===i.ModesContentHoverWidget.ID)&&!(this._isHoverSticky&&!((m=(f=h.event.browserEvent.view)===null||f===void 0?void 0:f.getSelection())===null||m===void 0?void 0:m.isCollapsed))&&!(!this._isHoverSticky&&N===9&&h.target.detail===i.ModesContentHoverWidget.ID&&((g=this._contentWidget)===null||g===void 0?void 0:g.isColorPickerVisible()))&&!(this._isHoverSticky&&N===12&&h.target.detail===_.ModesGlyphHoverWidget.ID)){if(N===7){const M=this._editor.getOption(40).typicalHalfwidthCharacterWidth/2,D=h.target.detail;D&&!D.isAfterLines&&typeof D.horizontalDistanceToText=="number"&&D.horizontalDistanceToText<M&&(N=6)}if(N===6){if((b=this._glyphWidget)===null||b===void 0||b.hide(),this._isHoverEnabled&&h.target.range){const D=[...((y=h.target.element)===null||y===void 0?void 0:y.classList.values())||[]].find(R=>R.startsWith("ced-colorBox"))&&h.target.range.endColumn-h.target.range.startColumn==1?new S.Range(h.target.range.startLineNumber,h.target.range.startColumn+1,h.target.range.endLineNumber,h.target.range.endColumn+1):h.target.range;this._contentWidget||(this._contentWidget=new i.ModesContentHoverWidget(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService)),this._contentWidget.startShowingAt(D,0,!1)}}else N===2?((L=this._contentWidget)===null||L===void 0||L.hide(),this._isHoverEnabled&&h.target.position&&(this._glyphWidget||(this._glyphWidget=new _.ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(h.target.position.lineNumber))):this._hideWidgets()}}_onKeyDown(h){h.keyCode!==5&&h.keyCode!==6&&h.keyCode!==57&&h.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var h,f,m;this._isMouseDown&&this._hoverClicked&&((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||(this._hoverClicked=!1,(f=this._glyphWidget)===null||f===void 0||f.hide(),(m=this._contentWidget)===null||m===void 0||m.hide())}isColorPickerVisible(){var h;return((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||!1}showContentHover(h,f,m){this._contentWidget||(this._contentWidget=new i.ModesContentHoverWidget(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService)),this._contentWidget.startShowingAt(h,f,m)}dispose(){var h,f;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(h=this._glyphWidget)===null||h===void 0||h.dispose(),(f=this._contentWidget)===null||f===void 0||f.dispose()}};n.ID="editor.contrib.hover",n=Me([_e(1,r.IInstantiationService),_e(2,u.IOpenerService),_e(3,C.IModeService),_e(4,l.IThemeService),_e(5,d.IContextKeyService)],n),e.ModesHoverController=n;class s extends w.EditorAction{constructor(){super({id:"editor.action.showHover",label:v.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|39),weight:100}})}run(h,f){if(!!f.hasModel()){let m=n.get(f);if(!!m){const g=f.getPosition(),b=new S.Range(g.lineNumber,g.column,g.lineNumber,g.column),y=f.getOption(2)===2;m.showContentHover(b,1,y)}}}}class t extends w.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:v.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(h,f){let m=n.get(f);if(!!m){const g=f.getPosition();if(!!g){const b=new S.Range(g.lineNumber,g.column,g.lineNumber,g.column);c.GotoDefinitionAtPositionEditorContribution.get(f).startFindDefinitionFromCursor(g).then(()=>{m.showContentHover(b,1,!0)})}}}}(0,w.registerEditorContribution)(n.ID,n),(0,w.registerEditorAction)(s),(0,w.registerEditorAction)(t),(0,l.registerThemingParticipant)((o,h)=>{const f=o.getColor(a.editorHoverHighlight);f&&h.addRule(`.monaco-editor .hoverHighlight { background-color: ${f}; }`);const m=o.getColor(a.editorHoverBackground);m&&h.addRule(`.monaco-editor .monaco-hover { background-color: ${m}; }`);const g=o.getColor(a.editorHoverBorder);g&&(h.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${g}; }`),h.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${g.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${g.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${g.transparent(.5)}; }`));const b=o.getColor(a.textLinkForeground);b&&h.addRule(`.monaco-editor .monaco-hover a { color: ${b}; }`);const y=o.getColor(a.editorHoverForeground);y&&h.addRule(`.monaco-editor .monaco-hover { color: ${y}; }`);const L=o.getColor(a.editorHoverStatusBarBackground);L&&h.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${L}; }`);const N=o.getColor(a.textCodeBlockBackground);N&&h.addRule(`.monaco-editor .monaco-hover code { background-color: ${N}; }`)})}),define(te[670],ie([0,1,2,13,270,3,250]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class S extends v.Disposable{constructor(C){super();this._editor=C,this._register(C.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(C){var i;if(C.target.type===6&&!![...((i=C.target.element)===null||i===void 0?void 0:i.classList.values())||[]].find(l=>l.startsWith("ced-colorBox"))&&!!C.target.range){const a=this._editor.getContribution(k.ModesHoverController.ID);if(!a.isColorPickerVisible()){const l=new w.Range(C.target.range.startLineNumber,C.target.range.startColumn+1,C.target.range.endLineNumber,C.target.range.endColumn+1);a.showContentHover(l,0,!1)}}}}e.ColorContribution=S,S.ID="editor.contrib.colorContribution",(0,I.registerEditorContribution)(S.ID,S)}),define(te[671],ie([0,1,15,2,13,18,37,212,12,44,266,234]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let a=class extends I.Disposable{constructor(c,d,r,n){super();this._modelService=d,this._themeService=r,this._configurationService=n,this._editor=c,this._tokenizeViewport=new v.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(s=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(w.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(s=>{s.affectsConfiguration(_.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const c of this._outstandingRequests)c.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(c){for(let d=0,r=this._outstandingRequests.length;d<r;d++)if(this._outstandingRequests[d]===c){this._outstandingRequests.splice(d,1);return}}_tokenizeViewportNow(){if(!!this._editor.hasModel()){const c=this._editor.getModel();if(!c.hasCompleteSemanticTokens()){if(!(0,_.isSemanticColoringEnabled)(c,this._themeService,this._configurationService)){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const d=(0,u.getDocumentRangeSemanticTokensProvider)(c);if(!d){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const r=this._modelService.getSemanticTokensProviderStyling(d),n=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(n.map(s=>this._requestRange(c,s,d,r)))}}}_requestRange(c,d,r,n){const s=c.getVersionId(),t=(0,v.createCancelablePromise)(o=>Promise.resolve(r.provideDocumentRangeSemanticTokens(c,d,o)));return t.then(o=>{!o||c.isDisposed()||c.getVersionId()!==s||c.setPartialSemanticTokens(d,(0,p.toMultilineTokens2)(o,n,c.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(t),()=>this._removeOutstandingRequest(t)),t}};a.ID="editor.contrib.viewportSemanticTokens",a=Me([_e(1,S.IModelService),_e(2,C.IThemeService),_e(3,i.IConfigurationService)],a),(0,k.registerEditorContribution)(a.ID,a)}),define(te[672],ie([0,1,13,28,267,44,16,9,33,76]),function($,e,v,I,k,w,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let _=class extends k.ReferencesController{constructor(a,l,c,d,r,n,s){super(!0,a,l,c,d,r,n,s)}};_=Me([_e(1,S.IContextKeyService),_e(2,I.ICodeEditorService),_e(3,C.INotificationService),_e(4,p.IInstantiationService),_e(5,i.IStorageService),_e(6,w.IConfigurationService)],_),e.StandaloneReferencesController=_,(0,v.registerEditorContribution)(k.ReferencesController.ID,_)}),define(te[673],ie([0,1,418,148,11,73,179,83,45,33,2]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const u=!1;function a(m){return m.scheme===C.Schemas.file?m.fsPath:m.path}let l=0;class c{constructor(g,b,y,L,N,M,D){this.id=++l,this.type=0,this.actual=g,this.label=g.label,this.confirmBeforeUndo=g.confirmBeforeUndo||!1,this.resourceLabel=b,this.strResource=y,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=L,this.groupOrder=N,this.sourceId=M,this.sourceOrder=D,this.isValid=!0}setValid(g){this.isValid=g}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class d{constructor(g,b){this.resourceLabel=g,this.reason=b}}class r{constructor(){this.elements=new Map}createMessage(){const g=[],b=[];for(const[,L]of this.elements)(L.reason===0?g:b).push(L.resourceLabel);let y=[];return g.length>0&&y.push(v.localize(0,null,g.join(", "))),b.length>0&&y.push(v.localize(1,null,b.join(", "))),y.join(`
`)}get size(){return this.elements.size}has(g){return this.elements.has(g)}set(g,b){this.elements.set(g,b)}delete(g){return this.elements.delete(g)}}class n{constructor(g,b,y,L,N,M,D){this.id=++l,this.type=1,this.actual=g,this.label=g.label,this.confirmBeforeUndo=g.confirmBeforeUndo||!1,this.resourceLabels=b,this.strResources=y,this.groupId=L,this.groupOrder=N,this.sourceId=M,this.sourceOrder=D,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(g,b,y){this.removedResources||(this.removedResources=new r),this.removedResources.has(b)||this.removedResources.set(b,new d(g,y))}setValid(g,b,y){y?this.invalidatedResources&&(this.invalidatedResources.delete(b),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new r),this.invalidatedResources.has(b)||this.invalidatedResources.set(b,new d(g,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class s{constructor(g,b){this.resourceLabel=g,this.strResource=b,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const g of this._past)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);for(const g of this._future)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let g=[];g.push(`* ${this.strResource}:`);for(let b=0;b<this._past.length;b++)g.push(`   * [UNDO] ${this._past[b]}`);for(let b=this._future.length-1;b>=0;b--)g.push(`   * [REDO] ${this._future[b]}`);return g.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(g,b){g.type===1?g.setValid(this.resourceLabel,this.strResource,b):g.setValid(b)}setElementsValidFlag(g,b){for(const y of this._past)b(y.actual)&&this._setElementValidFlag(y,g);for(const y of this._future)b(y.actual)&&this._setElementValidFlag(y,g)}pushElement(g){for(const b of this._future)b.type===1&&b.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(g),this.versionId++}createSnapshot(g){const b=[];for(let y=0,L=this._past.length;y<L;y++)b.push(this._past[y].id);for(let y=this._future.length-1;y>=0;y--)b.push(this._future[y].id);return new I.ResourceEditStackSnapshot(g,b)}restoreSnapshot(g){const b=g.elements.length;let y=!0,L=0,N=-1;for(let D=0,R=this._past.length;D<R;D++,L++){const P=this._past[D];y&&(L>=b||P.id!==g.elements[L])&&(y=!1,N=0),!y&&P.type===1&&P.removeResource(this.resourceLabel,this.strResource,0)}let M=-1;for(let D=this._future.length-1;D>=0;D--,L++){const R=this._future[D];y&&(L>=b||R.id!==g.elements[L])&&(y=!1,M=D),!y&&R.type===1&&R.removeResource(this.resourceLabel,this.strResource,0)}N!==-1&&(this._past=this._past.slice(0,N)),M!==-1&&(this._future=this._future.slice(M+1)),this.versionId++}getElements(){const g=[],b=[];for(const y of this._past)g.push(y.actual);for(const y of this._future)b.push(y.actual);return{past:g,future:b}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(g,b){for(let y=this._past.length-1;y>=0;y--)if(this._past[y]===g){b.has(this.strResource)?this._past[y]=b.get(this.strResource):this._past.splice(y,1);break}this.versionId++}splitFutureWorkspaceElement(g,b){for(let y=this._future.length-1;y>=0;y--)if(this._future[y]===g){b.has(this.strResource)?this._future[y]=b.get(this.strResource):this._future.splice(y,1);break}this.versionId++}moveBackward(g){this._past.pop(),this._future.push(g),this.versionId++}moveForward(g){this._future.pop(),this._past.push(g),this.versionId++}}class t{constructor(g){this.editStacks=g,this._versionIds=[];for(let b=0,y=this.editStacks.length;b<y;b++)this._versionIds[b]=this.editStacks[b].versionId}isValid(){for(let g=0,b=this.editStacks.length;g<b;g++)if(this._versionIds[g]!==this.editStacks[g].versionId)return!1;return!0}}const o=new s("","");o.locked=!0;let h=class{constructor(g,b){this._dialogService=g,this._notificationService=b,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(g){for(const b of this._uriComparisonKeyComputers)if(b[0]===g.scheme)return b[1].getComparisonKey(g);return g.toString()}_print(g){console.log("------------------------------------"),console.log(`AFTER ${g}: `);let b=[];for(const y of this._editStacks)b.push(y[1].toString());console.log(b.join(`
`))}pushElement(g,b=I.UndoRedoGroup.None,y=I.UndoRedoSource.None){if(g.type===0){const L=a(g.resource),N=this.getUriComparisonKey(g.resource);this._pushElement(new c(g,L,N,b.id,b.nextOrder(),y.id,y.nextOrder()))}else{const L=new Set,N=[],M=[];for(const D of g.resources){const R=a(D),P=this.getUriComparisonKey(D);L.has(P)||(L.add(P),N.push(R),M.push(P))}N.length===1?this._pushElement(new c(g,N[0],M[0],b.id,b.nextOrder(),y.id,y.nextOrder())):this._pushElement(new n(g,N,M,b.id,b.nextOrder(),y.id,y.nextOrder()))}u&&this._print("pushElement")}_pushElement(g){for(let b=0,y=g.strResources.length;b<y;b++){const L=g.resourceLabels[b],N=g.strResources[b];let M;this._editStacks.has(N)?M=this._editStacks.get(N):(M=new s(L,N),this._editStacks.set(N,M)),M.pushElement(g)}}getLastElement(g){const b=this.getUriComparisonKey(g);if(this._editStacks.has(b)){const y=this._editStacks.get(b);if(y.hasFutureElements())return null;const L=y.getClosestPastElement();return L?L.actual:null}return null}_splitPastWorkspaceElement(g,b){const y=g.actual.split(),L=new Map;for(const N of y){const M=a(N.resource),D=this.getUriComparisonKey(N.resource),R=new c(N,M,D,0,0,0,0);L.set(R.strResource,R)}for(const N of g.strResources)b&&b.has(N)||this._editStacks.get(N).splitPastWorkspaceElement(g,L)}_splitFutureWorkspaceElement(g,b){const y=g.actual.split(),L=new Map;for(const N of y){const M=a(N.resource),D=this.getUriComparisonKey(N.resource),R=new c(N,M,D,0,0,0,0);L.set(R.strResource,R)}for(const N of g.strResources)b&&b.has(N)||this._editStacks.get(N).splitFutureWorkspaceElement(g,L)}removeElements(g){const b=typeof g=="string"?g:this.getUriComparisonKey(g);this._editStacks.has(b)&&(this._editStacks.get(b).dispose(),this._editStacks.delete(b)),u&&this._print("removeElements")}setElementsValidFlag(g,b,y){const L=this.getUriComparisonKey(g);this._editStacks.has(L)&&this._editStacks.get(L).setElementsValidFlag(b,y),u&&this._print("setElementsValidFlag")}createSnapshot(g){const b=this.getUriComparisonKey(g);return this._editStacks.has(b)?this._editStacks.get(b).createSnapshot(g):new I.ResourceEditStackSnapshot(g,[])}restoreSnapshot(g){const b=this.getUriComparisonKey(g.resource);if(this._editStacks.has(b)){const y=this._editStacks.get(b);y.restoreSnapshot(g),!y.hasPastElements()&&!y.hasFutureElements()&&(y.dispose(),this._editStacks.delete(b))}u&&this._print("restoreSnapshot")}getElements(g){const b=this.getUriComparisonKey(g);return this._editStacks.has(b)?this._editStacks.get(b).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(g){if(!g)return[null,null];let b=null,y=null;for(const[L,N]of this._editStacks){const M=N.getClosestPastElement();!M||M.sourceId===g&&(!b||M.sourceOrder>b.sourceOrder)&&(b=M,y=L)}return[b,y]}canUndo(g){if(g instanceof I.UndoRedoSource){const[,y]=this._findClosestUndoElementWithSource(g.id);return!!y}const b=this.getUriComparisonKey(g);return this._editStacks.has(b)?this._editStacks.get(b).hasPastElements():!1}_onError(g,b){(0,k.onUnexpectedError)(g);for(const y of b.strResources)this.removeElements(y);this._notificationService.error(g)}_acquireLocks(g){for(const b of g.editStacks)if(b.locked)throw new Error("Cannot acquire edit stack lock");for(const b of g.editStacks)b.locked=!0;return()=>{for(const b of g.editStacks)b.locked=!1}}_safeInvokeWithLocks(g,b,y,L,N){const M=this._acquireLocks(y);let D;try{D=b()}catch(R){return M(),L.dispose(),this._onError(R,g)}return D?D.then(()=>(M(),L.dispose(),N()),R=>(M(),L.dispose(),this._onError(R,g))):(M(),L.dispose(),N())}_invokeWorkspacePrepare(g){return De(this,void 0,void 0,function*(){if(typeof g.actual.prepareUndoRedo=="undefined")return _.Disposable.None;const b=g.actual.prepareUndoRedo();return typeof b=="undefined"?_.Disposable.None:b})}_invokeResourcePrepare(g,b){if(g.actual.type!==1||typeof g.actual.prepareUndoRedo=="undefined")return b(_.Disposable.None);const y=g.actual.prepareUndoRedo();return y?(0,_.isDisposable)(y)?b(y):y.then(L=>b(L)):b(_.Disposable.None)}_getAffectedEditStacks(g){const b=[];for(const y of g.strResources)b.push(this._editStacks.get(y)||o);return new t(b)}_tryToSplitAndUndo(g,b,y,L){if(b.canSplit())return this._splitPastWorkspaceElement(b,y),this._notificationService.warn(L),new f(this._undo(g,0,!0));for(const N of b.strResources)this.removeElements(N);return this._notificationService.warn(L),new f}_checkWorkspaceUndo(g,b,y,L){if(b.removedResources)return this._tryToSplitAndUndo(g,b,b.removedResources,v.localize(2,null,b.label,b.removedResources.createMessage()));if(L&&b.invalidatedResources)return this._tryToSplitAndUndo(g,b,b.invalidatedResources,v.localize(3,null,b.label,b.invalidatedResources.createMessage()));const N=[];for(const D of y.editStacks)D.getClosestPastElement()!==b&&N.push(D.resourceLabel);if(N.length>0)return this._tryToSplitAndUndo(g,b,null,v.localize(4,null,b.label,N.join(", ")));const M=[];for(const D of y.editStacks)D.locked&&M.push(D.resourceLabel);return M.length>0?this._tryToSplitAndUndo(g,b,null,v.localize(5,null,b.label,M.join(", "))):y.isValid()?null:this._tryToSplitAndUndo(g,b,null,v.localize(6,null,b.label))}_workspaceUndo(g,b,y){const L=this._getAffectedEditStacks(b),N=this._checkWorkspaceUndo(g,b,L,!1);return N?N.returnValue:this._confirmAndExecuteWorkspaceUndo(g,b,L,y)}_isPartOfUndoGroup(g){if(!g.groupId)return!1;for(const[,b]of this._editStacks){const y=b.getClosestPastElement();if(!!y){if(y===g){const L=b.getSecondClosestPastElement();if(L&&L.groupId===g.groupId)return!0}if(y.groupId===g.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(g,b,y,L){return De(this,void 0,void 0,function*(){if(b.canSplit()&&!this._isPartOfUndoGroup(b)){const D=yield this._dialogService.show(p.default.Info,v.localize(7,null,b.label),[v.localize(8,null,y.editStacks.length),v.localize(9,null),v.localize(10,null)],{cancelId:2});if(D.choice===2)return;if(D.choice===1)return this._splitPastWorkspaceElement(b,null),this._undo(g,0,!0);const R=this._checkWorkspaceUndo(g,b,y,!1);if(R)return R.returnValue;L=!0}let N;try{N=yield this._invokeWorkspacePrepare(b)}catch(D){return this._onError(D,b)}const M=this._checkWorkspaceUndo(g,b,y,!0);if(M)return N.dispose(),M.returnValue;for(const D of y.editStacks)D.moveBackward(b);return this._safeInvokeWithLocks(b,()=>b.actual.undo(),y,N,()=>this._continueUndoInGroup(b.groupId,L))})}_resourceUndo(g,b,y){if(!b.isValid){g.flushAllElements();return}if(g.locked){const L=v.localize(11,null,b.label);this._notificationService.warn(L);return}return this._invokeResourcePrepare(b,L=>(g.moveBackward(b),this._safeInvokeWithLocks(b,()=>b.actual.undo(),new t([g]),L,()=>this._continueUndoInGroup(b.groupId,y))))}_findClosestUndoElementInGroup(g){if(!g)return[null,null];let b=null,y=null;for(const[L,N]of this._editStacks){const M=N.getClosestPastElement();!M||M.groupId===g&&(!b||M.groupOrder>b.groupOrder)&&(b=M,y=L)}return[b,y]}_continueUndoInGroup(g,b){if(!!g){const[,y]=this._findClosestUndoElementInGroup(g);if(y)return this._undo(y,0,b)}}undo(g){if(g instanceof I.UndoRedoSource){const[,b]=this._findClosestUndoElementWithSource(g.id);return b?this._undo(b,g.id,!1):void 0}return typeof g=="string"?this._undo(g,0,!1):this._undo(this.getUriComparisonKey(g),0,!1)}_undo(g,b=0,y){if(!!this._editStacks.has(g)){const L=this._editStacks.get(g),N=L.getClosestPastElement();if(!!N){if(N.groupId){const[D,R]=this._findClosestUndoElementInGroup(N.groupId);if(N!==D&&R)return this._undo(R,b,y)}if((N.sourceId!==b||N.confirmBeforeUndo)&&!y)return this._confirmAndContinueUndo(g,b,N);try{return N.type===1?this._workspaceUndo(g,N,y):this._resourceUndo(L,N,y)}finally{u&&this._print("undo")}}}}_confirmAndContinueUndo(g,b,y){return De(this,void 0,void 0,function*(){if((yield this._dialogService.show(p.default.Info,v.localize(12,null,y.label),[v.localize(13,null),v.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(g,b,!0)})}_findClosestRedoElementWithSource(g){if(!g)return[null,null];let b=null,y=null;for(const[L,N]of this._editStacks){const M=N.getClosestFutureElement();!M||M.sourceId===g&&(!b||M.sourceOrder<b.sourceOrder)&&(b=M,y=L)}return[b,y]}canRedo(g){if(g instanceof I.UndoRedoSource){const[,y]=this._findClosestRedoElementWithSource(g.id);return!!y}const b=this.getUriComparisonKey(g);return this._editStacks.has(b)?this._editStacks.get(b).hasFutureElements():!1}_tryToSplitAndRedo(g,b,y,L){if(b.canSplit())return this._splitFutureWorkspaceElement(b,y),this._notificationService.warn(L),new f(this._redo(g));for(const N of b.strResources)this.removeElements(N);return this._notificationService.warn(L),new f}_checkWorkspaceRedo(g,b,y,L){if(b.removedResources)return this._tryToSplitAndRedo(g,b,b.removedResources,v.localize(15,null,b.label,b.removedResources.createMessage()));if(L&&b.invalidatedResources)return this._tryToSplitAndRedo(g,b,b.invalidatedResources,v.localize(16,null,b.label,b.invalidatedResources.createMessage()));const N=[];for(const D of y.editStacks)D.getClosestFutureElement()!==b&&N.push(D.resourceLabel);if(N.length>0)return this._tryToSplitAndRedo(g,b,null,v.localize(17,null,b.label,N.join(", ")));const M=[];for(const D of y.editStacks)D.locked&&M.push(D.resourceLabel);return M.length>0?this._tryToSplitAndRedo(g,b,null,v.localize(18,null,b.label,M.join(", "))):y.isValid()?null:this._tryToSplitAndRedo(g,b,null,v.localize(19,null,b.label))}_workspaceRedo(g,b){const y=this._getAffectedEditStacks(b),L=this._checkWorkspaceRedo(g,b,y,!1);return L?L.returnValue:this._executeWorkspaceRedo(g,b,y)}_executeWorkspaceRedo(g,b,y){return De(this,void 0,void 0,function*(){let L;try{L=yield this._invokeWorkspacePrepare(b)}catch(M){return this._onError(M,b)}const N=this._checkWorkspaceRedo(g,b,y,!0);if(N)return L.dispose(),N.returnValue;for(const M of y.editStacks)M.moveForward(b);return this._safeInvokeWithLocks(b,()=>b.actual.redo(),y,L,()=>this._continueRedoInGroup(b.groupId))})}_resourceRedo(g,b){if(!b.isValid){g.flushAllElements();return}if(g.locked){const y=v.localize(20,null,b.label);this._notificationService.warn(y);return}return this._invokeResourcePrepare(b,y=>(g.moveForward(b),this._safeInvokeWithLocks(b,()=>b.actual.redo(),new t([g]),y,()=>this._continueRedoInGroup(b.groupId))))}_findClosestRedoElementInGroup(g){if(!g)return[null,null];let b=null,y=null;for(const[L,N]of this._editStacks){const M=N.getClosestFutureElement();!M||M.groupId===g&&(!b||M.groupOrder<b.groupOrder)&&(b=M,y=L)}return[b,y]}_continueRedoInGroup(g){if(!!g){const[,b]=this._findClosestRedoElementInGroup(g);if(b)return this._redo(b)}}redo(g){if(g instanceof I.UndoRedoSource){const[,b]=this._findClosestRedoElementWithSource(g.id);return b?this._redo(b):void 0}return typeof g=="string"?this._redo(g):this._redo(this.getUriComparisonKey(g))}_redo(g){if(!!this._editStacks.has(g)){const b=this._editStacks.get(g),y=b.getClosestFutureElement();if(!!y){if(y.groupId){const[L,N]=this._findClosestRedoElementInGroup(y.groupId);if(y!==L&&N)return this._redo(N)}try{return y.type===1?this._workspaceRedo(g,y):this._resourceRedo(b,y)}finally{u&&this._print("redo")}}}}};h=Me([_e(0,S.IDialogService),_e(1,i.INotificationService)],h),e.UndoRedoService=h;class f{constructor(g){this.returnValue=g}}(0,w.registerSingleton)(I.IUndoRedoService,h)}),define(te[183],ie([0,1,9,51]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFolder=e.Workspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,v.createDecorator)("contextService");class k{constructor(p,C,i,_){this._id=p,this._configuration=i,this._ignorePathCasing=_,this._foldersMap=I.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=C}get folders(){return this._folders}set folders(p){this._folders=p,this.updateFoldersMap()}get id(){return this._id}get configuration(){return this._configuration}set configuration(p){this._configuration=p}getFolder(p){return p&&this._foldersMap.findSubstr(p.with({scheme:p.scheme,authority:p.authority,path:p.path}))||null}updateFoldersMap(){this._foldersMap=I.TernarySearchTree.forUris(this._ignorePathCasing);for(const p of this.folders)this._foldersMap.set(p.uri,p)}toJSON(){return{id:this.id,folders:this.folders,configuration:this.configuration}}}e.Workspace=k;class w{constructor(p,C){this.raw=C,this.uri=p.uri,this.index=p.index,this.name=p.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=w}),define(te[175],ie([0,1,8,7,55,6,41,2,17,83,23,105,127,161,61,14,3,37,26,44,525,486,207,86,490,491,33,183,60]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m,g,b,y,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLayoutService=e.SimpleUriLabelService=e.SimpleBulkEditService=e.updateConfigurationService=e.SimpleWorkspaceContextService=e.StandaloneTelemetryService=e.SimpleResourcePropertiesService=e.SimpleResourceConfigurationService=e.SimpleConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.SimpleNotificationService=e.SimpleDialogService=e.SimpleEditorProgressService=e.SimpleEditorModelResolverService=e.SimpleModel=void 0;class M{constructor(T){this.disposed=!1,this.model=T,this._onWillDispose=new w.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}e.SimpleModel=M;function D(Z,T,x){return(0,u.isCodeEditor)(Z)?T(Z):x(Z)}let R=class{constructor(T){this.modelService=T}setEditor(T){this.editor=T}createModelReference(T){let x=null;return this.editor&&(x=D(this.editor,H=>this.findModel(H,T),H=>this.findModel(H.getOriginalEditor(),T)||this.findModel(H.getModifiedEditor(),T))),x?Promise.resolve(new p.ImmortalReference(new M(x))):Promise.reject(new Error("Model not found"))}findModel(T,x){let H=this.modelService.getModel(x);return H&&H.uri.toString()!==x.toString()?null:H}};R=Me([_e(0,n.IModelService)],R),e.SimpleEditorModelResolverService=R;class P{show(){return P.NULL_PROGRESS_RUNNER}showWhile(T,x){return De(this,void 0,void 0,function*(){yield T})}}e.SimpleEditorProgressService=P,P.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class O{confirm(T){return this.doConfirm(T).then(x=>({confirmed:x,checkboxChecked:!1}))}doConfirm(T){let x=T.message;return T.detail&&(x=x+`

`+T.detail),Promise.resolve(window.confirm(x))}show(T,x,H,V){return Promise.resolve({choice:0})}}e.SimpleDialogService=O;class W{info(T){return this.notify({severity:i.default.Info,message:T})}warn(T){return this.notify({severity:i.default.Warning,message:T})}error(T){return this.notify({severity:i.default.Error,message:T})}notify(T){switch(T.severity){case i.default.Error:console.error(T.message);break;case i.default.Warning:console.warn(T.message);break;default:console.log(T.message);break}return W.NO_OP}status(T,x){return p.Disposable.None}}e.SimpleNotificationService=W,W.NO_OP=new y.NoOpNotification;class F{constructor(T){this._onWillExecuteCommand=new w.Emitter,this._onDidExecuteCommand=new w.Emitter,this._instantiationService=T}executeCommand(T,...x){const H=s.CommandsRegistry.getCommand(T);if(!H)return Promise.reject(new Error(`command '${T}' not found`));try{this._onWillExecuteCommand.fire({commandId:T,args:x});const V=this._instantiationService.invokeFunction.apply(this._instantiationService,[H.handler,...x]);return this._onDidExecuteCommand.fire({commandId:T,args:x}),Promise.resolve(V)}catch(V){return Promise.reject(V)}}}e.StandaloneCommandService=F;class E extends h.AbstractKeybindingService{constructor(T,x,H,V,q,ee){super(T,x,H,V,q);this._cachedResolver=null,this._dynamicKeybindings=[],this._register(I.addDisposableListener(ee,I.EventType.KEY_DOWN,oe=>{const le=new k.StandardKeyboardEvent(oe);this._dispatch(le,le.target)&&(le.preventDefault(),le.stopPropagation())})),this._register(I.addDisposableListener(window,I.EventType.KEY_UP,oe=>{const le=new k.StandardKeyboardEvent(oe);this._singleModifierDispatch(le,le.target)&&le.preventDefault()}))}addDynamicKeybinding(T,x,H,V){const q=(0,S.createKeybinding)(x,C.OS),ee=new p.DisposableStore;return q&&(this._dynamicKeybindings.push({keybinding:q,command:T,when:V,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),ee.add((0,p.toDisposable)(()=>{for(let oe=0;oe<this._dynamicKeybindings.length;oe++)if(this._dynamicKeybindings[oe].command===T){this._dynamicKeybindings.splice(oe,1),this.updateResolver({source:1});return}}))),ee.add(s.CommandsRegistry.registerCommand(T,H)),this.updateResolver({source:1}),ee}updateResolver(T){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(T)}_getResolver(){if(!this._cachedResolver){const T=this._toNormalizedKeybindingItems(m.KeybindingsRegistry.getDefaultKeybindings(),!0),x=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new f.KeybindingResolver(T,x,H=>this._log(H))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(T,x){let H=[],V=0;for(const q of T){const ee=q.when||void 0,oe=q.keybinding;if(!oe)H[V++]=new g.ResolvedKeybindingItem(void 0,q.command,q.commandArgs,ee,x,null,!1);else{const le=this.resolveKeybinding(oe);for(const Y of le)H[V++]=new g.ResolvedKeybindingItem(Y,q.command,q.commandArgs,ee,x,null,!1)}}return H}resolveKeybinding(T){return[new b.USLayoutResolvedKeybinding(T,C.OS)]}resolveKeyboardEvent(T){let x=new S.SimpleKeybinding(T.ctrlKey,T.shiftKey,T.altKey,T.metaKey,T.keyCode).toChord();return new b.USLayoutResolvedKeybinding(x,C.OS)}}e.StandaloneKeybindingService=E;function A(Z){return Z&&typeof Z=="object"&&(!Z.overrideIdentifier||typeof Z.overrideIdentifier=="string")&&(!Z.resource||Z.resource instanceof _.URI)}class B{constructor(){this._onDidChangeConfiguration=new w.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new o.Configuration(new o.DefaultConfigurationModel,new o.ConfigurationModel)}getValue(T,x){const H=typeof T=="string"?T:void 0,V=A(T)?T:A(x)?x:{};return this._configuration.getValue(H,V,void 0)}updateValues(T){const x={data:this._configuration.toData()};let H=[];for(const V of T){const[q,ee]=V;this.getValue(q)!==ee&&(this._configuration.updateValue(q,ee),H.push(q))}if(H.length>0){const V=new o.ConfigurationChangeEvent({keys:H,overrides:[]},x,this._configuration);V.source=7,V.sourceConfig=null,this._onDidChangeConfiguration.fire(V)}return Promise.resolve()}}e.SimpleConfigurationService=B;class z{constructor(T){this.configurationService=T,this._onDidChangeConfiguration=new w.Emitter,this.configurationService.onDidChangeConfiguration(x=>{this._onDidChangeConfiguration.fire({affectedKeys:x.affectedKeys,affectsConfiguration:(H,V)=>x.affectsConfiguration(V)})})}getValue(T,x,H){const q=(d.Position.isIPosition(x)?x:null)?typeof H=="string"?H:void 0:typeof x=="string"?x:void 0;return typeof q=="undefined"?this.configurationService.getValue():this.configurationService.getValue(q)}}e.SimpleResourceConfigurationService=z;let U=class{constructor(T){this.configurationService=T}getEOL(T,x){const H=this.configurationService.getValue("files.eol",{overrideIdentifier:x,resource:T});return H&&H!=="auto"?H:C.isLinux||C.isMacintosh?`
`:`\r
`}};U=Me([_e(0,t.IConfigurationService)],U),e.SimpleResourcePropertiesService=U;class K{publicLog(T,x){return Promise.resolve(void 0)}publicLog2(T,x){return this.publicLog(T,x)}}e.StandaloneTelemetryService=K;class G{constructor(){const T=_.URI.from({scheme:G.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new L.WorkspaceFolder({uri:T,name:"",index:0})]}}getWorkspace(){return this.workspace}}e.SimpleWorkspaceContextService=G,G.SCHEME="inmemory";function J(Z,T,x){if(!!T&&Z instanceof B){let H=[];Object.keys(T).forEach(V=>{(0,l.isEditorConfigurationKey)(V)&&H.push([`editor.${V}`,T[V]]),x&&(0,l.isDiffEditorConfigurationKey)(V)&&H.push([`diffEditor.${V}`,T[V]])}),H.length>0&&Z.updateValues(H)}}e.updateConfigurationService=J;class Q{constructor(T){this._modelService=T}hasPreviewHandler(){return!1}apply(T,x){return De(this,void 0,void 0,function*(){const H=new Map;for(let ee of T){if(!(ee instanceof a.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const oe=this._modelService.getModel(ee.resource);if(!oe)throw new Error("bad edit - model not found");if(typeof ee.versionId=="number"&&oe.getVersionId()!==ee.versionId)throw new Error("bad state - model changed in the meantime");let le=H.get(oe);le||(le=[],H.set(oe,le)),le.push(c.EditOperation.replaceMove(r.Range.lift(ee.textEdit.range),ee.textEdit.text))}let V=0,q=0;for(const[ee,oe]of H)ee.pushStackElement(),ee.pushEditOperations([],oe,()=>[]),ee.pushStackElement(),q+=1,V+=oe.length;return{ariaSummary:v.format(N.SimpleServicesNLS.bulkEditServiceSummary,V,q)}})}}e.SimpleBulkEditService=Q;class ae{getUriLabel(T,x){return T.scheme==="file"?T.fsPath:T.path}}e.SimpleUriLabelService=ae;class se{constructor(T,x){this._codeEditorService=T,this._container=x,this.onDidLayout=w.Event.None}get dimension(){return this._dimension||(this._dimension=I.getClientArea(window.document.body)),this._dimension}get container(){return this._container}focus(){var T;(T=this._codeEditorService.getFocusedCodeEditor())===null||T===void 0||T.focus()}}e.SimpleLayoutService=se}),define(te[676],ie([0,1,40,2,28,134,262,229,80,175,110,34,26,44,16,67,9,35,33,12,65,60,87,57,37,58]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m,g,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let y=0,L=!1;function N(){L||(L=!0,v.setARIAContainer(document.body))}let M=class extends w.CodeEditorWidget{constructor(F,E,A,B,z,U,K,G,J,Q){const ae=Object.assign({},E);ae.ariaLabel=ae.ariaLabel||h.StandaloneCodeEditorNLS.editorViewAccessibleLabel,ae.ariaLabel=ae.ariaLabel+";"+h.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(F,ae,{},A,B,z,U,G,J,Q),K instanceof i.StandaloneKeybindingService?this._standaloneKeybindingService=K:this._standaloneKeybindingService=null,N()}addCommand(F,E,A){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let B="DYNAMIC_"+ ++y,z=c.ContextKeyExpr.deserialize(A);return this._standaloneKeybindingService.addDynamicKeybinding(B,F,E,z),B}createContextKey(F,E){return this._contextKeyService.createKey(F,E)}addAction(F){if(typeof F.id!="string"||typeof F.label!="string"||typeof F.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),I.Disposable.None;const E=F.id,A=F.label,B=c.ContextKeyExpr.and(c.ContextKeyExpr.equals("editorId",this.getId()),c.ContextKeyExpr.deserialize(F.precondition)),z=F.keybindings,U=c.ContextKeyExpr.and(B,c.ContextKeyExpr.deserialize(F.keybindingContext)),K=F.contextMenuGroupId||null,G=F.contextMenuOrder||0,J=(Z,...T)=>Promise.resolve(F.run(this,...T)),Q=new I.DisposableStore,ae=this.getId()+":"+E;if(Q.add(a.CommandsRegistry.registerCommand(ae,J)),K){let Z={command:{id:ae,title:A},when:B,group:K,order:G};Q.add(u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,Z))}if(Array.isArray(z))for(const Z of z)Q.add(this._standaloneKeybindingService.addDynamicKeybinding(ae,Z,J,U));let se=new p.InternalEditorAction(ae,A,A,B,J,this._contextKeyService);return this._actions[E]=se,Q.add((0,I.toDisposable)(()=>{delete this._actions[E]})),Q}};M=Me([_e(2,r.IInstantiationService),_e(3,k.ICodeEditorService),_e(4,a.ICommandService),_e(5,c.IContextKeyService),_e(6,n.IKeybindingService),_e(7,t.IThemeService),_e(8,s.INotificationService),_e(9,o.IAccessibilityService)],M),e.StandaloneCodeEditor=M;let D=class extends M{constructor(F,E,A,B,z,U,K,G,J,Q,ae,se,Z,T,x){const H=Object.assign({},E);(0,i.updateConfigurationService)(se,H,!1);const V=Q.registerEditorContainer(F);typeof H.theme=="string"&&Q.setTheme(H.theme),typeof H.autoDetectHighContrast!="undefined"&&Q.setAutoDetectHighContrast(Boolean(H.autoDetectHighContrast));let q=H.model;delete H.model,super(F,H,B,z,U,K,G,Q,ae,Z),this._contextViewService=J,this._configurationService=se,this._standaloneThemeService=Q,this._register(A),this._register(V);let ee;if(typeof q=="undefined"?(ee=P(T,x,H.value||"",H.language||"text/plain",void 0),this._ownsModel=!0):(ee=q,this._ownsModel=!1),this._attachModel(ee),ee){let oe={oldModelUrl:null,newModelUrl:ee.uri};this._onDidChangeModel.fire(oe)}}dispose(){super.dispose()}updateOptions(F){(0,i.updateConfigurationService)(this._configurationService,F,!1),typeof F.theme=="string"&&this._standaloneThemeService.setTheme(F.theme),typeof F.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(F.autoDetectHighContrast)),super.updateOptions(F)}_attachModel(F){super._attachModel(F),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(F){super._postDetachModelCleanup(F),F&&this._ownsModel&&(F.dispose(),this._ownsModel=!1)}};D=Me([_e(3,r.IInstantiationService),_e(4,k.ICodeEditorService),_e(5,a.ICommandService),_e(6,c.IContextKeyService),_e(7,n.IKeybindingService),_e(8,d.IContextViewService),_e(9,_.IStandaloneThemeService),_e(10,s.INotificationService),_e(11,l.IConfigurationService),_e(12,o.IAccessibilityService),_e(13,g.IModelService),_e(14,b.IModeService)],D),e.StandaloneEditor=D;let R=class extends S.DiffEditorWidget{constructor(F,E,A,B,z,U,K,G,J,Q,ae,se,Z,T,x){const H=Object.assign({},E);(0,i.updateConfigurationService)(se,H,!0);const V=Q.registerEditorContainer(F);typeof H.theme=="string"&&Q.setTheme(H.theme),typeof H.autoDetectHighContrast!="undefined"&&Q.setAutoDetectHighContrast(Boolean(H.autoDetectHighContrast)),super(F,H,{},x,G,z,B,J,Q,ae,Z,T),this._contextViewService=K,this._configurationService=se,this._standaloneThemeService=Q,this._register(A),this._register(V),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(F){(0,i.updateConfigurationService)(this._configurationService,F,!0),typeof F.theme=="string"&&this._standaloneThemeService.setTheme(F.theme),typeof F.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(F.autoDetectHighContrast)),super.updateOptions(F)}_createInnerEditor(F,E,A){return F.createInstance(M,E,A)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(F,E,A){return this.getModifiedEditor().addCommand(F,E,A)}createContextKey(F,E){return this.getModifiedEditor().createContextKey(F,E)}addAction(F){return this.getModifiedEditor().addAction(F)}};R=Me([_e(3,r.IInstantiationService),_e(4,c.IContextKeyService),_e(5,n.IKeybindingService),_e(6,d.IContextViewService),_e(7,C.IEditorWorkerService),_e(8,k.ICodeEditorService),_e(9,_.IStandaloneThemeService),_e(10,s.INotificationService),_e(11,l.IConfigurationService),_e(12,d.IContextMenuService),_e(13,m.IEditorProgressService),_e(14,f.IClipboardService)],R),e.StandaloneDiffEditor=R;function P(W,F,E,A,B){if(E=E||"",!A){const z=E.indexOf(`
`);let U=E;return z!==-1&&(U=E.substring(0,z)),O(W,E,F.createByFilepathOrFirstLine(B||null,U),B)}return O(W,E,F.create(A),B)}e.createTextModel=P;function O(W,F,E,A){return W.createModel(F,E,A)}}),define(te[273],ie([0,1,2,127,28,80,211,58,522,37,266,144,175,577,662,110,34,26,44,526,16,640,67,494,179,9,485,136,35,102,145,69,501,81,33,57,76,84,12,183,639,167,563,65,121,73,524,87,419,148,673,643,79]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m,g,b,y,L,N,M,D,R,P,O,W,F,E,A,B,z,U,K,G,J,Q,ae,se,Z,T,x,H,V,q){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicStandaloneServices=e.StaticServices=void 0;var ee;(function(le){const Y=new L.ServiceCollection;class j{constructor(ce,me){this._serviceId=ce,this._factory=me,this._value=null}get id(){return this._serviceId}get(ce){if(!this._value){if(ce&&(this._value=ce[this._serviceId.toString()]),this._value||(this._value=this._factory(ce)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");Y.set(this._serviceId,this._value)}return this._value}}le.LazyStaticService=j;let ne=[];function X(re,ce){let me=new j(re,ce);return ne.push(me),me}function ue(re){let ce=new L.ServiceCollection;for(const[Ce,we]of(0,ae.getSingletonServiceDescriptors)())ce.set(Ce,we);for(let Ce in re)re.hasOwnProperty(Ce)&&ce.set((0,b.createDecorator)(Ce),re[Ce]);ne.forEach(Ce=>ce.set(Ce.id,Ce.get(re)));let me=new y.InstantiationService(ce,!0);return ce.set(b.IInstantiationService,me),[ce,me]}le.init=ue,le.instantiationService=X(b.IInstantiationService,()=>new y.InstantiationService(Y,!0));const he=new a.SimpleConfigurationService;le.configurationService=X(s.IConfigurationService,()=>he),le.resourceConfigurationService=X(u.ITextResourceConfigurationService,()=>new a.SimpleResourceConfigurationService(he)),le.resourcePropertiesService=X(u.ITextResourcePropertiesService,()=>new a.SimpleResourcePropertiesService(he)),le.contextService=X(z.IWorkspaceContextService,()=>new a.SimpleWorkspaceContextService),le.labelService=X(M.ILabelService,()=>new a.SimpleUriLabelService),le.telemetryService=X(A.ITelemetryService,()=>new a.StandaloneTelemetryService),le.dialogService=X(g.IDialogService,()=>new a.SimpleDialogService),le.notificationService=X(W.INotificationService,()=>new a.SimpleNotificationService),le.markerService=X(O.IMarkerService,()=>new P.MarkerService),le.modeService=X(p.IModeService,re=>new C.ModeServiceImpl),le.standaloneThemeService=X(d.IStandaloneThemeService,()=>new c.StandaloneThemeServiceImpl),le.logService=X(R.ILogService,()=>new R.LogService(new R.ConsoleLogger)),le.undoRedoService=X(x.IUndoRedoService,re=>new H.UndoRedoService(le.dialogService.get(re),le.notificationService.get(re))),le.modelService=X(i.IModelService,re=>new _.ModelServiceImpl(le.configurationService.get(re),le.resourcePropertiesService.get(re),le.standaloneThemeService.get(re),le.logService.get(re),le.undoRedoService.get(re))),le.markerDecorationsService=X(K.IMarkerDecorationsService,re=>new G.MarkerDecorationsService(le.modelService.get(re),le.markerService.get(re))),le.contextKeyService=X(o.IContextKeyService,re=>new t.ContextKeyService(le.configurationService.get(re))),le.codeEditorService=X(k.ICodeEditorService,re=>new l.StandaloneCodeEditorServiceImpl(null,le.contextKeyService.get(re),le.standaloneThemeService.get(re))),le.editorProgressService=X(F.IEditorProgressService,()=>new a.SimpleEditorProgressService),le.storageService=X(E.IStorageService,()=>new E.InMemoryStorageService),le.editorWorkerService=X(w.IEditorWorkerService,re=>new S.EditorWorkerServiceImpl(le.modelService.get(re),le.resourceConfigurationService.get(re),le.logService.get(re)))})(ee=e.StaticServices||(e.StaticServices={}));class oe extends v.Disposable{constructor(Y,j){super();const[ne,X]=ee.init(j);this._serviceCollection=ne,this._instantiationService=X;const ue=this.get(s.IConfigurationService),he=this.get(W.INotificationService),re=this.get(A.ITelemetryService),ce=this.get(B.IThemeService),me=this.get(R.ILogService),Ce=this.get(o.IContextKeyService);let we=(Te,ve)=>{let Se=null;return j&&(Se=j[Te.toString()]),Se||(Se=ve()),this._serviceCollection.set(Te,Se),Se};we(J.IAccessibilityService,()=>new se.AccessibilityService(Ce,ue)),we(D.IListService,()=>new D.ListService(ce));let Ee=we(n.ICommandService,()=>new a.StandaloneCommandService(this._instantiationService)),Ie=we(N.IKeybindingService,()=>this._register(new a.StandaloneKeybindingService(Ce,Ee,re,he,me,Y))),Ae=we(Q.ILayoutService,()=>new a.SimpleLayoutService(ee.codeEditorService.get(k.ICodeEditorService),Y));we(q.IQuickInputService,()=>new V.StandaloneQuickInputServiceImpl(X,ee.codeEditorService.get(k.ICodeEditorService)));let Le=we(f.IContextViewService,()=>this._register(new m.ContextViewService(Ae)));we(Z.IClipboardService,()=>new T.BrowserClipboardService),we(f.IContextMenuService,()=>{const Te=new h.ContextMenuService(re,he,Le,Ie,ce);return Te.configure({blockMouse:!1}),this._register(Te)}),we(r.IMenuService,()=>new U.MenuService(Ee)),we(I.IBulkEditService,()=>new a.SimpleBulkEditService(ee.modelService.get(i.IModelService)))}get(Y){let j=this._serviceCollection.get(Y);if(!j)throw new Error("Missing service "+Y);return j}set(Y,j){this._serviceCollection.set(Y,j)}has(Y){return this._serviceCollection.has(Y)}}e.DynamicStandaloneServices=oe}),define(te[678],ie([0,1,28,505,231,38,190,104,50,18,72,80,58,66,498,152,465,175,676,273,110,26,44,16,67,9,35,33,59,65,71,57,87,8,37,435]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m,g,b,y,L,N,M,D,R,P,O,W){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function F(he,re,ce){let me=new t.DynamicStandaloneServices(he,re),Ce=null;me.has(l.ITextModelService)||(Ce=new n.SimpleEditorModelResolverService(t.StaticServices.modelService.get()),me.set(l.ITextModelService,Ce)),me.has(N.IOpenerService)||me.set(N.IOpenerService,new I.OpenerService(me.get(v.ICodeEditorService),me.get(h.ICommandService)));let we=ce(me);return Ce&&Ce.setEditor(we),we}function E(he,re,ce){return F(he,ce||{},me=>new s.StandaloneEditor(he,re,me,me.get(b.IInstantiationService),me.get(v.ICodeEditorService),me.get(h.ICommandService),me.get(m.IContextKeyService),me.get(y.IKeybindingService),me.get(g.IContextViewService),me.get(o.IStandaloneThemeService),me.get(L.INotificationService),me.get(f.IConfigurationService),me.get(M.IAccessibilityService),me.get(W.IModelService),me.get(a.IModeService)))}e.create=E;function A(he){return t.StaticServices.codeEditorService.get().onCodeEditorAdd(re=>{he(re)})}e.onDidCreateEditor=A;function B(he,re,ce){return F(he,ce||{},me=>new s.StandaloneDiffEditor(he,re,me,me.get(b.IInstantiationService),me.get(m.IContextKeyService),me.get(y.IKeybindingService),me.get(g.IContextViewService),me.get(u.IEditorWorkerService),me.get(v.ICodeEditorService),me.get(o.IStandaloneThemeService),me.get(L.INotificationService),me.get(f.IConfigurationService),me.get(g.IContextMenuService),me.get(R.IEditorProgressService),me.get(P.IClipboardService)))}e.createDiffEditor=B;function z(he,re){return new k.DiffNavigator(he,re)}e.createDiffNavigator=z;function U(he,re,ce){return(0,s.createTextModel)(t.StaticServices.modelService.get(),t.StaticServices.modeService.get(),he,re,ce)}e.createModel=U;function K(he,re){t.StaticServices.modelService.get().setMode(he,t.StaticServices.modeService.get().create(re))}e.setModelLanguage=K;function G(he,re,ce){he&&t.StaticServices.markerService.get().changeOne(re,he.uri,ce)}e.setModelMarkers=G;function J(he){return t.StaticServices.markerService.get().read(he)}e.getModelMarkers=J;function Q(he){return t.StaticServices.markerService.get().onMarkerChanged(he)}e.onDidChangeMarkers=Q;function ae(he){return t.StaticServices.modelService.get().getModel(he)}e.getModel=ae;function se(){return t.StaticServices.modelService.get().getModels()}e.getModels=se;function Z(he){return t.StaticServices.modelService.get().onModelAdded(he)}e.onDidCreateModel=Z;function T(he){return t.StaticServices.modelService.get().onModelRemoved(he)}e.onWillDisposeModel=T;function x(he){return t.StaticServices.modelService.get().onModelModeChanged(re=>{he({model:re.model,oldLanguage:re.oldModeId})})}e.onDidChangeModelLanguage=x;function H(he){return(0,c.createWebWorker)(t.StaticServices.modelService.get(),he)}e.createWebWorker=H;function V(he,re){const ce=t.StaticServices.standaloneThemeService.get();return ce.registerEditorContainer(he),r.Colorizer.colorizeElement(ce,t.StaticServices.modeService.get(),he,re)}e.colorizeElement=V;function q(he,re,ce){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),r.Colorizer.colorize(t.StaticServices.modeService.get(),he,re,ce)}e.colorize=q;function ee(he,re,ce=4){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),r.Colorizer.colorizeModelLine(he,re,ce)}e.colorizeModelLine=ee;function oe(he){let re=i.TokenizationRegistry.get(he);return re||{getInitialState:()=>_.NULL_STATE,tokenize:(ce,me,Ce,we)=>(0,_.nullTokenize)(he,ce,Ce,we)}}function le(he,re){t.StaticServices.modeService.get().triggerMode(re);let me=oe(re),Ce=(0,O.splitLines)(he),we=[],Ee=me.getInitialState();for(let Ie=0,Ae=Ce.length;Ie<Ae;Ie++){let Le=Ce[Ie],Te=me.tokenize(Le,!0,Ee,0);we[Ie]=Te.tokens,Ee=Te.endState}return we}e.tokenize=le;function Y(he,re){t.StaticServices.standaloneThemeService.get().defineTheme(he,re)}e.defineTheme=Y;function j(he){t.StaticServices.standaloneThemeService.get().setTheme(he)}e.setTheme=j;function ne(){(0,D.clearAllFontInfos)()}e.remeasureFonts=ne;function X(he,re){return h.CommandsRegistry.registerCommand({id:he,handler:re})}e.registerCommand=X;function ue(){return{create:E,onDidCreateEditor:A,createDiffEditor:B,createDiffNavigator:z,createModel:U,setModelLanguage:K,setModelMarkers:G,getModelMarkers:J,onDidChangeMarkers:Q,getModels:se,getModel:ae,onDidCreateModel:Z,onWillDisposeModel:T,onDidChangeModelLanguage:x,createWebWorker:H,colorizeElement:V,colorize:q,colorizeModelLine:ee,tokenize:le,defineTheme:Y,setTheme:j,remeasureFonts:ne,registerCommand:X,AccessibilitySupport:d.AccessibilitySupport,ContentWidgetPositionPreference:d.ContentWidgetPositionPreference,CursorChangeReason:d.CursorChangeReason,DefaultEndOfLine:d.DefaultEndOfLine,EditorAutoIndentStrategy:d.EditorAutoIndentStrategy,EditorOption:d.EditorOption,EndOfLinePreference:d.EndOfLinePreference,EndOfLineSequence:d.EndOfLineSequence,MinimapPosition:d.MinimapPosition,MouseTargetType:d.MouseTargetType,OverlayWidgetPositionPreference:d.OverlayWidgetPositionPreference,OverviewRulerLane:d.OverviewRulerLane,RenderLineNumbersType:d.RenderLineNumbersType,RenderMinimap:d.RenderMinimap,ScrollbarVisibility:d.ScrollbarVisibility,ScrollType:d.ScrollType,TextEditorCursorBlinkingStyle:d.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:d.TextEditorCursorStyle,TrackedRangeStickiness:d.TrackedRangeStickiness,WrappingIndent:d.WrappingIndent,ConfigurationChangedEvent:w.ConfigurationChangedEvent,BareFontInfo:S.BareFontInfo,FontInfo:S.FontInfo,TextModelResolvedOptions:C.TextModelResolvedOptions,FindMatch:C.FindMatch,EditorType:p.EditorType,EditorOptions:w.EditorOptions}}e.createMonacoEditorAPI=ue}),define(te[679],ie([0,1,29,3,128,18,42,123,152,273,289,195]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.setColorMap=e.TokenizationSupport2Adapter=e.EncodedTokenizationSupport2Adapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function a(T){p.ModesRegistry.registerLanguage(T)}e.register=a;function l(){let T=[];return T=T.concat(p.ModesRegistry.getLanguages()),T}e.getLanguages=l;function c(T){let x=i.StaticServices.modeService.get().getLanguageIdentifier(T);return x?x.id:0}e.getEncodedLanguageId=c;function d(T,x){let H=i.StaticServices.modeService.get().onDidCreateMode(V=>{V.getId()===T&&(H.dispose(),x())});return H}e.onLanguage=d;function r(T,x){let H=i.StaticServices.modeService.get().getLanguageIdentifier(T);if(!H)throw new Error(`Cannot set configuration for unknown language ${T}`);return S.LanguageConfigurationRegistry.register(H,x,100)}e.setLanguageConfiguration=r;class n{constructor(x,H){this._languageIdentifier=x,this._actual=H}getInitialState(){return this._actual.getInitialState()}tokenize(x,H,V,q){if(typeof this._actual.tokenize=="function")return s.adaptTokenize(this._languageIdentifier.language,this._actual,x,V,q);throw new Error("Not supported!")}tokenize2(x,H,V){let q=this._actual.tokenizeEncoded(x,V);return new k.TokenizationResult2(q.tokens,q.endState)}}e.EncodedTokenizationSupport2Adapter=n;class s{constructor(x,H,V){this._standaloneThemeService=x,this._languageIdentifier=H,this._actual=V}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(x,H,V){let q=[],ee=0;for(let oe=0,le=x.length;oe<le;oe++){const Y=x[oe];let j=Y.startIndex;oe===0?j=0:j<ee&&(j=ee),q[oe]=new k.Token(j+V,Y.scopes,H),ee=j}return q}static adaptTokenize(x,H,V,q,ee){let oe=H.tokenize(V,q),le=s._toClassicTokens(oe.tokens,x,ee),Y;return oe.endState.equals(q)?Y=q:Y=oe.endState,new k.TokenizationResult(le,Y)}tokenize(x,H,V,q){return s.adaptTokenize(this._languageIdentifier.language,this._actual,x,V,q)}_toBinaryTokens(x,H){const V=this._languageIdentifier.id,q=this._standaloneThemeService.getColorTheme().tokenTheme;let ee=[],oe=0,le=0;for(let j=0,ne=x.length;j<ne;j++){const X=x[j],ue=q.match(V,X.scopes);if(!(oe>0&&ee[oe-1]===ue)){let he=X.startIndex;j===0?he=0:he<le&&(he=le),ee[oe++]=he+H,ee[oe++]=ue,le=he}}let Y=new Uint32Array(oe);for(let j=0;j<oe;j++)Y[j]=ee[j];return Y}tokenize2(x,H,V,q){let ee=this._actual.tokenize(x,V),oe=this._toBinaryTokens(ee.tokens,q),le;return ee.endState.equals(V)?le=V:le=ee.endState,new k.TokenizationResult2(oe,le)}}e.TokenizationSupport2Adapter=s;function t(T){return"tokenizeEncoded"in T}function o(T){return T&&typeof T.then=="function"}function h(T){if(T){const x=[null];for(let H=1,V=T.length;H<V;H++)x[H]=v.Color.fromHex(T[H]);i.StaticServices.standaloneThemeService.get().setColorMapOverride(x)}else i.StaticServices.standaloneThemeService.get().setColorMapOverride(null)}e.setColorMap=h;function f(T,x){let H=i.StaticServices.modeService.get().getLanguageIdentifier(T);if(!H)throw new Error(`Cannot set tokens provider for unknown language ${T}`);const V=q=>t(q)?new n(H,q):new s(i.StaticServices.standaloneThemeService.get(),H,q);return o(x)?w.TokenizationRegistry.registerPromise(T,x.then(q=>V(q))):w.TokenizationRegistry.register(T,V(x))}e.setTokensProvider=f;function m(T,x){const H=V=>(0,u.createTokenizationSupport)(i.StaticServices.modeService.get(),i.StaticServices.standaloneThemeService.get(),T,(0,_.compile)(T,V));return o(x)?w.TokenizationRegistry.registerPromise(T,x.then(V=>H(V))):w.TokenizationRegistry.register(T,H(x))}e.setMonarchTokensProvider=m;function g(T,x){return w.ReferenceProviderRegistry.register(T,x)}e.registerReferenceProvider=g;function b(T,x){return w.RenameProviderRegistry.register(T,x)}e.registerRenameProvider=b;function y(T,x){return w.SignatureHelpProviderRegistry.register(T,x)}e.registerSignatureHelpProvider=y;function L(T,x){return w.HoverProviderRegistry.register(T,{provideHover:(H,V,q)=>{let ee=H.getWordAtPosition(V);return Promise.resolve(x.provideHover(H,V,q)).then(oe=>{if(!!oe)return!oe.range&&ee&&(oe.range=new I.Range(V.lineNumber,ee.startColumn,V.lineNumber,ee.endColumn)),oe.range||(oe.range=new I.Range(V.lineNumber,V.column,V.lineNumber,V.column)),oe})}})}e.registerHoverProvider=L;function N(T,x){return w.DocumentSymbolProviderRegistry.register(T,x)}e.registerDocumentSymbolProvider=N;function M(T,x){return w.DocumentHighlightProviderRegistry.register(T,x)}e.registerDocumentHighlightProvider=M;function D(T,x){return w.LinkedEditingRangeProviderRegistry.register(T,x)}e.registerLinkedEditingRangeProvider=D;function R(T,x){return w.DefinitionProviderRegistry.register(T,x)}e.registerDefinitionProvider=R;function P(T,x){return w.ImplementationProviderRegistry.register(T,x)}e.registerImplementationProvider=P;function O(T,x){return w.TypeDefinitionProviderRegistry.register(T,x)}e.registerTypeDefinitionProvider=O;function W(T,x){return w.CodeLensProviderRegistry.register(T,x)}e.registerCodeLensProvider=W;function F(T,x){return w.CodeActionProviderRegistry.register(T,{provideCodeActions:(H,V,q,ee)=>{let oe=i.StaticServices.markerService.get().read({resource:H.uri}).filter(le=>I.Range.areIntersectingOrTouching(le,V));return x.provideCodeActions(H,V,{markers:oe,only:q.only},ee)}})}e.registerCodeActionProvider=F;function E(T,x){return w.DocumentFormattingEditProviderRegistry.register(T,x)}e.registerDocumentFormattingEditProvider=E;function A(T,x){return w.DocumentRangeFormattingEditProviderRegistry.register(T,x)}e.registerDocumentRangeFormattingEditProvider=A;function B(T,x){return w.OnTypeFormattingEditProviderRegistry.register(T,x)}e.registerOnTypeFormattingEditProvider=B;function z(T,x){return w.LinkProviderRegistry.register(T,x)}e.registerLinkProvider=z;function U(T,x){return w.CompletionProviderRegistry.register(T,x)}e.registerCompletionItemProvider=U;function K(T,x){return w.ColorProviderRegistry.register(T,x)}e.registerColorProvider=K;function G(T,x){return w.FoldingRangeProviderRegistry.register(T,x)}e.registerFoldingRangeProvider=G;function J(T,x){return w.DeclarationProviderRegistry.register(T,x)}e.registerDeclarationProvider=J;function Q(T,x){return w.SelectionRangeRegistry.register(T,x)}e.registerSelectionRangeProvider=Q;function ae(T,x){return w.DocumentSemanticTokensProviderRegistry.register(T,x)}e.registerDocumentSemanticTokensProvider=ae;function se(T,x){return w.DocumentRangeSemanticTokensProviderRegistry.register(T,x)}e.registerDocumentRangeSemanticTokensProvider=se;function Z(){return{register:a,getLanguages:l,onLanguage:d,getEncodedLanguageId:c,setLanguageConfiguration:r,setColorMap:h,setTokensProvider:f,setMonarchTokensProvider:m,registerReferenceProvider:g,registerRenameProvider:b,registerCompletionItemProvider:U,registerSignatureHelpProvider:y,registerHoverProvider:L,registerDocumentSymbolProvider:N,registerDocumentHighlightProvider:M,registerLinkedEditingRangeProvider:D,registerDefinitionProvider:R,registerImplementationProvider:P,registerTypeDefinitionProvider:O,registerCodeLensProvider:W,registerCodeActionProvider:F,registerDocumentFormattingEditProvider:E,registerDocumentRangeFormattingEditProvider:A,registerOnTypeFormattingEditProvider:B,registerLinkProvider:z,registerColorProvider:K,registerFoldingRangeProvider:G,registerDeclarationProvider:J,registerSelectionRangeProvider:Q,registerDocumentSemanticTokensProvider:ae,registerDocumentRangeSemanticTokensProvider:se,DocumentHighlightKind:C.DocumentHighlightKind,CompletionItemKind:C.CompletionItemKind,CompletionItemTag:C.CompletionItemTag,CompletionItemInsertTextRule:C.CompletionItemInsertTextRule,SymbolKind:C.SymbolKind,SymbolTag:C.SymbolTag,IndentAction:C.IndentAction,CompletionTriggerKind:C.CompletionTriggerKind,SignatureHelpTriggerKind:C.SignatureHelpTriggerKind,InlineHintKind:C.InlineHintKind,FoldingRangeKind:w.FoldingRangeKind}}e.createMonacoLanguagesAPI=Z}),define(te[680],ie([0,1,38,226,678,679,17,251]),function($,e,v,I,k,w,S,p){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,v.EditorOptions.wrappingIndent.defaultValue=0,v.EditorOptions.glyphMargin.defaultValue=!1,v.EditorOptions.autoIndent.defaultValue=3,v.EditorOptions.overviewRulerLanes.defaultValue=2,p.FormattingConflicts.setFormatterSelector((_,u,a)=>Promise.resolve(_[0]));const i=(0,I.createMonacoBaseAPI)();i.editor=(0,k.createMonacoEditorAPI)(),i.languages=(0,w.createMonacoLanguagesAPI)(),e.CancellationTokenSource=i.CancellationTokenSource,e.Emitter=i.Emitter,e.KeyCode=i.KeyCode,e.KeyMod=i.KeyMod,e.Position=i.Position,e.Range=i.Range,e.Selection=i.Selection,e.SelectionDirection=i.SelectionDirection,e.MarkerSeverity=i.MarkerSeverity,e.MarkerTag=i.MarkerTag,e.Uri=i.Uri,e.Token=i.Token,e.editor=i.editor,e.languages=i.languages,(((C=S.globals.MonacoEnvironment)===null||C===void 0?void 0:C.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=i),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(te[681],ie([0,1,23]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace";function I(w){const S=w;return typeof(S==null?void 0:S.id)=="string"&&v.URI.isUri(S.uri)}e.isSingleFolderWorkspaceIdentifier=I;function k(w){if(w.configuration)return{id:w.id,configPath:w.configuration};if(w.folders.length===1)return{id:w.id,uri:w.folders[0].uri}}e.toWorkspaceIdentifier=k}),define(te[682],ie([0,1,394,74,46,135,42,8,681,170,622]),function($,e,v,I,k,w,S,p,C,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=void 0;class u{constructor(o){this._delegates=o}resolve(o){for(const h of this._delegates){let f=h.resolve(o);if(f!==void 0)return f}}}e.CompositeSnippetVariableResolver=u;class a{constructor(o,h,f,m){this._model=o,this._selection=h,this._selectionIdx=f,this._overtypingCapturer=m}resolve(o){const{name:h}=o;if(h==="SELECTION"||h==="TM_SELECTED_TEXT"){let f=this._model.getValueInRange(this._selection)||void 0,m=this._selection.startLineNumber!==this._selection.endLineNumber;if(!f&&this._overtypingCapturer){const g=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);g&&(f=g.value,m=g.multiline)}if(f&&m&&o.snippet){const g=this._model.getLineContent(this._selection.startLineNumber),b=(0,p.getLeadingWhitespace)(g,0,this._selection.startColumn-1);let y=b;o.snippet.walk(N=>N===o?!1:(N instanceof w.Text&&(y=(0,p.getLeadingWhitespace)((0,p.splitLines)(N.value).pop())),!0));const L=(0,p.commonPrefixLength)(y,b);f=f.replace(/(\r\n|\r|\n)(.*)/g,(N,M,D)=>`${M}${y.substr(L)}${D}`)}return f}else{if(h==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(h==="TM_CURRENT_WORD"){const f=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return f&&f.word||void 0}else{if(h==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(h==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=a;class l{constructor(o,h){this._labelService=o,this._model=h}resolve(o){const{name:h}=o;if(h==="TM_FILENAME")return I.basename(this._model.uri.fsPath);if(h==="TM_FILENAME_BASE"){const f=I.basename(this._model.uri.fsPath),m=f.lastIndexOf(".");return m<=0?f:f.slice(0,m)}else{if(h==="TM_DIRECTORY"&&this._labelService)return I.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,k.dirname)(this._model.uri));if(h==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri);if(h==="RELATIVE_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=l;class c{constructor(o,h,f,m){this._readClipboardText=o,this._selectionIdx=h,this._selectionCount=f,this._spread=m}resolve(o){if(o.name==="CLIPBOARD"){const h=this._readClipboardText();if(!!h){if(this._spread){const f=h.split(/\r\n|\n|\r/).filter(m=>!(0,p.isFalsyOrWhitespace)(m));if(f.length===this._selectionCount)return f[this._selectionIdx]}return h}}}}e.ClipboardBasedVariableResolver=c;class d{constructor(o,h){this._model=o,this._selection=h}resolve(o){const{name:h}=o,f=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),m=S.LanguageConfigurationRegistry.getComments(f);if(!!m){if(h==="LINE_COMMENT")return m.lineCommentToken||void 0;if(h==="BLOCK_COMMENT_START")return m.blockCommentStartToken||void 0;if(h==="BLOCK_COMMENT_END")return m.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=d;class r{resolve(o){const{name:h}=o;if(h==="CURRENT_YEAR")return String(new Date().getFullYear());if(h==="CURRENT_YEAR_SHORT")return String(new Date().getFullYear()).slice(-2);if(h==="CURRENT_MONTH")return String(new Date().getMonth().valueOf()+1).padStart(2,"0");if(h==="CURRENT_DATE")return String(new Date().getDate().valueOf()).padStart(2,"0");if(h==="CURRENT_HOUR")return String(new Date().getHours().valueOf()).padStart(2,"0");if(h==="CURRENT_MINUTE")return String(new Date().getMinutes().valueOf()).padStart(2,"0");if(h==="CURRENT_SECOND")return String(new Date().getSeconds().valueOf()).padStart(2,"0");if(h==="CURRENT_DAY_NAME")return r.dayNames[new Date().getDay()];if(h==="CURRENT_DAY_NAME_SHORT")return r.dayNamesShort[new Date().getDay()];if(h==="CURRENT_MONTH_NAME")return r.monthNames[new Date().getMonth()];if(h==="CURRENT_MONTH_NAME_SHORT")return r.monthNamesShort[new Date().getMonth()];if(h==="CURRENT_SECONDS_UNIX")return String(Math.floor(Date.now()/1e3))}}e.TimeBasedVariableResolver=r,r.dayNames=[v.localize(0,null),v.localize(1,null),v.localize(2,null),v.localize(3,null),v.localize(4,null),v.localize(5,null),v.localize(6,null)],r.dayNamesShort=[v.localize(7,null),v.localize(8,null),v.localize(9,null),v.localize(10,null),v.localize(11,null),v.localize(12,null),v.localize(13,null)],r.monthNames=[v.localize(14,null),v.localize(15,null),v.localize(16,null),v.localize(17,null),v.localize(18,null),v.localize(19,null),v.localize(20,null),v.localize(21,null),v.localize(22,null),v.localize(23,null),v.localize(24,null),v.localize(25,null)],r.monthNamesShort=[v.localize(26,null),v.localize(27,null),v.localize(28,null),v.localize(29,null),v.localize(30,null),v.localize(31,null),v.localize(32,null),v.localize(33,null),v.localize(34,null),v.localize(35,null),v.localize(36,null),v.localize(37,null)];class n{constructor(o){this._workspaceService=o}resolve(o){if(!!this._workspaceService){const h=(0,C.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!h){if(o.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(h);if(o.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(h)}}}_resolveWorkspaceName(o){if((0,C.isSingleFolderWorkspaceIdentifier)(o))return I.basename(o.uri.path);let h=I.basename(o.configPath.path);return h.endsWith(C.WORKSPACE_EXTENSION)&&(h=h.substr(0,h.length-C.WORKSPACE_EXTENSION.length-1)),h}_resoveWorkspacePath(o){if((0,C.isSingleFolderWorkspaceIdentifier)(o))return(0,i.normalizeDriveLetter)(o.uri.fsPath);let h=I.basename(o.configPath.path),f=o.configPath.fsPath;return f.endsWith(h)&&(f=f.substr(0,f.length-h.length-1)),f?(0,i.normalizeDriveLetter)(f):"/"}}e.WorkspaceBasedVariableResolver=n;class s{resolve(o){const{name:h}=o;if(h==="RANDOM")return Math.random().toString().slice(-6);if(h==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(h==="UUID")return(0,_.generateUuid)()}}e.RandomBasedVariableResolver=s}),define(te[683],ie([0,1,19,2,8,61,3,21,31,183,9,135,682,12,22,102,428]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0,(0,l.registerThemingParticipant)((t,o)=>{function h(f){const m=t.getColor(f);return m?m.toString():"transparent"}o.addRule(`.monaco-editor .snippet-placeholder { background-color: ${h(c.snippetTabstopHighlightBackground)}; outline-color: ${h(c.snippetTabstopHighlightBorder)}; }`),o.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${h(c.snippetFinalTabstopHighlightBackground)}; outline-color: ${h(c.snippetFinalTabstopHighlightBorder)}; }`)});class r{constructor(o,h,f,m){this._editor=o,this._snippet=h,this._offset=f,this._snippetLineLeadingWhitespace=m,this._nestingLevel=1,this._placeholderGroups=(0,v.groupBy)(h.placeholders,u.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(!this._placeholderDecorations){this._placeholderDecorations=new Map;const o=this._editor.getModel();this._editor.changeDecorations(h=>{for(const f of this._snippet.placeholders){const m=this._snippet.offset(f),g=this._snippet.fullLen(f),b=S.Range.fromPositions(o.getPositionAt(this._offset+m),o.getPositionAt(this._offset+m+g)),y=f.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive,L=h.addDecoration(b,y);this._placeholderDecorations.set(f,L)}})}}move(o){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let m=[];for(const g of this._placeholderGroups[this._placeholderGroupsIdx])if(g.transform){const b=this._placeholderDecorations.get(g),y=this._editor.getModel().getDecorationRange(b),L=this._editor.getModel().getValueInRange(y),N=g.transform.resolve(L).split(/\r\n|\r|\n/);for(let M=1;M<N.length;M++)N[M]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+N[M]);m.push(w.EditOperation.replace(y,N.join(this._editor.getModel().getEOL())))}m.length>0&&this._editor.executeEdits("snippet.placeholderTransform",m)}let h=!1;o===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,h=!0):o===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,h=!0);const f=this._editor.getModel().changeDecorations(m=>{const g=new Set,b=[];for(const y of this._placeholderGroups[this._placeholderGroupsIdx]){const L=this._placeholderDecorations.get(y),N=this._editor.getModel().getDecorationRange(L);b.push(new p.Selection(N.startLineNumber,N.startColumn,N.endLineNumber,N.endColumn)),h=h&&this._hasPlaceholderBeenCollapsed(y),m.changeDecorationOptions(L,y.isFinalTabstop?r._decor.activeFinal:r._decor.active),g.add(y);for(const M of this._snippet.enclosingPlaceholders(y)){const D=this._placeholderDecorations.get(M);m.changeDecorationOptions(D,M.isFinalTabstop?r._decor.activeFinal:r._decor.active),g.add(M)}}for(const[y,L]of this._placeholderDecorations)g.has(y)||m.changeDecorationOptions(L,y.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive);return b});return h?this.move(o):f!=null?f:[]}_hasPlaceholderBeenCollapsed(o){let h=o;for(;h;){if(h instanceof u.Placeholder){const f=this._placeholderDecorations.get(h);if(this._editor.getModel().getDecorationRange(f).isEmpty()&&h.toString().length>0)return!0}h=h.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const o=new Map;for(const h of this._placeholderGroups){let f;for(const m of h){if(m.isFinalTabstop)break;f||(f=[],o.set(m.index,f));const g=this._placeholderDecorations.get(m),b=this._editor.getModel().getDecorationRange(g);if(!b){o.delete(m.index);break}f.push(b)}}return o}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(o){const h=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(f=>{for(const m of this._placeholderGroups[this._placeholderGroupsIdx]){const g=o.shift();console.assert(!g._placeholderDecorations);const b=g._snippet.placeholderInfo.last.index;for(const L of g._snippet.placeholderInfo.all)L.isFinalTabstop?L.index=m.index+(b+1)/this._nestingLevel:L.index=m.index+L.index/this._nestingLevel;this._snippet.replace(m,g._snippet.children);const y=this._placeholderDecorations.get(m);f.removeDecoration(y),this._placeholderDecorations.delete(m);for(const L of g._snippet.placeholders){const N=g._snippet.offset(L),M=g._snippet.fullLen(L),D=S.Range.fromPositions(h.getPositionAt(g._offset+N),h.getPositionAt(g._offset+N+M)),R=f.addDecoration(D,r._decor.inactive);this._placeholderDecorations.set(L,R)}}this._placeholderGroups=(0,v.groupBy)(this._snippet.placeholders,u.Placeholder.compareByIndex)})}}e.OneSnippet=r,r._decor={active:C.ModelDecorationOptions.register({stickiness:0,className:"snippet-placeholder"}),inactive:C.ModelDecorationOptions.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:C.ModelDecorationOptions.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:C.ModelDecorationOptions.register({stickiness:1,className:"finish-snippet-placeholder"})};const n={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class s{constructor(o,h,f=n){this._templateMerges=[],this._snippets=[],this._editor=o,this._template=h,this._options=f}static adjustWhitespace(o,h,f,m,g){const b=o.getLineContent(h.lineNumber),y=(0,k.getLeadingWhitespace)(b,0,h.column-1);let L;return f.walk(N=>{if(!(N instanceof u.Text)||N.parent instanceof u.Choice)return!0;const M=N.value.split(/\r\n|\r|\n/);if(m){const R=f.offset(N);if(R===0)M[0]=o.normalizeIndentation(M[0]);else{L=L!=null?L:f.toString();let P=L.charCodeAt(R-1);(P===10||P===13)&&(M[0]=o.normalizeIndentation(y+M[0]))}for(let P=1;P<M.length;P++)M[P]=o.normalizeIndentation(y+M[P])}const D=M.join(o.getEOL());return D!==N.value&&(N.parent.replace(N,[new u.Text(D)]),L=void 0),!0}),y}static adjustSelection(o,h,f,m){if(f!==0||m!==0){const{positionLineNumber:g,positionColumn:b}=h,y=b-f,L=b+m,N=o.validateRange({startLineNumber:g,startColumn:y,endLineNumber:g,endColumn:L});h=p.Selection.createWithDirection(N.startLineNumber,N.startColumn,N.endLineNumber,N.endColumn,h.getDirection())}return h}static createEditsAndSnippets(o,h,f,m,g,b,y,L){const N=[],M=[];if(!o.hasModel())return{edits:N,snippets:M};const D=o.getModel(),R=o.invokeWithinContext(z=>z.get(i.IWorkspaceContextService,_.optional)),P=o.invokeWithinContext(z=>new a.ModelBasedVariableResolver(z.get(d.ILabelService,_.optional),D)),O=()=>y;let W=0,F=D.getValueInRange(s.adjustSelection(D,o.getSelection(),f,0)),E=D.getValueInRange(s.adjustSelection(D,o.getSelection(),0,m)),A=D.getLineFirstNonWhitespaceColumn(o.getSelection().positionLineNumber);const B=o.getSelections().map((z,U)=>({selection:z,idx:U})).sort((z,U)=>S.Range.compareRangesUsingStarts(z.selection,U.selection));for(const{selection:z,idx:U}of B){let K=s.adjustSelection(D,z,f,0),G=s.adjustSelection(D,z,0,m);F!==D.getValueInRange(K)&&(K=z),E!==D.getValueInRange(G)&&(G=z);const J=z.setStartPosition(K.startLineNumber,K.startColumn).setEndPosition(G.endLineNumber,G.endColumn),Q=new u.SnippetParser().parse(h,!0,g),ae=J.getStartPosition(),se=s.adjustWhitespace(D,ae,Q,b||U>0&&A!==D.getLineFirstNonWhitespaceColumn(z.positionLineNumber),!0);Q.resolveVariables(new a.CompositeSnippetVariableResolver([P,new a.ClipboardBasedVariableResolver(O,U,B.length,o.getOption(67)==="spread"),new a.SelectionBasedVariableResolver(D,z,U,L),new a.CommentBasedVariableResolver(D,z),new a.TimeBasedVariableResolver,new a.WorkspaceBasedVariableResolver(R),new a.RandomBasedVariableResolver]));const Z=D.getOffsetAt(ae)+W;W+=Q.toString().length-D.getValueLengthInRange(J),N[U]=w.EditOperation.replace(J,Q.toString()),N[U].identifier={major:U,minor:0},M[U]=new r(o,Q,Z,se)}return{edits:N,snippets:M}}dispose(){(0,I.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!!this._editor.hasModel()){const{edits:o,snippets:h}=s.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=h,this._editor.executeEdits("snippet",o,f=>this._snippets[0].hasPlaceholder?this._move(!0):f.filter(m=>!!m.identifier).map(m=>p.Selection.fromPositions(m.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}}merge(o,h=n){if(!!this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,o]);const{edits:f,snippets:m}=s.createEditsAndSnippets(this._editor,o,h.overwriteBefore,h.overwriteAfter,!0,h.adjustWhitespace,h.clipboardText,h.overtypingCapturer);this._editor.executeEdits("snippet",f,g=>{for(const b of this._snippets)b.merge(m);return console.assert(m.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):g.filter(b=>!!b.identifier).map(b=>p.Selection.fromPositions(b.range.getEndPosition()))})}}next(){const o=this._move(!0);this._editor.setSelections(o),this._editor.revealPositionInCenterIfOutsideViewport(o[0].getPosition())}prev(){const o=this._move(!1);this._editor.setSelections(o),this._editor.revealPositionInCenterIfOutsideViewport(o[0].getPosition())}_move(o){const h=[];for(const f of this._snippets){const m=f.move(o);h.push(...m)}return h}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const o=this._editor.getSelections();if(o.length<this._snippets.length)return!1;let h=new Map;for(const f of this._snippets){const m=f.computePossibleSelections();if(h.size===0)for(const[g,b]of m){b.sort(S.Range.compareRangesUsingStarts);for(const y of o)if(b[0].containsRange(y)){h.set(g,[]);break}}if(h.size===0)return!1;h.forEach((g,b)=>{g.push(...m.get(b))})}o.sort(S.Range.compareRangesUsingStarts);for(let[f,m]of h){if(m.length!==o.length){h.delete(f);continue}m.sort(S.Range.compareRangesUsingStarts);for(let g=0;g<m.length;g++)if(!m[g].containsRange(o[g])){h.delete(f);continue}}return h.size>0}}e.SnippetSession=s}),define(te[156],ie([0,1,2,13,3,21,25,112,16,69,683,393]),function($,e,v,I,k,w,S,p,C,i,_,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const a={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let l=class ot{constructor(r,n,s){this._editor=r,this._logService=n,this._snippetListener=new v.DisposableStore,this._modelVersionId=-1,this._inSnippet=ot.InSnippetMode.bindTo(s),this._hasNextTabstop=ot.HasNextTabstop.bindTo(s),this._hasPrevTabstop=ot.HasPrevTabstop.bindTo(s)}static get(r){return r.getContribution(ot.ID)}dispose(){var r;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(r=this._session)===null||r===void 0||r.dispose(),this._snippetListener.dispose()}insert(r,n){try{this._doInsert(r,typeof n=="undefined"?a:Object.assign(Object.assign({},a),n))}catch(s){this.cancel(),this._logService.error(s),this._logService.error("snippet_error"),this._logService.error("insert_template=",r),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(r,n){!this._editor.hasModel()||(this._snippetListener.clear(),n.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(r,n):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new _.SnippetSession(this._editor,r,n),this._session.insert()),n.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(s=>s.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:r}=this._session;if(!r){this._currentChoice=void 0;return}if(this._currentChoice!==r){this._currentChoice=r,this._editor.setSelections(this._editor.getSelections().map(s=>w.Selection.fromPositions(s.getStartPosition())));const[n]=r.options;(0,p.showSimpleSuggestions)(this._editor,r.options.map((s,t)=>({kind:13,label:s.value,insertText:s.value,sortText:"a".repeat(t+1),range:k.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,n.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(r=!1){var n;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(n=this._session)===null||n===void 0||n.dispose(),this._session=void 0,this._modelVersionId=-1,r&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};l.ID="snippetController2",l.InSnippetMode=new C.RawContextKey("inSnippetMode",!1,(0,u.localize)(0,null)),l.HasNextTabstop=new C.RawContextKey("hasNextTabstop",!1,(0,u.localize)(1,null)),l.HasPrevTabstop=new C.RawContextKey("hasPrevTabstop",!1,(0,u.localize)(2,null)),l=Me([_e(1,i.ILogService),_e(2,C.IContextKeyService)],l),e.SnippetController2=l,(0,I.registerEditorContribution)(l.ID,l);const c=I.EditorCommand.bindToContribution(l.get);(0,I.registerEditorCommand)(new c({id:"jumpToNextSnippetPlaceholder",precondition:C.ContextKeyExpr.and(l.InSnippetMode,l.HasNextTabstop),handler:d=>d.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),(0,I.registerEditorCommand)(new c({id:"jumpToPrevSnippetPlaceholder",precondition:C.ContextKeyExpr.and(l.InSnippetMode,l.HasPrevTabstop),handler:d=>d.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,I.registerEditorCommand)(new c({id:"leaveSnippet",precondition:l.InSnippetMode,handler:d=>d.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,I.registerEditorCommand)(new c({id:"acceptSnippet",precondition:l.InSnippetMode,handler:d=>d.finish()}))}),define(te[685],ie([0,1,15,11,6,2,21,18,283,112,156,24,80,287,8,87,84,69]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class s{constructor(h,f,m,g){this.leadingLineContent=h.getLineContent(f.lineNumber).substr(0,f.column-1),this.leadingWord=h.getWordUntilPosition(f),this.lineNumber=f.lineNumber,this.column=f.column,this.auto=m,this.shy=g}static shouldAutoTrigger(h){if(!h.hasModel())return!1;const f=h.getModel(),m=h.getPosition();f.tokenizeIfCheap(m.lineNumber);const g=f.getWordAtPosition(m);return!(!g||g.endColumn!==m.column||!isNaN(Number(g.word)))}}e.LineContext=s;let t=class ti{constructor(h,f,m,g,b){this._editor=h,this._editorWorkerService=f,this._clipboardService=m,this._telemetryService=g,this._logService=b,this._toDispose=new w.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new w.DisposableStore,this._triggerQuickSuggest=new v.TimeoutTimer,this._state=0,this._completionDisposables=new w.DisposableStore,this._onDidCancel=new k.Emitter,this._onDidTrigger=new k.Emitter,this._onDidSuggest=new k.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new S.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(p.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(L=>{this._onCursorChange(L)}));let y=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{y=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{y=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{y||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,w.dispose)(this._triggerCharacterListener),(0,w.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(76),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),!(this._editor.getOption(77)||!this._editor.hasModel()||!this._editor.getOption(106))){const h=new Map;for(const m of p.CompletionProviderRegistry.all(this._editor.getModel()))for(const g of m.triggerCharacters||[]){let b=h.get(g);b||(b=new Set,b.add((0,i.getSnippetSuggestSupport)()),h.set(g,b)),b.add(m)}const f=m=>{if(!m){const y=this._editor.getPosition();m=this._editor.getModel().getLineContent(y.lineNumber).substr(0,y.column-1)}let g="";(0,c.isLowSurrogate)(m.charCodeAt(m.length-1))?(0,c.isHighSurrogate)(m.charCodeAt(m.length-2))&&(g=m.substr(m.length-2)):g=m.charAt(m.length-1);const b=h.get(g);if(b){const y=this._completionModel?{items:this._completionModel.adopt(b),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:g},Boolean(this._completionModel),b,y)}};this._triggerCharacterListener.add(this._editor.onDidType(f)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(f))}}get state(){return this._state}cancel(h=!1){var f;this._state!==0&&(this._triggerQuickSuggest.cancel(),(f=this._requestToken)===null||f===void 0||f.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:h}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!p.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(h){if(!!this._editor.hasModel()){const f=this._editor.getModel(),m=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!h.selection.isEmpty()||h.reason!==0&&h.reason!==3||h.source!=="keyboard"&&h.source!=="deleteLeft"){this.cancel();return}if(!!p.CompletionProviderRegistry.has(f))if(this._state===0&&h.reason===0){if(this._editor.getOption(75)===!1||!m.containsRange(this._currentSelection)&&!m.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(103).snippetsPreventQuickSuggestions&&_.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state===0&&!!s.shouldAutoTrigger(this._editor)&&!!this._editor.hasModel()){const g=this._editor.getModel(),b=this._editor.getPosition(),y=this._editor.getOption(75);if(y!==!1){if(y!==!0){g.tokenizeIfCheap(b.lineNumber);const L=g.getLineTokens(b.lineNumber),N=L.getStandardTokenType(L.findTokenIndexAtOffset(Math.max(b.column-1-1,0)));if(!(y.other&&N===0||y.comments&&N===1||y.strings&&N===2))return}this.trigger({auto:!0,shy:!1})}}},this._quickSuggestDelay)}else this._state!==0&&h.reason===3&&this._refilterCompletionItems()}}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state!==0&&!!this._editor.hasModel()){const h=this._editor.getModel(),f=this._editor.getPosition(),m=new s(h,f,this._state===2,!1);this._onNewContext(m)}})}trigger(h,f=!1,m,g){var b;if(!!this._editor.hasModel()){const y=this._editor.getModel(),L=h.auto,N=new s(y,this._editor.getPosition(),L,h.shy);this.cancel(f),this._state=L?2:1,this._onDidTrigger.fire({auto:L,shy:h.shy,position:this._editor.getPosition()}),this._context=N;let M={triggerKind:(b=h.triggerKind)!==null&&b!==void 0?b:0};h.triggerCharacter&&(M={triggerKind:1,triggerCharacter:h.triggerCharacter}),this._requestToken=new u.CancellationTokenSource;const D=this._editor.getOption(98);let R=1;switch(D){case"top":R=0;break;case"bottom":R=2;break}const P=ti._createItemKindFilter(this._editor),O=l.WordDistance.create(this._editorWorkerService,this._editor),W=(0,i.provideSuggestionItems)(y,this._editor.getPosition(),new i.CompletionOptions(R,P,m),M,this._requestToken.token);Promise.all([W,O]).then(([F,E])=>De(this,void 0,void 0,function*(){var A;if((A=this._requestToken)===null||A===void 0||A.dispose(),!!this._editor.hasModel()){let B=g==null?void 0:g.clipboardText;if(!B&&F.needsClipboard&&(B=yield this._clipboardService.readText()),this._state!==0){const z=this._editor.getModel();let U=F.items;if(g){const G=(0,i.getSuggestionComparator)(R);U=U.concat(g.items).sort(G)}const K=new s(z,this._editor.getPosition(),L,h.shy);this._completionModel=new C.CompletionModel(U,this._context.column,{leadingLineContent:K.leadingLineContent,characterCountDelta:K.column-this._context.column},E,this._editor.getOption(103),this._editor.getOption(98),B),this._completionDisposables.add(F.disposable),this._onNewContext(K),this._reportDurationsTelemetry(F.durations)}}})).catch(I.onUnexpectedError)}}_reportDurationsTelemetry(h){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(h)}),this._logService.debug("suggest.durations.json",h)})}static _createItemKindFilter(h){const f=new Set;h.getOption(98)==="none"&&f.add(27);const g=h.getOption(103);return g.showMethods||f.add(0),g.showFunctions||f.add(1),g.showConstructors||f.add(2),g.showFields||f.add(3),g.showVariables||f.add(4),g.showClasses||f.add(5),g.showStructs||f.add(6),g.showInterfaces||f.add(7),g.showModules||f.add(8),g.showProperties||f.add(9),g.showEvents||f.add(10),g.showOperators||f.add(11),g.showUnits||f.add(12),g.showValues||f.add(13),g.showConstants||f.add(14),g.showEnums||f.add(15),g.showEnumMembers||f.add(16),g.showKeywords||f.add(17),g.showWords||f.add(18),g.showColors||f.add(19),g.showFiles||f.add(20),g.showReferences||f.add(21),g.showColors||f.add(22),g.showFolders||f.add(23),g.showTypeParameters||f.add(24),g.showSnippets||f.add(27),g.showUsers||f.add(25),g.showIssues||f.add(26),f}_onNewContext(h){if(!!this._context){if(h.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,c.getLeadingWhitespace)(h.leadingLineContent)!==(0,c.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(h.column<this._context.column){h.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(h.leadingWord.word.length!==0&&h.leadingWord.startColumn>this._context.leadingWord.startColumn){const f=new Set(p.CompletionProviderRegistry.all(this._editor.getModel()));for(let g of this._completionModel.allProvider)f.delete(g);const m=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,f,{items:m,clipboardText:this._completionModel.clipboardText});return}if(h.column>this._context.column&&this._completionModel.incomplete.size>0&&h.leadingWord.word.length!==0){const{incomplete:f}=this._completionModel,m=this._completionModel.adopt(f);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,f,{items:m,clipboardText:this._completionModel.clipboardText})}else{let f=this._completionModel.lineContext,m=!1;if(this._completionModel.lineContext={leadingLineContent:h.leadingLineContent,characterCountDelta:h.column-this._context.column},this._completionModel.items.length===0){if(s.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<h.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=f,m=this._completionModel.items.length>0,m&&h.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:m})}}}}};t=Me([_e(1,a.IEditorWorkerService),_e(2,d.IClipboardService),_e(3,r.ITelemetryService),_e(4,n.ILogService)],t),e.SuggestModel=t}),define(te[547],ie([0,1,40,19,11,41,2,68,13,61,3,25,156,135,535,396,26,16,9,86,112,478,685,660,479,6,15,20,285,286,14,17,34,24,69,82]),function($,e,v,I,k,w,S,p,C,i,_,u,a,l,c,d,r,n,s,t,o,h,f,m,g,b,y,L,N,M,D,R,P,O,W,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let E=!1;class A{constructor(J,Q){if(this._model=J,this._position=Q,J.getLineMaxColumn(Q.lineNumber)!==Q.column){const se=J.getOffsetAt(Q),Z=J.getPositionAt(se+1);this._marker=J.deltaDecorations([],[{range:_.Range.fromPositions(Q,Z),options:{stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(J){if(this._model.isDisposed()||this._position.lineNumber!==J.lineNumber)return 0;if(this._marker){const Q=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(Q.getStartPosition())-this._model.getOffsetAt(J)}else return this._model.getLineMaxColumn(J.lineNumber)-J.column}}let B=class ii{constructor(J,Q,ae,se,Z,T){this._memoryService=Q,this._commandService=ae,this._contextKeyService=se,this._instantiationService=Z,this._logService=T,this._lineSuffix=new S.MutableDisposable,this._toDispose=new S.DisposableStore,this.editor=J,this.model=Z.createInstance(f.SuggestModel,this.editor);const x=o.Context.InsertMode.bindTo(se);x.set(J.getOption(103).insertMode),this.model.onDidTrigger(()=>x.set(J.getOption(103).insertMode)),this.widget=this._toDispose.add(new y.IdleValue(()=>{const q=this._instantiationService.createInstance(m.SuggestWidget,this.editor);this._toDispose.add(q),this._toDispose.add(q.onDidSelect(j=>this._insertSuggestion(j,0),this));const ee=new N.CommitCharacterController(this.editor,q,j=>this._insertSuggestion(j,2));this._toDispose.add(ee),this._toDispose.add(this.model.onDidSuggest(j=>{j.completionModel.items.length===0&&ee.reset()}));const oe=o.Context.MakesTextEdit.bindTo(this._contextKeyService),le=o.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Y=o.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,S.toDisposable)(()=>{oe.reset(),le.reset(),Y.reset()})),this._toDispose.add(q.onDidFocus(({item:j})=>{const ne=this.editor.getPosition(),X=j.editStart.column,ue=ne.column;let he=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!j.completion.command&&!j.completion.additionalTextEdits&&!(j.completion.insertTextRules&4)&&ue-X===j.completion.insertText.length&&(he=this.editor.getModel().getValueInRange({startLineNumber:ne.lineNumber,startColumn:X,endLineNumber:ne.lineNumber,endColumn:ue})!==j.completion.insertText),oe.set(he),le.set(!D.Position.equals(j.editInsertEnd,j.editReplaceEnd)),Y.set(Boolean(j.provider.resolveCompletionItem)||Boolean(j.completion.documentation)||j.completion.detail!==j.completion.label)})),this._toDispose.add(q.onDetailsKeyDown(j=>{if(j.toKeybinding().equals(new w.SimpleKeybinding(!0,!1,!1,!1,33))||R.isMacintosh&&j.toKeybinding().equals(new w.SimpleKeybinding(!1,!1,!1,!0,33))){j.stopPropagation();return}j.toKeybinding().isModifierKey()||this.editor.focus()})),q})),this._overtypingCapturer=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new M.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new h.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(Z.createInstance(g.WordContextKey,J)),this._toDispose.add(this.model.onDidTrigger(q=>{this.widget.value.showTriggered(q.auto,q.shy?250:50),this._lineSuffix.value=new A(this.editor.getModel(),q.position)})),this._toDispose.add(this.model.onDidSuggest(q=>{if(!q.shy){let ee=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),q.completionModel.items);this.widget.value.showSuggestions(q.completionModel,ee,q.isFrozen,q.auto)}})),this._toDispose.add(this.model.onDidCancel(q=>{q.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{E||(this.model.cancel(),this.model.clear())}));let H=o.Context.AcceptSuggestionsOnEnter.bindTo(se),V=()=>{const q=this.editor.getOption(1);H.set(q==="on"||q==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>V())),V()}static get(J){return J.getContribution(ii.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(J,Q){if(!J||!J.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!!this.editor.hasModel()){const ae=this.editor.getModel(),se=ae.getAlternativeVersionId(),{item:Z}=J,T=[],x=new O.CancellationTokenSource;Q&1||this.editor.pushUndoStop();const H=this.getOverwriteInfo(Z,Boolean(Q&8));if(this._memoryService.memorize(ae,this.editor.getPosition(),Z),Array.isArray(Z.completion.additionalTextEdits)){const q=p.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Z.completion.additionalTextEdits.map(ee=>i.EditOperation.replace(_.Range.lift(ee.range),ee.text))),q.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Z.isResolved){const q=new F.StopWatch(!0);let ee;const oe=ae.onDidChangeContent(ne=>{if(ne.isFlush){x.cancel(),oe.dispose();return}for(let X of ne.changes){const ue=_.Range.getEndPosition(X.range);(!ee||D.Position.isBefore(ue,ee))&&(ee=ue)}});let le=Q;Q|=2;let Y=!1,j=this.editor.onWillType(()=>{j.dispose(),Y=!0,le&2||this.editor.pushUndoStop()});T.push(Z.resolve(x.token).then(()=>{if(!Z.completion.additionalTextEdits||x.token.isCancellationRequested||ee&&Z.completion.additionalTextEdits.some(X=>D.Position.isBefore(ee,_.Range.getStartPosition(X.range))))return!1;Y&&this.editor.pushUndoStop();const ne=p.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Z.completion.additionalTextEdits.map(X=>i.EditOperation.replace(_.Range.lift(X.range),X.text))),ne.restoreRelativeVerticalPositionOfCursor(this.editor),(Y||!(le&2))&&this.editor.pushUndoStop(),!0}).then(ne=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",q.elapsed(),ne),oe.dispose(),j.dispose()}))}let{insertText:V}=Z.completion;Z.completion.insertTextRules&4||(V=l.SnippetParser.escape(V)),a.SnippetController2.get(this.editor).insert(V,{overwriteBefore:H.overwriteBefore,overwriteAfter:H.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(Z.completion.insertTextRules&1),clipboardText:J.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),Q&2||this.editor.pushUndoStop(),Z.completion.command?Z.completion.command.id===z.id?this.model.trigger({auto:!0,shy:!1},!0):(T.push(this._commandService.executeCommand(Z.completion.command.id,...Z.completion.command.arguments?[...Z.completion.command.arguments]:[]).catch(k.onUnexpectedError)),this.model.cancel()):this.model.cancel(),Q&4&&this._alternatives.value.set(J,q=>{for(x.cancel();ae.canUndo();){se!==ae.getAlternativeVersionId()&&ae.undo(),this._insertSuggestion(q,1|2|(Q&8?8:0));break}}),this._alertCompletionItem(Z),Promise.all(T).finally(()=>{this.model.clear(),x.dispose()})}}getOverwriteInfo(J,Q){(0,L.assertType)(this.editor.hasModel());let ae=this.editor.getOption(103).insertMode==="replace";Q&&(ae=!ae);const se=J.position.column-J.editStart.column,Z=(ae?J.editReplaceEnd.column:J.editInsertEnd.column)-J.position.column,T=this.editor.getPosition().column-J.position.column,x=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:se+T,overwriteAfter:Z+x}}_alertCompletionItem(J){if((0,I.isNonEmptyArray)(J.completion.additionalTextEdits)){let Q=d.localize(0,null,J.textLabel,J.completion.additionalTextEdits.length);(0,v.alert)(Q)}}triggerSuggest(J){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,J),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(J){if(!!this.editor.hasModel()){const Q=this.editor.getPosition(),ae=()=>{Q.equals(this.editor.getPosition())&&this._commandService.executeCommand(J.fallback)},se=Z=>{if(Z.completion.insertTextRules&4||Z.completion.additionalTextEdits)return!0;const T=this.editor.getPosition(),x=Z.editStart.column,H=T.column;return H-x!==Z.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:T.lineNumber,startColumn:x,endLineNumber:T.lineNumber,endColumn:H})!==Z.completion.insertText};b.Event.once(this.model.onDidTrigger)(Z=>{let T=[];b.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,S.dispose)(T),ae()},void 0,T),this.model.onDidSuggest(({completionModel:x})=>{if((0,S.dispose)(T),x.items.length===0){ae();return}const H=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),x.items),V=x.items[H];if(!se(V)){ae();return}this.editor.pushUndoStop(),this._insertSuggestion({index:H,item:V,model:x},4|1|2)},void 0,T)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(Q.lineNumber,0),this.editor.focus()}}acceptSelectedSuggestion(J,Q){const ae=this.widget.value.getFocusedItem();let se=0;J&&(se|=4),Q&&(se|=8),this._insertSuggestion(ae,se)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}};B.ID="editor.contrib.suggestController",B=Me([_e(1,c.ISuggestMemoryService),_e(2,r.ICommandService),_e(3,n.IContextKeyService),_e(4,s.IInstantiationService),_e(5,W.ILogService)],B),e.SuggestController=B;class z extends C.EditorAction{constructor(){super({id:z.id,label:d.localize(1,null),alias:"Trigger Suggest",precondition:n.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(J,Q){const ae=B.get(Q);!ae||ae.triggerSuggest()}}e.TriggerSuggestAction=z,z.id="editor.action.triggerSuggest",(0,C.registerEditorContribution)(B.ID,B),(0,C.registerEditorAction)(z);const U=100+90,K=C.EditorCommand.bindToContribution(B.get);(0,C.registerEditorCommand)(new K({id:"acceptSelectedSuggestion",precondition:o.Context.Visible,handler(G){G.acceptSelectedSuggestion(!0,!1)}})),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:n.ContextKeyExpr.and(o.Context.Visible,u.EditorContextKeys.textInputFocus),primary:2,weight:U}),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:n.ContextKeyExpr.and(o.Context.Visible,u.EditorContextKeys.textInputFocus,o.Context.AcceptSuggestionsOnEnter,o.Context.MakesTextEdit),primary:3,weight:U}),P.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(2,null)},group:"left",order:1,when:o.Context.HasInsertAndReplaceRange.toNegated()}),P.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(3,null)},group:"left",order:1,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("insert"))}),P.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(4,null)},group:"left",order:1,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("replace"))}),(0,C.registerEditorCommand)(new K({id:"acceptAlternativeSelectedSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,u.EditorContextKeys.textInputFocus),kbOpts:{weight:U,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(G){G.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:o.suggestWidgetStatusbarMenu,group:"left",order:2,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("insert")),title:d.localize(5,null)},{menuId:o.suggestWidgetStatusbarMenu,group:"left",order:2,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("replace")),title:d.localize(6,null)}]})),r.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,C.registerEditorCommand)(new K({id:"hideSuggestWidget",precondition:o.Context.Visible,handler:G=>G.cancelSuggestWidget(),kbOpts:{weight:U,kbExpr:u.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,C.registerEditorCommand)(new K({id:"selectNextSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:G=>G.selectNextSuggestion(),kbOpts:{weight:U,kbExpr:u.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,C.registerEditorCommand)(new K({id:"selectNextPageSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:G=>G.selectNextPageSuggestion(),kbOpts:{weight:U,kbExpr:u.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,C.registerEditorCommand)(new K({id:"selectLastSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:G=>G.selectLastSuggestion()})),(0,C.registerEditorCommand)(new K({id:"selectPrevSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:G=>G.selectPrevSuggestion(),kbOpts:{weight:U,kbExpr:u.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,C.registerEditorCommand)(new K({id:"selectPrevPageSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:G=>G.selectPrevPageSuggestion(),kbOpts:{weight:U,kbExpr:u.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,C.registerEditorCommand)(new K({id:"selectFirstSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:G=>G.selectFirstSuggestion()})),(0,C.registerEditorCommand)(new K({id:"toggleSuggestionDetails",precondition:o.Context.Visible,handler:G=>G.toggleSuggestionDetails(),kbOpts:{weight:U,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|10,mac:{primary:256|10}},menuOpts:[{menuId:o.suggestWidgetStatusbarMenu,group:"right",order:1,when:n.ContextKeyExpr.and(o.Context.DetailsVisible,o.Context.CanResolve),title:d.localize(7,null)},{menuId:o.suggestWidgetStatusbarMenu,group:"right",order:1,when:n.ContextKeyExpr.and(o.Context.DetailsVisible.toNegated(),o.Context.CanResolve),title:d.localize(8,null)}]})),(0,C.registerEditorCommand)(new K({id:"toggleExplainMode",precondition:o.Context.Visible,handler:G=>G.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,C.registerEditorCommand)(new K({id:"toggleSuggestionFocus",precondition:o.Context.Visible,handler:G=>G.toggleSuggestionFocus(),kbOpts:{weight:U,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,C.registerEditorCommand)(new K({id:"insertBestCompletion",precondition:n.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),g.WordContextKey.AtEnd,o.Context.Visible.toNegated(),h.SuggestAlternatives.OtherSuggestions.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:(G,J)=>{G.triggerSuggestAndAcceptBest((0,L.isObject)(J)?Object.assign({fallback:"tab"},J):{fallback:"tab"})},kbOpts:{weight:U,primary:2}})),(0,C.registerEditorCommand)(new K({id:"insertNextSuggestion",precondition:n.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,o.Context.Visible.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:G=>G.acceptNextSuggestion(),kbOpts:{weight:U,kbExpr:u.EditorContextKeys.textInputFocus,primary:2}})),(0,C.registerEditorCommand)(new K({id:"insertPrevSuggestion",precondition:n.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,o.Context.Visible.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:G=>G.acceptPrevSuggestion(),kbOpts:{weight:U,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,C.registerEditorAction)(class extends C.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:d.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(G,J){B.get(J).resetWidgetSize()}})}),define(te[544],ie([0,1,157,134,262,231,589,590,591,592,593,619,597,670,599,600,601,602,263,652,603,605,472,268,269,264,270,611,612,610,613,614,615,656,658,620,621,156,547,624,256,625,671,626,257,628,60,137]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var mt=this&&this.__createBinding||(Object.create?function($,e,v,I){I===void 0&&(I=v),Object.defineProperty($,I,{enumerable:!0,get:function(){return e[v]}})}:function($,e,v,I){I===void 0&&(I=v),$[I]=e[v]}),pt=this&&this.__exportStar||function($,e){for(var v in $)v!=="default"&&!Object.prototype.hasOwnProperty.call(e,v)&&mt(e,$,v)};define(te[688],ie([0,1,680,544,629,630,631,531,633,634,632,672,635]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),pt(v,e)})}).call(this);

//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map